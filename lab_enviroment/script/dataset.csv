	FileName	Label	FileContent
0	CrossrefFetcherEvaluator.java	CLI	net sf jabref cli io filereader io ioexception util list util optional util concurrent countdownlatch util concurrent executorservice util concurrent executors util concurrent atomic atomicinteger net sf jabref globals net sf jabref logic importer parserresult net sf jabref logic importer fetcher crossref net sf jabref logic importer fileformat bibtexparser net sf jabref logic util doi net sf jabref model database bibdatabase net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref preferences jabrefpreferences useful checking algorithm improvements thresholds used inside jabref code crossreffetcherevaluator main string[] args throws ioexception interruptedexception globals prefs jabrefpreferences getinstance try filereader reader filereader args[0] bibtexparser parser bibtexparser globals prefs getimportformatpreferences parserresult result parser parse reader bibdatabase db result getdatabase list<bibentry> entries db getentries atomicinteger dois atomicinteger atomicinteger doifound atomicinteger atomicinteger doinew atomicinteger atomicinteger doiidentical atomicinteger total entries size countdownlatch countdownlatch countdownlatch total executorservice executorservice executors newfixedthreadpool bibentry entry entries executorservice execute runnable override run optional<doi> origdoi entry getfield fieldname doi flatmap doi::build origdoi ispresent dois incrementandget optional<doi> crossrefdoi crossref finddoi entry crossrefdoi ispresent doifound incrementandget origdoi get getdoi equalsignorecase crossrefdoi get getdoi doiidentical incrementandget else system println doi identical entry else system println doi found for: entry else optional<doi> crossrefdoi crossref finddoi entry crossrefdoi ispresent system println doi found for: entry doinew incrementandget countdownlatch countdown countdownlatch await system println system println total db size: total system println total dois: dois system println dois found: doifound system println dois identical: doiidentical system println dois found: doinew executorservice shutdown 
1	AuxCommandLine.java	CLI	net sf jabref cli net sf jabref logic auxparser auxparser net sf jabref logic auxparser auxparserresult net sf jabref model database bibdatabase net sf jabref model strings stringutil auxcommandline string auxfile bibdatabase database auxcommandline string auxfile bibdatabase database auxfile stringutil getcorrectfilename auxfile aux database database bibdatabase perform bibdatabase subdatabase null auxfile isempty database null auxparser auxparser auxparser auxfile database auxparserresult result auxparser parse subdatabase result getgeneratedbibdatabase print statistics system println result getinformation true subdatabase 
2	JabRefCLI.java	CLI	net sf jabref cli util arrays util list net sf jabref globals net sf jabref logic exporter exportformats net sf jabref logic l10n localization org apache commons cli commandline org apache commons cli defaultparser org apache commons cli helpformatter org apache commons cli option org apache commons cli options org apache commons cli parseexception org apache commons logging log org apache commons logging logfactory jabrefcli log logger logfactory getlog jabrefcli list<string> leftover commandline cl jabrefcli string[] args options options getoptions try cl defaultparser parse options args leftover arrays aslist cl getargs catch parseexception logger warn problem parsing arguments printusage throw runtimeexception boolean ishelp cl hasoption help boolean isshowversion cl hasoption version boolean isblank cl hasoption blank boolean isloadsession cl hasoption loads boolean isdisablegui cl hasoption nogui boolean ispreferencesexport cl hasoption prexp string getpreferencesexport cl getoptionvalue prexp jabref prefs xml boolean ispreferencesimport cl hasoption primp string getpreferencesimport cl getoptionvalue primp jabref prefs xml boolean ispreferencesreset cl hasoption prdef string getpreferencesreset cl getoptionvalue prdef boolean isfileexport cl hasoption output string getfileexport cl getoptionvalue output boolean isfileimport cl hasoption string getfileimport cl getoptionvalue boolean isauximport cl hasoption aux string getauximport cl getoptionvalue aux boolean isimporttoopenbase cl hasoption importtoopen string getimporttoopenbase cl getoptionvalue importtoopen boolean isdebuglogging cl hasoption debug boolean isfetcherengine cl hasoption fetch string getfetcherengine cl getoptionvalue fetch boolean isexportmatches cl hasoption exportmatches string getexportmatches cl getoptionvalue exportmatches boolean isgeneratebibtexkeys cl hasoption generatebibtexkeys boolean isautomaticallysetfilelinks cl hasoption automaticallysetfilelinks options getoptions options options options boolean options options addoption version false localization lang display version options addoption nogui false localization lang gui process command line options options addoption help false localization lang display help command line options options addoption blank false localization lang open files startup options addoption null debug false localization lang show debug level messages options addoption option builder longopt desc string format s: s[ format] localization lang file localization lang filename hasarg argname file build options addoption option builder longopt output desc string format s: s[ export format] localization lang output export file localization lang filename hasarg argname file build options addoption option builder longopt prexp desc localization lang export preferences file hasarg argname file build options addoption option builder longopt primp desc localization lang preferences file hasarg argname file build options addoption option builder longopt prdef desc localization lang reset preferences key1 key2 'all' hasarg argname file build options addoption option builder longopt aux desc string format s: s[ aux] s[ bib] localization lang subdatabase aux localization lang file localization lang hasarg argname file build options addoption option builder longopt importtoopen desc localization lang open tab hasarg argname file build options addoption option builder longopt fetch desc localization lang run fetcher fetch medline:cancer\ hasarg argname file build options addoption option builder longopt exportmatches desc jabrefcli getexportmatchessyntax hasarg argname file build options addoption option builder longopt generatebibtexkeys desc localization lang regenerate keys entries bibtex file build options addoption option builder asfl longopt automaticallysetfilelinks desc localization lang automatically set file links build options displayversion system println getversioninfo printusage string header string importformats globals format reader getimportformatlist string importformatslist string format s: localization lang available formats importformats string outformats exportformats getconsoleexportlist string outformatslist string format s: localization lang available export formats outformats string footer '\n' importformatslist outformatslist \nplease report issues https: github com jabref jabref issues helpformatter formatter helpformatter formatter printhelp jabref [options] [bibtex file]\n\noptions: header getoptions footer true string getversioninfo string format jabref globals build info getversion list<string> getleftover leftover string getexportmatchessyntax string format s]searchterm outputfile: s[ s] localization lang field localization lang file localization lang exportformat 
3	ArgumentProcessor.java	CLI	net sf jabref cli io file io ioexception nio file path nio file paths util arraylist util collection util collections util list util locale util map util optional util prefs backingstoreexception net sf jabref globals net sf jabref jabrefexception net sf jabref gui externalfiles autosetlinks net sf jabref gui importer fetcher entryfetcher net sf jabref gui importer fetcher entryfetchers net sf jabref logic customentrytypesmanager net sf jabref logic bibtexkeypattern bibtexkeypatternutil net sf jabref logic exporter bibdatabasewriter net sf jabref logic exporter bibtexdatabasewriter net sf jabref logic exporter exportformat net sf jabref logic exporter exportformats net sf jabref logic exporter filesavesession net sf jabref logic exporter iexportformat net sf jabref logic exporter saveexception net sf jabref logic exporter savepreferences net sf jabref logic exporter savesession net sf jabref logic importer importexception net sf jabref logic importer importformatreader net sf jabref logic importer opendatabase net sf jabref logic importer outputprinter net sf jabref logic importer parserresult net sf jabref logic l10n localization net sf jabref logic layout layoutformatterpreferences net sf jabref logic logging jabreflogger net sf jabref logic net urldownload net sf jabref logic search databasesearcher net sf jabref logic search searchquery net sf jabref logic util os net sf jabref model defaults net sf jabref model database bibdatabase net sf jabref model database bibdatabasecontext net sf jabref model database bibdatabasemode net sf jabref model entry bibentry net sf jabref model metadata metadata net sf jabref model strings stringutil net sf jabref preferences jabrefpreferences net sf jabref preferences searchpreferences net sf jabref shared prefs shareddatabasepreferences org apache commons logging log org apache commons logging logfactory argumentprocessor log logger logfactory getlog argumentprocessor enum mode initial start remote start jabrefcli cli list<parserresult> parserresults mode startupmode boolean noguineeded argumentprocessor string[] args mode startupmode cli jabrefcli args startupmode startupmode parserresults processarguments list<parserresult> getparserresults parserresults boolean hasparserresults parserresults isempty list<parserresult> processarguments cli isblank cli isdebuglogging jabreflogger setdebug startupmode mode initial start cli isshowversion cli displayversion startupmode mode initial start cli ishelp cli printusage noguineeded true collections emptylist check reset preferences default values: cli ispreferencesreset resetpreferences cli getpreferencesreset check preferences file: cli ispreferencesimport importpreferences list put imported loaded database list<parserresult> loaded importandopenfiles cli isblank cli isfetcherengine fetch cli getfetcherengine ifpresent loaded::add cli isexportmatches loaded isempty exportmatches loaded collections emptylist else system err println localization lang output option depends valid input option cli isgeneratebibtexkeys regeneratebibtexkeys loaded cli isautomaticallysetfilelinks automaticallysetfilelinks loaded cli isfileexport loaded isempty exportfile loaded cli getfileexport split else system err println localization lang output option depends valid option logger debug finished export cli ispreferencesexport try globals prefs exportpreferences cli getpreferencesexport catch jabrefexception ex logger error cannot export preferences ex cli isblank cli isauximport doauximport loaded loaded boolean exportmatches list<parserresult> loaded string[] data cli getexportmatches split string searchterm data[0] replace \\$ enables blanks within search term: stands blank parserresult pr loaded get loaded size bibdatabasecontext databasecontext pr getdatabasecontext bibdatabase database pr getdatabase searchpreferences searchpreferences searchpreferences globals prefs searchquery query searchquery searchterm searchpreferences iscasesensitive searchpreferences isregularexpression list<bibentry> matches databasesearcher query database getmatches export matches matches isempty string formatname read export format take default format format entered switch data length case 3: formatname data[2] break case 2: default exportformat: html table bibtex formatname tablerefsabsbib break default: system err println localization lang output file missing concat \n \t concat localization lang usage concat jabrefcli getexportmatchessyntax noguineeded true false export database iexportformat format exportformats getexportformat formatname format null system err println localization lang unknown export format formatname else exportformat instance: try system println localization lang exporting data[1] format performexport databasecontext data[1] databasecontext getmetadata getencoding orelse globals prefs getdefaultencoding matches catch exception ex system err println localization lang could export file data[1] ': ex getmessage else system err println localization lang search matches true doauximport list<parserresult> loaded boolean usagemsg loaded isempty usagemsg generateaux loaded cli getauximport split else usagemsg true usagemsg system println localization lang base bibtex file specified system println localization lang usage system println jabref aux infile[ aux] outfile[ bib] base bibtex file list<parserresult> importandopenfiles list<parserresult> loaded arraylist<> list<string> toimport arraylist<> cli isblank cli getleftover isempty string aleftover cli getleftover leftover arguments bib extension interpreted bib files open files files could opened bib try instead boolean bibextension aleftover tolowercase locale english endswith bib parserresult pr parserresult getnullresult bibextension pr opendatabase loaddatabase aleftover globals prefs getimportformatpreferences bibextension pr isnullresult try file normally tab initiated another instance remote listener instead current database enable easy integration web browsers open reference file jabref startupmode mode initial start toimport add aleftover else loaded add importtoopenbase aleftover orelse parserresult getnullresult else loaded add pr cli isblank cli isfileimport toimport add cli getfileimport string filenamestring toimport importfile filenamestring ifpresent loaded::add cli isblank cli isimporttoopenbase importtoopenbase cli getimporttoopenbase ifpresent loaded::add loaded boolean generateaux list<parserresult> loaded string[] data data length parserresult pr loaded get auxcommandline acl auxcommandline data[0] pr getdatabase bibdatabase newbase acl perform boolean notsavedmsg false write output something could resolved newbase null newbase hasentries string subname stringutil getcorrectfilename data[1] bib try system println localization lang saving subname savepreferences prefs savepreferences loadforsavefrompreferences globals prefs bibdatabasewriter<savesession> databasewriter bibtexdatabasewriter<> filesavesession::new defaults defaults defaults bibdatabasemode frompreference globals prefs getboolean jabrefpreferences biblatex default mode savesession session databasewriter savedatabase bibdatabasecontext newbase defaults prefs show warning message encoding work characters: session getwriter couldencodeall system err println localization lang warning localization lang chosen encoding 0' could encode following characters: session getencoding displayname session getwriter getproblemcharacters session commit subname catch saveexception ex system err println localization lang could save file \n ex getlocalizedmessage notsavedmsg true notsavedmsg system println localization lang database generated false else true exportfile list<parserresult> loaded string[] data data length signals latest stored bibtex format given file loaded isempty parserresult pr loaded get loaded size pr isinvalid try system println localization lang saving data[0] savepreferences prefs savepreferences loadforsavefrompreferences globals prefs defaults defaults defaults bibdatabasemode frompreference globals prefs getboolean jabrefpreferences biblatex default mode bibdatabasewriter<savesession> databasewriter bibtexdatabasewriter<> filesavesession::new savesession session databasewriter savedatabase bibdatabasecontext pr getdatabase pr getmetadata defaults prefs show warning message encoding work characters: session getwriter couldencodeall system err println localization lang warning localization lang chosen encoding 0' could encode following characters: session getencoding displayname session getwriter getproblemcharacters session commit data[0] catch saveexception ex system err println localization lang could save file \n ex getlocalizedmessage else system err println localization lang output option depends valid option else data length signals latest stored given format given file parserresult pr loaded get loaded size set global variable database's file directory exporting formatters resolve linked files correctly ugly hack file thefile pr getfile get thefile isabsolute thefile thefile getabsolutefile bibdatabasecontext databasecontext pr getdatabasecontext databasecontext setdatabasefile thefile globals prefs filedirfordatabase databasecontext getfiledirectory globals prefs getfiledirectorypreferences system println localization lang exporting data[0] iexportformat format exportformats getexportformat data[1] format null system err println localization lang unknown export format data[1] else exportformat instance: try format performexport pr getdatabasecontext data[0] pr getdatabasecontext getmetadata getencoding orelse globals prefs getdefaultencoding null catch exception ex system err println localization lang could export file data[0] ': ex getmessage importpreferences try globals prefs importpreferences cli getpreferencesimport customentrytypesmanager loadcustomentrytypes globals prefs map<string exportformat> customformats globals prefs customexports getcustomexportformats globals prefs globals journalabbreviationloader layoutformatterpreferences layoutpreferences globals prefs getlayoutformatterpreferences globals journalabbreviationloader savepreferences savepreferences savepreferences loadforexportfrompreferences globals prefs exportformats initallexports customformats layoutpreferences savepreferences catch jabrefexception ex logger error cannot preferences ex resetpreferences string value equals value trim try system println localization lang setting preferences default values globals prefs clear shareddatabasepreferences clear catch backingstoreexception system err println localization lang unable clear preferences logger error unable clear preferences else string[] keys value split string key keys globals prefs haskey key trim system println localization lang resetting preference key 0' key trim globals prefs clear key trim else system println localization lang unknown preference key 0' key trim automaticallysetfilelinks list<parserresult> loaded parserresult parserresult loaded bibdatabase database parserresult getdatabase logger info localization lang automatically setting file links autosetlinks autosetlinks database getentries parserresult getdatabasecontext regeneratebibtexkeys list<parserresult> loaded parserresult parserresult loaded bibdatabase database parserresult getdatabase metadata metadata parserresult getmetadata metadata null logger info localization lang regenerating bibtex keys according metadata bibentry entry database getentries try make label bibtexkeypatternutil makelabel metadata getcitekeypattern globals prefs getbibtexkeypatternpreferences getkeypattern database entry globals prefs getbibtexkeypatternpreferences else logger info localization lang meta data present bib file cannot regenerate bibtex keys run entry fetcher command line <p> note works headlessly entryfetcher show gui param fetchcommand string containing fetcher use id entryfetcherextension minus fetcher search query separated parser result containing entries fetched null error occurred optional<parserresult> fetch string fetchcommand fetchcommand null fetchcommand contains fetchcommand split length system println localization lang expected syntax fetch '<name fetcher>:<query>' system println localization lang following fetchers available: optional empty string[] split fetchcommand split string engine split[0] entryfetchers fetchers entryfetchers globals journalabbreviationloader entryfetcher fetcher null entryfetcher fetchers getentryfetchers engine equalsignorecase getclass getsimplename replace fetcher fetcher fetcher null system println localization lang could find fetcher 0' engine system println localization lang following fetchers available: entryfetcher fetchers getentryfetchers system println getclass getsimplename replace fetcher tolowercase locale english optional empty string query split[1] system println localization lang running query 0' fetcher 1' query engine localization lang please wait collection<bibentry> result importinspectioncommandline query query fetcher result isempty system println localization lang query 0' fetcher 1' results query engine optional empty optional parserresult result boolean isblank cli isblank open file like importfile also request jabref focus database param argument see importfile parserresult settoopentab true optional<parserresult> importtoopenbase string argument optional<parserresult> result importfile argument result ifpresent settoopentab true result optional<parserresult> importfile string argument string[] data argument split string address data[0] path file address startswith http: address startswith https: address startswith ftp: download web resource temporary file try file urldownload address downloadtotemporaryfile catch ioexception system err println localization lang problem downloading address getlocalizedmessage optional empty else os windows file paths get address else file paths get address replace system getproperty user home string importformat data length importformat data[1] else importformat optional<parserresult> importresult importfile file importformat importresult ifpresent result outputprinter printer systemoutputprinter result haswarnings printer showmessage result geterrormessage importresult optional<parserresult> importfile path file string importformat try equals importformat system println localization lang importing file parserresult result globals format reader importfromfile importformat file optional result else means guess format system println localization lang importing unknown format file importformatreader unknownformatimport importresult importresult globals format reader importunknownformat file system println localization lang format used importresult format optional importresult parserresult catch importexception ex system err println localization lang error opening file file ': ex getlocalizedmessage optional empty boolean shouldshutdown cli isdisablegui cli isshowversion noguineeded 
4	XMPUtilMain.java	CLI	net sf jabref cli io bufferedreader io file io fileinputstream io filereader io ioexception io inputstreamreader io stringwriter nio charset standardcharsets util collection util list util optional javax xml transform transformerexception net sf jabref globals net sf jabref logic bibtex bibentrywriter net sf jabref logic bibtex latexfieldformatter net sf jabref logic importer importformatpreferences net sf jabref logic importer parserresult net sf jabref logic importer fileformat bibtexparser net sf jabref logic xmp xmppreferences net sf jabref logic xmp xmputil net sf jabref model database bibdatabasemode net sf jabref model entry bibentry net sf jabref preferences jabrefpreferences org apache jempbox impl xmlutil org apache jempbox xmp xmpmetadata xmputilmain command line tool working xmp data read write xmp metadata pdf file usage: <dl> <dd>read pdf print bibtex:< dd> <dt>xmputil pdf< dt> <dd>read pdf print raw xmp:< dd> <dt>xmputil pdf< dt> <dd>write entry bib given key pdf:< dd> <dt>xmputil key bib pdf< dt> <dd>write entries bib pdf:< dd> <dt>xmputil bib pdf< dt> dl> param args command line strings passed utility throws ioexception given files could read written throws transformerexception given bibentry malformed main string[] args throws ioexception transformerexception forget initialize preferences globals prefs null globals prefs jabrefpreferences getinstance xmppreferences xmppreferences globals prefs getxmppreferences importformatpreferences importformatpreferences globals prefs getimportformatpreferences switch args length case 0: usage break case 1: args[0] endswith pdf read pdf write bibtex list<bibentry> xmputil readxmp file args[0] xmppreferences bibentrywriter bibtexentrywriter bibentrywriter latexfieldformatter globals prefs getlatexfieldformatterpreferences false bibentry entry stringwriter sw stringwriter bibtexentrywriter write entry sw bibdatabasemode bibtex system println sw getbuffer else args[0] endswith bib read bib write xmp try filereader fr filereader args[0] parserresult result bibtexparser parse fr importformatpreferences collection<bibentry> entries result getdatabase getentries entries isempty system err println could find bibentry args[0] else system println xmputil toxmp entries result getdatabase xmppreferences else usage break case 2: equals args[0] args[1] endswith pdf read pdf write bibtex optional<xmpmetadata> meta xmputil readrawxmp file args[1] meta ispresent xmlutil save meta get getxmpdocument system standardcharsets utf name else system err println given pdf contain xmp metadata break args[0] endswith bib args[1] endswith pdf bufferedreader reader bufferedreader inputstreamreader fileinputstream args[0] standardcharsets utf need parserresult access result getdatabase later parserresult result bibtexparser importformatpreferences parse reader collection<bibentry> entries result getdatabase getentries entries isempty system err println could find bibentry args[0] else xmputil writexmp file args[1] entries result getdatabase false xmppreferences system println xmp written break usage break case 3: args[1] endswith bib args[2] endswith pdf usage break parserresult result bibtexparser parse filereader args[1] importformatpreferences optional<bibentry> bibentry result getdatabase getentrybykey args[0] bibentry ispresent xmputil writexmp file args[2] bibentry get result getdatabase xmppreferences system println xmp written else system err println could find bibentry args[0] args[0] break default: usage print usage information command line tool xmputil see xmputilmain#main string[] usage system println read write xmp metadata pdf file system println system println usage: system println read pdf print bibtex: system println xmputil <pdf> system println read pdf print raw xmp: system println xmputil <pdf> system println write entry <bib> given <key> pdf: system println xmputil <key> <bib> <pdf> system println write entries <bib> pdf: system println xmputil <bib> <pdf> system println system println report bugs visit http: jabref sourceforge net 
5	GenerateCharacterTable.java	CLI	net sf jabref cli util map util treemap net sf jabref model strings htmlunicodeconversionmaps generatecharactertable main string[] args map<integer string> charactermap treemap<> htmlunicodeconversionmaps numerical latex conversion map system println \\documentclass[10pt a4paper] article system println \\usepackage[t5 t1] fontenc system println \\usepackage amssymb system println \\usepackage amsmath system println \\usepackage txfonts system println \\usepackage xfrac system println \\usepackage combelow system println \\usepackage textcomp system println \\usepackage mathspec system println \\usepackage fontspec system println \\usepackage[a4paper margin 1cm] geometry system println \\usepackage supertabular system println \\usepackage mathabx system println \\fontspec cambria system println \\declaretextsymboldefault \\ohorn t5 system println \\declaretextsymboldefault \\uhorn t5 system println \\declaretextsymboldefault \\ohorn t5 system println \\declaretextsymboldefault \\uhorn t5 system println \\begin document system println \\twocolumn system println \\begin supertabular system println uni symb \\latex code \\\\ \n \\hline map entry<integer string> character charactermap entryset system println character getkey character getkey string valueof character tochars character getkey \\symbol integer tostring character getkey character getvalue \\verb¤ character getvalue \\\\ system println \\end supertabular system println \\end document 
6	ImportInspectionCommandLine.java	CLI	net sf jabref cli util collection util collections util linkedlist util list net sf jabref gui importer fetcher entryfetcher net sf jabref logic importer importinspector net sf jabref logic importer outputprinter net sf jabref logic l10n localization net sf jabref model entry bibentry importinspectioncommandline importinspector list<bibentry> entries linkedlist<> outputprinter status systemoutputprinter override addentry bibentry entry entries add entry override setprogress current max status setstatus localization lang progress: string valueof current string valueof max collection<bibentry> query string query entryfetcher fetcher entries clear fetcher processquery query importinspectioncommandline status entries collections emptylist 
7	SystemOutputPrinter.java	CLI	net sf jabref cli net sf jabref logic importer outputprinter systemoutputprinter outputprinter override setstatus string system println override showmessage string message string title msgtype system println title message override showmessage string message system println message 
8	Globals.java	GLOBALS	net sf jabref net sf jabref collab fileupdatemonitor net sf jabref gui globalfocuslistener net sf jabref gui keyboard keybindingpreferences net sf jabref logic error streameavesdropper net sf jabref logic importer importformatreader net sf jabref logic journals journalabbreviationloader net sf jabref logic protectedterms protectedtermsloader net sf jabref logic remote server remotelistenerserverlifecycle net sf jabref logic util buildinfo net sf jabref preferences jabrefpreferences globals jabref version info buildinfo build info buildinfo remote listener remotelistenerserverlifecycle remote listener remotelistenerserverlifecycle importformatreader format reader importformatreader main program field initialized jabref test case initializes field required jabrefpreferences prefs field initialized upon startup gui code allowed access logic code use dependency injection journalabbreviationloader journalabbreviationloader field initialized upon startup gui code allowed access logic code use dependency injection protectedtermsloader protectedtermsloader key binding preferences keybindingpreferences keyprefs background tasks globalfocuslistener focuslistener fileupdatemonitor fileupdatemonitor streameavesdropper streameavesdropper key binding preferences keybindingpreferences getkeyprefs keyprefs null keyprefs keybindingpreferences prefs keyprefs background tasks startbackgroundtasks globals focuslistener globalfocuslistener globals streameavesdropper streameavesdropper eavesdroponsystem globals fileupdatemonitor fileupdatemonitor jabrefexecutorservice instance executewithlowpriorityinownthread globals fileupdatemonitor fileupdatemonitor globalfocuslistener getfocuslistener focuslistener fileupdatemonitor getfileupdatemonitor fileupdatemonitor streameavesdropper getstreameavesdropper streameavesdropper 
9	ChangeDisplayDialog.java	GUI	net sf jabref collab awt borderlayout awt insets util collections util enumeration javax swing borderfactory javax swing jbutton javax swing jcheckbox javax swing jcomponent javax swing jdialog javax swing jframe javax swing jlabel javax swing jpanel javax swing jscrollpane javax swing jsplitpane javax swing jtree javax swing event treeselectionevent javax swing event treeselectionlistener javax swing tree defaultmutabletreenode net sf jabref gui basepanel net sf jabref gui undo namedcompound net sf jabref gui util guiutil net sf jabref logic l10n localization net sf jabref model database bibdatabase changedisplaydialog jdialog treeselectionlistener jtree tree jpanel infopanel jpanel jcheckbox cb jcheckbox localization lang accept change jlabel rootinfo jlabel localization lang select tree nodes view accept reject changes change selected jcomponent infoshown boolean okpressed changedisplaydialog jframe owner basepanel panel bibdatabase secondary defaultmutabletreenode root super owner localization lang external changes true bibdatabase localsecondary sure put empty secondary base none given: secondary null localsecondary bibdatabase else localsecondary secondary tree jtree root tree addtreeselectionlistener guiutil correctrowheight tree jsplitpane pane jsplitpane pane setleftcomponent jscrollpane tree jpanel infoborder jpanel pane setrightcomponent infoborder cb setmargin insets cb setenabled false infopanel setlayout borderlayout infoborder setlayout borderlayout infoborder setborder borderfactory createetchedborder infoborder add infopanel borderlayout center setinfo rootinfo infopanel add cb borderlayout south jbutton ok jbutton localization lang ok jpanel buttonpanel jpanel buttonpanel add ok jbutton cancel jbutton localization lang cancel buttonpanel add cancel getcontentpane add pane borderlayout center getcontentpane add buttonpanel borderlayout south cb addchangelistener selected null selected setaccepted cb isselected cancel addactionlistener dispose ok addactionlistener perform accepted changes: store edits undoable object: namedcompound ce namedcompound localization lang merged external changes enumeration<change> enumer root children boolean anydisabled false change collections list enumer boolean allaccepted false isacceptable isaccepted allaccepted makechange panel localsecondary ce allaccepted anydisabled true ce end panel getundomanager addedit ce anydisabled panel markbasechanged panel setupdatedexternally false dispose okpressed true pack boolean isokpressed okpressed setinfo jcomponent comp infoshown null infopanel remove infoshown infoshown comp infopanel add infoshown borderlayout center infopanel revalidate infopanel repaint valuechanged param treeselectionevent override valuechanged treeselectionevent object tree getlastselectedpathcomponent instanceof change selected change setinfo selected description cb setselected selected isaccepted cb setenabled selected isacceptable else setinfo rootinfo selected null cb setenabled false 
10	FileListTableModel.java	GUI	net sf jabref gui filelist util arraylist util list util optional util stringjoiner javax swing jlabel javax swing swingutilities javax swing event tablemodelevent javax swing table abstracttablemodel net sf jabref gui externalfiletype externalfiletype net sf jabref gui externalfiletype externalfiletypes net sf jabref gui externalfiletype unknownexternalfiletype net sf jabref logic util io fileutil net sf jabref model entry filefield net sf jabref model entry parsedfilefield data structure contain list file links parseable coded string doubles table model file list editor filelisttablemodel abstracttablemodel list<filelistentry> list arraylist<> override getrowcount synchronized list list size override getcolumncount override class<string> getcolumnclass columnindex string override object getvalueat rowindex columnindex synchronized list filelistentry entry list get rowindex switch columnindex case 0: entry description case 1: entry link default: entry type ispresent entry type get getname filelistentry getentry index synchronized list list get index setentry index filelistentry entry synchronized list list set index entry firetablerowsupdated index index removeentry index synchronized list list remove index firetablerowsdeleted index index add entry table model fire change event change event fired event dispatch thread param index row index insert entry param entry entry insert addentry index filelistentry entry synchronized list list add index entry swingutilities iseventdispatchthread firetablerowsinserted index index else swingutilities invokelater firetablerowsinserted index index override setvalueat object avalue rowindex columnindex nothing set table contents based flat string representation file list param value string representation setcontent string value setcontent value false true setcontentdontguesstypes string value setcontent value false false filelistentry setcontent string val boolean firstonly boolean deduceunknowntypes string value val value null value list<parsedfilefield> fields filefield parse value list<filelistentry> files arraylist<> parsedfilefield entry fields entry isempty continue firstonly decodeentry entry deduceunknowntypes else files add decodeentry entry deduceunknowntypes synchronized list list clear list addall files firetablechanged tablemodelevent null convenience method finding label corresponding type first file link given field content difference using method using setcontent instance filelisttablemodel slight optimization: method parsing discontinued first entry found param content file field content fed class' setcontent method jlabel set text icon first entry's file type null entry found entry icon jlabel getfirstlabel string content filelisttablemodel tm filelisttablemodel filelistentry entry tm setcontent content true true entry null entry type ispresent null entry type get geticonlabel filelistentry decodeentry parsedfilefield entry boolean deduceunknowntype optional<externalfiletype> type externalfiletypes getinstance getexternalfiletypebyname entry getfiletype deduceunknowntype type get instanceof unknownexternalfiletype file type recognized try find usable file type based mime type: type externalfiletypes getinstance getexternalfiletypebymimetype entry getfiletype type ispresent type could found mime type extension: optional<string> extension fileutil getfileextension entry getlink extension ispresent optional<externalfiletype> typeguess externalfiletypes getinstance getexternalfiletypebyext extension get typeguess ispresent type typeguess filelistentry entry getdescription entry getlink type transform file list shown table flat string representable bibtex field: string representation string getstringrepresentation synchronized list string[][] array string[list size ][] filelistentry entry list array[i] entry getstringarrayrepresentation filefield encodestringarray array transform file list shown table html string representation suitable displaying contents tooltip tooltip representation string gettooltiphtmlrepresentation stringjoiner sb stringjoiner <br> <html> html> synchronized list filelistentry entry list sb add string format entry description entry link sb tostring 
11	FileListEntryEditor.java	GUI	net sf jabref gui filelist awt borderlayout awt event actionevent awt event actionlistener awt event windowadapter awt event windowevent io file io ioexception nio file path util collection util list util optional util regex pattern javax swing abstractaction javax swing actionmap javax swing borderfactory javax swing defaultcomboboxmodel javax swing inputmap javax swing jbutton javax swing jcombobox javax swing jcomponent javax swing jdialog javax swing jlabel javax swing jprogressbar javax swing jtextfield javax swing swingconstants javax swing swingutilities javax swing event documentevent javax swing event documentlistener net sf jabref globals net sf jabref gui filedialog net sf jabref gui jabrefframe net sf jabref gui desktop jabrefdesktop net sf jabref gui externalfiletype externalfiletype net sf jabref gui externalfiletype externalfiletypes net sf jabref gui externalfiletype unknownexternalfiletype net sf jabref gui keyboard keybinding net sf jabref logic l10n localization net sf jabref logic util io fileutil net sf jabref model database bibdatabasecontext net sf jabref preferences jabrefpreferences com jgoodies forms builder buttonbarbuilder com jgoodies forms builder formbuilder com jgoodies forms layout formlayout org apache commons logging log org apache commons logging logfactory produces dialog box editing single file link bibtex entry information edited includes file description link file type dialog also includes convenience buttons quick linking use downloading files also offers progress bar downloading label hidden download complete filelistentryeditor log logger logfactory getlog filelistentryeditor jdialog diag jtextfield link jtextfield jtextfield description jtextfield jbutton ok jbutton localization lang ok jcombobox<externalfiletype> types jprogressbar prog jprogressbar swingconstants horizontal jlabel downloadlabel jlabel localization lang downloading confirmclosefilelistentryeditor externalconfirm filelistentry entry make variable lambda action listener fail compiöe bibdatabasecontext databasecontext boolean okpressed boolean okdisabledexternally boolean openbrowsewhenshown boolean dontopenbrowseuntildisposed make variable lambda action listener fail compile jabrefframe frame pattern remote link pattern pattern compile [a z] filelistentryeditor jabrefframe frame filelistentry entry boolean showprogressbar boolean showopenbutton bibdatabasecontext databasecontext entry entry databasecontext databasecontext frame frame actionlistener okaction ok button disabled ignore event: ok isenabled necessary ask external confirm object whether ready close externalconfirm null construct updated filelistentry: storesettings entry externalconfirm confirmclose entry diag dispose storesettings filelistentryeditor entry okpressed true types jcombobox<> types additemlistener itemevent okdisabledexternally ok setenabled types getselecteditem null formbuilder builder formbuilder create layout formlayout left:pref 4dlu fill:150dlu 4dlu fill:pref 4dlu fill:pref 2dlu 2dlu builder add localization lang link xy builder add link xy browselistener browse browselistener frame link todo: maybe use browse action jbutton browsebut jbutton localization lang browse browsebut addactionlistener browsepressed builder add browsebut xy jbutton open jbutton localization lang open showopenbutton builder add open xy builder add localization lang description xy builder add description xyw builder getpanel setborder borderfactory createemptyborder builder add localization lang file type xy builder add types xyw showprogressbar builder appendrows 2dlu builder add downloadlabel xy builder add prog xyw buttonbarbuilder bb buttonbarbuilder bb addglue bb addrelatedgap bb addbutton ok jbutton cancel jbutton localization lang cancel bb addbutton cancel bb addglue bb getpanel setborder borderfactory createemptyborder ok addactionlistener okaction add ok action two text fields simplify entering: link addactionlistener okaction description addactionlistener okaction open addactionlistener openfile abstractaction cancelaction abstractaction override actionperformed actionevent diag dispose cancel addactionlistener cancelaction key bindings: actionmap builder getpanel getactionmap inputmap im builder getpanel getinputmap jcomponent focused window im put globals getkeyprefs getkey keybinding close dialog close put close cancelaction link getdocument adddocumentlistener documentlistener override insertupdate documentevent documentevent checkextension override removeupdate documentevent documentevent nothing override changedupdate documentevent documentevent checkextension diag jdialog frame localization lang save file true diag getcontentpane add builder getpanel borderlayout center diag getcontentpane add bb getpanel borderlayout south diag pack diag setlocationrelativeto frame diag addwindowlistener windowadapter override windowactivated windowevent event openbrowsewhenshown dontopenbrowseuntildisposed dontopenbrowseuntildisposed true swingutilities invokelater browsepressed actionperformed actionevent browsebut override windowclosed windowevent event dontopenbrowseuntildisposed false setvalues entry checkextension types getselectedindex link gettext trim isempty check looks like remote link: filelistentryeditor remote link pattern matcher link gettext matches optional<externalfiletype> type externalfiletypes getinstance getexternalfiletypebyext html type ispresent types setselecteditem type get try guess file type: string thelink link gettext trim externalfiletypes getinstance getexternalfiletypeforname thelink ifpresent types::setselecteditem openfile externalfiletype type externalfiletype types getselecteditem type null try jabrefdesktop openexternalfileanyformat databasecontext link gettext optional type catch ioexception logger error file could opened setexternalconfirm confirmclosefilelistentryeditor ec externalconfirm ec setokenabled boolean enabled okdisabledexternally enabled ok setenabled enabled jprogressbar getprogressbar prog jlabel getprogressbarlabel downloadlabel setentry filelistentry entry entry entry setvalues entry setvisible boolean visible boolean openbrowse openbrowsewhenshown openbrowse globals prefs getboolean jabrefpreferences allow file auto open browse visible okpressed false diag setvisible visible boolean isvisible diag null diag isvisible setvalues filelistentry entry description settext entry description link settext entry link collection<externalfiletype> list externalfiletypes getinstance getexternalfiletypeselection types setmodel defaultcomboboxmodel<> list toarray externalfiletype[list size types setselectedindex see reasonable selection type combobox: entry type ispresent entry type get instanceof unknownexternalfiletype types setselecteditem entry type get else entry link null entry link isempty checkextension storesettings filelistentry listentry string descriptiontext description gettext trim string filelink see trim file link relative file directory: try list<string> dirs databasecontext getfiledirectory globals prefs getfiledirectorypreferences dirs isempty filelink link gettext trim else boolean found false string dir dirs string canpath file dir getcanonicalpath file fl file link gettext trim fl isabsolute string flpath fl getcanonicalpath flpath length canpath length flpath startswith canpath filelink fl getcanonicalpath substring canpath length found true break found filelink link gettext trim catch ioexception ex think happen set file link directly fallback: filelink link gettext trim externalfiletype type externalfiletype types getselecteditem listentry description descriptiontext listentry type optional ofnullable type listentry link filelink boolean okpressed okpressed actionlistener browsepressed string filepath link gettext trim optional<file> file fileutil expandfilename databasecontext filepath globals prefs getfiledirectorypreferences string workingdir file set yet found file ispresent workingdir file get getpath else workingdir globals prefs get jabrefpreferences working directory optional<path> path filedialog frame workingdir showdialogandgetselectedfile path ifpresent selection file newfile selection tofile store directory next time: globals prefs put jabrefpreferences working directory newfile getpath file file directory make path relative: list<string> filedirs databasecontext getfiledirectory globals prefs getfiledirectorypreferences newfile fileutil shortenfilename newfile filedirs link settext newfile getpath link requestfocus 
12	ConfirmCloseFileListEntryEditor.java	GUI	net sf jabref gui filelist implementation interface called confirm whether filelistentryeditor ready close ok pressed whether problem needs resolved first functionalinterface interface confirmclosefilelistentryeditor boolean confirmclose filelistentry entry 
13	AttachFileAction.java	GUI	net sf jabref gui filelist net sf jabref gui basepanel net sf jabref gui actions baseaction net sf jabref gui undo undoablefieldchange net sf jabref logic l10n localization net sf jabref model entry bibentry net sf jabref model entry fieldname created intellij idea user: alver date: time: 8:48 pm change template use file settings file templates attachfileaction baseaction basepanel panel attachfileaction basepanel panel panel panel override action panel getselectedentries size panel output localization lang operation requires exactly one item selected bibentry entry panel getselectedentries get filelistentry flentry filelistentry filelistentryeditor editor filelistentryeditor panel frame flentry false true panel getbibdatabasecontext editor setvisible true true editor okpressed filelisttablemodel model filelisttablemodel entry getfield fieldname file ifpresent model::setcontent model addentry model getrowcount flentry string newval model getstringrepresentation undoablefieldchange ce undoablefieldchange entry fieldname file entry getfield fieldname file orelse null newval entry setfield fieldname file newval panel getundomanager addedit ce panel markbasechanged 
14	FileListEntry.java	GUI	net sf jabref gui filelist util objects util optional net sf jabref gui externalfiletype externalfiletype represents file link bibtex entry filelistentry string description string link optional<externalfiletype> type filelistentry string description string link description link optional empty filelistentry string description string link externalfiletype type description objects requirenonnull description link objects requirenonnull link type optional objects requirenonnull type filelistentry string description string link optional<externalfiletype> type description objects requirenonnull description link objects requirenonnull link type objects requirenonnull type string[] getstringarrayrepresentation string[] description link gettypename string gettypename type ispresent type get getname override string tostring description link type orelse null 
15	UndoableInsertEntry.java	GUI	net sf jabref gui undo net sf jabref gui basepanel net sf jabref logic l10n localization net sf jabref model database bibdatabase net sf jabref model entry bibentry net sf jabref model strings stringutil org apache commons logging log org apache commons logging logfactory represents removal entry constructor needs references database entry map open entry editors latter able close entry's editor opened insert undone undoableinsertentry abstractundoablejabrefedit bibdatabase base bibentry entry basepanel panel log logger logfactory getlog undoableinsertentry undoableinsertentry bibdatabase base bibentry entry basepanel panel base base entry entry panel panel override string getpresentationname localization lang insert entry stringutil boldhtml entry getcitekeyoptional orelse localization lang undefined override undo super undo revert change try base removeentry entry entry editor currently open must close panel ensurenotshowingbottompanel entry catch throwable ex logger warn problem undo `insert entry` ex override redo super redo base insertentry entry 
16	UndoableRemoveString.java	GUI	net sf jabref gui undo net sf jabref gui basepanel net sf jabref logic l10n localization net sf jabref model database bibdatabase net sf jabref model database keycollisionexception net sf jabref model entry bibtexstring net sf jabref model strings stringutil org apache commons logging log org apache commons logging logfactory undoableremovestring abstractundoablejabrefedit bibdatabase base bibtexstring string basepanel panel log logger logfactory getlog undoableremovestring undoableremovestring basepanel panel bibdatabase base bibtexstring string base base string string panel panel override string getpresentationname localization lang remove string stringutil boldhtml string tostring override undo super undo revert change try base addstring string catch keycollisionexception ex logger warn problem undo `remove string` ex panel updatestringdialog override redo super redo redo change base removestring string getid panel updatestringdialog 
17	UndoableKeyChange.java	GUI	net sf jabref gui undo net sf jabref logic l10n localization net sf jabref model entry bibentry net sf jabref model strings stringutil represents change field value relevant information bibentry field name old value old values null undoablekeychange abstractundoablejabrefedit bibentry entry string oldvalue string newvalue undoablekeychange bibentry entry string oldvalue string newvalue entry entry oldvalue oldvalue newvalue newvalue override string getpresentationname localization lang change key stringutil boldhtml oldvalue localization lang undefined stringutil boldhtml newvalue localization lang undefined override undo super undo entry setcitekey oldvalue override redo super redo entry setcitekey newvalue 
18	UndoablePreambleChange.java	GUI	net sf jabref gui undo net sf jabref gui basepanel net sf jabref logic l10n localization net sf jabref model database bibdatabase represents change field value relevant information bibentry field name old value old values null undoablepreamblechange abstractundoablejabrefedit bibdatabase base string oldvalue string newvalue basepanel panel undoablepreamblechange bibdatabase base basepanel panel string oldvalue string newvalue base base oldvalue oldvalue newvalue newvalue panel panel override string getpresentationname localization lang change preamble override undo super undo revert change base setpreamble oldvalue preamble editor open update panel updatepreamble override redo super redo redo change base setpreamble newvalue preamble editor open update panel updatepreamble 
19	UndoableInsertString.java	GUI	net sf jabref gui undo net sf jabref gui basepanel net sf jabref logic l10n localization net sf jabref model database bibdatabase net sf jabref model database keycollisionexception net sf jabref model entry bibtexstring net sf jabref model strings stringutil org apache commons logging log org apache commons logging logfactory undoableinsertstring abstractundoablejabrefedit log logger logfactory getlog undoableinsertstring bibdatabase base basepanel panel bibtexstring string undoableinsertstring basepanel panel bibdatabase base bibtexstring string base base panel panel string string override string getpresentationname localization lang insert string stringutil boldhtml string tostring override undo super undo revert change base removestring string getid panel updatestringdialog override redo super redo redo change try base addstring string catch keycollisionexception ex logger warn problem redo `insert entry` ex panel updatestringdialog 
20	NamedCompound.java	GUI	net sf jabref gui undo javax swing undo compoundedit javax swing undo undoableedit net sf jabref logic l10n localization namedcompound compoundedit string name boolean hasedits namedcompound string name super name name override boolean addedit undoableedit undoableedit hasedits true super addedit undoableedit boolean hasedits hasedits override string getundopresentationname <html> localization lang undo name <ul> getpresentationname ul>< html> override string getredopresentationname <html> localization lang redo name <ul> getpresentationname ul>< html> override string getpresentationname stringbuilder sb stringbuilder undoableedit edit edits sb append <li> append edit getpresentationname sb tostring 
21	UndoableRemoveEntry.java	GUI	net sf jabref gui undo net sf jabref gui basepanel net sf jabref logic l10n localization net sf jabref model database bibdatabase net sf jabref model entry bibentry net sf jabref model entry event entryeventsource net sf jabref model strings stringutil org apache commons logging log org apache commons logging logfactory represents removal entry constructor needs references database entry map open entry editors latter able close entry's editor opened undo removal undone undoableremoveentry abstractundoablejabrefedit bibdatabase base bibentry entry basepanel panel log logger logfactory getlog undoableremoveentry undoableremoveentry bibdatabase base bibentry entry basepanel panel base base entry entry panel panel override string getpresentationname localization lang remove entry stringutil boldhtml entry getcitekeyoptional orelse localization lang undefined override undo super undo base insertentry entry entryeventsource undo override redo super redo redo change try base removeentry entry entry editor currently open must close panel ensurenotshowingbottompanel entry catch throwable ex logger warn problem redo `remove entry` ex 
22	UndoableStringChange.java	GUI	net sf jabref gui undo net sf jabref gui basepanel net sf jabref logic l10n localization net sf jabref model entry bibtexstring net sf jabref model strings stringutil undoablestringchange abstractundoablejabrefedit bibtexstring string string oldvalue string newvalue boolean namechange basepanel panel undoablestringchange basepanel panel bibtexstring string boolean namechange string oldvalue string newvalue string string oldvalue oldvalue newvalue newvalue namechange namechange panel panel override string getpresentationname namechange localization lang change string name stringutil boldhtml oldvalue stringutil boldhtml newvalue localization lang change string content stringutil boldhtml oldvalue stringutil boldhtml newvalue override undo super undo revert change panel assurestringdialognotediting namechange string setname oldvalue else string setcontent oldvalue panel updatestringdialog override redo super redo redo change panel assurestringdialognotediting namechange string setname newvalue else string setcontent newvalue panel updatestringdialog 
23	UndoableFieldChange.java	GUI	net sf jabref gui undo net sf jabref logic l10n localization net sf jabref model fieldchange net sf jabref model entry bibentry net sf jabref model strings stringutil org apache commons logging log org apache commons logging logfactory represents change field value relevant information bibentry field name old value old values null undoablefieldchange abstractundoablejabrefedit log logger logfactory getlog undoablefieldchange bibentry entry string field string oldvalue string newvalue undoablefieldchange bibentry entry string field string oldvalue string newvalue entry entry field field oldvalue oldvalue newvalue newvalue undoablefieldchange fieldchange change change getentry change getfield change getoldvalue change getnewvalue override string getpresentationname localization lang change field entry stringutil boldhtml field stringutil boldhtml entry getcitekeyoptional orelse localization lang undefined stringutil boldhtml oldvalue localization lang undefined stringutil boldhtml newvalue localization lang undefined override undo super undo revert change try oldvalue null entry clearfield field else entry setfield field oldvalue exception explicitly thrown catch illegalargumentexception ex logger info cannot perform undo ex override redo super redo redo change try newvalue null entry clearfield field else entry setfield field newvalue catch illegalargumentexception ex logger info cannot perform redo ex 
24	UndoableChangeType.java	GUI	net sf jabref gui undo net sf jabref logic l10n localization net sf jabref model entry bibentry net sf jabref model strings stringutil represents change type entry undoablechangetype abstractundoablejabrefedit string oldtype string newtype bibentry entry undoablechangetype bibentry entry string oldtype string newtype oldtype oldtype newtype newtype entry entry override string getpresentationname localization lang change type entry stringutil boldhtml entry getcitekeyoptional orelse localization lang undefined stringutil boldhtml oldtype localization lang undefined stringutil boldhtml newtype override undo super undo entry settype oldtype override redo super redo entry settype newtype 
25	CountingUndoManager.java	GUI	net sf jabref gui undo javax swing undo cannotundoexception javax swing undo undomanager javax swing undo undoableedit net sf jabref logic l10n localization net sf jabref logic undo addundoableactionevent net sf jabref logic undo undoredoevent com google common eventbus eventbus countingundomanager undomanager unchangedpoint current eventbus eventbus eventbus override synchronized boolean addedit undoableedit edit current boolean returnvalue super addedit edit postaddundoevent returnvalue override synchronized undo throws cannotundoexception super undo current postundoredoevent override synchronized redo throws cannotundoexception super redo current postundoredoevent synchronized markunchanged unchangedpoint current synchronized boolean haschanged current unchangedpoint registerlistener object object eventbus register object postundoredoevent send event trigger changes unregisterlistener object object eventbus unregister object postundoredoevent boolean canredo canredo boolean canundo canundo eventbus post undoredoevent canundo canundo getundopresentationname localization lang undo canredo canredo getredopresentationname localization lang redo postaddundoevent boolean canredo canredo boolean canundo canundo eventbus post addundoableactionevent canundo canundo getundopresentationname localization lang undo canredo canredo getredopresentationname localization lang redo 
26	AbstractUndoableJabRefEdit.java	GUI	net sf jabref gui undo javax swing undo abstractundoableedit net sf jabref logic l10n localization abstractundoablejabrefedit abstractundoableedit override string getundopresentationname <html> localization lang undo getpresentationname html> override string getredopresentationname <html> localization lang redo getpresentationname html> 
27	WrapLayout.java	GUI	net sf jabref gui awt component awt container awt dimension awt flowlayout awt insets javax swing jscrollpane javax swing swingutilities flowlayout subclass fully supports wrapping components wraplayout flowlayout constructs <code>wraplayout< code> left alignment default unit horizontal vertical gap wraplayout super constructs <code>flowlayout< code> specified alignment default unit horizontal vertical gap value alignment argument must one <code>wraplayout< code> <code>wraplayout< code> <code>wraplayout< code> param align alignment value wraplayout align super align creates flow layout manager indicated alignment indicated horizontal vertical gaps <p> value alignment argument must one <code>wraplayout< code> <code>wraplayout< code> <code>wraplayout< code> param align alignment value param hgap horizontal gap components param vgap vertical gap components wraplayout align hgap vgap super align hgap vgap returns preferred dimensions layout given <i>visible< i> components specified target container param target component needs laid preferred dimensions lay subcomponents specified container override dimension preferredlayoutsize container target layoutsize target true returns minimum dimensions needed layout <i>visible< i> components contained specified target container param target component needs laid minimum dimensions lay subcomponents specified container override dimension minimumlayoutsize container target dimension minimum layoutsize target false minimum width gethgap minimum returns minimum preferred dimension needed layout target container param target target get layout size param preferred preferred size calculated dimension layout target container dimension layoutsize container target boolean preferred synchronized target gettreelock row must fit width allocated container container width preferred width container yet calculated lets ask maximum targetwidth target getsize width targetwidth targetwidth integer max value hgap gethgap vgap getvgap insets insets target getinsets horizontalinsetsandgap insets left insets right hgap maxwidth targetwidth horizontalinsetsandgap fit components allowed width dimension dim dimension rowwidth rowheight nmembers target getcomponentcount nmembers component target getcomponent isvisible dimension preferred getpreferredsize getminimumsize null can't add component current row start row rowwidth width maxwidth addrow dim rowwidth rowheight rowwidth rowheight add horizontal gap components first rowwidth rowwidth hgap rowwidth width rowheight math max rowheight height addrow dim rowwidth rowheight dim width horizontalinsetsandgap dim height insets top insets bottom vgap using scroll pane decoratedlookandfeel need make sure preferred size less size target container shrinking container size works correctly removing horizontal gap easy way container scrollpane swingutilities getancestorofclass jscrollpane target scrollpane null dim width hgap dim row completed use dimensions row update preferred size container param dim update width height appropriate param rowwidth width row add param rowheight height row add addrow dimension dim rowwidth rowheight dim width math max dim width rowwidth dim height dim height getvgap dim height rowheight 
28	MergeEntries.java	GUI	net sf jabref gui mergeentries awt font io ioexception io stringwriter util arraylist util arrays util collection util hashmap util hashset util list util map util optional util set util treeset javax swing borderfactory javax swing buttongroup javax swing jcombobox javax swing jlabel javax swing jpanel javax swing jradiobutton javax swing jscrollpane javax swing jseparator javax swing jtextarea javax swing jtextpane javax swing scrollpaneconstants javax swing swingutilities net sf jabref globals net sf jabref gui previewpanel net sf jabref gui util component diffhighlightingtextpane net sf jabref logic bibtex bibentrywriter net sf jabref logic bibtex latexfieldformatter net sf jabref logic formatter casechanger sentencecaseformatter net sf jabref logic l10n localization net sf jabref logic util strings diffhighlighting net sf jabref model database bibdatabasemode net sf jabref model entry bibentry net sf jabref model entry internalbibtexfields net sf jabref preferences jabrefpreferences com jgoodies forms layout cellconstraints com jgoodies forms layout columnspec com jgoodies forms layout formlayout com jgoodies forms layout rowspec org apache commons logging log org apache commons logging logfactory author oscar gustafsson dealing merging entries mergeentries log logger logfactory getlog mergeentries headings list<string> columnheadings arrays aslist localization lang field localization lang left entry localization lang left localization lang none localization lang right localization lang right entry string[] diff modes localization lang plain text localization lang show diff localization lang word localization lang show diff localization lang character localization lang show symmetric diff localization lang word localization lang show symmetric diff localization lang character set<string> identicalfields hashset<> set<string> differentfields hashset<> bibentry mergedentry bibentry bibentry leftentry bibentry rightentry bibdatabasemode databasetype jscrollpane scrollpane jtextarea sourceview previewpanel entrypreview boolean donebuilding boolean identicaltypes list<jradiobutton> typeradiobuttons set<string> allfields treeset<> jcombobox<string> diffmode jcombobox<> map<string jtextpane> lefttextpanes hashmap<> map<string jtextpane> righttextpanes hashmap<> map<string list<jradiobutton>> radiobuttons hashmap<> jpanel mainpanel jpanel string margin 10px list<jlabel> heading labels arraylist<> cellconstraints cell constraints cellconstraints constructor taking two entries param entryleft left entry param entryright right entry param type bib database mode mergeentries bibentry entryleft bibentry entryright bibdatabasemode type leftentry entryleft rightentry entryright databasetype type initialize constructor optional column captions two entries param entryleft left entry param entryright right entry param headingleft heading left entry param headingright heading right entry param type bib database mode mergeentries bibentry entryleft bibentry entryright string headingleft string headingright bibdatabasemode type columnheadings set headingleft columnheadings set headingright leftentry entryleft rightentry entryright databasetype type initialize main function building merge entry jpanel initialize donebuilding false setupfields filldiffmodes create main layout string colspecmain left:pref 5px center:3cm:grow 5px center:pref 3px center:pref 3px center:pref 5px center:3cm:grow string colspecmerge left:pref 5px fill:3cm:grow 5px center:pref 3px center:pref 3px center:pref 5px fill:3cm:grow string rowspec pref pref 10px fill:5cm:grow 10px pref 10px fill:3cm:grow stringbuilder rowbuilder stringbuilder allfields size rowbuilder append pref 2dlu rowbuilder append pref jpanel mergepanel jpanel formlayout mainlayout formlayout colspecmain rowspec formlayout mergelayout formlayout colspecmerge rowbuilder tostring mainpanel setlayout mainlayout mergepanel setlayout mergelayout setupheadingrows mainpanel add jseparator cell constraints xyw setupentrytyperow mergepanel maxlabelwidth setupfieldrows mergepanel create add scrollpane scrollpane jscrollpane mergepanel scrollpaneconstants vertical scrollbar needed scrollpaneconstants horizontal scrollbar never scrollpane setborder borderfactory createemptyborder updatetextpanes allfields mainpanel add scrollpane cell constraints xyw mainpanel add jseparator cell constraints xyw synchronizecolumnwidths mainlayout mergelayout maxlabelwidth setup previewpanel bibtex source box merged entry mainpanel add boldfontlabel localization lang merged entry cell constraints xyw entrypreview previewpanel null mergedentry null mainpanel add entrypreview cell constraints xyw mainpanel add boldfontlabel localization lang merged bibtex source code cell constraints xyw sourceview jtextarea sourceview setlinewrap true sourceview setfont font monospaced font plain globals prefs getint jabrefpreferences font size mainpanel add jscrollpane sourceview cell constraints xyw sourceview seteditable false add margin around layout mainlayout appendrow rowspec decode margin mainlayout appendcolumn columnspec decode margin mainlayout insertrow rowspec decode margin mainlayout insertcolumn columnspec decode margin everything done allow action actually update merged entry donebuilding true updateall show we've got mainpanel setvisible true swingutilities invokelater scrollpane getverticalscrollbar setvalue setupfieldrows jpanel mergepanel fields joint add row possibly radio buttons row maxlabelwidth string field allfields jlabel label boldfontlabel sentencecaseformatter format field mergepanel add label cell constraints xy row left top optional<string> leftstring leftentry getfield field optional<string> rightstring rightentry getfield field leftstring equals rightstring identicalfields add field else differentfields add field maxlabelwidth math max maxlabelwidth label getpreferredsize width left text pane leftstring ispresent jtextpane tf diffhighlightingtextpane mergepanel add tf cell constraints xy row lefttextpanes put field tf add radio buttons two entries identical fields identicalfields contains field mergedentry setfield field leftstring get happen entries field content identical else buttongroup group buttongroup list<jradiobutton> list arraylist<> jradiobutton button jradiobutton group add button mergepanel add button cell constraints xy row button addchangelistener updateall list add button radiobuttons put field list leftstring ispresent list get setselected true rightstring ispresent list get setenabled false else list get setenabled false list get setselected true right text pane rightstring ispresent jtextpane tf diffhighlightingtextpane mergepanel add tf cell constraints xy row righttextpanes put field tf row maxlabelwidth setupentrytyperow jpanel mergepanel start entry type mergepanel add boldfontlabel localization lang entry type cell constraints xy jtextpane lefttypedisplay diffhighlightingtextpane lefttypedisplay settext diffhighlighting html start leftentry gettype diffhighlighting html end mergepanel add lefttypedisplay cell constraints xy leftentry gettype equals rightentry gettype identicaltypes true else identicaltypes false buttongroup group buttongroup typeradiobuttons arraylist<> jradiobutton button jradiobutton typeradiobuttons add button group add button mergepanel add button cell constraints xy button addchangelistener updateall typeradiobuttons get setselected true jtextpane righttypedisplay diffhighlightingtextpane righttypedisplay settext diffhighlighting html start rightentry gettype diffhighlighting html end mergepanel add righttypedisplay cell constraints xy setupheadingrows mainpanel add boldfontlabel localization lang use cell constraints xyw center bottom mainpanel add diffmode cell constraints xy right bottom set headings heading labels add boldfontlabel columnheadings get mainpanel add heading labels get cell constraints xy filldiffmodes fill diff mode combo box string difftext diff modes diffmode additem difftext diffmode setselectedindex math min globals prefs getint jabrefpreferences merge entries diff mode diffmode getitemcount diffmode addactionlistener updatetextpanes differentfields storepreference synchronizecolumnwidths formlayout mainlayout formlayout mergelayout maxlabelwidth synchronize column widths string[] rbalign right center left mainlayout setcolumnspec columnspec decode integer tostring maxlabelwidth px integer maxrbwidth maxrbwidth math max maxrbwidth heading labels get getpreferredsize width mergelayout setcolumnspec columnspec decode rbalign[k] maxrbwidth px jlabel boldfontlabel string text jlabel label jlabel text font font label getfont label setfont font derivefont font getstyle font bold label storepreference globals prefs putint jabrefpreferences merge entries diff mode diffmode getselectedindex setupfields allfields addall leftentry getfieldnames allfields addall rightentry getfieldnames remove internal fields set<string> toberemoved treeset<> string field allfields internalbibtexfields isinternalfield field toberemoved add field allfields removeall toberemoved updatetextpanes collection<string> fields oldscrollpanevalue scrollpane getverticalscrollbar getvalue string field fields string leftstring leftentry getfield field orelse string rightstring rightentry getfield field orelse switch diffmode getselectedindex case 0: plain text break case 1: latexdiff style word rightstring diffhighlighting generatediffhighlighting leftstring rightstring break case 2: latexdiff style character rightstring diffhighlighting generatediffhighlighting leftstring rightstring break case 3: symmetric style word string tmpleftstring diffhighlighting generatesymmetrichighlighting leftstring rightstring rightstring diffhighlighting generatesymmetrichighlighting rightstring leftstring leftstring tmpleftstring break case 4: symmetric style character tmpleftstring diffhighlighting generatesymmetrichighlighting leftstring rightstring rightstring diffhighlighting generatesymmetrichighlighting rightstring leftstring leftstring tmpleftstring break default: happen break leftstring null lefttextpanes containskey field lefttextpanes get field settext diffhighlighting html start leftstring diffhighlighting html end rightstring null righttextpanes containskey field righttextpanes get field settext diffhighlighting html start rightstring diffhighlighting html end swingutilities invokelater scrollpane getverticalscrollbar setvalue math min scrollpane getverticalscrollbar getmaximum oldscrollpanevalue merged bibentry bibentry getmergeentry mergedentry merge entry jpanel jpanel getmergeentrypanel mainpanel update merged bibentry source preview panel every time something changed updateall donebuilding done adding everything anything check type changed identicaltypes typeradiobuttons get isselected mergedentry settype leftentry gettype else mergedentry settype rightentry gettype check potentially different fields string field differentfields radiobuttons get field get isselected mergedentry setfield field leftentry getfield field get happen field exists else radiobuttons get field get isselected mergedentry setfield field rightentry getfield field get happen field exists else mergedentry clearfield field update previewpanel entrypreview setentry mergedentry update bibtex source view stringwriter writer stringwriter try bibentrywriter latexfieldformatter globals prefs getlatexfieldformatterpreferences false write mergedentry writer databasetype catch ioexception ex logger error error entry ex sourceview settext writer getbuffer tostring sourceview setcaretposition 
29	MergeFetchedEntryDialog.java	GUI	net sf jabref gui mergeentries awt event actionevent util optional util set util treeset javax swing abstractaction javax swing action javax swing jbutton javax swing jdialog javax swing jseparator net sf jabref gui basepanel net sf jabref gui undo namedcompound net sf jabref gui undo undoablechangetype net sf jabref gui undo undoablefieldchange net sf jabref gui util windowlocation net sf jabref logic l10n localization net sf jabref model entry bibentry net sf jabref model entry internalbibtexfields net sf jabref preferences jabrefpreferences com jgoodies forms builder buttonbarbuilder com jgoodies forms layout cellconstraints com jgoodies forms layout columnspec com jgoodies forms layout formlayout com jgoodies forms layout rowspec dialog merging bibtex entry data fetched doi mergefetchedentrydialog jdialog basepanel panel cellconstraints cc cellconstraints bibentry originalentry bibentry fetchedentry namedcompound ce mergeentries mergeentries string type string margin 5px mergefetchedentrydialog basepanel panel bibentry originalentry bibentry fetchedentry string type super panel frame localization lang merge entry information type true panel panel originalentry originalentry fetchedentry fetchedentry type type start setting dialog init sets dialog init mergeentries mergeentries originalentry fetchedentry localization lang original entry localization lang entry type panel getbibdatabasecontext getmode create undo compound ce namedcompound localization lang merge entry information type formlayout layout formlayout fill:700px:grow fill:400px:grow 4px 5px setlayout layout add mergeentries getmergeentrypanel cc xy add jseparator cc xy create buttons buttonbarbuilder bb buttonbarbuilder bb addglue jbutton cancel jbutton cancelaction jbutton replaceentry jbutton replaceaction bb addbutton replaceentry cancel add bb getpanel cc xy add margin around layout layout appendrow rowspec decode margin layout appendcolumn columnspec decode margin layout insertrow rowspec decode margin layout insertcolumn columnspec decode margin windowlocation pw windowlocation jabrefpreferences mergeentries pos jabrefpreferences mergeentries pos jabrefpreferences mergeentries size jabrefpreferences mergeentries size pw displaywindowatstoredlocation cancelaction abstractaction cancelaction putvalue action name localization lang cancel override actionperformed actionevent panel output localization lang canceled merging entries dispose replaceaction abstractaction replaceaction putvalue action name localization lang replace original entry override actionperformed actionevent bibentry mergedentry mergeentries getmergeentry updated original entry fields set<string> jointfields treeset<> mergedentry getfieldnames set<string> originalfields treeset<> originalentry getfieldnames boolean edited false entry type string oldtype originalentry gettype string newtype mergedentry gettype oldtype equalsignorecase newtype originalentry settype newtype ce addedit undoablechangetype originalentry oldtype newtype edited true fields string field jointfields optional<string> originalstring originalentry getfield field optional<string> mergedstring mergedentry getfield field originalstring ispresent originalstring equals mergedstring originalentry setfield field mergedstring get mergedstring always present ce addedit undoablefieldchange originalentry field originalstring orelse null mergedstring get edited true remove fields merged entry unless internal fields string field originalfields jointfields contains field internalbibtexfields isinternalfield field optional<string> originalstring originalentry getfield field originalentry clearfield field ce addedit undoablefieldchange originalentry field originalstring get null originalstring always present edited true edited ce end panel getundomanager addedit ce panel output localization lang updated entry info type panel updateentryeditorifshowing panel markbasechanged else panel output localization lang information added dispose 
30	MergeEntriesDialog.java	GUI	net sf jabref gui mergeentries util list javax swing jbutton javax swing jdialog javax swing joptionpane javax swing jseparator net sf jabref gui basepanel net sf jabref gui undo namedcompound net sf jabref gui undo undoableinsertentry net sf jabref gui undo undoableremoveentry net sf jabref gui util windowlocation net sf jabref logic l10n localization net sf jabref model entry bibentry net sf jabref preferences jabrefpreferences com jgoodies forms builder buttonbarbuilder com jgoodies forms layout cellconstraints com jgoodies forms layout columnspec com jgoodies forms layout formlayout com jgoodies forms layout rowspec author oscar dialog merging two bibtex entries mergeentriesdialog jdialog basepanel panel cellconstraints cc cellconstraints string merge entries localization lang merge entries string margin 5px mergeentriesdialog basepanel panel super panel frame merge entries true panel panel start setting dialog init panel getselectedentries sets dialog param selected selected bibtexentries init list<bibentry> selected check two entries selected selected size none selected inform user select entries first joptionpane showmessagedialog panel frame localization lang choose exactly two entries merge merge entries joptionpane information message dispose store two entries bibentry one selected get bibentry two selected get mergeentries mergeentries mergeentries one two panel getbibdatabasecontext getmode create undo compound namedcompound ce namedcompound merge entries formlayout layout formlayout fill:700px:grow fill:400px:grow 4px 5px setlayout layout add mergeentries getmergeentrypanel cc xy add jseparator cc xy create buttons buttonbarbuilder bb buttonbarbuilder bb addglue jbutton cancel jbutton localization lang cancel cancel setactioncommand cancel cancel addactionlistener panel output localization lang canceled merging entries dispose jbutton replaceentries jbutton merge entries replaceentries setactioncommand replace replaceentries addactionlistener create entry add undo stack remove two entries add undo stack working bibentry mergedentry mergeentries getmergeentry panel insertentry mergedentry ce addedit undoableinsertentry panel getdatabase mergedentry panel ce addedit undoableremoveentry panel getdatabase one panel panel getdatabase removeentry one ce addedit undoableremoveentry panel getdatabase two panel panel getdatabase removeentry two ce end panel getundomanager addedit ce panel output localization lang merged entries dispose bb addbutton jbutton[] replaceentries cancel add bb getpanel cc xy add margin around layout layout appendrow rowspec decode margin layout appendcolumn columnspec decode margin layout insertrow rowspec decode margin layout insertcolumn columnspec decode margin windowlocation pw windowlocation jabrefpreferences mergeentries pos jabrefpreferences mergeentries pos jabrefpreferences mergeentries size jabrefpreferences mergeentries size pw displaywindowatstoredlocation show we've got setvisible true 
31	FetchAndMergeWorker.java	GUI	net sf jabref gui mergeentries util objects util optional util concurrent executionexception javax swing swingworker net sf jabref globals net sf jabref gui basepanel net sf jabref logic importer fetcherexception net sf jabref logic importer idbasedfetcher net sf jabref logic importer webfetchers net sf jabref logic l10n localization net sf jabref model entry bibentry net sf jabref model entry fieldname org apache commons logging log org apache commons logging logfactory fetchandmergeworker swingworker<optional<bibentry> void> log logger logfactory getlog fetchandmergeworker basepanel panel bibentry entry string field optional<string> fieldcontent fetchandmergeworker basepanel panel bibentry entry string field panel objects requirenonnull panel entry objects requirenonnull entry field objects requirenonnull field fieldcontent entry getfield field override optional<bibentry> doinbackground throws exception optional<idbasedfetcher> fetcher webfetchers getidbasedfetcherforfield field globals prefs getimportformatpreferences try optional<string> fieldcontentvalue fieldcontent fieldcontentvalue ispresent fetcher ispresent fetcher get performsearchbyid fieldcontentvalue get else optional empty catch fetcherexception logger error info cannot found optional empty override done iscancelled try string type fieldname getdisplayname field optional<bibentry> fetchedentry get fetchedentry ispresent mergefetchedentrydialog dialog mergefetchedentrydialog panel entry fetchedentry get type dialog setvisible true else panel frame setstatus localization lang cannot get info based given 0: type fieldcontent get catch interruptedexception executionexception logger error error fetching entry 
32	FetchAndMergeEntry.java	GUI	net sf jabref gui mergeentries util arrays util list util stream collectors net sf jabref gui basepanel net sf jabref logic l10n localization net sf jabref model entry bibentry net sf jabref model entry fieldname fetching merging information based specific field fetchandmergeentry list field supported list<string> supported fields arrays aslist fieldname doi fieldname eprint fieldname isbn convenience constructor single field param entry bibentry fetch information param panel current basepanel param field field get information fetchandmergeentry bibentry entry basepanel panel string field entry panel arrays aslist field default constructor param entry bibentry fetch information param panel current basepanel param fields list fields get information one time given order fetchandmergeentry bibentry entry basepanel panel list<string> fields string field fields entry hasfield field fetchandmergeworker panel entry field execute else panel frame setstatus localization lang found fieldname getdisplayname field string getdisplaynameofsupportedfields fieldname orfields supported fields stream map fieldname::getdisplayname collect collectors tolist 
33	EntryCustomizationDialog.java	GUI	net sf jabref gui awt borderlayout awt container awt gridbagconstraints awt gridbaglayout awt gridlayout awt event actionevent awt event actionlistener util arraylist util hashmap util hashset util list util map util optional util set javax swing abstractaction javax swing actionmap javax swing borderfactory javax swing inputmap javax swing jbutton javax swing jcomponent javax swing jdialog javax swing jlist javax swing joptionpane javax swing jpanel javax swing listselectionmodel javax swing event listdataevent javax swing event listdatalistener javax swing event listselectionevent javax swing event listselectionlistener javax swing table abstracttablemodel net sf jabref globals net sf jabref gui keyboard keybinding net sf jabref logic l10n localization net sf jabref model entrytypes net sf jabref model database bibdatabasemode net sf jabref model entry bibentry net sf jabref model entry customentrytype net sf jabref model entry entrytype net sf jabref model entry internalbibtexfields net sf jabref model strings stringutil com jgoodies forms builder buttonbarbuilder entrycustomizationdialog jdialog listselectionlistener actionlistener jabrefframe frame gridbaglayout gbl gridbaglayout gridbagconstraints con gridbagconstraints fieldsetcomponent reqcomp fieldsetcomponent optcomp fieldsetcomponent optcomp2 entrytypelist typecomp jbutton ok jbutton cancel jbutton apply jbutton helpbutton jbutton delete jbutton importtypes jbutton exporttypes list<string> preset internalbibtexfields getallpublicfieldnames string lastselected map<string list<string>> reqlists hashmap<> map<string list<string>> optlists hashmap<> map<string list<string>> opt2lists hashmap<> set<string> defaulted hashset<> set<string> changed hashset<> boolean biblatexmode bibdatabasemode bibdatabasemode creates instance entrycustomizationdialog entrycustomizationdialog jabrefframe frame super frame localization lang customize entry types false frame frame initgui initgui container pane getcontentpane pane setlayout borderlayout frame getcurrentbasepanel null bibdatabasemode globals prefs getdefaultbibdatabasemode else bibdatabasemode frame getcurrentbasepanel getbibdatabasecontext getmode biblatexmode bibdatabasemode biblatex equals bibdatabasemode jpanel main jpanel jpanel buttons jpanel jpanel right jpanel main setlayout borderlayout right setlayout gridlayout biblatexmode list<string> entrytypes arraylist<> string entrytypes getalltypes bibdatabasemode entrytypes add typecomp entrytypelist entrytypes bibdatabasemode typecomp addlistselectionlistener typecomp addadditionactionlistener typecomp adddefaultactionlistener defaultlistener typecomp setlistselectionmode listselectionmodel single selection typecomp setenabled false reqcomp fieldsetcomponent localization lang required fields arraylist<> preset true true reqcomp setenabled false reqcomp setborder borderfactory createemptyborder listdatalistener datalistener datalistener reqcomp addlistdatalistener datalistener optcomp fieldsetcomponent localization lang optional fields arraylist<> preset true true optcomp setenabled false optcomp setborder borderfactory createemptyborder optcomp addlistdatalistener datalistener right add reqcomp right add optcomp biblatexmode optcomp2 fieldsetcomponent localization lang optional fields arraylist<> preset true true optcomp2 setenabled false optcomp2 setborder borderfactory createemptyborder optcomp2 addlistdatalistener datalistener right add jpanel right add optcomp2 right setborder borderfactory createtitledborder borderfactory createetchedborder globals lang fields right setborder borderfactory createetchedborder ok jbutton localization lang ok cancel jbutton localization lang cancel apply jbutton localization lang apply ok addactionlistener apply addactionlistener cancel addactionlistener buttonbarbuilder bb buttonbarbuilder buttons buttons setborder borderfactory createemptyborder bb addglue bb addbutton ok bb addbutton apply bb addbutton cancel bb addglue abstractaction closeaction abstractaction override actionperformed actionevent dispose actionmap main getactionmap inputmap im main getinputmap jcomponent focused window im put globals getkeyprefs getkey keybinding close dialog close put close closeaction con fill gridbagconstraints con weightx con weighty gbl setconstraints typecomp con main add typecomp borderlayout west main add right borderlayout center main setborder borderfactory createemptyborder pane add main borderlayout center pane add buttons borderlayout south pack override valuechanged listselectionevent getvalueisadjusting lastselected null entry type lastselected unselected store current settings type two maps reqlists put lastselected reqcomp getfields optlists put lastselected optcomp getfields biblatexmode opt2lists put lastselected optcomp2 getfields string typecomp getfirstselected null list<string> rl reqlists get rl null optional<entrytype> type entrytypes gettype bibdatabasemode type ispresent list<string> req type get getrequiredfields list<string> opt biblatexmode opt type get getprimaryoptionalfields list<string> opt2 type get getsecondaryoptionalfields optcomp2 setfields opt2 optcomp2 setenabled true else opt type get getoptionalfields reqcomp setfields req reqcomp setenabled true optcomp setfields opt optcomp setenabled true else entry reqcomp setfields arraylist<> reqcomp setenabled true optcomp setfields arraylist<> optcomp setenabled true biblatexmode optcomp2 setfields arraylist<> optcomp2 setenabled true reqcomp requestfocus else reqcomp setfields rl optcomp setfields optlists get biblatexmode optcomp2 setfields opt2lists get lastselected typecomp enable changed contains lastselected defaulted contains lastselected applychanges valuechanged listselectionevent jlist<> false iterate map required fields list types necessary: list<string> types typecomp getfields map entry<string list<string>> stringlistentry reqlists entryset types contains stringlistentry getkey continue list<string> reqstr stringlistentry getvalue list<string> optstr optlists get stringlistentry getkey list<string> opt2str opt2lists get stringlistentry getkey opt2str null opt2str arraylist<> type already existing check changes made boolean changesmade true defaulted contains stringlistentry getkey type reverted default setup string nm stringutil capitalizefirst stringlistentry getkey entrytypes removetype nm bibdatabasemode updatetypesforentries continue optional<entrytype> oldtype entrytypes gettype stringlistentry getkey bibdatabasemode oldtype ispresent list<string> oldreq oldtype get getrequiredfieldsflat list<string> oldopt oldtype get getoptionalfields biblatexmode list<string> oldpriopt oldtype get getprimaryoptionalfields list<string> oldsecopt oldtype get getsecondaryoptionalfields equallists oldreq reqstr equallists oldpriopt optstr equallists oldsecopt opt2str changesmade false else equallists oldreq reqstr equallists oldopt optstr changesmade false changesmade customentrytype typ biblatexmode customentrytype stringutil capitalizefirst stringlistentry getkey reqstr optstr opt2str customentrytype stringutil capitalizefirst stringlistentry getkey reqstr optstr entrytypes addormodifycustomentrytype typ updatetypesforentries set<object> toremove hashset<> string entrytypes getalltypes bibdatabasemode types contains toremove add remove removed: toremove isempty object atoremove toremove typedeletion string atoremove updatetables typedeletion string name optional<entrytype> type entrytypes gettype name bibdatabasemode type ispresent type get instanceof customentrytype entrytypes getstandardtype name bibdatabasemode ispresent reply joptionpane showconfirmdialog frame localization lang entries type declared typeless continue? localization lang delete custom format stringutil capitalizefirst name '\'' joptionpane yes option joptionpane warning message reply joptionpane yes option entrytypes removetype name bibdatabasemode updatetypesforentries changed remove name reqlists remove name optlists remove name biblatexmode opt2lists remove name boolean equallists list<string> one list<string> two one null two null true null one null two null false one null one size two size false different length get know non null length one size one get equals two get false get entries matched true override actionperformed actionevent getsource ok applychanges dispose else getsource cancel dispose else getsource apply applychanges else getsource typecomp typecomp selectfield getactioncommand cycle databases make sure everything updated type customization includes making sure entries valid type obsolete entry editors around right click menus' change type menu date updatetypesforentries basepanel bp frame getbasepanellist bibentry entry bp getdatabase getentries entrytypes gettype entry gettype bibdatabasemode ifpresent entry::settype updatetables basepanel basepanel frame getbasepanellist abstracttablemodel basepanel getmaintable getmodel firetabledatachanged default button pressed remember entry reset default unless changes made later defaultlistener actionlistener override actionperformed actionevent lastselected null defaulted add lastselected optional<entrytype> type entrytypes getstandardtype lastselected bibdatabasemode type ispresent list<string> type get getoptionalfields list<string> req type get getrequiredfields list<string> opt1 arraylist<> list<string> opt2 arraylist<> isempty biblatexmode opt1 type get getprimaryoptionalfields opt2 type get getsecondaryoptionalfields else opt1 reqcomp setfields req reqcomp setenabled true optcomp setfields opt1 biblatexmode optcomp2 setfields opt2 datalistener listdatalistener override intervaladded listdataevent record override intervalremoved listdataevent record override contentschanged listdataevent record record lastselected null defaulted remove lastselected changed add lastselected typecomp enable lastselected true 
34	UndoableAbbreviator.java	GUI	net sf jabref gui journals javax swing undo compoundedit net sf jabref gui undo undoablefieldchange net sf jabref logic journals abbreviation net sf jabref logic journals journalabbreviationrepository net sf jabref model database bibdatabase net sf jabref model entry bibentry undoableabbreviator journalabbreviationrepository journalabbreviationrepository boolean isoabbreviationstyle undoableabbreviator journalabbreviationrepository journalabbreviationrepository boolean isoabbreviationstyle journalabbreviationrepository journalabbreviationrepository isoabbreviationstyle isoabbreviationstyle abbreviate journal name given entry param database database entry belongs null database param entry entry treated param fieldname field name journal param ce entry changed add edit compound true entry changed false otherwise boolean abbreviate bibdatabase database bibentry entry string fieldname compoundedit ce entry hasfield fieldname false string text entry getfield fieldname get string origtext text database null text database resolveforstrings text journalabbreviationrepository isknownname text false unknown cannot un abbreviate anything string newtext getabbreviatedname journalabbreviationrepository getabbreviation text get newtext equals origtext false entry setfield fieldname newtext ce addedit undoablefieldchange entry fieldname origtext newtext true string getabbreviatedname abbreviation text isoabbreviationstyle text getisoabbreviation else text getmedlineabbreviation 
35	JournalAbbreviationsUtil.java	GUI	net sf jabref gui journals util collection javax swing table defaulttablemodel javax swing table tablemodel net sf jabref logic journals abbreviation net sf jabref logic l10n localization journalabbreviationsutil tablemodel gettablemodel collection<abbreviation> abbreviations object[][] cells object[abbreviations size ][2] row abbreviation abbreviation abbreviations cells[row][0] abbreviation getname cells[row][1] abbreviation getisoabbreviation row defaulttablemodel cells object[] localization lang full name localization lang abbreviation override boolean iscelleditable row1 column false 
36	ManageJournalsAction.java	GUI	net sf jabref gui journals awt event actionevent javax swing action net sf jabref gui jabrefframe net sf jabref gui actions mnemonicawareaction net sf jabref logic l10n localization managejournalsaction mnemonicawareaction jabrefframe frame managejournalsaction jabrefframe frame super putvalue action name localization menutitle manage journal abbreviations frame frame override actionperformed actionevent actionevent managejournalspanel panel managejournalspanel frame panel getdialog setlocationrelativeto frame panel setvalues panel getdialog setvisible true 
37	AbbreviateAction.java	GUI	net sf jabref gui journals util list net sf jabref globals net sf jabref gui basepanel net sf jabref gui undo namedcompound net sf jabref gui worker abstractworker net sf jabref logic l10n localization net sf jabref model entry bibentry net sf jabref model entry internalbibtexfields converts journal full names either iso medline abbreviations selected entries abbreviateaction abstractworker basepanel panel string message boolean iso abbreviateaction basepanel panel boolean iso panel panel iso iso override init panel output localization lang abbreviating override run list<bibentry> entries panel getselectedentries entries null undoableabbreviator undoableabbreviator undoableabbreviator globals journalabbreviationloader getrepository globals prefs getjournalabbreviationpreferences iso namedcompound ce namedcompound localization lang abbreviate journal names count bibentry entry entries string journalfield internalbibtexfields getjournalnamefields undoableabbreviator abbreviate panel getdatabase entry journalfield ce count count ce end panel getundomanager addedit ce panel markbasechanged message localization lang abbreviated journal names string valueof count else message localization lang journal names could abbreviated override update panel output message 
38	UnabbreviateAction.java	GUI	net sf jabref gui journals util list net sf jabref globals net sf jabref gui basepanel net sf jabref gui undo namedcompound net sf jabref gui worker abstractworker net sf jabref logic l10n localization net sf jabref model entry bibentry net sf jabref model entry internalbibtexfields converts journal abbreviations back full name selected entries unabbreviateaction abstractworker basepanel panel string message unabbreviateaction basepanel panel panel panel override init panel output localization lang unabbreviating override run list<bibentry> entries panel getselectedentries entries null undoableunabbreviator undoableabbreviator undoableunabbreviator globals journalabbreviationloader getrepository globals prefs getjournalabbreviationpreferences namedcompound ce namedcompound localization lang unabbreviate journal names count bibentry entry entries string journalfield internalbibtexfields getjournalnamefields undoableabbreviator unabbreviate panel getdatabase entry journalfield ce count count ce end panel getundomanager addedit ce panel markbasechanged message localization lang unabbreviated journal names string valueof count else message localization lang journal names could unabbreviated override update panel output message 
39	ManageJournalsPanel.java	GUI	net sf jabref gui journals awt borderlayout awt dimension awt event actionevent awt event actionlistener awt event mouseadapter awt event mouseevent awt event mouselistener io file io filenotfoundexception io ioexception io outputstream io outputstreamwriter net url nio file files nio file path nio file paths nio file standardopenoption util arraylist util collections util list util optional javax swing abstractaction javax swing action javax swing actionmap javax swing borderfactory javax swing box javax swing buttongroup javax swing inputmap javax swing jbutton javax swing jcomponent javax swing jdialog javax swing jlabel javax swing joptionpane javax swing jpanel javax swing jradiobutton javax swing jscrollpane javax swing jtable javax swing jtextfield javax swing table abstracttablemodel net sf jabref globals net sf jabref gui filedialog net sf jabref gui icontheme net sf jabref gui jabrefframe net sf jabref gui help helpaction net sf jabref gui keyboard keybinding net sf jabref gui net monitoredurldownload net sf jabref gui util guiutil net sf jabref logic help helpfile net sf jabref logic journals abbreviation net sf jabref logic journals journalabbreviationloader net sf jabref logic l10n localization net sf jabref logic util os net sf jabref preferences jabrefpreferences com jgoodies forms builder buttonbarbuilder com jgoodies forms builder buttonstackbuilder com jgoodies forms builder formbuilder com jgoodies forms layout formlayout org apache commons logging log org apache commons logging logfactory created intellij idea user: alver date: sep time: 7:57:29 pm browseold template use file settings file templates managejournalspanel jpanel log logger logfactory getlog managejournalspanel jabrefframe frame jtextfield personalfile jtextfield abbreviationstablemodel tablemodel abbreviationstablemodel jtable usertable builtintable jpanel userpanel jpanel jpanel journaleditpanel jpanel externalfilespanel jpanel jpanel addextpan jpanel jtextfield nametf jtextfield jtextfield newnametf jtextfield jtextfield abbrtf jtextfield list<externalfileentry> externals arraylist<> hold references external journal lists jdialog dialog jradiobutton newfile jradiobutton localization lang file jradiobutton oldfile jradiobutton localization lang existing file jbutton add jbutton icontheme jabreficon add nobox geticon jbutton remove jbutton icontheme jabreficon remove nobox geticon managejournalspanel jabrefframe frame frame frame personalfile seteditable false buttongroup group buttongroup group add newfile group add oldfile addextpan setlayout borderlayout jbutton addext jbutton icontheme jabreficon add geticon addextpan add addext borderlayout east addextpan settooltiptext localization lang add formlayout layout formlayout 1dlu 8dlu left:pref 4dlu fill:200dlu:grow 4dlu fill:pref pref pref pref 20dlu 20dlu fill:200dlu 4dlu pref formbuilder builder formbuilder create layout layout builder addseparator localization lang built journal list xyw jlabel description jlabel <html> localization lang jabref includes built list journal abbreviations <br> localization lang add additional journal names setting personal journal list <br>as well linking external journal lists html> description setborder borderfactory createemptyborder builder add description xyw jbutton viewbuiltin jbutton localization lang view builder add viewbuiltin xy builder addseparator localization lang personal journal list xyw builder add newfile xy builder add newnametf xy jbutton browsenew jbutton localization lang browse builder add browsenew xy builder add oldfile xy builder add personalfile xy jbutton browseold jbutton localization lang browse builder add browseold xy userpanel setlayout borderlayout builder add userpanel xyw buttonstackbuilder butbul buttonstackbuilder butbul addbutton add butbul addbutton remove butbul addglue builder add butbul getpanel xy builder addseparator localization lang external files xyw externalfilespanel setlayout borderlayout setlayout borderlayout builder getpanel setborder borderfactory createemptyborder add builder getpanel borderlayout north add externalfilespanel borderlayout center buttonbarbuilder bb buttonbarbuilder bb addglue jbutton ok jbutton localization lang ok bb addbutton ok jbutton cancel jbutton localization lang cancel bb addbutton cancel bb addunrelatedgap jbutton help helpaction helpfile journal abbrev gethelpbutton bb addbutton help bb addglue bb getpanel setborder borderfactory createemptyborder dialog jdialog frame localization lang journal abbreviations false dialog getcontentpane add borderlayout center dialog getcontentpane add bb getpanel borderlayout south set panel editing single journal used dialog box: formlayout layout2 formlayout right:pref 4dlu fill:180dlu 2dlu formbuilder builder2 formbuilder create layout layout2 builder2 add localization lang journal name xy builder2 add nametf xy builder2 add localization lang iso abbreviation xy builder2 add abbrtf xy journaleditpanel builder2 getpanel viewbuiltin addactionlistener jtable table jtable journalabbreviationsutil gettablemodel globals journalabbreviationloader getrepository globals prefs getjournalabbreviationpreferences getabbreviations guiutil correctrowheight table jscrollpane pane jscrollpane table joptionpane showmessagedialog null pane localization lang journal list preview joptionpane information message browsenew addactionlistener optional<path> path filedialog frame newnametf gettext savenewfile path ifpresent filename newnametf settext filename tostring newfile setselected true browseold addactionlistener optional<path> path filedialog frame personalfile gettext showdialogandgetselectedfile path ifpresent filename personalfile settext filename tostring oldfile setselected true oldfile setenabled true setupusertable ok addactionlistener readytoclose storesettings dialog dispose action cancelaction abstractaction override actionperformed actionevent dialog dispose cancel addactionlistener cancelaction add addactionlistener tablemodel remove addactionlistener tablemodel addext addactionlistener externals add externalfileentry buildexternalspanel key bindings: actionmap getactionmap inputmap im getinputmap jcomponent focused window im put globals getkeyprefs getkey keybinding close dialog close put close cancelaction xsize getpreferredsize width dialog setsize xsize jdialog getdialog dialog setvalues personalfile settext globals prefs get jabrefpreferences personal journal list personalfile gettext isempty newfile setselected true newfile setenabled true oldfile setselected false oldfile setenabled false else newfile setselected false newfile setenabled false oldfile setselected true oldfile setenabled true setupusertable setupexternals buildexternalspanel buildexternalspanel formbuilder builder formbuilder create layout formlayout fill:pref:grow row externalfileentry efe externals builder add efe getpanel xy row builder appendrows 2dlu row builder add box createverticalglue xy row builder appendrows 2dlu 2dlu builder add addextpan xy row builder add box createverticalglue xy row jscrollpane pane jscrollpane builder getpanel pane setborder borderfactory createemptyborder externalfilespanel setminimumsize dimension externalfilespanel setpreferredsize dimension externalfilespanel removeall externalfilespanel add pane borderlayout center externalfilespanel revalidate externalfilespanel repaint setupexternals list<string> externalfiles globals prefs getstringlist jabrefpreferences external journal lists externalfiles isempty externalfileentry efe externalfileentry externals add efe else string externalfile externalfiles externalfileentry efe externalfileentry externalfile externals add efe setupusertable list<abbreviation> userabbreviations arraylist<> string filename personalfile gettext filename isempty files exists paths get filename try userabbreviations journalabbreviationloader readjournallistfromfile file filename globals prefs getdefaultencoding catch filenotfoundexception logger warn problem reading abbreviation file tablemodel setjournals userabbreviations usertable jtable tablemodel guiutil correctrowheight usertable usertable addmouselistener tablemodel getmouselistener userpanel add jscrollpane usertable borderlayout center boolean readytoclose path filepath newfile isselected newnametf gettext isempty tablemodel getrowcount joptionpane showmessagedialog localization lang must choose filename store journal abbreviations localization lang store journal abbreviations joptionpane error message false else true else filepath paths get newnametf gettext files exists filepath joptionpane showconfirmdialog localization lang 0' exists overwrite file? filepath getfilename tostring localization lang store journal abbreviations joptionpane ok cancel option joptionpane ok option true storesettings path filepath null newfile isselected newnametf gettext isempty filepath paths get newnametf gettext else filepath paths get personalfile gettext filepath null try outputstream stream files newoutputstream filepath standardopenoption create outputstreamwriter writer outputstreamwriter stream globals prefs getdefaultencoding journalentry entry tablemodel getjournals writer write entry getname writer write writer write entry getabbreviation writer write os newline catch ioexception logger warn problem writing abbreviation file string filename filepath tostring equals filename filename null globals prefs put jabrefpreferences personal journal list filename store list external files set up: list<string> extfiles arraylist<> externalfileentry efe externals equals efe getvalue extfiles add efe getvalue globals prefs putstringlist jabrefpreferences external journal lists extfiles update journal abbreviation loader globals journalabbreviationloader update globals prefs getjournalabbreviationpreferences downloadaction abstractaction jtextfield comp downloadaction jtextfield tc super localization lang download comp tc override actionperformed actionevent string chosen chosen joptionpane showinputdialog localization lang choose url download chosen null comp gettext isempty file tofile try optional<path> path filedialog frame system getproperty user home savenewfile path ispresent tofile file path get tostring else url url url chosen monitoredurldownload buildmonitoreddownload comp url downloadtofile tofile comp settext tofile getpath catch ioexception ex joptionpane showmessagedialog null localization lang error downloading file 0' chosen localization lang download failed joptionpane error message logger debug error downloading file ex abbreviationstablemodel abstracttablemodel actionlistener string[] names string[] localization lang journal name localization lang abbreviation list<journalentry> journals setjournals list<abbreviation> abbreviations journals arraylist<> abbreviation abbreviation abbreviations journals add journalentry abbreviation getname abbreviation getisoabbreviation firetabledatachanged list<journalentry> getjournals journals override getcolumncount override getrowcount journals size override object getvalueat row col col journals get row getname else journals get row getabbreviation override setvalueat object object row col journalentry entry journals get row col entry setname string object else entry setabbreviation string object override string getcolumnname names[i] override boolean iscelleditable i1 false mouselistener getmouselistener mouseadapter override mouseclicked mouseevent getclickcount jtable table jtable getsource row table rowatpoint getpoint nametf settext string getvalueat row abbrtf settext string getvalueat row joptionpane showconfirmdialog dialog journaleditpanel localization lang edit journal joptionpane ok cancel option joptionpane ok option setvalueat nametf gettext row setvalueat abbrtf gettext row collections sort journals firetabledatachanged override actionperformed actionevent getsource add nametf settext abbrtf settext joptionpane showconfirmdialog dialog journaleditpanel localization lang edit journal joptionpane ok cancel option joptionpane ok option journals add journalentry nametf gettext abbrtf gettext collections sort journals firetabledatachanged else getsource remove int[] rows usertable getselectedrows rows length rows length journals remove rows[i] firetabledatachanged externalfileentry jpanel pan jtextfield tf jbutton browse jbutton localization lang browse jbutton view jbutton localization lang preview jbutton clear jbutton icontheme jabreficon delete entry geticon jbutton download jbutton localization lang download externalfileentry tf jtextfield setuppanel externalfileentry string filename tf jtextfield filename setuppanel setuppanel tf seteditable false browse addactionlistener filedialog frame showdialogandgetselectedfile ifpresent tf settext toabsolutepath tostring downloadaction da downloadaction tf download addactionlistener da formbuilder builder formbuilder create layout formlayout fill:pref:grow 4dlu fill:pref 4dlu fill:pref 4dlu fill:pref 4dlu fill:pref builder add tf xy builder add browse xy builder add download xy builder add view xy builder add clear xy pan builder getpanel view addactionlistener try list<abbreviation> abbreviations journalabbreviationloader readjournallistfromfile file tf gettext jtable table jtable journalabbreviationsutil gettablemodel abbreviations guiutil correctrowheight table jscrollpane pane jscrollpane table joptionpane showmessagedialog null pane localization lang journal list preview joptionpane information message catch filenotfoundexception ex logger debug file found ex joptionpane showmessagedialog null localization lang file 0' found tf gettext localization lang error joptionpane error message clear addactionlistener externals remove externalfileentry buildexternalspanel clear settooltiptext localization lang remove jpanel getpanel pan string getvalue tf gettext journalentry comparable<journalentry> string name string abbreviation journalentry string name string abbreviation name name abbreviation abbreviation override compareto journalentry name compareto name override boolean equals object true instanceof journalentry name equals journalentry name false override hashcode name hashcode string getname name setname string name name name string getabbreviation abbreviation setabbreviation string abbreviation abbreviation abbreviation 
40	UndoableUnabbreviator.java	GUI	net sf jabref gui journals javax swing undo compoundedit net sf jabref gui undo undoablefieldchange net sf jabref logic journals abbreviation net sf jabref logic journals journalabbreviationrepository net sf jabref model database bibdatabase net sf jabref model entry bibentry undoableunabbreviator journalabbreviationrepository journalabbreviationrepository undoableunabbreviator journalabbreviationrepository journalabbreviationrepository journalabbreviationrepository journalabbreviationrepository unabbreviate journal name given entry param entry entry treated param fieldname field name journal param ce entry changed add edit compound true entry changed false otherwise boolean unabbreviate bibdatabase database bibentry entry string fieldname compoundedit ce entry hasfield fieldname false string text entry getfield fieldname get string origtext text database null text database resolveforstrings text journalabbreviationrepository isknownname text false cannot anything known journalabbreviationrepository isabbreviatedname text false cannot unabbreviate unabbreviated name abbreviation abbreviation journalabbreviationrepository getabbreviation text get must string newtext abbreviation getname entry setfield fieldname newtext ce addedit undoablefieldchange entry fieldname origtext newtext true 
41	TextInputDialog.java	GUI	net sf jabref gui plaintextimport awt borderlayout awt color awt component awt dimension awt font awt gridbagconstraints awt gridbaglayout awt gridlayout awt insets awt event actionevent awt event keyevent awt event mouseadapter awt event mouseevent awt event mouselistener io file io fileinputstream io ioexception io stringwriter nio file path util arraylist util list util objects util optional javax swing abstractaction javax swing action javax swing actionmap javax swing borderfactory javax swing buttongroup javax swing defaultlistcellrenderer javax swing icon javax swing inputmap javax swing jbutton javax swing jcomponent javax swing jdialog javax swing jlabel javax swing jlist javax swing jmenu javax swing jmenuitem javax swing jpanel javax swing jpopupmenu javax swing jradiobutton javax swing jscrollpane javax swing jtabbedpane javax swing jtextarea javax swing jtextpane javax swing jtoolbar javax swing listselectionmodel javax swing scrollpaneconstants javax swing border titledborder javax swing event listselectionevent javax swing event listselectionlistener javax swing text badlocationexception javax swing text editorkit javax swing text style javax swing text styleconstants javax swing text stylecontext javax swing text styleddocument net sf jabref globals net sf jabref gui clipboardmanager net sf jabref gui entrymarker net sf jabref gui filedialog net sf jabref gui icontheme net sf jabref gui jabrefframe net sf jabref gui osxcompatibletoolbar net sf jabref gui keyboard keybinding net sf jabref gui undo namedcompound net sf jabref gui util component overlaypanel net sf jabref logic bibtex bibentrywriter net sf jabref logic bibtex latexfieldformatter net sf jabref logic importer parserresult net sf jabref logic importer fileformat freeciteimporter net sf jabref logic l10n localization net sf jabref logic util fileextensions net sf jabref logic util os net sf jabref logic util updatefield net sf jabref model entrytypes net sf jabref model entry bibentry net sf jabref model entry entrytype net sf jabref model entry fieldname net sf jabref model entry fieldproperty net sf jabref model entry internalbibtexfields net sf jabref preferences jabrefpreferences com jgoodies forms builder buttonbarbuilder org apache commons logging log org apache commons logging logfactory plain text simple mark copy paste bibtex entry <p> todo change colors fonts delete selected text make textarea editable create several bibtex entries dialog dialog works existing entry right click menu item cancel option work well textinputdialog jdialog log logger logfactory getlog textinputdialog jbutton okbutton jbutton localization lang accept jbutton cancelbutton jbutton localization lang cancel jbutton insertbutton jbutton localization lang insert jbutton parsewithfreecitebutton jbutton localization lang parse freecite jpanel panel1 jpanel jpanel buttons jpanel jpanel rawpanel jpanel jpanel sourcepanel jpanel jlist<string> fieldlist jradiobutton override jradiobutton localization lang override jradiobutton append jradiobutton localization lang append jtoolbar toolbar osxcompatibletoolbar list<string> allfields arraylist<> list<string> requiredfields arraylist<> list<string> optionalfields arraylist<> bibentry entry jpopupmenu inputmenu jpopupmenu styleddocument document content inputpane jtextpane textpane jtextpane jtextarea sourcepreview jtextarea tagtomarkedtextstore markedtextstore jabrefframe frame boolean okpressed textinputdialog jabrefframe frame bibentry bibentry super frame true frame objects requirenonnull frame entry objects requirenonnull bibentry markedtextstore tagtomarkedtextstore jbinit pack updatesourceview jbinit getcontentpane setlayout borderlayout stringbuilder typestr stringbuilder plain text entry gettype null typestr append append localization lang append append entry gettype settitle typestr tostring getcontentpane add panel1 borderlayout center initrawpanel initbuttonpanel initsourcepanel jtabbedpane tabbed jtabbedpane tabbed add rawpanel localization lang raw source tabbed add sourcepanel localization lang source frame getcurrentbasepanel getbibdatabasecontext getmode getformattedname panel layout panel1 setlayout borderlayout panel1 add tabbed borderlayout center panel1 add buttons borderlayout south key bindings: actionmap buttons getactionmap inputmap im buttons getinputmap jcomponent focused window im put globals getkeyprefs getkey keybinding close dialog close put close abstractaction override actionperformed actionevent dispose panel text functionality initrawpanel rawpanel setlayout borderlayout textarea textpane seteditable false document textpane getstyleddocument addstylestodocument try document insertstring document getstyle regular catch badlocationexception ex logger warn problem setting style ex overlaypanel testpanel overlaypanel textpane localization lang paste text testpanel setpreferredsize dimension testpanel setmaximumsize dimension integer max value setup fields required done setting popup menu fieldlist jlist<> getallfields fieldlist setcellrenderer simplecellrenderer fieldlist getfont listselectionmodel listselectionmodel fieldlist getselectionmodel listselectionmodel setselectionmode listselectionmodel single selection listselectionmodel addlistselectionlistener fieldlistselectionhandler fieldlist addmouselistener fieldlistmouselistener call getallfields initpopupmenuandtoolbar add listener components bring popup menus mouselistener popuplistener popuplistener inputmenu textpane addmouselistener popuplistener testpanel addmouselistener popuplistener jpanel leftpanel jpanel borderlayout leftpanel add toolbar borderlayout north leftpanel add testpanel borderlayout center jpanel inputpanel setupfieldlistpanel parse freecite button parsewithfreecitebutton addactionlistener event parsewithfreeciteandaddentries okpressed false want super method handle entries dispose rawpanel add leftpanel borderlayout center rawpanel add inputpanel borderlayout east jlabel desc jlabel <html><h3> localization lang plain text h3><p> localization lang simple copy paste dialog first load paste text text input area <br>after mark text assign bibtex field p>< html> desc setborder borderfactory createemptyborder rawpanel add desc borderlayout south jpanel setupfieldlistpanel jpanel inputpanel jpanel panel layout gridbaglayout gbl gridbaglayout gridbagconstraints con gridbagconstraints con weightx con insets insets con fill gridbagconstraints horizontal inputpanel setlayout gbl border titledborder titledborder1 titledborder borderfactory createlineborder color localization lang work options inputpanel setborder titledborder1 inputpanel setminimumsize dimension jscrollpane fieldscroller jscrollpane fieldlist fieldscroller setverticalscrollbarpolicy scrollpaneconstants vertical scrollbar needed insert buttons insertbutton addactionlistener event inserttextfortag override isselected radio buttons append settooltiptext localization lang append selected text bibtex field append setmnemonic keyevent vk append setselected true override settooltiptext localization lang override bibtex field selected text override setmnemonic keyevent vk override setselected false group radio buttons buttongroup group buttongroup group add append group add override jpanel radiopanel jpanel gridlayout radiopanel add append radiopanel add override insert sub components jlabel label1 jlabel localization lang available bibtex fields con gridwidth gridbagconstraints remainder gbl setconstraints label1 con inputpanel add label1 con gridwidth gridbagconstraints remainder con gridheight con weighty con fill gridbagconstraints gbl setconstraints fieldscroller con inputpanel add fieldscroller con fill gridbagconstraints horizontal con weighty con gridwidth gbl setconstraints radiopanel con inputpanel add radiopanel con gridwidth gridbagconstraints remainder gbl setconstraints insertbutton con inputpanel add insertbutton inputpanel initpopupmenuandtoolbar copy paste menu pasteaction pasteaction pasteaction clearaction clearaction clearaction jmenuitem pastemi jmenuitem pasteaction inputmenu add clearaction inputmenu addseparator inputmenu add pastemi inputmenu addseparator right click append override jmenu appendmenu jmenu localization lang append appendmenu settooltiptext localization lang append selected text bibtex field jmenu overridemenu jmenu localization lang override overridemenu settooltiptext localization lang override bibtex field selected text string field allfields appendmenu add jmenuitem menutextfortagaction field false overridemenu add jmenuitem menutextfortagaction field true inputmenu add appendmenu inputmenu add overridemenu toolbar toolbar add clearaction toolbar setborderpainted false toolbar addseparator toolbar add pasteaction toolbar add loadaction initbuttonpanel okbutton addactionlistener event okpressed true dispose cancelbutton addactionlistener event dispose buttonbarbuilder bb buttonbarbuilder buttons buttons setborder borderfactory createemptyborder bb addglue bb addbutton okbutton bb addbutton parsewithfreecitebutton bb addbutton cancelbutton bb addglue panel bibtex source code initsourcepanel sourcepreview seteditable false sourcepreview setfont font monospaced font plain globals prefs getint jabrefpreferences font size jscrollpane panescrollpane jscrollpane sourcepreview panescrollpane setverticalscrollbarpolicy scrollpaneconstants vertical scrollbar always panescrollpane setpreferredsize dimension panescrollpane setminimumsize dimension sourcepanel setlayout borderlayout sourcepanel add panescrollpane borderlayout center addstylestodocument initialize styles style defaultstyle stylecontext getdefaultstylecontext getstyle stylecontext default style style regularstyle document addstyle regular defaultstyle styleconstants setfontfamily defaultstyle sansserif styleconstants setfontsize defaultstyle globals prefs getint jabrefpreferences font size style document addstyle used regularstyle styleconstants setbold true styleconstants setforeground color blue document addstyle marked regularstyle styleconstants setbold true styleconstants setforeground color red inserttextfortag boolean overridefield string fieldname fieldlist getselectedvalue fieldname null string txt textpane getselectedtext txt null selectionstart textpane getselectionstart selectionend textpane getselectionend unselect text textpane setselectionend selectionstart mark selected text used document setcharacterattributes selectionstart selectionend selectionstart document getstyle marked true override existing entry overridefield entry setfield fieldname txt erase old text selection markedtextstore setstylefortag fieldname regular document delete previous styles markedtextstore insertposition fieldname selectionstart selectionend insert selection style else memorize selection text highlighting markedtextstore appendposition fieldname selectionstart selectionend get old text bibtex tag optional<string> old entry getfield fieldname merge old selected text old ispresent insert name additional internalbibtexfields getfieldproperties fieldname contains fieldproperty person names entry setfield fieldname old get txt else fieldname keywords equals fieldname add keyword entry addkeyword txt globals prefs getkeyworddelimiter else entry setfield fieldname old get txt else null txt strings forbidden entry setfield fieldname txt make data bibtex source code visible updatesourceview boolean okpressed okpressed tries parse pasted reference freecite true successful false otherwise boolean parsewithfreeciteandaddentries freeciteimporter fimp freeciteimporter globals prefs getimportformatpreferences string text textpane gettext remove line breaks keep empty lines otherwise result broken text text replace os newline concat os newline ##newline## possible url line breaks removed completely text text replace concat os newline text text replace os newline text text replace ##newline## os newline parserresult importerresult fimp importentries text importerresult haswarnings frame showmessage importerresult geterrormessage list<bibentry> importedentries importerresult getdatabase getentries importedentries isempty false else updatefield setautomaticfields importedentries false false globals prefs getupdatefieldpreferences boolean markentries entrymarker shouldmarkentries bibentry importedentries markentries entrymarker markentry entry entrymarker mark level false namedcompound frame getcurrentbasepanel insertentry true update bibtex source view available list updatesourceview stringwriter sw stringwriter try bibentrywriter latexfieldformatter globals prefs getlatexfieldformatterpreferences false write entry sw frame getcurrentbasepanel getbibdatabasecontext getmode sourcepreview settext sw getbuffer tostring catch ioexception ex logger error error entry ex getmessage ex fieldlist clearselection string[] getallfields optional<entrytype> type entrytypes gettype entry gettype frame getcurrentbasepanel getbibdatabasecontext getmode type ispresent allfields addall type get getallfields requiredfields addall type get getrequiredfieldsflat optionalfields addall type get getprimaryoptionalfields string field internalbibtexfields getallpublicfieldnames allfields contains field allfields add field allfields toarray string[allfields size pasteaction basicaction pasteaction super localization lang paste localization lang paste clipboard icontheme jabreficon paste geticon override actionperformed actionevent string data clipboardmanager getclipboardcontents selstart textpane getselectionstart selend textpane getselectionend selend selstart textpane replaceselection cpos textpane getcaretposition try document insertstring cpos data document getstyle regular catch badlocationexception ex logger warn could paste text ex loadaction basicaction loadaction super localization lang open localization lang open file icontheme jabreficon open geticon override actionperformed actionevent try filedialog dialog filedialog frame withextension fileextensions txt dialog setdefaultextension fileextensions txt optional<path> path dialog showdialogandgetselectedfile path ispresent file newfile path get tofile document remove document getlength editorkit ekit textpane geteditorkit ekit null try fileinputstream fis fileinputstream newfile ekit read fis document document setlogicalstyle document getstyle regular catch badlocationexception ioexception ex logger warn problem reading inserting file ex clearaction basicaction clearaction super localization lang clear localization lang clear inputarea icontheme jabreficon geticon override actionperformed actionevent textpane settext fieldlistselectionhandler listselectionlistener lastindex override valuechanged listselectionevent listselectionmodel lsm listselectionmodel getsource index lsm getanchorselectionindex index lastindex boolean isadjusting getvalueisadjusting isadjusting lastindex string tag1 fieldlist getmodel getelementat lastindex markedtextstore setstylefortag tag1 used document string tag2 fieldlist getmodel getelementat index markedtextstore setstylefortag tag2 marked document lastindex index simple jlist renderer based advanced jlist programming developers sun com simplecellrenderer defaultlistcellrenderer font basefont font usedfont icon okicon icontheme jabreficon plain text done getsmallicon icon needicon icontheme jabreficon plain text todo getsmallicon color requiredcolor globals prefs getcolor jabrefpreferences table req field background color optionalcolor globals prefs getcolor jabrefpreferences table opt field background simplecellrenderer font normfont basefont normfont usedfont basefont derivefont font italic method defined listcellrenderer reconfigure jlabel time we're called override component getlistcellrenderercomponent jlist<?> list object value value display index cell index boolean iss cell selected boolean chf list cell focus defaultlistcellrenderer take care jlabels text property foreground background colors super getlistcellrenderercomponent list value index iss chf additionally set jlabels icon property string value tostring entry hasfield setforeground color gray setfont usedfont seticon okicon settooltiptext localization lang filled else seticon needicon settooltiptext localization lang field missing requiredfields contains setbackground requiredcolor else optionalfields contains setbackground optionalcolor fieldlistmouselistener mouseadapter override mouseclicked mouseevent getclickcount inserttextfortag override isselected menutextfortagaction abstractaction string field boolean overridefield menutextfortagaction string field boolean overridefield super field field field overridefield overridefield override actionperformed actionevent enable correct marking used values fieldlist setselectedvalue field false inserttextfortag overridefield popuplistener mouseadapter jpopupmenu popmenu popuplistener jpopupmenu menu popmenu menu override mousepressed mouseevent maybeshowpopup override mousereleased mouseevent maybeshowpopup maybeshowpopup mouseevent ispopuptrigger popmenu show getcomponent getx gety basicaction abstractaction basicaction string text string description icon icon super text icon putvalue action short description description basicaction string text super text override actionperformed actionevent 
42	TagToMarkedTextStore.java	GUI	net sf jabref gui plaintextimport util arraylist util hashmap util list util map javax swing text styleddocument save textposition tags recent textinputdialog context tagtomarkedtextstore map<string list<tmarkedstoreitem>> tagmap tagtomarkedtextstore tagmap hashmap<> appends selection property tag appendposition string tag start end list<tmarkedstoreitem> tagmap get tag null arraylist<> tagmap put tag add tmarkedstoreitem start end insert selection properties tag old entries deleted insertposition string tag start end list<tmarkedstoreitem> tagmap get tag null arraylist<> tagmap put tag else clear add tmarkedstoreitem start end set style tag entry available setstylefortag string tag string style styleddocument doc list<tmarkedstoreitem> tagmap get tag null iterate saved selections tmarkedstoreitem item item null doc setcharacterattributes item getstart item getlength doc getstyle style true tmarkedstoreitem start end tmarkedstoreitem start end start start end end getstart start getlength end start 
43	PushToWinEdt.java	GUI	net sf jabref gui push javax swing icon net sf jabref gui icontheme net sf jabref preferences jabrefpreferences pushtowinedt abstractpushtoapplication pushtoapplication override string getapplicationname winedt override icon geticon icontheme getimage winedt override string[] getcommandline string keystring string[] commandpath [instext getcitecommand keystring replace '' ]\ override initparameters commandpathpreferencekey jabrefpreferences win edt path 
44	PushToApplicationAction.java	GUI	net sf jabref gui push awt event actionevent util list util optional javax swing abstractaction javax swing action javax swing joptionpane javax swing swingutilities net sf jabref jabrefexecutorservice net sf jabref gui basepanel net sf jabref gui jabrefframe net sf jabref logic l10n localization net sf jabref model entry bibentry action representing process invoking pushtoapplication operation pushtoapplicationaction abstractaction runnable pushtoapplication operation jabrefframe frame basepanel panel list<bibentry> entries pushtoapplicationaction jabrefframe frame pushtoapplication operation frame frame putvalue action small icon operation geticon putvalue action name operation getname putvalue action short description operation gettooltip operation operation override actionperformed actionevent panel frame getcurrentbasepanel check basepanel exists: panel null check entries selected: entries panel getselectedentries entries isempty joptionpane showmessagedialog frame localization lang operation requires one entries selected string getvalue action name joptionpane error message required check entries bibtex keys defined: operation requiresbibtexkeys bibentry entry entries entry getcitekeyoptional ispresent entry getcitekeyoptional get trim isempty joptionpane showmessagedialog frame localization lang operation requires selected entries bibtex keys defined string getvalue action name joptionpane error message set call operation thread: jabrefexecutorservice instance execute override run operation: operation pushentries panel getdatabase entries getkeystring entries panel getbibdatabasecontext getmetadata call operationcompleted method event dispatch thread: swingutilities invokelater operation operationcompleted panel string getkeystring list<bibentry> bibentries stringbuilder result stringbuilder optional<string> citekey boolean first true bibentry bes bibentries citekey bes getcitekeyoptional key empty give warning ignore entry todo: give warning citekey ispresent citekey get isempty continue first result append citekey get first false else result append append citekey get result tostring 
45	PushToApplications.java	GUI	net sf jabref gui push util arraylist util list pushtoapplications list<pushtoapplication> applications pushtoapplications set current available choices: applications arraylist<> applications add pushtoemacs applications add pushtolatexeditor applications add pushtolyx applications add pushtotexmaker applications add pushtotexstudio applications add pushtovim applications add pushtowinedt list<pushtoapplication> getapplications applications 
46	PushToApplicationButton.java	GUI	net sf jabref gui push awt borderlayout awt component awt dimension awt insets awt event actionevent awt event actionlistener awt event mouseadapter awt event mouseevent util hashmap util list util map javax swing abstractaction javax swing action javax swing actionmap javax swing borderfactory javax swing icon javax swing inputmap javax swing jbutton javax swing jcomponent javax swing jdialog javax swing jframe javax swing jmenuitem javax swing jpanel javax swing jpopupmenu net sf jabref globals net sf jabref gui icontheme net sf jabref gui jabrefframe net sf jabref gui actions mnemonicawareaction net sf jabref gui keyboard keybinding net sf jabref logic l10n localization net sf jabref logic util os net sf jabref preferences jabrefpreferences com jgoodies forms builder buttonbarbuilder customized ui component pushing external applications selection popup menu change selected external application actionlistener interface actionperformed invoked currently selected pushtoapplication activated actionperformed method called null argument pushtoapplicationbutton actionlistener jabrefframe frame list<pushtoapplication> pushactions jpanel comp jbutton pushbutton pushtoapplication toapp jpopupmenu popup map<pushtoapplication pushtoapplicationaction> actions hashmap<> dimension buttondim dimension icon arrow icon icontheme jabreficon getsmallicon menuaction maction menuaction jpopupmenu optpopup jpopupmenu jmenuitem settings jmenuitem localization lang settings pushtoapplicationbutton jabrefframe frame list<pushtoapplication> pushactions frame frame pushactions pushactions init init comp jpanel comp setlayout borderlayout jbutton menubutton jbutton pushtoapplicationbutton arrow icon menubutton setmargin insets menubutton setpreferredsize dimension menubutton geticon geticonwidth menubutton geticon geticonheight menubutton addactionlistener popup null buildpopupmenu popup show comp menubutton getheight menubutton settooltiptext localization lang select external application pushbutton jbutton os os menubutton putclientproperty jbutton buttontype toolbar pushbutton putclientproperty jbutton buttontype toolbar set last used external application string appselected globals prefs get jabrefpreferences push application pushtoapplication application pushactions application getapplicationname equals appselected toapp application break toapp null nothing found pick first toapp pushactions get setselected pushbutton addactionlistener pushbutton addmouselistener pushbuttonmouselistener pushbutton setopaque false menubutton setopaque false comp setopaque false comp add pushbutton borderlayout center comp add menubutton borderlayout east comp setmaximumsize comp getpreferredsize optpopup add settings settings addactionlistener event jpanel options toapp getsettingspanel options null pushtoapplicationbutton showsettingsdialog frame toapp options buildpopupmenu create selection menu available push options buildpopupmenu popup jpopupmenu pushtoapplication application pushactions jmenuitem item jmenuitem application getapplicationname application geticon item settooltiptext application gettooltip item addactionlistener popupitemactionlistener application popup add item update pushbutton default given application param list index application default setselected pushtoapplication newapplication toapp newapplication setselected setselected pushbutton seticon toapp geticon pushbutton settooltiptext toapp gettooltip pushbutton setpreferredsize buttondim store last used application globals prefs put jabrefpreferences push application toapp getapplicationname maction settitle toapp getapplicationname maction seticon toapp geticon get toolbar component push button component component getcomponent comp action getmenuaction maction override actionperformed actionevent lazy initialization push action: pushtoapplicationaction action actions get toapp action null action pushtoapplicationaction frame toapp actions put toapp action action actionperformed actionevent toapp push booleanholder boolean value booleanholder boolean value value value showsettingsdialog jframe parent pushtoapplication toapp jpanel options booleanholder okpressed booleanholder false jdialog diag jdialog parent localization lang settings true options setborder borderfactory createemptyborder diag getcontentpane add options borderlayout center buttonbarbuilder bb buttonbarbuilder jbutton ok jbutton localization lang ok jbutton cancel jbutton localization lang cancel bb addglue bb addbutton ok bb addbutton cancel bb addglue bb getpanel setborder borderfactory createemptyborder diag getcontentpane add bb getpanel borderlayout south ok addactionlistener okpressed value true diag dispose cancel addactionlistener diag dispose key bindings: actionmap bb getpanel getactionmap inputmap im bb getpanel getinputmap jcomponent focused window im put globals getkeyprefs getkey keybinding close dialog close put close abstractaction override actionperformed actionevent diag dispose diag pack diag setlocationrelativeto parent show dialog: diag setvisible true user pressed ok ask pushtoapplication implementation store settings: okpressed value toapp storesettings popupitemactionlistener actionlistener pushtoapplication application popupitemactionlistener pushtoapplication application application application override actionperformed actionevent change selection: setselected application invoke selected operation expected behaviour? pushtoapplicationbutton actionperformed null makes sense transfer focus push button menu closes: pushbutton requestfocus menuaction mnemonicawareaction menuaction putvalue action accelerator key globals getkeyprefs getkey keybinding push application settitle string appname putvalue action name localization menutitle push entries external application appname override actionperformed actionevent pushtoapplicationbutton actionperformed null seticon icon icon putvalue action small icon icon pushbuttonmouselistener mouseadapter override mousepressed mouseevent event event ispopuptrigger processpopuptrigger event override mouseclicked mouseevent event event ispopuptrigger processpopuptrigger event override mousereleased mouseevent event event ispopuptrigger processpopuptrigger event processpopuptrigger mouseevent want show popup settings panel exists selected item: toapp getsettingspanel null optpopup show pushbutton getx gety 
47	PushToTexmaker.java	GUI	net sf jabref gui push javax swing icon net sf jabref gui icontheme net sf jabref preferences jabrefpreferences pushing entries texmaker pushtotexmaker abstractpushtoapplication pushtoapplication override string getapplicationname texmaker override icon geticon icontheme getimage texmaker override string[] getcommandline string keystring string[] commandpath insert getcitecommand keystring override initparameters commandpathpreferencekey jabrefpreferences texmaker path 
48	PushToLatexEditor.java	GUI	net sf jabref gui push javax swing icon net sf jabref gui icontheme net sf jabref preferences jabrefpreferences pushing entries latexeditor pushtolatexeditor abstractpushtoapplication pushtoapplication override string getapplicationname latexeditor override icon geticon icontheme jabreficon edit getsmallicon override string[] getcommandline string keystring string[] commandpath getcitecommand keystring override string getcommandname led exe override initparameters commandpathpreferencekey jabrefpreferences latex editor path 
49	AbstractPushToApplication.java	GUI	net sf jabref gui push io ioexception util list javax swing jbutton javax swing jpanel javax swing jtextfield net sf jabref globals net sf jabref gui basepanel net sf jabref gui filedialog net sf jabref logic l10n localization net sf jabref model database bibdatabase net sf jabref model entry bibentry net sf jabref model metadata metadata net sf jabref preferences jabrefpreferences com jgoodies forms builder formbuilder com jgoodies forms layout formlayout org apache commons logging log org apache commons logging logfactory pushing entries different editors abstractpushtoapplication pushtoapplication log logger logfactory getlog abstractpushtoapplication boolean couldnotcall set true case command could executed file found boolean couldnotconnect set true case tunnel program one used operate boolean notdefined set true corresponding path defined preferences jpanel settings jtextfield path jtextfield string commandpath string commandpathpreferencekey formbuilder builder override string getname localization menutitle push entries external application getapplicationname override string gettooltip localization lang push getapplicationname override pushentries bibdatabase database list<bibentry> entries string keystring metadata metadata couldnotconnect false couldnotcall false notdefined false initparameters commandpath globals prefs get commandpathpreferencekey check path command specified commandpath null commandpath trim isempty notdefined true execute command try runtime getruntime exec getcommandline keystring case work catch ioexception excep couldnotcall true logger warn error: could call executable commandpath excep override operationcompleted basepanel panel notdefined panel output localization lang error localization lang path defined getapplicationname else couldnotcall panel output localization lang error localization lang could call executable commandpath else couldnotconnect panel output localization lang error localization lang could connect getapplicationname else panel output localization lang pushed citations getapplicationname override boolean requiresbibtexkeys true function get command executed pushing keys cited param keystring string containing bibtex keys pushed application string array command call arguments suppresswarnings unused string[] getcommandline string keystring string[0] function get command name case different application name string command name string getcommandname null override jpanel getsettingspanel initparameters commandpath globals prefs get commandpathpreferencekey settings null initsettingspanel path settext commandpath settings function initialize parameters currently expected commandpathpreferencekey set path application initparameters create formbuilder fill textbox path store jpanel settings initsettingspanel builder formbuilder create builder layout formlayout left:pref 4dlu fill:pref:grow 4dlu fill:pref stringbuilder label stringbuilder localization lang path getapplicationname case application name actual command add command brackets getcommandname null label append ':' else label append append getcommandname append builder add label tostring xy builder add path xy jbutton browse jbutton localization lang browse browse addactionlistener filedialog null showdialogandgetselectedfile ifpresent path settext toabsolutepath tostring builder add browse xy settings builder build override storesettings globals prefs put commandpathpreferencekey path gettext string getcitecommand globals prefs get jabrefpreferences cite command 
50	PushToEmacs.java	GUI	net sf jabref gui push io ioexception io inputstream util list javax swing icon javax swing jcheckbox javax swing joptionpane javax swing jpanel javax swing jtextfield net sf jabref globals net sf jabref jabrefexecutorservice net sf jabref gui basepanel net sf jabref gui icontheme net sf jabref logic l10n localization net sf jabref logic util os net sf jabref model database bibdatabase net sf jabref model entry bibentry net sf jabref model metadata metadata net sf jabref preferences jabrefpreferences org apache commons logging log org apache commons logging logfactory created intellij idea user: alver date: jan time: 4:55:23 pm pushtoemacs abstractpushtoapplication pushtoapplication log logger logfactory getlog pushtoemacs jtextfield additionalparams jtextfield jcheckbox useemacs23 jcheckbox override string getapplicationname emacs override icon geticon icontheme getimage emacs override jpanel getsettingspanel additionalparams settext globals prefs get jabrefpreferences emacs additional parameters useemacs23 setselected globals prefs getboolean jabrefpreferences emacs super getsettingspanel override storesettings super storesettings globals prefs put jabrefpreferences emacs additional parameters additionalparams gettext globals prefs putboolean jabrefpreferences emacs useemacs23 isselected override initsettingspanel super initsettingspanel builder appendrows 2dlu 2dlu builder add localization lang additional parameters xy builder add additionalparams xy builder add localization lang use emacs insertion string xy builder add useemacs23 xy settings builder build override pushentries bibdatabase database list<bibentry> entries string keys metadata metadata couldnotconnect false couldnotcall false notdefined false initparameters commandpath globals prefs get commandpathpreferencekey commandpath null commandpath trim isempty notdefined true commandpath globals prefs get commandpathpreferencekey string[] addparams globals prefs get jabrefpreferences emacs additional parameters split try string[] com string[addparams length 2] com[0] commandpath system arraycopy addparams com addparams length string prefix string suffix globals prefs getboolean jabrefpreferences emacs prefix current buffer window buffer insert suffix else prefix insert suffix com[com length 1] os windows windows gnuclient escaping: string: insert \\\ \\\\cite blah2001 \\\ cmd receives: insert \\cite blah2001 emacs receives: insert \cite blah2001 prefix concat \\\ \\ getcitecommand replaceall \\\\ \\\\\\\\ keys \\\ concat suffix linux gnuclient escaping: string: insert \\\\cite blah2001 sh receives: insert \\cite blah2001 emacs receives: insert \cite blah2001 prefix concat getcitecommand replaceall \\\\ \\\\\\\\ keys concat suffix process runtime getruntime exec com jabrefexecutorservice instance executeandwait try inputstream geterrorstream stringbuilder sb stringbuilder try read sb append char catch ioexception logger warn could read stderr error stream closed see errors: sb tostring trim isempty logger warn push emacs error: sb couldnotconnect true catch ioexception logger warn file problem catch ioexception excep couldnotcall true logger warn problem pushing emacs excep override operationcompleted basepanel panel couldnotconnect joptionpane showmessagedialog panel frame <html> localization lang could connect running gnuserv process make sure emacs xemacs running <br>and server started running command 'server start' 'gnuserv start' html> localization lang error joptionpane error message else couldnotcall joptionpane showmessagedialog panel frame localization lang could run gnuclient emacsclient program make sure emacsclient gnuclient program installed available path localization lang error joptionpane error message else super operationcompleted panel override initparameters commandpathpreferencekey jabrefpreferences emacs path override string getcommandname gnuclient localization lang emacsclient 
51	PushToVim.java	GUI	net sf jabref gui push io ioexception io inputstream util list javax swing icon javax swing joptionpane javax swing jpanel javax swing jtextfield net sf jabref globals net sf jabref jabrefexecutorservice net sf jabref gui basepanel net sf jabref gui icontheme net sf jabref logic l10n localization net sf jabref model database bibdatabase net sf jabref model entry bibentry net sf jabref model metadata metadata net sf jabref preferences jabrefpreferences org apache commons logging log org apache commons logging logfactory created intellij idea user: alver date: mar time: 6:55:56 pm change template use file settings file templates pushtovim abstractpushtoapplication pushtoapplication log logger logfactory getlog pushtovim jtextfield vimserver jtextfield override string getapplicationname vim override icon geticon icontheme getimage vim override jpanel getsettingspanel vimserver settext globals prefs get jabrefpreferences vim server super getsettingspanel override storesettings super storesettings globals prefs put jabrefpreferences vim server vimserver gettext override initsettingspanel super initsettingspanel builder appendrows 2dlu builder add localization lang vim server name xy builder add vimserver xy settings builder build override pushentries bibdatabase database list<bibentry> entries string keys metadata metadata couldnotconnect false couldnotcall false notdefined false initparameters commandpath globals prefs get commandpathpreferencekey commandpath null commandpath trim isempty notdefined true try string[] com string[] commandpath servername globals prefs get jabrefpreferences vim server remote send <c \\><c n>a getcitecommand keys process runtime getruntime exec com jabrefexecutorservice instance executeandwait try inputstream geterrorstream stringbuilder sb stringbuilder try read sb append char catch ioexception logger warn could read stderr error stream closed see errors: sb tostring trim isempty logger warn push vim error: sb couldnotconnect true catch ioexception logger warn file problem catch ioexception excep couldnotcall true logger warn problem pushing vim excep override operationcompleted basepanel panel couldnotconnect joptionpane showmessagedialog panel frame <html> localization lang could connect vim server make sure vim running<br>with correct server name html> localization lang error joptionpane error message else couldnotcall joptionpane showmessagedialog panel frame localization lang could run 'vim' program localization lang error joptionpane error message else super operationcompleted panel override initparameters commandpathpreferencekey jabrefpreferences vim 
52	PushToApplication.java	GUI	net sf jabref gui push util list javax swing icon javax swing jpanel net sf jabref gui basepanel net sf jabref model database bibdatabase net sf jabref model entry bibentry net sf jabref model metadata metadata defines interaction external application form pushing selected entries interface pushtoapplication string getname string getapplicationname string gettooltip icon geticon method asks implementing jpanel populated imlementation's options panel necessary jpanel shown user user indicates settings stored implementation's storesettings method called method must make sure widgets panel correct selection states jpanel containing options null options needed jpanel getsettingspanel method called indicate settings panel returned getsettingspanel method shown user user indicated settings stored method must store state widgets settings panel globals prefs storesettings actual operation method called event dispatch thread gui operations without utilizing invokelater param database param entries param metadata pushentries bibdatabase database list<bibentry> entries string keystring metadata metadata reporting etc method called event dispatch thread pushentries returns operationcompleted basepanel panel check whether operation requires bibtex keys set entries true returned error message displayed keys missing true bibtex keys required operation boolean requiresbibtexkeys 
53	PushToLyx.java	GUI	net sf jabref gui push io bufferedwriter io file io filewriter io ioexception util list javax swing icon javax swing jlabel javax swing jpanel net sf jabref globals net sf jabref jabrefexecutorservice net sf jabref gui basepanel net sf jabref gui icontheme net sf jabref logic l10n localization net sf jabref model database bibdatabase net sf jabref model entry bibentry net sf jabref model metadata metadata net sf jabref preferences jabrefpreferences org apache commons logging log org apache commons logging logfactory pushtolyx abstractpushtoapplication pushtoapplication log logger logfactory getlog pushtolyx override string getapplicationname lyx kile override icon geticon icontheme getimage lyx override initparameters commandpathpreferencekey jabrefpreferences lyxpipe override operationcompleted basepanel panel couldnotconnect panel output localization lang error localization lang verify lyx running lyxpipe valid commandpath else couldnotcall panel output localization lang error localization lang unable write commandpath else super operationcompleted panel override initsettingspanel super initsettingspanel settings jpanel settings add jlabel localization lang path lyx pipe settings add path override pushentries bibdatabase database list<bibentry> entries string keystring metadata metadata couldnotconnect false couldnotcall false notdefined false initparameters commandpath globals prefs get commandpathpreferencekey commandpath null commandpath trim isempty notdefined true commandpath endswith commandpath commandpath file lp file commandpath needs fixed gives asdf going prefs get lyxpipe lp exists lp canwrite see helps append lp file commandpath lp exists lp canwrite couldnotconnect true file lyxpipe lp jabrefexecutorservice instance executeandwait try filewriter fw filewriter lyxpipe bufferedwriter lyxout bufferedwriter fw string citestr citestr lyxcmd:sampleclient:citation insert: keystring lyxout write citestr \n lyxout close fw close catch ioexception excep couldnotcall true logger warn problem pushing lyx kile excep 
54	PushToTeXstudio.java	GUI	net sf jabref gui push javax swing icon net sf jabref gui icontheme net sf jabref preferences jabrefpreferences created intellij idea user: alver date: jan time: 4:55:23 pm change template use file settings file templates pushtotexstudio abstractpushtoapplication pushtoapplication override string getapplicationname texstudio override icon geticon icontheme getimage texstudio override string[] getcommandline string keystring string[] commandpath insert cite string format getcitecommand keystring override initparameters commandpathpreferencekey jabrefpreferences texstudio path 
55	GUIGlobals.java	GUI	net sf jabref gui awt color awt font util hashmap util map javax swing jlabel net sf jabref globals net sf jabref gui externalfiletype externalfiletype net sf jabref gui externalfiletype externalfiletypes net sf jabref gui keyboard emacskeybindings net sf jabref gui specialfields specialfieldviewmodel net sf jabref logic l10n localization net sf jabref model entry fieldname net sf jabref model entry specialfields specialfield net sf jabref preferences jabrefpreferences org apache commons logging log org apache commons logging logfactory variables graphics files keyboard shortcuts guiglobals log logger logfactory getlog guiglobals string untitled title localization lang untitled font currentfont map<string jlabel> table icons hashmap<> contains table icon mappings set colors color entry editor label color color empty field blue color active tabbed color entry editor label color darker active database jtabbedpane color inactive tabbed color color black inactive database color editortextcolor color validfieldbackgroundcolor color activebackgroundcolor color invalidfieldbackgroundcolor color null field color color valid field green color active editor color color width icon col width icon col ranking width ranking icon column max back history size maximum number back operations stored jlabel gettableicon string fieldtype jlabel label guiglobals table icons get fieldtype label null logger info error: table icon defined type fieldtype null else label updateentryeditorcolors guiglobals activebackgroundcolor jabrefpreferences getinstance getcolor jabrefpreferences active field editor background color guiglobals validfieldbackgroundcolor jabrefpreferences getinstance getcolor jabrefpreferences valid field background color guiglobals invalidfieldbackgroundcolor jabrefpreferences getinstance getcolor jabrefpreferences invalid field background color guiglobals editortextcolor jabrefpreferences getinstance getcolor jabrefpreferences field editor text color perform initializations used graphical mode prevent xlib: connection :0 refused server error access server un unavailable init jlabel label label jlabel icontheme jabreficon pdf file getsmallicon label settooltiptext localization lang open pdf guiglobals table icons put fieldname pdf label label jlabel icontheme jabreficon www getsmallicon label settooltiptext localization lang open url guiglobals table icons put fieldname url label label jlabel icontheme jabreficon www getsmallicon label settooltiptext localization lang open citeseer url guiglobals table icons put citeseerurl label label jlabel icontheme jabreficon www getsmallicon label settooltiptext localization lang open arxiv url guiglobals table icons put fieldname eprint label label jlabel icontheme jabreficon doi getsmallicon label settooltiptext localization lang open doi localization lang web link guiglobals table icons put fieldname doi label label jlabel icontheme jabreficon file getsmallicon label settooltiptext localization lang open ps guiglobals table icons put fieldname ps label label jlabel icontheme jabreficon folder getsmallicon label settooltiptext localization lang open folder guiglobals table icons put fieldname folder label label jlabel icontheme jabreficon file getsmallicon label settooltiptext localization lang open file guiglobals table icons put fieldname file label externalfiletype filetype externalfiletypes getinstance getexternalfiletypeselection label jlabel filetype geticon label settooltiptext localization lang open file filetype getname guiglobals table icons put filetype getname label specialfieldviewmodel relevanceviewmodel specialfieldviewmodel specialfield relevance label jlabel relevanceviewmodel getrepresentingicon label settooltiptext relevanceviewmodel getlocalization guiglobals table icons put specialfield relevance getfieldname label specialfieldviewmodel qualityviewmodel specialfieldviewmodel specialfield quality label jlabel qualityviewmodel getrepresentingicon label settooltiptext qualityviewmodel getlocalization guiglobals table icons put specialfield quality getfieldname label ranking item menu uses one star specialfieldviewmodel rankviewmodel specialfieldviewmodel specialfield ranking label jlabel rankviewmodel getrepresentingicon label settooltiptext rankviewmodel getlocalization guiglobals table icons put specialfield ranking getfieldname label priority icon used menu specialfieldviewmodel priorityviewmodel specialfieldviewmodel specialfield priority label jlabel priorityviewmodel getrepresentingicon label settooltiptext priorityviewmodel getlocalization guiglobals table icons put specialfield priority getfieldname label read icon used menu specialfieldviewmodel readviewmodel specialfieldviewmodel specialfield read status label jlabel readviewmodel getrepresentingicon label settooltiptext readviewmodel getlocalization guiglobals table icons put specialfield read status getfieldname label print icon used menu specialfieldviewmodel printedviewmodel specialfieldviewmodel specialfield printed label jlabel printedviewmodel getrepresentingicon label settooltiptext printedviewmodel getlocalization guiglobals table icons put specialfield printed getfieldname label globals prefs getboolean jabrefpreferences editor emacs keybindings emacskeybindings load set entry editor colors first time: guiglobals updateentryeditorcolors guiglobals currentfont font globals prefs get jabrefpreferences font family globals prefs getint jabrefpreferences font style globals prefs getint jabrefpreferences font size 
56	SaveOrderConfigDisplay.java	GUI	net sf jabref gui awt component util collections util list util objects javax swing jcheckbox javax swing jcombobox javax swing jpanel net sf jabref logic l10n localization net sf jabref model entry bibentry net sf jabref model entry internalbibtexfields net sf jabref model metadata saveorderconfig com jgoodies forms builder formbuilder com jgoodies forms layout formlayout saveorderconfigdisplay jpanel panel jcombobox<string> saveprisort jcombobox<string> savesecsort jcombobox<string> savetersort jcheckbox savepridesc jcheckbox savesecdesc jcheckbox saveterdesc saveorderconfigdisplay init init list<string> fieldnames internalbibtexfields getallpublicfieldnames fieldnames add bibentry key field collections sort fieldnames string[] allpluskey fieldnames toarray string[fieldnames size saveprisort jcombobox<> allpluskey saveprisort seteditable true savesecsort jcombobox<> allpluskey savesecsort seteditable true savetersort jcombobox<> allpluskey savetersort seteditable true savepridesc jcheckbox localization lang descending savesecdesc jcheckbox localization lang descending saveterdesc jcheckbox localization lang descending formlayout layout formlayout right:pref 8dlu fill:pref 4dlu fill:60dlu 4dlu left:pref pref 2dlu pref 2dlu pref formbuilder builder formbuilder create layout layout builder add localization lang primary sort criterion xy builder add saveprisort xy builder add savepridesc xy builder add localization lang secondary sort criterion xy builder add savesecsort xy builder add savesecdesc xy builder add localization lang tertiary sort criterion xy builder add savetersort xy builder add saveterdesc xy panel builder build component getpanel panel setenabled boolean enabled saveprisort setenabled enabled savepridesc setenabled enabled savesecsort setenabled enabled savesecdesc setenabled enabled savetersort setenabled enabled saveterdesc setenabled enabled setsaveorderconfig saveorderconfig saveorderconfig objects requirenonnull saveorderconfig saveprisort setselecteditem saveorderconfig sortcriteria[0] field savepridesc setselected saveorderconfig sortcriteria[0] descending savesecsort setselecteditem saveorderconfig sortcriteria[1] field savesecdesc setselected saveorderconfig sortcriteria[1] descending savetersort setselecteditem saveorderconfig sortcriteria[2] field saveterdesc setselected saveorderconfig sortcriteria[2] descending saveorderconfig getsaveorderconfig saveorderconfig saveorderconfig saveorderconfig saveorderconfig sortcriteria[0] field getselecteditemaslowercasetrim saveprisort saveorderconfig sortcriteria[0] descending savepridesc isselected saveorderconfig sortcriteria[1] field getselecteditemaslowercasetrim savesecsort saveorderconfig sortcriteria[1] descending savesecdesc isselected saveorderconfig sortcriteria[2] field getselecteditemaslowercasetrim savetersort saveorderconfig sortcriteria[2] descending saveterdesc isselected saveorderconfig string getselecteditemaslowercasetrim jcombobox<string> sortbox sortbox getselecteditem tostring tolowercase trim 
57	DragDropPane.java	GUI	net sf jabref gui awt alphacomposite awt component awt font awt graphics awt graphics2d awt point awt rectangle awt event mouseadapter awt event mouseevent awt event mousemotionadapter javax swing jpanel javax swing jtabbedpane javax swing swingutilities jtabbedpane support drag drop tabs author kleinms strassfn dragdroppane jtabbedpane boolean draggingstate state var dragging indexdraggedtab index tab drag moment markerpane markerpane glass panel painting position marker dragdroppane super indexdraggedtab markerpane markerpane markerpane setvisible false adding listeners drag drop actions addmousemotionlistener mousemotionadapter override mousedragged mouseevent mouse dragging calculates tab index based mouse position indexacttab getui tabforcoordinate dragdroppane getx gety draggingstate tab dragging indexdraggedtab indexacttab valid scenario? boolean totheleft getx getui gettabbounds dragdroppane indexacttab getcenterx go left right actual tab dragdroppane getrootpane setglasspane markerpane set markerpane glass pane rectangle acttabrect swingutilities convertrectangle dragdroppane getboundsat indexacttab dragdroppane markerpane rectangle dimensions tab mouse position totheleft markerpane setpiclocation point acttabrect acttabrect acttabrect height set pic left tab mouse position else markerpane setpiclocation point acttabrect acttabrect width acttabrect acttabrect height set pic right tab mouse position markerpane setvisible true markerpane repaint repaint else valid tab tragging scenario markerpane setvisible false markerpane repaint else tab dragging indexacttab mouse tab otherwise tabnumber would >now tab tragging draggingstate true mark dragging indexdraggedtab indexacttab set draggedtabindex tabnumber repaint super mousedragged addmouselistener mouseadapter override mousereleased mouseevent dragdroppane markerpane setvisible false set markerpane invisible indexacttab getui tabforcoordinate dragdroppane getx gety indexdraggedtab indexacttab indexdraggedtab indexacttab valid scenario? draggingstate tab dragging boolean totheleft getx getui gettabbounds dragdroppane indexacttab getcenterx go left right actual tab dragdroppane markerpane setvisible false component acttab getcomponentat indexdraggedtab save dragged tab string acttabtitle gettitleat indexdraggedtab save title dragged tab removetabat indexdraggedtab remove dragged tab newtabpos indexacttab indexdraggedtab dragging tab left position totheleft indexacttab dragdroppane gettabcount newtabpos indexacttab else newtabpos indexacttab else dragging tab right old position totheleft indexacttab newtabpos indexacttab else newtabpos indexacttab inserttab acttabtitle null acttab null newtabpos insert dragged tab position dragdroppane setselectedindex newtabpos set selection back tab tab position draggingstate false glass panel sets marker dragging tabs markerpane jpanel point locationp icontheme jabreficon movetabarrow markerpane setopaque false sets marker fonticon movetabarrow icontheme jabreficon move tab arrow override paintcomponent graphics super paintcomponent graphics2d g2 graphics2d g2 setcomposite alphacomposite getinstance alphacomposite src 9f set transparency setfont icontheme font derivefont font bold 24f drawstring movetabarrow getcode locationp movetabarrow geticon geticonwidth locationp movetabarrow geticon geticonheight sets location marker placed param pt point marker setpiclocation point pt locationp pt 
58	FindUnlinkedFilesDialog.java	GUI	net sf jabref gui awt component awt container awt dimension awt frame awt gridbagconstraints awt gridbaglayout awt insets awt event actionevent awt event actionlistener awt event componentadapter awt event componentevent awt event componentlistener awt event keyevent awt event mouseadapter awt event mouseevent awt event mouselistener awt event windowadapter awt event windowevent io file io filefilter io ioexception nio file files nio file path nio file paths util arraylist util collections util enumeration util iterator util linkedlist util list util optional util vector util concurrent atomic atomicboolean javax swing abstractaction javax swing action javax swing borderfactory javax swing defaultlistcellrenderer javax swing jbutton javax swing jcheckbox javax swing jcombobox javax swing jcomponent javax swing jdialog javax swing jlabel javax swing jlist javax swing joptionpane javax swing jpanel javax swing jprogressbar javax swing jrootpane javax swing jscrollpane javax swing jtextfield javax swing jtree javax swing keystroke javax swing swingconstants javax swing swingutilities javax swing windowconstants javax swing event changeevent javax swing event changelistener javax swing filechooser filesystemview javax swing tree defaultmutabletreenode javax swing tree defaulttreecellrenderer javax swing tree defaulttreemodel javax swing tree treemodel javax swing tree treenode javax swing tree treepath net sf jabref globals net sf jabref jabrefexecutorservice net sf jabref jabrefgui net sf jabref gui desktop jabrefdesktop net sf jabref gui importer entryfromfilecreator net sf jabref gui importer entryfromfilecreatormanager net sf jabref gui importer unlinkedfilescrawler net sf jabref gui importer unlinkedpdffilefilter net sf jabref gui util guiutil net sf jabref logic l10n localization net sf jabref model entrytypes net sf jabref model database bibdatabasecontext net sf jabref model entry bibtexentrytype net sf jabref model entry entrytype net sf jabref model entry fieldname net sf jabref preferences jabrefpreferences com jgoodies forms builder buttonbarbuilder org apache commons logging log org apache commons logging logfactory gui dialog feature find unlinked files author nosh dan version 23:13:29 findunlinkedfilesdialog jdialog log logger logfactory getlog findunlinkedfilesdialog keys used referencing action string action command findunlinkedfiles string action menu title localization menutitle find unlinked files string action short description localization lang searches unlinked pdf files file system string global prefs working directory key findunlinkedfileswd string global prefs dialog size key findunlinkedfilesdialogsize jabrefframe frame bibdatabasecontext databasecontext entryfromfilecreatormanager creatormanager unlinkedfilescrawler crawler path lastselecteddirectory treemodel treemodel panels jpanel paneldirectory jpanel panelsearcharea jpanel panelfiles jpanel paneloptions jpanel panelbuttons jpanel panelentrytypesselection jpanel panelimportarea jbutton buttonbrowse jbutton buttonscan jbutton buttonapply jbutton buttonclose options treeview jbutton buttonoptionselectall jbutton buttonoptionunselectall jbutton buttonoptionexpandall jbutton buttonoptioncollapseall jcheckbox checkboxcreatekeywords jtextfield textfielddirectorypath jlabel labeldirectorydescription jlabel labelfiletypesdescription jlabel labelfilesdescription jlabel labelentrytypedescription jlabel labelsearchingdirectoryinfo jlabel labelimportinginfo jtree tree jscrollpane scrollpanetree jcombobox<filefilter> comboboxfiletypeselection jcombobox<bibtexentrytypewrapper> comboboxentrytypeselection jprogressbar progressbarsearching jprogressbar progressbarimporting mouselistener treemouselistener action actionselectall action actionunselectall action actionexpandtree action actioncollapsetree componentlistener dialogpositionlistener atomicboolean threadstate atomicboolean boolean checkboxwhyistherenogetselectedstupidswing unit testing <i>don't remove i> <br> used via reflection link net sf jabref importer databasefilelookup construct suppresswarnings unused findunlinkedfilesdialog intended findunlinkedfilesdialog frame owner jabrefframe frame basepanel panel super owner localization lang find unlinked files true frame frame restoresizeofdialog databasecontext panel getdatabasecontext creatormanager entryfromfilecreatormanager crawler unlinkedfilescrawler databasecontext lastselecteddirectory loadlastselecteddirectory initialize buttonapply setenabled false close dialog pressing escape override jrootpane createrootpane actionlistener actionlistener actionevent setvisible false jrootpane rpane jrootpane keystroke stroke keystroke getkeystroke keyevent vk escape rpane registerkeyboardaction actionlistener stroke jcomponent focused window rpane stores current size dialog persistently storesizeofdialog dimension dim getsize string store dim width dim height globals prefs put findunlinkedfilesdialog global prefs dialog size key store restores location size dialog persistent storage restoresizeofdialog string store globals prefs get findunlinkedfilesdialog global prefs dialog size key dimension dimension null store null try string[] dim store split dimension dimension integer valueof dim[0] integer valueof dim[1] catch numberformatexception ignoredex logger debug restoresizedialog exception ignoredex dimension null setpreferredsize dimension initializes components layout data structure actions dialog initialize initializeactions initcomponents createtree createfiletypescombobox createentrytypescombobox initlayout setupactions pack initializes action objects <br> assign actions components yet initializeactions actionselectall abstractaction localization lang select override actionperformed actionevent checkabletreenode rootnode checkabletreenode tree getmodel getroot rootnode setselected true tree invalidate tree repaint actionunselectall abstractaction localization lang unselect override actionperformed actionevent checkabletreenode rootnode checkabletreenode tree getmodel getroot rootnode setselected false tree invalidate tree repaint actionexpandtree abstractaction localization lang expand override actionperformed actionevent checkabletreenode rootnode checkabletreenode tree getmodel getroot expandtree tree treepath rootnode true actioncollapsetree abstractaction localization lang collapse override actionperformed actionevent checkabletreenode rootnode checkabletreenode tree getmodel getroot expandtree tree treepath rootnode false dialogpositionlistener componentadapter non javadoc see awt event componentadapter#componentresized awt event componentevent override componentresized componentevent storesizeofdialog non javadoc see awt event componentadapter#componentmoved awt event componentevent override componentmoved componentevent storesizeofdialog stores working directory path view global preferences param lastselecteddir directory used working directory view storelastselecteddirectory path lastselecteddir lastselecteddirectory lastselecteddir lastselecteddirectory null globals prefs put findunlinkedfilesdialog global prefs working directory key lastselecteddirectory toabsolutepath tostring loads working directory path persistantly stored view returns link file object <br> <br> working directory path stored general working directory consulted persistently stored working directory path view path loadlastselecteddirectory string workingdirectory globals prefs get findunlinkedfilesdialog global prefs working directory key workingdirectory null workingdirectory globals prefs get jabrefpreferences working directory lastselecteddirectory paths get workingdirectory lastselecteddirectory disables enables visible elements dialog <br> <br> also removes link mouselistener tree view prevent receiving mouse events disabled state param enable <code>true< code> elements shall get enabled <code>false< code> shall get disabled disorenabledialog boolean enable enable tree addmouselistener treemouselistener else tree removemouselistener treemouselistener disorenableallelements findunlinkedfilesdialog enable recursively disables enables swing awt components dialog starting including container <code>startcontainer< code> param startcontainer gui element start param enable <code>true< code> elements get enabled <code>false< code> elements get disabled disorenableallelements container startcontainer boolean enable component[] children startcontainer getcomponents component child children child instanceof container disorenableallelements container child enable child setenabled enable expands collapses specified tree according <code>expand< code> parameter expandtree jtree currenttree treepath parent boolean expand treenode node treenode parent getlastpathcomponent node getchildcount enumeration<treenode> node children hasmoreelements treepath path parent pathbyaddingchild nextelement expandtree currenttree path expand expand currenttree expandpath parent else currenttree collapsepath parent starts search unlinked files according current dialog state <br> <br> state made of: <br> <li>the value directory input textfield <li>the file type selection <br> search process seperate thread progress bar behind search button displayed <br> <br> search completed link #searchfinishedhandler checkabletreenode handler method invoked startsearch path directory paths get textfielddirectorypath gettext files notexists directory directory paths get system getproperty user dir files isdirectory directory directory directory getparent addtional statement needed lamdba variable must effetively path dir directory storelastselecteddirectory directory progressbarsearching setminimumsize dimension buttonscan getsize width progressbarsearching getminimumsize height progressbarsearching setvisible true progressbarsearching setstring labelsearchingdirectoryinfo setvisible true buttonscan setvisible false disorenabledialog false labelsearchingdirectoryinfo setenabled true filefilter selectedfilefilter filefilter comboboxfiletypeselection getselecteditem threadstate set true jabrefexecutorservice instance execute unlinkedpdffilefilter unlinkedpdffilefilter unlinkedpdffilefilter selectedfilefilter databasecontext checkabletreenode rootnode crawler searchdirectory dir tofile unlinkedpdffilefilter threadstate changelistener counter override statechanged changeevent counter string message counter message localization lang one file found else message localization lang files found integer tostring counter swingutilities invokelater progressbarsearching setstring message swingutilities invokelater searchfinishedhandler rootnode start file selected nodes dialogs tree view <br> <br> run seperate thread whilst dialog showing progress bar thread finished work <br> <br> finished link #importfinishedhandler util list invoked startimport treemodel null setdefaultcloseoperation windowconstants nothing close checkabletreenode root checkabletreenode treemodel getroot list<file> filelist getfilelistfromnode root filelist null filelist isempty progressbarimporting setvisible true labelimportinginfo setvisible true buttonapply setvisible false buttonclose setvisible false disorenabledialog false labelimportinginfo setenabled true progressbarimporting setminimum progressbarimporting setmaximum filelist size progressbarimporting setvalue progressbarimporting setstring entrytype entrytype bibtexentrytypewrapper comboboxentrytypeselection getselecteditem getentrytype threadstate set true jabrefexecutorservice instance execute list<string> errors linkedlist<> creatormanager addentriesfromfiles filelist databasecontext getdatabase frame getcurrentbasepanel entrytype checkboxwhyistherenogetselectedstupidswing changelistener counter override statechanged changeevent counter swingutilities invokelater progressbarimporting setvalue counter progressbarimporting setstring localization lang integer tostring counter integer tostring progressbarimporting getmaximum errors swingutilities invokelater importfinishedhandler errors param errors importfinishedhandler list<string> errors errors null errors isempty string message errors size message localization lang one file could imported else message localization lang files could imported integer tostring errors size joptionpane showmessagedialog localization lang finished warnings: \n message localization lang warning joptionpane warning message progressbarimporting setvisible false labelimportinginfo setvisible false buttonapply setvisible true buttonclose setvisible true disorenabledialog true setdefaultcloseoperation windowconstants dispose close frame getcurrentbasepanel markbasechanged called thread unlinked files search processed result search root node determined file structure passed param rootnode root file structure result search searchfinishedhandler checkabletreenode rootnode treemodel defaulttreemodel rootnode tree setmodel treemodel tree setrootvisible rootnode getchildcount tree invalidate tree repaint progressbarsearching setvisible false labelsearchingdirectoryinfo setvisible false buttonscan setvisible true actionselectall actionperformed null disorenabledialog true buttonapply setenabled true sets actions components setupactions stores selected directory buttonbrowse addactionlistener optional<path> selecteddirectory filedialog frame showdialogandgetselecteddirectory selecteddirectory ifpresent textfielddirectorypath settext toabsolutepath tostring storelastselecteddirectory buttonscan addactionlistener startsearch action button <br> <br> actions button start file selected nodes dialogs tree view <br> actionlistener actionlistenerimportentrys startimport buttonapply addactionlistener actionlistenerimportentrys buttonclose addactionlistener dispose creates list link file leaf nodes tree structure <code>node< code> marked <i>selected< i> <br> <br> <code>selected< code> nodes correspond entries tree whose checkbox <code>checked< code> side effect: checked nodes removed tree param node root node representing tree structure list files checked leaf nodes list<file> getfilelistfromnode checkabletreenode node list<file> fileslist arraylist<> enumeration<checkabletreenode> children node depthfirstenumeration list<checkabletreenode> nodestoremove arraylist<> checkabletreenode child collections list children child isleaf child isselected file nodefile filenodewrapper child getuserobject file nodefile null nodefile isfile fileslist add nodefile nodestoremove add child remove imported files tree defaulttreemodel model defaulttreemodel tree getmodel checkabletreenode nodetoremove nodestoremove defaultmutabletreenode parent defaultmutabletreenode nodetoremove getparent model removenodefromparent nodetoremove remove empty parent node parent null parent isleaf defaultmutabletreenode pp defaultmutabletreenode parent getparent pp null model removenodefromparent parent parent pp todo: update counter see: gettreecellrenderercomponent label generation tree invalidate tree repaint fileslist initializes visible components dialog initcomponents addcomponentlistener dialogpositionlistener interrupts searchthread setting state array addwindowlistener windowadapter override windowclosing windowevent threadstate set false paneldirectory jpanel panelsearcharea jpanel panelfiles jpanel paneloptions jpanel panelentrytypesselection jpanel panelbuttons jpanel panelimportarea jpanel buttonbrowse jbutton localization lang browse buttonbrowse setmnemonic 'b' buttonbrowse settooltiptext localization lang opens file browser buttonscan jbutton localization lang scan directory buttonscan setmnemonic 's' buttonscan settooltiptext localization lang searches selected directory unlinked files buttonapply jbutton localization lang apply buttonapply setmnemonic 'i' buttonapply settooltiptext localization lang starts bibtex entries buttonclose jbutton localization lang close buttonclose settooltiptext localization lang leave dialog buttonclose setmnemonic 'c' options treeview buttonoptionselectall jbutton buttonoptionselectall setmnemonic 'a' buttonoptionselectall setaction actionselectall buttonoptionunselectall jbutton buttonoptionunselectall setmnemonic 'u' buttonoptionunselectall setaction actionunselectall buttonoptionexpandall jbutton buttonoptionexpandall setmnemonic 'e' buttonoptionexpandall setaction actionexpandtree buttonoptioncollapseall jbutton buttonoptioncollapseall setmnemonic 'l' buttonoptioncollapseall setaction actioncollapsetree checkboxcreatekeywords jcheckbox localization lang create directory based keywords checkboxcreatekeywords settooltiptext localization lang creates keywords created entrys directory pathnames checkboxcreatekeywords setselected checkboxwhyistherenogetselectedstupidswing checkboxcreatekeywords additemlistener checkboxwhyistherenogetselectedstupidswing checkboxwhyistherenogetselectedstupidswing textfielddirectorypath jtextfield textfielddirectorypath settext lastselecteddirectory null lastselecteddirectory toabsolutepath tostring labeldirectorydescription jlabel localization lang select directory search shall start labelfiletypesdescription jlabel localization lang select file type: labelfilesdescription jlabel localization lang files linked active database labelentrytypedescription jlabel localization lang entry type created: labelsearchingdirectoryinfo jlabel localization lang searching file system labelsearchingdirectoryinfo sethorizontalalignment swingconstants center labelsearchingdirectoryinfo setvisible false labelimportinginfo jlabel localization lang importing database labelimportinginfo sethorizontalalignment swingconstants center labelimportinginfo setvisible false tree jtree guiutil correctrowheight tree scrollpanetree jscrollpane tree scrollpanetree setwheelscrollingenabled true progressbarsearching jprogressbar progressbarsearching setindeterminate true progressbarsearching setvisible false progressbarsearching setstringpainted true progressbarimporting jprogressbar progressbarimporting setindeterminate false progressbarimporting setvisible false progressbarimporting setstringpainted true initializes layout visible components menu link gridbaglayout used initlayout gridbaglayout gbl gridbaglayout paneldirectory setborder borderfactory createtitledborder borderfactory createetchedborder localization lang select directory panelfiles setborder borderfactory createtitledborder borderfactory createetchedborder localization lang select files panelentrytypesselection setborder borderfactory createtitledborder borderfactory createetchedborder localization lang bibtex entry creation insets basicinsets insets insets smallinsets insets insets noinsets insets wx wy ix iy findunlinkedfilesdialog addcomponent gbl panelsearcharea buttonscan gridbagconstraints horizontal gridbagconstraints east noinsets findunlinkedfilesdialog addcomponent gbl panelsearcharea labelsearchingdirectoryinfo gridbagconstraints horizontal gridbagconstraints east noinsets findunlinkedfilesdialog addcomponent gbl panelsearcharea progressbarsearching gridbagconstraints horizontal gridbagconstraints east noinsets findunlinkedfilesdialog addcomponent gbl paneldirectory labeldirectorydescription null gridbagconstraints west insets findunlinkedfilesdialog addcomponent gbl paneldirectory textfielddirectorypath gridbagconstraints horizontal null basicinsets findunlinkedfilesdialog addcomponent gbl paneldirectory buttonbrowse gridbagconstraints horizontal gridbagconstraints east basicinsets findunlinkedfilesdialog addcomponent gbl paneldirectory labelfiletypesdescription gridbagconstraints none gridbagconstraints west insets findunlinkedfilesdialog addcomponent gbl paneldirectory comboboxfiletypeselection gridbagconstraints horizontal gridbagconstraints west insets findunlinkedfilesdialog addcomponent gbl paneldirectory panelsearcharea gridbagconstraints horizontal gridbagconstraints east insets findunlinkedfilesdialog addcomponent gbl panelfiles labelfilesdescription gridbagconstraints horizontal gridbagconstraints west insets findunlinkedfilesdialog addcomponent gbl panelfiles scrollpanetree gridbagconstraints gridbagconstraints center basicinsets findunlinkedfilesdialog addcomponent gbl panelfiles paneloptions gridbagconstraints none gridbagconstraints northeast basicinsets findunlinkedfilesdialog addcomponent gbl paneloptions buttonoptionselectall gridbagconstraints horizontal gridbagconstraints north noinsets findunlinkedfilesdialog addcomponent gbl paneloptions buttonoptionunselectall gridbagconstraints horizontal gridbagconstraints north noinsets findunlinkedfilesdialog addcomponent gbl paneloptions buttonoptionexpandall gridbagconstraints horizontal gridbagconstraints north insets findunlinkedfilesdialog addcomponent gbl paneloptions buttonoptioncollapseall gridbagconstraints horizontal gridbagconstraints north noinsets findunlinkedfilesdialog addcomponent gbl panelentrytypesselection labelentrytypedescription gridbagconstraints none gridbagconstraints west basicinsets findunlinkedfilesdialog addcomponent gbl panelentrytypesselection comboboxentrytypeselection gridbagconstraints none gridbagconstraints west basicinsets findunlinkedfilesdialog addcomponent gbl panelentrytypesselection checkboxcreatekeywords gridbagconstraints horizontal gridbagconstraints west basicinsets findunlinkedfilesdialog addcomponent gbl panelimportarea labelimportinginfo gridbagconstraints horizontal gridbagconstraints center insets findunlinkedfilesdialog addcomponent gbl panelimportarea progressbarimporting gridbagconstraints horizontal gridbagconstraints center insets findunlinkedfilesdialog addcomponent gbl panelbuttons panelimportarea gridbagconstraints none gridbagconstraints east smallinsets findunlinkedfilesdialog addcomponent gbl getcontentpane paneldirectory gridbagconstraints horizontal gridbagconstraints center basicinsets findunlinkedfilesdialog addcomponent gbl getcontentpane panelfiles gridbagconstraints gridbagconstraints northwest insets findunlinkedfilesdialog addcomponent gbl getcontentpane panelentrytypesselection gridbagconstraints horizontal gridbagconstraints southwest insets findunlinkedfilesdialog addcomponent gbl getcontentpane panelbuttons gridbagconstraints horizontal gridbagconstraints center insets buttonbarbuilder bb buttonbarbuilder bb addglue bb addbutton buttonapply bb addbutton buttonclose bb addglue bb getpanel setborder borderfactory createemptyborder panelimportarea add bb getpanel gridbagconstraints none pack adds component container using specified gridbag layout supplied parameters <br> <br> method simply used ged rid thousands lines code inevitably rise layouts gridbag layout used param layout layout used param container link container component added param component awt link component added container param fill constant describing fill behaviour see link gridbagconstraints <code>null< code> filling wants specified param anchor constant describing anchor element parent container see link gridbagconstraints <code>null< code> specification needed param gridx relative grid coordinate param gridy relative grid coordinate param width relative width component param height relative height component param weightx value horizontal weight param weighty value vertical weight param insets insets component <code>null< code> addcomponent gridbaglayout layout container container component component integer fill integer anchor insets insets gridx gridy width height weightx weighty ipadx ipady container setlayout layout gridbagconstraints constraints gridbagconstraints constraints gridx gridx constraints gridy gridy constraints gridwidth width constraints gridheight height constraints weightx weightx constraints weighty weighty constraints ipadx ipadx constraints ipady ipady fill null constraints fill fill insets null constraints insets insets anchor null constraints anchor anchor layout setconstraints component constraints container add component creates tree view holds data structure <br> <br> initially root node <b>not< b> visible tree appears empty beginning createtree mouse listener listen mouse events tree <br> mark selected tree entry selected unselected cause nodes checkbox appear either checked unchecked treemouselistener mouseadapter override mousepressed mouseevent getx gety row tree getrowforlocation treepath path tree getpathforrow row path null checkabletreenode node checkabletreenode path getlastpathcomponent getclickcount object userobject node getuserobject userobject instanceof filenodewrapper node isleaf filenodewrapper fnw filenodewrapper userobject try jabrefdesktop openexternalviewer jabrefgui getmainframe getcurrentbasepanel getbibdatabasecontext fnw file getabsolutepath fieldname pdf catch ioexception e1 logger info error opening file e1 else node check tree invalidate tree repaint checkabletreenode startnode checkabletreenode root defaulttreemodel model defaulttreemodel startnode tree setmodel model tree setrootvisible false defaulttreecellrenderer renderer checkboxtreecellrenderer tree setcellrenderer renderer tree addmouselistener treemouselistener initialises combobox contains available file types bibtex entries created createfiletypescombobox list<filefilter> filefilterlist creatormanager getfilefilterlist vector<filefilter> vector vector<> filefilter filefilter filefilterlist vector add filefilter comboboxfiletypeselection jcombobox<> vector comboboxfiletypeselection setrenderer defaultlistcellrenderer non javadoc see javax swing defaultlistcellrenderer#getlistcellrenderercomponent javax swing jlist lang object boolean boolean override component getlistcellrenderercomponent jlist<?> list object value index boolean isselected boolean cellhasfocus jlabel label jlabel super getlistcellrenderercomponent list value index isselected cellhasfocus value instanceof entryfromfilecreator entryfromfilecreator creator entryfromfilecreator value creator getexternalfiletype null label seticon creator getexternalfiletype geticon label creates combobox view listbox holds bibtex entry types createentrytypescombobox iterator<entrytype> iterator entrytypes getallvalues frame getcurrentbasepanel getbibdatabasecontext getmode iterator vector<bibtexentrytypewrapper> list vector<> list add bibtexentrytypewrapper null iterator hasnext list add bibtexentrytypewrapper iterator next comboboxentrytypeselection jcombobox<> list wrapper displaying type link bibtexentrytype combobox author nosh dan version 01:02:30 bibtexentrytypewrapper entrytype entrytype bibtexentrytypewrapper entrytype bibtextype entrytype bibtextype override string tostring entrytype null localization lang <no selection> entrytype getname entrytype getentrytype entrytype checkabletreenode defaultmutabletreenode boolean isselected jcheckbox checkbox checkabletreenode object userobject super userobject checkbox jcheckbox checkbox jcheckbox getcheckbox checkbox check setselected isselected setselected boolean bselected isselected bselected enumeration<checkabletreenode> tmpchildren children checkabletreenode child collections list tmpchildren child setselected bselected boolean isselected isselected checkboxtreecellrenderer defaulttreecellrenderer filesystemview fsv filesystemview getfilesystemview override component gettreecellrenderercomponent jtree tree object value boolean sel boolean expanded boolean leaf row boolean hasfocus component nodecomponent super gettreecellrenderercomponent tree value sel expanded leaf row hasfocus checkabletreenode node checkabletreenode value filenodewrapper userobject filenodewrapper node getuserobject jpanel newpanel jpanel jcheckbox checkbox node getcheckbox checkbox setselected node isselected try seticon fsv getsystemicon userobject file catch exception ignored ignored newpanel setbackground nodecomponent getbackground checkbox setbackground nodecomponent getbackground gridbaglayout gbl gridbaglayout findunlinkedfilesdialog addcomponent gbl newpanel checkbox null null null findunlinkedfilesdialog addcomponent gbl newpanel nodecomponent gridbagconstraints horizontal null insets userobject filecount jlabel label jlabel userobject filecount file userobject filecount findunlinkedfilesdialog addcomponent gbl newpanel label null null insets newpanel filenodewrapper file file filecount filenodewrapper file afile afile param adirectory param filecount filenodewrapper file adirectory filecount file adirectory filecount filecount non javadoc see lang object#tostring override string tostring file getname 
59	FileDialog.java	GUI	net sf jabref gui awt component io file nio file path nio file paths util arrays util collection util collections util enumset util list util objects util optional util stream collectors javax swing jfilechooser javax swing joptionpane javax swing filechooser filefilter javax swing filechooser filenameextensionfilter net sf jabref globals net sf jabref logic l10n localization net sf jabref logic util fileextensions net sf jabref preferences jabrefpreferences filedialog custom confirmation dialog http: stackoverflow com jfilechooser filechooser jfilechooser override approveselection file file getselectedfile file exists getdialogtype save dialog result joptionpane showconfirmdialog localization lang 0' exists overwrite file? file getname localization lang existing file joptionpane yes cancel option switch result case joptionpane yes option: super approveselection case joptionpane option: case joptionpane closed option: case joptionpane cancel option: cancelselection default: super approveselection component parent string directory collection<fileextensions> extensions enumset noneof fileextensions creates filedialog showing current working dir link jabrefpreferences#working directory param parent parent frame associated dialog filedialog component parent parent getworkingdir creates dialog given directory param parent parent frame associated dialog param dir starting directory show dialog filedialog component parent string dir objects requirenonnull dir directory must null parent parent directory dir filechooser setcurrentdirectory paths get dir tofile add single extension file filter param singleext extension filedialog filedialog withextension fileextensions singleext withextensions enumset singleext add multiple extensions file filter param fileextensions extensions filedialog filedialog withextensions collection<fileextensions> fileextensions extensions fileextensions fileextensions ext fileextensions filenameextensionfilter extfilter filenameextensionfilter ext getdescription ext getextensions filechooser addchoosablefilefilter extfilter explictly needed osx enable file filter filechooser setacceptallfilefilterused true sets default file filter extension file dialog desired extension found nothing changed param extension file extension setdefaultextension fileextensions extension arrays stream filechooser getchoosablefilefilters filter objects equals getdescription extension getdescription findfirst ifpresent filechooser::setfilefilter returns currently selected file filter filefilter filefilter getfilefilter filechooser getfilefilter sets custom file filter use withextension suffice param filter custom file filter setfilefilter filefilter filter filechooser setfilefilter filter updates working directory preference filedialog filedialog updateworkingdirpref globals prefs put jabrefpreferences working directory directory shows link jfilechooser#open dialog allows select single folder path selected folder link optional#empty dialog aborted optional<path> showdialogandgetselecteddirectory filechooser setfileselectionmode jfilechooser directories filechooser setdialogtitle localization lang select directory filechooser setapprovebuttontext localization lang select filechooser setapprovebuttontooltiptext localization lang select directory showdialogandgetselectedfile shows link jfilechooser#open dialog allows select multiple files list containing paths files empty list dialog canceled list<string> showdialogandgetmultiplefiles filechooser setdialogtype jfilechooser open dialog filechooser setmultiselectionenabled true showdialogandisaccepted list<string> files arrays stream filechooser getselectedfiles map file::tostring collect collectors tolist files collections emptylist shows link jfilechooser#open dialog allows select single file folder path selected file folder link optional#empty dialog aborted optional<path> showdialogandgetselectedfile filechooser setdialogtype jfilechooser open dialog showdialogandisaccepted optional filechooser getselectedfile topath optional empty shows link jfilechooser#save dialog allows save file <br> extension provided adds extension file <br> selecting existing file show overwrite dialog path file link optional#empty dialog aborted optional<path> savenewfile filechooser setdialogtype jfilechooser save dialog showdialogandisaccepted file file filechooser getselectedfile extensions isempty filechooser accept file optional paths get file getpath extensions iterator next getfirstextensionwithdot optional file topath optional empty boolean showdialogandisaccepted filechooser showdialog parent null jfilechooser approve option string getworkingdir globals prefs get jabrefpreferences working directory 
60	BackupUIManager.java	GUI	net sf jabref gui autosaveandbackup nio file path javax swing jframe javax swing joptionpane net sf jabref logic autosaveandbackup backupmanager net sf jabref logic l10n localization stores user dialogs related link backupmanager backupuimanager showrestorebackupdialog jframe frame path originalpath answer joptionpane showconfirmdialog frame stringbuilder append localization lang backup file 0' found originalpath getfilename tostring append \n append localization lang could indicate jabref shut cleanly last time file used append \n\n append localization lang want recover database backup file? tostring localization lang backup found joptionpane yes option joptionpane warning message answer backupmanager restorebackup originalpath 
61	AutosaveUIManager.java	GUI	net sf jabref gui autosaveandbackup net sf jabref gui basepanel net sf jabref gui exporter savedatabaseaction net sf jabref model database event autosaveevent com google common eventbus subscribe org apache commons logging log org apache commons logging logfactory ui role listens link autosaveevent saves bib file associated given link basepanel autosaveuimanager log logger logfactory getlog autosaveuimanager basepanel panel autosaveuimanager basepanel panel panel panel subscribe listen suppresswarnings unused autosaveevent event try savedatabaseaction panel runcommand catch throwable logger error problem occured saving 
62	MergeDialog.java	GUI	net sf jabref gui awt borderlayout awt gridbagconstraints awt gridbaglayout awt insets awt event actionevent javax swing abstractaction javax swing actionmap javax swing borderfactory javax swing inputmap javax swing jbutton javax swing jcheckbox javax swing jcomponent javax swing jdialog javax swing jpanel net sf jabref globals net sf jabref gui keyboard keybinding net sf jabref logic l10n localization <p>title: mergedialog< p> <p>description: asks details merge database operation p> <p>copyright: copyright 2003< p> author morten alver mergedialog jdialog jpanel panel1 jpanel borderlayout borderlayout1 borderlayout jpanel jpanel1 jpanel jpanel jpanel2 jpanel jbutton ok jbutton jbutton cancel jbutton jcheckbox entries jcheckbox jcheckbox strings jcheckbox gridbaglayout gridbaglayout1 gridbaglayout jcheckbox groups jcheckbox boolean okpressed mergedialog jabrefframe frame string title boolean modal super frame title modal jbinit pack boolean isokpressed okpressed jbinit panel1 setlayout borderlayout1 ok settext localization lang ok ok addactionlistener okpressed true dispose cancel settext localization lang cancel cancel addactionlistener dispose jpanel1 setborder borderfactory createemptyborder jpanel1 setlayout gridbaglayout1 entries setselected true entries settext localization lang entries strings setselected true strings settext localization lang strings groups settext localization lang group definitions setmodal true setresizable false getcontentpane add panel1 panel1 add jpanel2 borderlayout south jpanel2 add ok null jpanel2 add cancel null panel1 add jpanel1 borderlayout center jpanel1 add entries gridbagconstraints gridbagconstraints west gridbagconstraints horizontal insets jpanel1 add strings gridbagconstraints gridbagconstraints west gridbagconstraints none insets jpanel1 add groups gridbagconstraints gridbagconstraints west gridbagconstraints none insets key bindings: actionmap jpanel1 getactionmap inputmap im jpanel1 getinputmap jcomponent focused window im put globals getkeyprefs getkey keybinding close dialog close put close abstractaction override actionperformed actionevent dispose boolean importentries entries isselected boolean importgroups groups isselected boolean importstrings strings isselected 
63	DragDropPopupPane.java	GUI	net sf jabref gui awt event mouseevent javax swing jpopupmenu adds popup functionality dragdroppane dragdroppopuppane dragdroppane jpopupmenu popupmenu dragdroppopuppane jpopupmenu menu popupmenu menu addmouselistener awt event mouseadapter override mouseclicked mouseevent tabrightclick tabrightclick mouseevent getbutton mouseevent button1 getclickcount display popup near location mouse click popupmenu show getcomponent getx gety 
64	JabRefFrame.java	GUI	net sf jabref gui awt borderlayout awt component awt container awt cursor awt flowlayout awt font awt frame awt graphicsenvironment awt gridbagconstraints awt gridbaglayout awt insets awt window awt event actionevent awt event keyadapter awt event mouseadapter awt event windowadapter awt event windowevent io file io ioexception lang reflect invocationtargetexception util arraylist util arrays util collections util linkedlist util list util objects util optional javax swing abstractaction javax swing action javax swing buttongroup javax swing icon javax swing imageicon javax swing jbutton javax swing jcheckboxmenuitem javax swing jcomponent javax swing jdialog javax swing jframe javax swing jlabel javax swing jmenu javax swing jmenubar javax swing jmenuitem javax swing joptionpane javax swing jpanel javax swing jpopupmenu javax swing jprogressbar javax swing jradiobuttonmenuitem javax swing jsplitpane javax swing jtabbedpane javax swing jtogglebutton javax swing keystroke javax swing menuelement javax swing swingconstants javax swing swingutilities javax swing transferhandler javax swing uimanager javax swing windowconstants net sf jabref globals net sf jabref jabrefexecutorservice net sf jabref gui actions actions net sf jabref gui actions autolinkfilesaction net sf jabref gui actions connecttoshareddatabaseaction net sf jabref gui actions errorconsoleaction net sf jabref gui actions integritycheckaction net sf jabref gui actions managekeywordsaction net sf jabref gui actions masssetfieldaction net sf jabref gui actions mnemonicawareaction net sf jabref gui actions newdatabaseaction net sf jabref gui actions newentryaction net sf jabref gui actions newsubdatabaseaction net sf jabref gui actions openbrowseraction net sf jabref gui actions searchforupdateaction net sf jabref gui actions sorttabsaction net sf jabref gui autosaveandbackup autosaveuimanager net sf jabref gui bibtexkeypattern bibtexkeypatterndialog net sf jabref gui dbproperties databasepropertiesdialog net sf jabref gui exporter exportaction net sf jabref gui exporter exportcustomizationdialog net sf jabref gui exporter saveallaction net sf jabref gui exporter savedatabaseaction net sf jabref gui externalfiletype externalfiletypeeditor net sf jabref gui groups entrytabletransferhandler net sf jabref gui groups groupselector net sf jabref gui help aboutaction net sf jabref gui help helpaction net sf jabref gui importer importcustomizationdialog net sf jabref gui importer importformats net sf jabref gui importer importinspectiondialog net sf jabref gui importer actions opendatabaseaction net sf jabref gui importer fetcher generalfetcher net sf jabref gui journals managejournalsaction net sf jabref gui keyboard keybinding net sf jabref gui keyboard keybindingrepository net sf jabref gui keyboard keybindingsdialog net sf jabref gui menus changeentrytypemenu net sf jabref gui menus filehistorymenu net sf jabref gui menus rightclickmenu net sf jabref gui openoffice openofficepanel net sf jabref gui openoffice openofficesidepanel net sf jabref gui preftabs preferencesdialog net sf jabref gui protectedterms protectedtermsdialog net sf jabref gui push pushtoapplicationbutton net sf jabref gui push pushtoapplications net sf jabref gui search globalsearchbar net sf jabref gui specialfields specialfielddropdown net sf jabref gui specialfields specialfieldvalueviewmodel net sf jabref gui util windowlocation net sf jabref gui worker markentriesaction net sf jabref logic customentrytypesmanager net sf jabref logic autosaveandbackup autosavemanager net sf jabref logic autosaveandbackup backupmanager net sf jabref logic help helpfile net sf jabref logic importer outputprinter net sf jabref logic importer parserresult net sf jabref logic l10n localization net sf jabref logic logging guiappender net sf jabref logic search searchquery net sf jabref logic undo addundoableactionevent net sf jabref logic undo undochangeevent net sf jabref logic undo undoredoevent net sf jabref logic util os net sf jabref logic util io fileutil net sf jabref model database bibdatabasecontext net sf jabref model database bibdatabasemode net sf jabref model database databaselocation net sf jabref model entry bibentry net sf jabref model entry bibtexentrytypes net sf jabref model entry entrytype net sf jabref model entry fieldname net sf jabref model entry specialfields specialfield net sf jabref preferences highlightmatchinggrouppreferences net sf jabref preferences jabrefpreferences net sf jabref preferences lastfocusedtabpreferences net sf jabref preferences searchpreferences com google common eventbus subscribe com jgoodies looks headerstyle com jgoodies looks options org apache commons logging log org apache commons logging logfactory osx macadapter macadapter main window application jabrefframe jframe outputprinter log logger logfactory getlog jabrefframe frame titles string frame title jabref string ellipses jsplitpane splitpane jsplitpane jabrefpreferences prefs globals prefs preferencesdialog prefsdialog lasttabbedpanelselectionindex sidepane manager takes care populating sidepane sidepanemanager sidepanemanager jtabbedpane tabbedpane initialized constructor insets marg insets integritycheckaction checkintegrity integritycheckaction toolbar tlb toolbar globalsearchbar globalsearchbar globalsearchbar jmenubar mb jmenubar jlabel statusline jlabel swingconstants left jlabel statuslabel jlabel localization lang status ':' swingconstants left jprogressbar progressbar jprogressbar filehistorymenu filehistory filehistorymenu prefs instantiate menu toolbar actions actions regarding currently open database defined generalaction unique command string causes appropriate basepanel's runcommand method called command note: generalaction's constructor automatically gets translations name message strings references toggle buttons toolbar jtogglebutton previewtoggle opendatabaseaction open opendatabaseaction true editmodeaction editmodeaction editmodeaction abstractaction quit closeaction abstractaction selectkeys selectkeysaction abstractaction newbibtexdatabaseaction newdatabaseaction bibdatabasemode bibtex abstractaction newbiblatexdatabaseaction newdatabaseaction bibdatabasemode biblatex abstractaction connecttoshareddatabaseaction connecttoshareddatabaseaction abstractaction newsubdatabaseaction newsubdatabaseaction abstractaction jabrefwebpageaction openbrowseraction https: jabref org localization menutitle website localization lang opens jabref's website icontheme getimage icontheme getimage abstractaction jabreffacebookaction openbrowseraction https: www facebook com jabref facebook localization lang opens jabref's facebook page icontheme jabreficon facebook getsmallicon icontheme jabreficon facebook geticon abstractaction jabrefblogaction openbrowseraction https: blog jabref org localization menutitle blog localization lang opens jabref's blog icontheme jabreficon blog getsmallicon icontheme jabreficon blog geticon abstractaction developmentversionaction openbrowseraction https: builds jabref org master localization menutitle development version localization lang opens link current development version downloaded abstractaction changelogaction openbrowseraction https: github com jabref jabref blob master changelog md localization menutitle view change log localization lang see changed jabref versions abstractaction forkmeongithubaction openbrowseraction https: github com jabref jabref localization menutitle fork github localization lang opens jabref's github page icontheme jabreficon github getsmallicon icontheme jabreficon github geticon abstractaction donationaction openbrowseraction https: github com jabref jabref wiki donations localization menutitle donate jabref localization lang donate jabref icontheme jabreficon donate getsmallicon icontheme jabreficon donate geticon abstractaction openforumaction openbrowseraction http: discourse jabref org localization menutitle online help forum localization lang online help forum icontheme jabreficon forum getsmallicon icontheme jabreficon forum geticon abstractaction help helpaction localization menutitle online help localization lang online help helpfile contents globals getkeyprefs getkey keybinding help abstractaction aboutaction localization menutitle jabref localization lang jabref icontheme getimage abstractaction editentry generalaction actions edit localization menutitle edit entry localization lang edit entry globals getkeyprefs getkey keybinding edit entry icontheme jabreficon edit entry geticon abstractaction focustable generalaction actions focus table localization menutitle focus entry table localization lang move keyboard focus entry table globals getkeyprefs getkey keybinding focus entry table abstractaction save generalaction actions save localization menutitle save database localization lang save database globals getkeyprefs getkey keybinding save database icontheme jabreficon save geticon abstractaction saveas generalaction actions save localization menutitle save database localization lang save database globals getkeyprefs getkey keybinding save database abstractaction saveall saveallaction jabrefframe abstractaction saveselectedas generalaction actions save selected localization menutitle save selected localization lang save selected abstractaction saveselectedasplain generalaction actions save selected plain localization menutitle save selected plain bibtex localization lang save selected plain bibtex abstractaction exportall exportaction getexportaction false abstractaction exportselected exportaction getexportaction true abstractaction importcurrent importformats getimportaction false abstractaction importnew importformats getimportaction true abstractaction nexttab changetabaction true abstractaction prevtab changetabaction false abstractaction sorttabs sorttabsaction abstractaction undo generalaction actions undo localization menutitle undo localization lang undo globals getkeyprefs getkey keybinding undo icontheme jabreficon undo geticon abstractaction redo generalaction actions redo localization menutitle redo localization lang redo globals getkeyprefs getkey keybinding redo icontheme jabreficon redo geticon abstractaction forward generalaction actions forward localization menutitle forward localization lang forward globals getkeyprefs getkey keybinding forward icontheme jabreficon right geticon abstractaction back generalaction actions back localization menutitle back localization lang back globals getkeyprefs getkey keybinding back icontheme jabreficon left geticon abstractaction deleteentry generalaction actions delete localization menutitle delete entry localization lang delete entry globals getkeyprefs getkey keybinding delete entry icontheme jabreficon delete entry geticon abstractaction copy editaction actions copy localization menutitle copy localization lang copy globals getkeyprefs getkey keybinding copy icontheme jabreficon copy geticon abstractaction paste editaction actions paste localization menutitle paste localization lang paste globals getkeyprefs getkey keybinding paste icontheme jabreficon paste geticon abstractaction cut editaction actions cut localization menutitle cut localization lang cut globals getkeyprefs getkey keybinding cut icontheme jabreficon cut geticon abstractaction openconsole generalaction actions open console localization menutitle open terminal localization lang open terminal globals getkeyprefs getkey keybinding open console icontheme jabreficon console geticon abstractaction pullchangesfromshareddatabase generalaction actions pull changes shared database localization menutitle pull changes shared database localization lang pull changes shared database globals getkeyprefs getkey keybinding pull changes shared database icontheme jabreficon pull geticon abstractaction mark generalaction actions mark entries localization menutitle mark entries localization lang mark entries globals getkeyprefs getkey keybinding mark entries icontheme jabreficon mark entries geticon jmenu markspecific jabrefframe submenu localization menutitle mark specific color abstractaction unmark generalaction actions unmark entries localization menutitle unmark entries localization lang unmark entries globals getkeyprefs getkey keybinding unmark entries icontheme jabreficon unmark entries geticon abstractaction unmarkall generalaction actions unmark localization menutitle unmark jmenu ranksubmenu abstractaction togglerelevance generalaction specialfieldvalueviewmodel specialfield relevance getvalues get getactionname specialfieldvalueviewmodel specialfield relevance getvalues get getmenustring specialfieldvalueviewmodel specialfield relevance getvalues get gettooltiptext icontheme jabreficon relevance geticon abstractaction togglequalityassured generalaction specialfieldvalueviewmodel specialfield quality getvalues get getactionname specialfieldvalueviewmodel specialfield quality getvalues get getmenustring specialfieldvalueviewmodel specialfield quality getvalues get gettooltiptext icontheme jabreficon quality assured geticon abstractaction toggleprinted generalaction specialfieldvalueviewmodel specialfield printed getvalues get getactionname specialfieldvalueviewmodel specialfield printed getvalues get getmenustring specialfieldvalueviewmodel specialfield printed getvalues get gettooltiptext icontheme jabreficon printed geticon abstractaction normalsearch generalaction actions search localization menutitle search localization lang search globals getkeyprefs getkey keybinding search icontheme jabreficon search geticon abstractaction copykey generalaction actions copy key localization menutitle copy bibtex key globals getkeyprefs getkey keybinding copy bibtex key abstractaction copycitekey generalaction actions copy cite key localization menutitle copy \\cite bibtex key globals getkeyprefs getkey keybinding copy cite bibtex key abstractaction copykeyandtitle generalaction actions copy key title localization menutitle copy bibtex key title globals getkeyprefs getkey keybinding copy bibtex key title abstractaction copykeyandlink generalaction actions copy key link localization menutitle copy bibtex key link globals getkeyprefs getkey keybinding copy bibtex key link abstractaction mergedatabaseaction generalaction actions merge database localization menutitle append database localization lang append contents bibtex database currently viewed database abstractaction selectall generalaction actions select localization menutitle select globals getkeyprefs getkey keybinding select abstractaction replaceall generalaction actions replace localization menutitle replace string ellipses globals getkeyprefs getkey keybinding replace string abstractaction editpreamble generalaction actions edit preamble localization menutitle edit preamble localization lang edit preamble abstractaction editstrings generalaction actions edit strings localization menutitle edit strings localization lang edit strings globals getkeyprefs getkey keybinding edit strings icontheme jabreficon edit strings geticon abstractaction customizeaction customizeentrytypeaction action toggletoolbar enabletoggle abstractaction localization menutitle hide show toolbar putvalue action short description localization lang hide show toolbar override actionperformed actionevent tlb setvisible tlb isvisible abstractaction addtogroup generalaction actions add group localization lang add group ellipses abstractaction removefromgroup generalaction actions remove group localization lang remove group ellipses abstractaction movetogroup generalaction actions move group localization lang move group ellipses action togglepreview enabletoggle generalaction actions toggle preview localization menutitle toggle entry preview localization lang toggle entry preview globals getkeyprefs getkey keybinding toggle entry preview icontheme jabreficon toggle entry preview geticon action togglehighlightany enabletoggle generalaction actions toggle highlights groups matching localization menutitle highlight groups matching selected entry localization lang highlight groups matching selected entry action togglehighlightall enabletoggle generalaction actions toggle highlights groups matching localization menutitle highlight groups matching selected entries localization lang highlight groups matching selected entries action togglehighlightdisable enabletoggle generalaction actions toggle highlights groups matching disable localization menutitle disable highlight groups matching entries localization lang disable highlight groups matching entries abstractaction nextpreviewstyle generalaction actions next preview style localization menutitle next preview layout globals getkeyprefs getkey keybinding next preview layout abstractaction previouspreviewstyle generalaction actions previous preview style localization menutitle previous preview layout globals getkeyprefs getkey keybinding previous preview layout abstractaction makekeyaction generalaction actions make key localization menutitle autogenerate bibtex keys localization lang autogenerate bibtex keys globals getkeyprefs getkey keybinding autogenerate bibtex keys icontheme jabreficon make key geticon abstractaction writexmpaction generalaction actions write xmp localization menutitle write xmp metadata pdfs localization lang write xmp metadata pdfs linked selected entries globals getkeyprefs getkey keybinding write xmp abstractaction openfolder generalaction actions open folder localization menutitle open folder localization lang open folder globals getkeyprefs getkey keybinding open folder abstractaction openfile generalaction actions open external file localization menutitle open file localization lang open file globals getkeyprefs getkey keybinding open file icontheme jabreficon file geticon abstractaction openurl generalaction actions open url localization menutitle open url doi localization lang open url doi globals getkeyprefs getkey keybinding open url doi icontheme jabreficon www geticon abstractaction duplicheck generalaction actions dupli check localization menutitle find duplicates icontheme jabreficon find duplicates geticon abstractaction plaintextimport generalaction actions plain text localization menutitle entry plain text ellipses globals getkeyprefs getkey keybinding plain text abstractaction customexpaction customizeexportsaction abstractaction customimpaction customizeimportsaction abstractaction customfiletypesaction externalfiletypeeditor getaction abstractaction exporttoclipboard generalaction actions export clipboard localization menutitle export selected entries clipboard icontheme jabreficon export clipboard geticon abstractaction autosetfile generalaction actions auto set file localization lang synchronize file links ellipses globals getkeyprefs getkey keybinding synchronize files abstractaction abbreviatemedline generalaction actions abbreviate medline localization menutitle abbreviate journal names medline localization lang abbreviate journal names selected entries medline abbreviation abstractaction abbreviateiso generalaction actions abbreviate iso localization menutitle abbreviate journal names iso localization lang abbreviate journal names selected entries iso abbreviation globals getkeyprefs getkey keybinding abbreviate abstractaction unabbreviate generalaction actions unabbreviate localization menutitle unabbreviate journal names localization lang unabbreviate journal names selected entries globals getkeyprefs getkey keybinding unabbreviate abstractaction managejournals managejournalsaction abstractaction databaseproperties databasepropertiesaction abstractaction bibtexkeypattern bibtexkeypatternaction abstractaction errorconsole errorconsoleaction globals getstreameavesdropper guiappender cache abstractaction cleanupentries generalaction actions cleanup localization menutitle cleanup entries ellipses localization lang cleanup entries globals getkeyprefs getkey keybinding cleanup icontheme jabreficon cleanup entries geticon abstractaction mergeentries generalaction actions merge entries localization menutitle merge entries ellipses localization lang merge entries icontheme jabreficon merge entries geticon abstractaction downloadfulltext generalaction actions download full text localization menutitle look full text document localization lang follow doi url link try locate pdf full text document abstractaction increasefontsize increasetablefontsizeaction abstractaction decresefontsize decreasetablefontsizeaction abstractaction resolveduplicatekeys generalaction actions resolve duplicate keys localization menutitle resolve duplicate bibtex keys localization lang find remove duplicate bibtex keys globals getkeyprefs getkey keybinding resolve duplicate bibtex keys abstractaction sendasemail generalaction actions send email localization lang send email icontheme jabreficon email geticon masssetfieldaction masssetfield masssetfieldaction managekeywordsaction managekeywords managekeywordsaction generalaction findunlinkedfiles generalaction findunlinkedfilesdialog action command findunlinkedfilesdialog action menu title findunlinkedfilesdialog action short description globals getkeyprefs getkey keybinding find unlinked files autolinkfilesaction autolinkfile autolinkfilesaction pushtoapplicationbutton pushexternalbutton pushtoapplications pushapplications generalfetcher generalfetcher openofficepanel openofficepanel groupselector groupselector previoustabcount action adding entry unspecified type newentryaction newentryaction newentryaction globals getkeyprefs getkey keybinding entry jmenu newspec list<newentryaction> newspecificentryaction getnewentryactions action closing current database leaving window open closedatabaseaction closedatabaseaction closedatabaseaction closealldatabasesaction closealldatabasesaction closealldatabasesaction closeotherdatabasesaction closeotherdatabasesaction closeotherdatabasesaction action opening preferences dialog abstractaction showprefs showprefsaction lists containing different subsets actions different purposes list<object> specialfieldbuttons linkedlist<> list<object> opendatabaseonlyactions linkedlist<> list<object> severaldatabasesonlyactions linkedlist<> list<object> openandsaveddatabasesonlyactions linkedlist<> list<object> shareddatabaseonlyactions linkedlist<> list<object> noshareddatabaseactions linkedlist<> list<object> oneentryonlyactions linkedlist<> list<object> oneentrywithfileonlyactions linkedlist<> list<object> oneentrywithurlordoionlyactions linkedlist<> list<object> twoentriesonlyactions linkedlist<> editmodeaction abstractaction editmodeaction initname initname jabrefframe getcurrentbasepanel null putvalue action name localization menutitle switch mode bibtex biblatex else bibdatabasemode mode jabrefframe getcurrentbasepanel getbibdatabasecontext getmode string modename mode getoppositemode getformattedname putvalue action name localization menutitle switch mode modename override actionperformed actionevent evt jabrefframe getcurrentbasepanel null bibdatabasemode newmode jabrefframe getcurrentbasepanel getbibdatabasecontext getmode getoppositemode jabrefframe getcurrentbasepanel getbibdatabasecontext setmode newmode jabrefframe refreshtitleandtabs initname update elements current base panel jabrefframe getcurrentbasepanel hidebottomcomponent jabrefframe getcurrentbasepanel updateentryeditorifshowing jabrefframe init updateenabledstate list<newentryaction> getnewentryactions bibtex list<newentryaction> actions arraylist<> entrytype type bibtexentrytypes keystroke keystroke changeentrytypemenu entryshortcuts get type getname keystroke null actions add newentryaction type getname else actions add newentryaction type getname keystroke actions jpopupmenu tabpopupmenu jpopupmenu popupmenu jpopupmenu close actions jmenuitem close jmenuitem localization lang close jmenuitem closeothers jmenuitem localization lang close others jmenuitem closeall jmenuitem localization lang close close addactionlistener closedatabaseaction closeothers addactionlistener closeotherdatabasesaction closeall addactionlistener closealldatabasesaction popupmenu add close popupmenu add closeothers popupmenu add closeall popupmenu addseparator jmenuitem databasepropertiesmenu jmenuitem localization lang database properties databasepropertiesmenu addactionlistener databaseproperties popupmenu add databasepropertiesmenu jmenuitem bibtexkeypatternbtn jmenuitem localization lang bibtex key patterns bibtexkeypatternbtn addactionlistener bibtexkeypattern popupmenu add bibtexkeypatternbtn popupmenu init tabbedpane dragdroppopuppane tabpopupmenu myglasspane glasspane myglasspane setglasspane glasspane settitle frame title seticonimage imageicon icontheme geticonurl jabreficon48 getimage setdefaultcloseoperation windowconstants nothing close addwindowlistener windowadapter override windowclosing windowevent os os jabrefframe setvisible false else closeaction actionperformed null initsidepane initlayout initactions show toolbar visible last shutdown: tlb setvisible globals prefs getboolean jabrefpreferences toolbar visible setbounds graphicsenvironment getlocalgraphicsenvironment getmaximumwindowbounds windowlocation pw windowlocation jabrefpreferences pos jabrefpreferences pos jabrefpreferences size jabrefpreferences size pw displaywindowatstoredlocation tabbedpane setborder null tabbedpane setforeground guiglobals inactive tabbed color following state listener makes sure focus registered correct database user switches tabs without cut paste copy operations would times occur wrong tab tabbedpane addchangelistener markactivebasepanel basepanel currentbasepanel getcurrentbasepanel currentbasepanel null searchpreferences globals prefs isglobalsearch globalsearchbar performsearch else string content searchquery currentsearchquery currentbasepanel getcurrentsearchquery currentsearchquery null currentsearchquery getquery trim isempty content currentsearchquery getquery globalsearchbar setsearchterm content true currentbasepanel getpreviewpanel updatelayout groupselector gettoggleaction setselected sidepanemanager iscomponentvisible groupselector previewtoggle setselected globals prefs getpreviewpreferences ispreviewpanelenabled generalfetcher gettoggleaction setselected sidepanemanager iscomponentvisible generalfetcher openofficepanel gettoggleaction setselected sidepanemanager iscomponentvisible openofficesidepanel globals getfocuslistener setfocused currentbasepanel getmaintable setwindowtitle editmodeaction initname update search autocompleter information correct database: currentbasepanel updatesearchmanager set correct enabled state back forward actions: currentbasepanel setbackandforwardenabledstate currentbasepanel getundomanager postundoredoevent currentbasepanel getmaintable requestfocus note: registration apple event end initialization events happen early ie window initialized yet opened clicked documents displayed os os try macadapter registermacevents catch exception logger fatal could interface mac os methods refreshtitleandtabs setwindowtitle updatealltabtitles sets title main window setwindowtitle basepanel panel getcurrentbasepanel database open panel null settitle frame title string mode panel getbibdatabasecontext getmode getformattedname string modeinfo string format localization lang mode mode boolean isautosaveenabled globals prefs getboolean jabrefpreferences local auto save panel getbibdatabasecontext getlocation databaselocation local string changeflag panel ismodified isautosaveenabled string databasefile panel getbibdatabasecontext getdatabasefile map file::getpath orelse guiglobals untitled title settitle frame title databasefile changeflag modeinfo else panel getbibdatabasecontext getlocation databaselocation shared settitle frame title panel getbibdatabasecontext getdbmssynchronizer getdbname localization lang shared modeinfo initsidepane sidepanemanager sidepanemanager groupselector groupselector sidepanemanager openofficepanel openofficepanel sidepanemanager generalfetcher generalfetcher sidepanemanager sidepanemanager register groupselector macadapter calls method bib file clicked finder openaction string filepath file file file filepath logic done openit even raising existing panel getopendatabaseaction openfile file true general info dialog macadapter calls method selected application menu reuse normal action null parameter ok code actionperformed rely data sent event actionperformed null general preferences dialog macadapter calls method preferences selected application menu showpreferencesdialog output localization lang opening preferences prefsdialog null prefsdialog preferencesdialog jabrefframe prefsdialog setlocationrelativeto jabrefframe else prefsdialog setvalues prefsdialog setvisible true output jabrefpreferences prefs prefs tears things started jabref <p> fixme: currently threads remain therefore hinder jabref closed properly param filenames filenames currently opened files used storing prefs openlastedited set true teardownjabref list<string> filenames jabrefexecutorservice instance shutdowneverything dispose prefs putboolean jabrefpreferences window maximised getextendedstate frame maximized prefs putboolean jabrefpreferences toolbar visible tlb isvisible store divider location side pane: width splitpane getdividerlocation width prefs putint jabrefpreferences side pane width width prefs getboolean jabrefpreferences open last edited store names current files current file remove previously stored filename filenames isempty prefs remove jabrefpreferences last edited else prefs putstringlist jabrefpreferences last edited filenames file focuseddatabase getcurrentbasepanel getbibdatabasecontext getdatabasefile orelse null lastfocusedtabpreferences prefs setlastfocusedtab focuseddatabase filehistory storehistory prefs customexports store globals prefs prefs customimports store customentrytypesmanager savecustomentrytypes prefs prefs flush dispose windows even displayed anymore window window window getwindows window dispose general info dialog macadapter calls method quit selected application menu cmd pressed quit selected dock function returns boolean indicating quitting ok <p> non osx jabref calls choosing quit menu <p> side effect: tears jabref true user chose quit false otherwise boolean quit ask user really wants close base saved since last save boolean close true list<string> filenames arraylist<> tabbedpane gettabcount tabbedpane gettabcount bibdatabasecontext context getbasepanelat getbibdatabasecontext getbasepanelat ismodified context getlocation databaselocation local tabbedpane setselectedindex string filename context getdatabasefile map file::getabsolutepath orelse guiglobals untitled title answer showsavedialog filename answer joptionpane cancel option answer joptionpane closed option false answer joptionpane yes option user wants save try getcurrentbasepanel runcommand save savedatabaseaction saveaction savedatabaseaction getcurrentbasepanel saveaction runcommand saveaction iscanceled saveaction issuccess action either canceled unsuccessful break output localization lang unable save database close false catch throwable ex something prevented file saved break close false break else context getlocation databaselocation shared context converttolocaldatabase context getdbmssynchronizer closeshareddatabase context cleardbmssynchronizer autosavemanager shutdown context backupmanager shutdown context context getdatabasefile map file::getabsolutepath ifpresent filenames::add close tabbedpane gettabcount getbasepanelat issaving database still saved need wait waitforsaveoperation waitforsaveoperation show method canceled save operation done canceled false user clicked cancel teardownjabref filenames true false initlayout tabbedpane putclientproperty options content border key boolean true setprogressbarvisible false pushapplications pushtoapplications pushexternalbutton pushtoapplicationbutton pushapplications getapplications fillmenu createtoolbar setjmenubar mb getcontentpane setlayout borderlayout jpanel toolbarpanel jpanel wraplayout flowlayout left toolbarpanel add tlb toolbarpanel add globalsearchbar getcontentpane add toolbarpanel borderlayout page start splitpane setdividersize splitpane setborder null splitpane setrightcomponent tabbedpane splitpane setleftcomponent sidepanemanager getpanel getcontentpane add splitpane borderlayout center uimanager put tabbedpane contentborderinsets insets sidepanemanager updateview gridbaglayout gbl gridbaglayout gridbagconstraints con gridbagconstraints con fill gridbagconstraints con anchor gridbagconstraints west jpanel status jpanel status setlayout gbl con weighty con weightx con gridwidth con insets insets gbl setconstraints statuslabel con status add statuslabel con weightx con insets insets con gridwidth gbl setconstraints statusline con status add statusline con weightx con gridwidth gridbagconstraints remainder con insets insets gbl setconstraints progressbar con status add progressbar statuslabel setforeground guiglobals entry editor label color darker getcontentpane add status borderlayout page end drag drop tabbedpane: transferhandler xfer entrytabletransferhandler null null tabbedpane settransferhandler xfer tlb settransferhandler xfer mb settransferhandler xfer sidepanemanager getpanel settransferhandler xfer returns indexed basepanel param index base basepanel getbasepanelat basepanel tabbedpane getcomponentat returns list basepanel list<basepanel> getbasepanellist list<basepanel> returnlist arraylist<> i< getbasepanelcount returnlist add basepanel tabbedpane getcomponentat returnlist showbasepanelat tabbedpane setselectedindex showbasepanel basepanel bp tabbedpane setselectedcomponent bp returns currently viewed basepanel basepanel getcurrentbasepanel tabbedpane null null basepanel tabbedpane getselectedcomponent basepanel count getbasepanelcount tabbedpane getcomponentcount handle color active inactive jtabbedpane tabs markactivebasepanel tabbedpane getselectedindex len tabbedpane gettabcount lasttabbedpanelselectionindex lasttabbedpanelselectionindex len tabbedpane setforegroundat lasttabbedpanelselectionindex guiglobals inactive tabbed color len tabbedpane setforegroundat guiglobals active tabbed color lasttabbedpanelselectionindex gettabindex jcomponent comp tabbedpane gettabcount tabbedpane getcomponentat comp jtabbedpane gettabbedpane tabbedpane settabtitle jcomponent comp string title string tooltip index gettabindex comp tabbedpane settitleat index title tabbedpane settooltiptextat index tooltip action enabletoggle action boolean initialvalue toggle works correctly selected key set false true explicitly upon start putvalue action selected key string valueof initialvalue action enabletoggle action enabletoggle false generalaction mnemonicawareaction string command generalaction string command string text command command putvalue action name text generalaction string command string text string description command command putvalue action name text putvalue action short description description generalaction string command string text icon icon super icon command command putvalue action name text generalaction string command string text string description icon icon super icon command command putvalue action name text putvalue action short description description generalaction string command string text keystroke key command command putvalue action name text putvalue action accelerator key key generalaction string command string text string description keystroke key command command putvalue action name text putvalue action short description description putvalue action accelerator key key generalaction string command string text string description keystroke key icon icon super icon command command putvalue action name text putvalue action short description description putvalue action accelerator key key override actionperformed actionevent tabbedpane gettabcount try basepanel tabbedpane getselectedcomponent runcommand command catch throwable ex logger error problem executing command: command ex else logger info action command must disabled database open fillmenu mb setborder null jmenu file jabrefframe submenu localization menutitle file jmenu edit jabrefframe submenu localization menutitle edit jmenu search jabrefframe submenu localization menutitle search jmenu groups jabrefframe submenu localization menutitle groups jmenu bibtex jabrefframe submenu bibtex jmenu quality jabrefframe submenu localization menutitle quality jmenu view jabrefframe submenu localization menutitle view jmenu tools jabrefframe submenu localization menutitle tools jmenu options jabrefframe submenu localization menutitle options newspec jabrefframe submenu localization menutitle entry type jmenu helpmenu jabrefframe submenu localization menutitle help file add newbibtexdatabaseaction file add newbiblatexdatabaseaction file add getopendatabaseaction file add mergedatabaseaction file add save file add saveas file add saveall file add saveselectedas file add saveselectedasplain file addseparator file add importnew file add importcurrent file add exportall file add exportselected file addseparator file add connecttoshareddatabaseaction file add pullchangesfromshareddatabase file addseparator file add databaseproperties file add editmodeaction file addseparator file add filehistory file addseparator file add closedatabaseaction file add quit mb add file edit add undo edit add redo edit addseparator edit add cut edit add copy edit add paste edit addseparator edit add copykey edit add copycitekey edit add copykeyandtitle edit add copykeyandlink edit add exporttoclipboard edit add sendasemail edit addseparator edit add mark entrymarker max marking level markspecific add markentriesaction getmenuitem edit add markspecific edit add unmark edit add unmarkall edit addseparator globals prefs getboolean jabrefpreferences specialfieldsenabled boolean menuitem false globals prefs getboolean jabrefpreferences showcolumn ranking ranksubmenu jmenu rightclickmenu populatespecialfieldmenu ranksubmenu specialfield ranking edit add ranksubmenu menuitem true globals prefs getboolean jabrefpreferences showcolumn relevance edit add togglerelevance menuitem true globals prefs getboolean jabrefpreferences showcolumn quality edit add togglequalityassured menuitem true globals prefs getboolean jabrefpreferences showcolumn priority ranksubmenu jmenu rightclickmenu populatespecialfieldmenu ranksubmenu specialfield priority edit add ranksubmenu menuitem true globals prefs getboolean jabrefpreferences showcolumn printed edit add toggleprinted menuitem true globals prefs getboolean jabrefpreferences showcolumn read ranksubmenu jmenu rightclickmenu populatespecialfieldmenu ranksubmenu specialfield read status edit add ranksubmenu menuitem true menuitem edit addseparator edit add getmanagekeywords edit add getmasssetfield edit addseparator edit add selectall mb add edit search add normalsearch search add replaceall search addseparator search add jcheckboxmenuitem generalfetcher gettoggleaction prefs getboolean jabrefpreferences web search visible sidepanemanager register generalfetcher sidepanemanager show generalfetcher mb add search groups add jcheckboxmenuitem groupselector gettoggleaction prefs getboolean jabrefpreferences group sidepane visible sidepanemanager register groupselector sidepanemanager show groupselector groups addseparator groups add addtogroup groups add removefromgroup groups add movetogroup groups addseparator jradiobuttonmenuitem togglehighlightanyitem jradiobuttonmenuitem togglehighlightany groups add togglehighlightanyitem jradiobuttonmenuitem togglehighlightallitem jradiobuttonmenuitem togglehighlightall groups add togglehighlightallitem jradiobuttonmenuitem togglehighlightdisableitem jradiobuttonmenuitem togglehighlightdisable groups add togglehighlightdisableitem buttongroup highlightbuttongroup buttongroup highlightbuttongroup add togglehighlightdisableitem highlightbuttongroup add togglehighlightanyitem highlightbuttongroup add togglehighlightallitem highlightmatchinggrouppreferences highlightmatchinggrouppreferences highlightmatchinggrouppreferences globals prefs highlightmatchinggrouppreferences isall togglehighlightallitem setselected true else highlightmatchinggrouppreferences isany togglehighlightanyitem setselected true else togglehighlightdisableitem setselected true mb add groups view add getbackaction view add getforwardaction view add focustable view add nexttab view add prevtab view add sorttabs view addseparator view add increasefontsize view add decresefontsize view addseparator view add jcheckboxmenuitem toggletoolbar view add jcheckboxmenuitem enabletoggle generalfetcher gettoggleaction view add jcheckboxmenuitem groupselector gettoggleaction view add jcheckboxmenuitem togglepreview view add getnextpreviewstyleaction view add getpreviouspreviewstyleaction mb add view bibtex add newentryaction newentryaction newspecificentryaction newspec add bibtex add newspec bibtex add plaintextimport bibtex addseparator bibtex add editentry bibtex add editpreamble bibtex add editstrings bibtex addseparator bibtex add customizeaction bibtex addseparator bibtex add deleteentry mb add bibtex quality add duplicheck quality add mergeentries quality addseparator quality add resolveduplicatekeys quality add checkintegrity quality add cleanupentries quality add masssetfield quality add makekeyaction quality addseparator quality add autosetfile quality add findunlinkedfiles quality add autolinkfile quality add downloadfulltext mb add quality tools add newsubdatabaseaction tools add writexmpaction tools add jcheckboxmenuitem openofficepanel gettoggleaction tools add pushexternalbutton getmenuaction tools addseparator tools add openfolder tools add openfile tools add openurl tools add openconsole tools addseparator tools add abbreviateiso tools add abbreviatemedline tools add unabbreviate mb add tools options add showprefs abstractaction genfieldscustomization genfieldscustomizationaction abstractaction protectterms protectedtermsaction options add genfieldscustomization options add customexpaction options add customimpaction options add customfiletypesaction options add managejournals options add protectterms options add selectkeys mb add options helpmenu add help helpmenu add openforumaction helpmenu addseparator helpmenu add errorconsole helpmenu addseparator helpmenu add searchforupdateaction jmenu webmenu jabrefframe submenu localization menutitle jabref resources webmenu add jabrefwebpageaction webmenu add jabrefblogaction webmenu add jabreffacebookaction webmenu addseparator webmenu add forkmeongithubaction webmenu add developmentversionaction webmenu add changelogaction webmenu addseparator webmenu add donationaction helpmenu add webmenu helpmenu add mb add helpmenu createdisablediconsformenuentries mb jmenu submenu string name name indexof jmenu res res jmenu name substring name substring char mnemonic character touppercase name charat res setmnemonic mnemonic else res jmenu name res addparserresult parserresult pr boolean focuspanel pr toopentab add entries open tab basepanel panel getcurrentbasepanel panel null open tab add create tab: addtab pr getdatabasecontext focuspanel else list<bibentry> entries arraylist<> pr getdatabase getentries addimportedentries panel entries false else add tab db already open optional<basepanel> panel getbasepanellist stream filter getbibdatabasecontext getdatabasefile equals pr getfile findfirst panel ispresent tabbedpane setselectedcomponent panel get else addtab pr getdatabasecontext focuspanel createtoolbar tlb putclientproperty options header style key headerstyle tlb setborder null tlb setrollover true tlb setfloatable false globals prefs getboolean jabrefpreferences biblatex default mode tlb addaction newbiblatexdatabaseaction else tlb addaction newbibtexdatabaseaction tlb addaction getopendatabaseaction tlb addaction save tlb addaction saveall tlb addseparator tlb addaction cut tlb addaction copy tlb addaction paste tlb addaction undo tlb addaction redo tlb addseparator tlb addaction getbackaction tlb addaction getforwardaction tlb addseparator tlb addaction newentryaction tlb addaction editentry tlb addaction editstrings tlb addaction deleteentry tlb addseparator tlb addaction makekeyaction tlb addaction cleanupentries tlb addaction mergeentries tlb addaction pullchangesfromshareddatabase tlb addaction openconsole tlb addseparator tlb addaction mark tlb addaction unmark globals prefs getboolean jabrefpreferences specialfieldsenabled globals prefs getboolean jabrefpreferences showcolumn ranking jbutton button specialfielddropdown generatespecialfieldbuttonwithdropdown specialfield ranking tlb add button specialfieldbuttons add button globals prefs getboolean jabrefpreferences showcolumn relevance tlb addaction togglerelevance globals prefs getboolean jabrefpreferences showcolumn quality tlb addaction togglequalityassured globals prefs getboolean jabrefpreferences showcolumn priority jbutton button specialfielddropdown generatespecialfieldbuttonwithdropdown specialfield priority tlb add button specialfieldbuttons add button globals prefs getboolean jabrefpreferences showcolumn printed tlb addaction toggleprinted globals prefs getboolean jabrefpreferences showcolumn read jbutton button specialfielddropdown generatespecialfieldbuttonwithdropdown specialfield read status tlb add button specialfieldbuttons add button tlb addseparator tlb addjtogglebutton jtogglebutton generalfetcher gettoggleaction previewtoggle jtogglebutton togglepreview tlb addjtogglebutton previewtoggle tlb addjtogglebutton jtogglebutton groupselector gettoggleaction tlb addseparator tlb add pushexternalbutton getcomponent tlb addseparator tlb add donationaction tlb add forkmeongithubaction createdisablediconsforbuttons tlb displays string status line visible bottom jabref mainframe output string swingutilities invokelater statusline settext statusline repaint initactions opendatabaseonlyactions clear opendatabaseonlyactions addall arrays aslist mergedatabaseaction newsubdatabaseaction save saveas saveselectedas saveselectedasplain editmodeaction undo redo cut deleteentry copy paste mark markspecific unmark unmarkall ranksubmenu editentry selectall copykey copycitekey copykeyandtitle copykeyandlink editpreamble editstrings groupselector gettoggleaction makekeyaction normalsearch generalfetcher gettoggleaction mergeentries cleanupentries exporttoclipboard replaceall sendasemail downloadfulltext writexmpaction openofficepanel gettoggleaction findunlinkedfiles addtogroup removefromgroup movetogroup autolinkfile resolveduplicatekeys openurl openfolder openfile togglepreview duplicheck autosetfile newentryaction newspec customizeaction plaintextimport getmasssetfield getmanagekeywords pushexternalbutton getmenuaction closedatabaseaction getnextpreviewstyleaction getpreviouspreviewstyleaction checkintegrity togglehighlightany togglehighlightall togglehighlightdisable databaseproperties abbreviateiso abbreviatemedline unabbreviate exportall exportselected importcurrent saveall focustable increasefontsize decresefontsize togglerelevance togglequalityassured toggleprinted pushexternalbutton getcomponent opendatabaseonlyactions addall newspecificentryaction opendatabaseonlyactions addall specialfieldbuttons severaldatabasesonlyactions clear severaldatabasesonlyactions addall arrays aslist nexttab prevtab sorttabs openandsaveddatabasesonlyactions addall collections singletonlist openconsole shareddatabaseonlyactions addall collections singletonlist pullchangesfromshareddatabase noshareddatabaseactions addall arrays aslist save saveall oneentryonlyactions clear oneentryonlyactions addall arrays aslist editentry oneentrywithfileonlyactions clear oneentrywithfileonlyactions addall arrays aslist openfolder openfile oneentrywithurlordoionlyactions clear oneentrywithurlordoionlyactions addall arrays aslist openurl twoentriesonlyactions clear twoentriesonlyactions addall arrays aslist mergeentries tabbedpane addchangelistener event updateenabledstate takes list object calls method setenabled depending whether action component param list list contain actions components param enabled setenabled list<object> list boolean enabled object actionorcomponent list actionorcomponent instanceof action action actionorcomponent setenabled enabled actionorcomponent instanceof component component actionorcomponent setenabled enabled actionorcomponent instanceof jpanel jpanel root jpanel actionorcomponent index index root getcomponentcount index root getcomponent index setenabled enabled enable disable actions based number open tabs <p> action affected set initactions updateenabledstate tabcount tabbedpane gettabcount tabcount previoustabcount previoustabcount tabcount setenabled opendatabaseonlyactions tabcount setenabled severaldatabasesonlyactions tabcount tabcount getbackaction setenabled false getforwardaction setenabled false setenabled openandsaveddatabasesonlyactions false setenabled shareddatabaseonlyactions false tabcount basepanel current getcurrentbasepanel boolean saved current getbibdatabasecontext getdatabasefile ispresent setenabled openandsaveddatabasesonlyactions saved boolean isshared current getbibdatabasecontext getlocation databaselocation shared setenabled shareddatabaseonlyactions isshared setenabled noshareddatabaseactions isshared boolean oneentryselected current getselectedentries size setenabled oneentryonlyactions oneentryselected setenabled oneentrywithfileonlyactions isexistfile current getselectedentries setenabled oneentrywithurlordoionlyactions isexisturlordoi current getselectedentries boolean twoentriesselected current getselectedentries size setenabled twoentriesonlyactions twoentriesselected method causes open basepanels set tables anew called prefsdialog3 updates settings setupalltables action invoked without open database check one trying invoke methods execute changes preferences want notify tabs changes avoid problems changing column set tabbedpane gettabcount basepanel bf getbasepanelat update tables: bf getdatabase null bf setupmainpanel list<string> collectdatabasefilepaths list<string> dbpaths arraylist<> getbasepanelcount basepanel basepanel getbasepanellist try db file exists basepanel getbibdatabasecontext getdatabasefile ispresent dbpaths add basepanel getbibdatabasecontext getdatabasefile get getcanonicalpath else dbpaths add catch ioexception ex logger error invalid database file path: ex getmessage dbpaths list<string> getuniquepathparts list<string> dbpaths collectdatabasefilepaths fileutil uniquepathsubstrings dbpaths updatealltabtitles list<string> paths getuniquepathparts getbasepanelcount string uniqpath paths get optional<file> file getbasepanelat getbibdatabasecontext getdatabasefile file ispresent uniqpath equals file get getname remove filename uniqpath uniqpath substring uniqpath lastindexof file separator tabbedpane settitleat getbasepanelat gettabtitle \u2014 uniqpath else set original filename tabbedpane settitleat getbasepanelat gettabtitle else tabbedpane settitleat getbasepanelat gettabtitle tabbedpane settooltiptextat file map file::getabsolutepath orelse null addtab basepanel basepanel boolean raisepanel add tab tabbedpane add basepanel gettabtitle basepanel update tab titles updatealltabtitles raisepanel tabbedpane setselectedcomponent basepanel register undo redo listener basepanel getundomanager registerlistener undoredoeventmanager bibdatabasecontext context basepanel getbibdatabasecontext readyforautosave context autosavemanager autosaver autosavemanager start context autosaver registerlistener autosaveuimanager basepanel readyforbackup context backupmanager start context basepanel addtab bibdatabasecontext databasecontext boolean raisepanel objects requirenonnull databasecontext basepanel bp basepanel jabrefframe databasecontext addtab bp raisepanel bp boolean readyforautosave bibdatabasecontext context context getlocation databaselocation shared context getlocation databaselocation local globals prefs getboolean jabrefpreferences local auto save context getdatabasefile ispresent boolean readyforbackup bibdatabasecontext context context getlocation databaselocation local context getdatabasefile ispresent creates icons disabled state jmenuitems fontbasedicons given menuelement necessary swing able generate default disabled icons font based icons param menuelement menuelement disabled icons generated createdisablediconsformenuentries menuelement menuelement menuelement subelement menuelement getsubelements subelement instanceof jmenu subelement instanceof jpopupmenu createdisablediconsformenuentries subelement else subelement instanceof jmenuitem jmenuitem item jmenuitem subelement item geticon instanceof icontheme fontbasedicon item setdisabledicon icontheme fontbasedicon item geticon createdisabledicon createdisablediconsforbuttons container container index index container getcomponentcount index component component container getcomponent index component instanceof jbutton jbutton button jbutton component button geticon instanceof icontheme fontbasedicon button setdisabledicon icontheme fontbasedicon button geticon createdisabledicon else component instanceof jpanel createdisablediconsforbuttons jpanel component selectkeysaction abstractaction selectkeysaction super localization lang customize key bindings putvalue action small icon icontheme jabreficon key bindings getsmallicon override actionperformed actionevent keybindingsdialog keybindingsdialog keybindingrepository globals getkeyprefs getkeybindings setdefaultcloseoperation windowconstants dispose close pack setsize setlocationrelativeto jabrefframe setvisible true action concerned closing window closeaction mnemonicawareaction closeaction putvalue action name localization menutitle quit putvalue action short description localization lang quit jabref putvalue action accelerator key globals getkeyprefs getkey keybinding quit jabref override actionperformed actionevent quit showprefsaction mnemonicawareaction showprefsaction super icontheme jabreficon preferences geticon putvalue action name localization menutitle preferences putvalue action short description localization lang preferences override actionperformed actionevent showpreferencesdialog method job adding imported entries active database one shows importinspectiondialog preferences indicate used otherwise imports directly param panel basepanel add param entries entries add param openinnew entries imported database? addimportedentries basepanel panel list<bibentry> entries boolean openinnew swingutilities invokelater importinspectiondialog diag importinspectiondialog jabrefframe panel localization lang openinnew diag addentries entries diag entrylistcomplete diag setlocationrelativeto jabrefframe diag setvisible true diag tofront filehistorymenu getfilehistory filehistory method shows wait cursor blocks input jframe's contents block changeblocking true method reverts cursor normal stops blocking input jframe's contents adverse effects calling method redundantly unblock changeblocking false actual blocking unblocking param blocked true input blocked changeblocking boolean blocked swingutilities iseventdispatchthread getglasspane setvisible blocked else try swingutilities invokeandwait getglasspane setvisible blocked catch invocationtargetexception interruptedexception logger error problem blocked un blocking ui set visibility progress bar right end status line bottom frame <p> called event dispatch thread method uses swingutilities invokelater actual operation edt setprogressbarvisible boolean visible swingutilities iseventdispatchthread progressbar setvisible visible else swingutilities invokelater progressbar setvisible visible sets current value progress bar <p> called event dispatch thread method uses swingutilities invokelater actual operation edt setprogressbarvalue value swingutilities iseventdispatchthread progressbar setvalue value else swingutilities invokelater progressbar setvalue value sets indeterminate status progress bar <p> called event dispatch thread method uses swingutilities invokelater actual operation edt setprogressbarindeterminate boolean value swingutilities iseventdispatchthread progressbar setindeterminate value else swingutilities invokelater progressbar setindeterminate value sets maximum value progress bar always call method using progress bar set maximum value appropriate task hand <p> called event dispatch thread method uses swingutilities invokelater actual operation edt setprogressbarmaximum value swingutilities iseventdispatchthread progressbar setmaximum value else swingutilities invokelater progressbar setmaximum value boolean selected entry file param selectentrylist selected entries list current base pane true selected entry contains file false multiple entries selected selected entry contains file boolean isexistfile list<bibentry> selectentrylist selectentrylist size bibentry selectedentry selectentrylist get selectedentry getfield fieldname file ispresent false boolean selected entry url doi param selectentrylist selected entries list current base pane true selected entry contains url doi false multiple entries selected selected entry contains url doi boolean isexisturlordoi list<bibentry> selectentrylist selectentrylist size bibentry selectedentry selectentrylist get selectedentry getfield fieldname url ispresent selectedentry getfield fieldname doi ispresent false changetabaction mnemonicawareaction boolean next changetabaction boolean next putvalue action name next localization menutitle next tab localization menutitle previous tab next next putvalue action accelerator key next globals getkeyprefs getkey keybinding next tab globals getkeyprefs getkey keybinding previous tab override actionperformed actionevent tabbedpane getselectedindex newi next newi newi tabbedpane gettabcount newi tabbedpane gettabcount newi tabbedpane setselectedindex newi handling general actions cut copy paste focused component kept track globals focuslistener call action stored relevant name action map editaction mnemonicawareaction string command editaction string command string menutitle string description keystroke key icon icon super icon command command putvalue action name menutitle putvalue action accelerator key key putvalue action short description description override actionperformed actionevent logger debug globals getfocuslistener getfocused tostring jcomponent source globals getfocuslistener getfocused action action source getactionmap get command action null action actionperformed actionevent source command customizeexportsaction mnemonicawareaction customizeexportsaction putvalue action name localization menutitle manage custom exports override actionperformed actionevent exportcustomizationdialog ecd exportcustomizationdialog jabrefframe ecd setvisible true customizeimportsaction mnemonicawareaction customizeimportsaction putvalue action name localization menutitle manage custom imports override actionperformed actionevent importcustomizationdialog ecd importcustomizationdialog jabrefframe ecd setvisible true customizeentrytypeaction mnemonicawareaction customizeentrytypeaction putvalue action name localization menutitle customize entry types override actionperformed actionevent jdialog dl entrycustomizationdialog jabrefframe dl setlocationrelativeto jabrefframe dl setvisible true genfieldscustomizationaction mnemonicawareaction genfieldscustomizationaction putvalue action name localization menutitle set general fields override actionperformed actionevent genfieldscustomizer gf genfieldscustomizer jabrefframe gf setlocationrelativeto jabrefframe gf setvisible true protectedtermsaction mnemonicawareaction protectedtermsaction putvalue action name localization menutitle manage terms override actionperformed actionevent protectedtermsdialog protecttermsdialog protectedtermsdialog jabrefframe globals protectedtermsloader protecttermsdialog setvisible true databasepropertiesaction mnemonicawareaction databasepropertiesdialog propertiesdialog databasepropertiesaction putvalue action name localization menutitle database properties override actionperformed actionevent propertiesdialog null propertiesdialog databasepropertiesdialog jabrefframe propertiesdialog setpanel getcurrentbasepanel propertiesdialog updateenablestatus propertiesdialog setlocationrelativeto jabrefframe propertiesdialog setvisible true bibtexkeypatternaction mnemonicawareaction bibtexkeypatterndialog bibtexkeypatterndialog bibtexkeypatternaction putvalue action name localization lang bibtex key patterns override actionperformed actionevent jabrefpreferences getinstance bibtexkeypatterndialog null instance bibtexkeypatterndialog exists create one bibtexkeypatterndialog bibtexkeypatterndialog jabrefframe getcurrentbasepanel else bibtexkeypatterndialog allows updating content based currently selected panel bibtexkeypatterndialog setpanel getcurrentbasepanel bibtexkeypatterndialog setlocationrelativeto jabrefframe bibtexkeypatterndialog setvisible true increasetablefontsizeaction mnemonicawareaction increasetablefontsizeaction putvalue action name localization menutitle increase table font size putvalue action accelerator key globals getkeyprefs getkey keybinding increase table font size override actionperformed actionevent event currentsize guiglobals currentfont getsize guiglobals currentfont font guiglobals currentfont getfamily guiglobals currentfont getstyle currentsize globals prefs putint jabrefpreferences font size currentsize basepanel basepanel getbasepanellist basepanel updatetablefont setstatus localization lang table font size string valueof guiglobals currentfont getsize decreasetablefontsizeaction mnemonicawareaction decreasetablefontsizeaction putvalue action name localization menutitle decrease table font size putvalue action accelerator key globals getkeyprefs getkey keybinding decrease table font size override actionperformed actionevent event currentsize guiglobals currentfont getsize currentsize guiglobals currentfont font guiglobals currentfont getfamily guiglobals currentfont getstyle currentsize globals prefs putint jabrefpreferences font size currentsize basepanel basepanel getbasepanellist basepanel updatetablefont setstatus localization lang table font size string valueof guiglobals currentfont getsize myglasspane jpanel myglasspane addkeylistener keyadapter nothing addmouselistener mouseadapter nothing infolabel setforeground color setlayout borderlayout add infolabel borderlayout center super setcursor cursor getpredefinedcursor cursor wait cursor override isopaque prevent glasspane hiding window contents: override boolean isopaque false override showmessage string message string title msgtype joptionpane showmessagedialog message title msgtype override setstatus string output override showmessage string message joptionpane showmessagedialog message showsavedialog string filename object[] options localization lang save changes localization lang discard changes localization lang jabref joptionpane showoptiondialog jabrefframe localization lang database 0' changed filename localization lang save closing joptionpane yes cancel option joptionpane warning message null options options[2] closetab basepanel panel empty tab without database panel null bibdatabasecontext context panel getbibdatabasecontext panel ismodified context getlocation databaselocation local confirmclose panel removetab panel else context getlocation databaselocation shared context converttolocaldatabase context getdbmssynchronizer closeshareddatabase context cleardbmssynchronizer removetab panel else removetab panel autosavemanager shutdown context backupmanager shutdown context ask user really wants close base saved boolean confirmclose basepanel panel boolean close false string filename filename panel getbibdatabasecontext getdatabasefile map file::getabsolutepath orelse guiglobals untitled title answer showsavedialog filename answer joptionpane yes option user wants save try savedatabaseaction saveaction savedatabaseaction panel saveaction runcommand saveaction issuccess close true catch throwable ex close else answer joptionpane option discard changes close true close removetab basepanel panel panel cleanup tabbedpane remove panel tabbedpane gettabcount markactivebasepanel setwindowtitle updateenabledstate output localization lang closed database update tab titles updatealltabtitles closecurrenttab removetab getcurrentbasepanel managekeywordsaction getmanagekeywords managekeywords masssetfieldaction getmasssetfield masssetfield opendatabaseaction getopendatabaseaction open closedatabaseaction mnemonicawareaction closedatabaseaction super icontheme jabreficon close getsmallicon putvalue action name localization menutitle close database putvalue action short description localization lang close current database putvalue action accelerator key globals getkeyprefs getkey keybinding close database override actionperformed actionevent closetab getcurrentbasepanel closealldatabasesaction mnemonicawareaction override actionperformed actionevent component[] panels tabbedpane getcomponents component panels closetab basepanel closeotherdatabasesaction mnemonicawareaction override actionperformed actionevent basepanel active getcurrentbasepanel component[] panels tabbedpane getcomponents component panels objects equals active closetab basepanel toolbar osxcompatibletoolbar addaction action jbutton jbutton settext null os os setmargin marg create disabled icon fontbasedicons swing automatically create one object obj getvalue action large icon key obj instanceof icontheme fontbasedicon setdisabledicon icontheme fontbasedicon obj createdisabledicon add addjtogglebutton jtogglebutton button button settext null os os button setmargin marg object obj button getaction getvalue action large icon key obj instanceof icontheme fontbasedicon button setdisabledicon icontheme fontbasedicon obj createdisabledicon add button string getstatuslinetext statusline gettext abstractaction getforwardaction forward abstractaction getbackaction back abstractaction getnextpreviewstyleaction nextpreviewstyle abstractaction getpreviouspreviewstyleaction previouspreviewstyle jsplitpane getsplitpane splitpane sidepanemanager getsidepanemanager sidepanemanager groupselector getgroupselector groupselector setpreviewtoggle boolean enabled previewtoggle setselected enabled pushtoapplications getpushapplications pushapplications globalsearchbar getglobalsearchbar globalsearchbar undoredoeventmanager subscribe listen undoredoevent event updatetexts event jabrefframe getcurrentbasepanel updateentryeditorifshowing subscribe listen addundoableactionevent event updatetexts event updatetexts undochangeevent event swingutilities invokelater undo putvalue action short description event getundodescription undo setenabled event iscanundo redo putvalue action short description event getredodescription redo setenabled event iscanredo 
65	KeyBinding.java	GUI	net sf jabref gui keyboard net sf jabref logic l10n localization enum keybinding abbreviate abbreviate localization lang abbreviate journal names ctrl alt accept accept localization lang accept ctrl enter autogenerate bibtex keys autogenerate bibtex keys localization lang autogenerate bibtex keys ctrl automatically link files automatically link files localization lang automatically set file links f7 back back localization lang back alt left check integrity check integrity localization menutitle check integrity ctrl f8 cleanup cleanup localization lang cleanup entries f8 clear search clear search localization lang clear search escape close database close database localization lang close database ctrl close dialog close dialog localization lang close dialog escape close entry editor close entry editor localization lang close entry editor escape copy copy localization lang copy ctrl copy cite bibtex key copy \\cite bibtex key localization lang copy \\cite bibtex key ctrl copy bibtex key copy bibtex key localization lang copy bibtex key ctrl shift copy bibtex key title copy bibtex key title localization lang copy bibtex key title ctrl shift alt copy bibtex key link copy bibtex key link localization lang copy bibtex key link ctrl alt copy preview copy preview localization lang copy preview ctrl shift cut cut localization lang cut ctrl decrease table font size decrease table font size localization lang decrease table font size ctrl minus delete entry delete entry localization lang delete entry delete edit entry edit entry localization lang edit entry ctrl edit strings edit strings localization lang edit strings ctrl entry editor next entry entry editor next entry localization lang entry editor next entry ctrl shift entry editor next panel entry editor next panel localization lang entry editor next panel ctrl tab entry editor next panel entry editor next panel localization lang entry editor next panel ctrl plus entry editor previous entry entry editor previous entry localization lang entry editor previous entry ctrl shift entry editor previous panel entry editor previous panel localization lang entry editor previous panel ctrl shift tab entry editor previous panel entry editor previous panel localization lang entry editor previous panel ctrl minus entry editor store field entry editor store field localization lang entry editor store field alt file list editor move entry file list editor move entry localization lang file list editor move entry ctrl file list editor move entry file list editor move entry localization lang file list editor move entry ctrl find unlinked files find unlinked files localization lang find unlinked files shift f7 focus entry table focus entry table localization lang focus entry table alt forward forward localization lang forward alt right global search search globally localization lang search globally ctrl shift help help localization lang help f1 current database current database localization lang current database ctrl database database localization lang database ctrl alt increase table font size increase table font size localization lang increase table font size ctrl plus mark entries mark entries localization lang mark entries ctrl article article localization lang article ctrl shift book book localization lang book ctrl shift entry entry localization lang entry ctrl plain text plain text localization lang plain text ctrl shift inbook inbook localization lang inbook ctrl shift mastersthesis mastersthesis localization lang mastersthesis ctrl shift phdthesis phdthesis localization lang phdthesis ctrl shift proceedings proceedings localization lang proceedings ctrl shift unpublished unpublished localization lang unpublished ctrl shift techreport technical report localization lang technical report ctrl shift next preview layout next preview layout localization lang next preview layout f9 next tab next tab localization lang next tab ctrl page open console open terminal localization lang open terminal ctrl shift open database open database localization lang open database ctrl open file open file localization lang open file f4 open folder open folder localization lang open folder ctrl shift open open office libre office connection open openoffice libreoffice connection localization lang open openoffice libreoffice connection alt open url doi open url doi localization lang open url doi f3 paste paste localization lang paste ctrl pull changes shared database pull changes shared database localization lang pull changes shared database ctrl shift preamble editor store changes preamble editor store changes localization lang preamble editor store changes alt previous preview layout previous preview layout localization lang previous preview layout shift f9 previous tab previous tab localization lang previous tab ctrl page push application push application localization lang push application ctrl quit jabref quit jabref localization lang quit jabref ctrl redo redo localization lang redo ctrl refresh oo refresh oo localization lang refresh openoffice libreoffice ctrl alt replace string replace string localization lang replace string ctrl resolve duplicate bibtex keys resolve duplicate bibtex keys localization lang resolve duplicate bibtex keys ctrl shift save save localization lang save ctrl alt save database save database localization lang save database ctrl save database save database localization lang save database ctrl shift search search localization lang search ctrl select select localization lang select ctrl select first entry select first entry localization lang select first entry home select last entry select last entry localization lang select last entry end string dialog add string string dialog add string localization lang string dialog add string ctrl string dialog remove string string dialog remove string localization lang string dialog remove string shift delete synchronize files synchronize files localization lang synchronize files ctrl shift f7 toggle entry preview toggle entry preview localization lang toggle entry preview alt toggle groups interface toggle groups interface localization lang toggle groups interface alt unabbreviate unabbreviate localization lang unabbreviate ctrl alt shift undo undo localization lang undo ctrl unmark entries unmark entries localization lang unmark entries ctrl shift web search web search localization lang web search alt write xmp write xmp localization lang write xmp f6 string key string localization string defaultbinding keybinding string key string localization string defaultbinding key key localization localization defaultbinding defaultbinding string getkey key string getlocalization localization string getdefaultbinding defaultbinding 
66	KeyBindingsDialog.java	GUI	net sf jabref gui keyboard awt borderlayout awt dimension awt event windowadapter awt event windowevent javax swing box javax swing boxlayout javax swing jbutton javax swing jdialog javax swing joptionpane javax swing jscrollpane javax swing listselectionmodel javax swing table tablecolumnmodel net sf jabref globals net sf jabref gui util guiutil net sf jabref logic l10n localization dialog customize key bindings suppresswarnings serial keybindingsdialog jdialog keybind col keybind col added font size determining table jbutton ok jbutton localization lang ok jbutton cancel jbutton localization lang cancel jbutton resettodefaultkeybindings jbutton localization lang default jbutton grabb jbutton localization lang grab box buttonbox box boxlayout axis stores user selected key bindings keybindingrepository keybindingrepository keybindingtable table keybindingsdialog keybindingrepository keybindingrepository super settitle localization lang key bindings setmodal true needs modal client knows ok cancel clicked getcontentpane setlayout borderlayout keybindingrepository keybindingrepository table setuptable updatetabledata jscrollpane listscroller jscrollpane list jscrollpane listscroller jscrollpane table listscroller setpreferredsize dimension getcontentpane add listscroller borderlayout center grabb addkeylistener keybindingslistener table buttonbox add grabb buttonbox add resettodefaultkeybindings buttonbox add ok buttonbox add cancel getcontentpane add buttonbox borderlayout south settop activatelisteners keybinder bindclosedialogkeytocancelaction getrootpane cancel getaction addwindowlistener windowadapter override windowclosing windowevent dispose keybindingtable setuptable keybindingtable table keybindingtable table setrowselectionallowed true table setcolumnselectionallowed false table setselectionmode listselectionmodel single selection table setautocreaterowsorter true guiutil correctrowheight table table updatetabledata keybindingtablemodel tablemodel keybindingtablemodel keybindingrepository table setmodel tablemodel done time columnmodel dependent tablemodel tablecolumnmodel cm table getcolumnmodel cm getcolumn setpreferredwidth keybind col cm getcolumn setpreferredwidth keybind col activatelisteners ok addactionlistener save key bindings globals getkeyprefs setnewkeybindings keybindingrepository getkeybindings show message joptionpane showmessagedialog keybindingsdialog localization lang key bindings stored '\n' localization lang must restart jabref key bindings work properly localization lang key bindings changed joptionpane information message dispose cancel addactionlistener dispose resettodefaultkeybindings addactionlistener int[] selected table getselectedrows boolean hasnothingselected selected length hasnothingselected answer joptionpane showoptiondialog keybindingsdialog localization lang key bindings reset defaults localization lang continue? localization lang resetting key bindings joptionpane yes option joptionpane question message null string[] localization lang ok localization lang cancel localization lang ok answer joptionpane yes option keybindingrepository resettodefault updatetabledata else row selected string name string valueof table getvalueat row keybindingrepository resettodefault name string newkey keybindingrepository get name table setvalueat newkey row table repaint 
67	KeyBindingTable.java	GUI	net sf jabref gui keyboard javax swing jtable suppresswarnings serial keybindingtable jtable override boolean iscelleditable row col false string getoriginalname row keybindingtablemodel getmodel getoriginalname row 
68	KeyBindingTableModel.java	GUI	net sf jabref gui keyboard util linkedlist util list util map javax swing table abstracttablemodel net sf jabref logic l10n localization suppresswarnings serial keybindingtablemodel abstracttablemodel keybindingrepository keybindingrepository keybindingtablemodel keybindingrepository keybindingrepository keybindingrepository keybindingrepository override boolean iscelleditable row col false override string getcolumnname col col localization lang action localization lang shortcut override getcolumncount override getrowcount keybindingrepository size override object getvalueat rowindex columnindex map entry<keybinding string> row getrowdata rowindex columnindex row getkey getlocalization else row getvalue string getoriginalname rowindex getrowdata rowindex getkey getkey map entry<keybinding string> getrowdata rowindex list<map entry<keybinding string>> entries linkedlist<> keybindingrepository getkeybindings entryset entries get rowindex override setvalueat object row col col keybindingrepository put getrowdata row getkey string valueof 
69	KeyBindingPreferences.java	GUI	net sf jabref gui keyboard awt awterror awt headlessexception awt toolkit awt event inputevent util arraylist util list util objects util sortedmap util stream collectors javax swing keystroke net sf jabref logic util os net sf jabref preferences jabrefpreferences org apache commons logging log org apache commons logging logfactory keybindingpreferences log logger logfactory getlog keybindingpreferences shortcutmask jabrefpreferences prefs keybindingrepository keybindingrepository keybindingrepository keybindingpreferences jabrefpreferences prefs prefs objects requirenonnull prefs restorekeybindings returns keystroke binding defined defaults preferences keystroke getkey keybinding bindname string keybindingrepository get bindname getkey os os getkeyformac keystroke getkeystroke else keystroke getkeystroke returns keystroke binding defined defaults preferences adapted mac users command key preferred instead control todo: move os java? replace portable key codes keyevent keystroke getkeyformac keystroke ks ks null null keycode ks getkeycode ks getmodifiers inputevent ctrl mask ks else modifiers ks getmodifiers inputevent shift mask modifiers modifiers inputevent shift mask ks getmodifiers inputevent alt mask modifiers modifiers inputevent alt mask shortcutmask try shortcutmask toolkit getdefaulttoolkit getmenushortcutkeymask catch awterror headlessexception logger warn problem geting shortcut mask keystroke getkeystroke keycode shortcutmask modifiers stores key bindings preferences provided actually differ old ones setnewkeybindings sortedmap<keybinding string> newbindings newbindings equals keybindingrepository getkeybindings confirms bindings actually changed list<string> bindnames newbindings keyset stream map keybinding::getkey collect collectors tolist list<string> bindings arraylist<> newbindings values prefs putstringlist jabrefpreferences bind names bindnames prefs putstringlist jabrefpreferences bindings bindings keybindingrepository overwritebindings newbindings restorekeybindings first read bindings names list<string> bindnames prefs getstringlist jabrefpreferences bind names list<string> bindings prefs getstringlist jabrefpreferences bindings set key bindings hashmap bindnames isempty bindings isempty bindnames size bindings size nothing defined preferences something wrong keybindingrepository keybindingrepository bindnames size keybindingrepository put bindnames get bindings get returns hashmap containing key bindings sortedmap<keybinding string> getkeybindings keybindingrepository getkeybindings 
70	KeyBinder.java	GUI	net sf jabref gui keyboard javax swing action javax swing actionmap javax swing inputmap javax swing jcomponent javax swing jrootpane net sf jabref globals keybinder binds esc key cancel button param rootpane pane bind action typically variable retrieved getrootpane param cancelaction action bind bindclosedialogkeytocancelaction jrootpane rootpane action cancelaction inputmap im rootpane getinputmap jcomponent focused window actionmap rootpane getactionmap im put globals getkeyprefs getkey keybinding close dialog close put close cancelaction 
71	KeyBindingRepository.java	GUI	net sf jabref gui keyboard util arrays util optional util sortedmap util treemap keybindingrepository sorted localization sortedmap<keybinding string> bindings keybindingrepository bindings treemap<> k1 k2 k1 getlocalization compareto k2 getlocalization keybinding keybinding keybinding values bindings put keybinding keybinding getdefaultbinding keybindingrepository sortedmap<keybinding string> bindings bindings bindings optional<string> get keybinding key getkeybinding key flatmap optional ofnullable bindings get string get string key optional<keybinding> keybinding getkeybinding key optional<string> result keybinding flatmap optional ofnullable bindings get result ispresent result get else keybinding ispresent keybinding get getdefaultbinding else associated sortedmap<keybinding string> getkeybindings treemap<> bindings overwritebindings sortedmap<keybinding string> newbindings bindings clear newbindings foreach this::put put keybinding key string value getkeybinding key ifpresent binding bindings put binding value put string key string value getkeybinding key ifpresent binding bindings put binding value optional<keybinding> getkeybinding string key arrays stream keybinding values filter getkey equals key findfirst optional<keybinding> getkeybinding keybinding key arrays stream keybinding values filter equals key findfirst resettodefault string key getkeybinding key ifpresent bindings put getdefaultbinding resettodefault bindings foreach bindings put getdefaultbinding size bindings size 
72	KeyBindingsListener.java	GUI	net sf jabref gui keyboard awt event keyadapter awt event keyevent util arraylist util locale util stream collectors respond grabkey display key binding keybindingslistener keyadapter keybindingtable table keybindingslistener keybindingtable table table table override keypressed keyevent evt boolean isfunctionkey false boolean isescapekey false boolean isdeletekey false first check anything selected selrow table getselectedrow boolean isanyrowselected selrow isanyrowselected string modifier getmodifiertext evt validate code modifier key bindings must modifier: ctrl alt etc equals modifier kc evt getkeycode isfunctionkey kc keyevent vk f1 kc keyevent vk f12 isescapekey kc keyevent vk escape isdeletekey kc keyevent vk delete isfunctionkey isescapekey isdeletekey need modifier except function escape delete keys code evt getkeycode string newkey skip event triggered modifier tab backspace enter normally preset functionality alone pressed code keyevent vk alt code keyevent vk tab code keyevent vk back space code keyevent vk enter code keyevent vk space code keyevent vk control code keyevent vk shift code keyevent vk meta equals modifier isfunctionkey newkey keyevent getkeytext code else isescapekey newkey escape else isdeletekey newkey delete else else newkey modifier tolowercase locale english keyevent getkeytext code show key binding find key selected set value table setvalueat newkey selrow table revalidate table repaint collects th english translations modifiers returns separated space param evt keyevent triggered set keybindings string containing modifier keys text string getmodifiertext keyevent evt arraylist<string> modifierslist arraylist<> evt iscontroldown modifierslist add ctrl evt isaltdown modifierslist add alt evt isshiftdown modifierslist add shift evt isaltgraphdown modifierslist add alt gr evt ismetadown modifierslist add meta build string modifier texts string modifiersasstring modifierslist stream collect collectors joining modifiersasstring 
73	EmacsKeyBindings.java	GUI	net sf jabref gui keyboard awt event actionevent awt event inputevent awt event keyevent util collections util iterator util linkedlist util list javax swing action javax swing jeditorpane javax swing jtextarea javax swing jtextfield javax swing jtextpane javax swing keystroke javax swing text badlocationexception javax swing text defaulteditorkit javax swing text document javax swing text jtextcomponent javax swing text keymap javax swing text textaction javax swing text utilities net sf jabref preferences jabrefpreferences org apache commons logging log org apache commons logging logfactory generic activates emacs keybindings input link jtextcomponent inner actions also used independently emacskeybindings string kill line action emacs kill line string kill ring save action emacs kill ring save string kill region action emacs kill region string backward kill word action emacs backward kill word string capitalize word action emacs capitalize word string downcase word action emacs downcase word string kill word action emacs kill word string set mark command action emacs set mark command string yank action emacs yank string yank pop action emacs yank pop string upcase word action emacs upcase word jtextcomponent keybinding[] emacs key bindings base jtextcomponent keybinding keystroke getkeystroke keyevent vk inputevent ctrl mask defaulteditorkit endlineaction jtextcomponent keybinding keystroke getkeystroke keyevent vk inputevent ctrl mask defaulteditorkit deletenextcharaction jtextcomponent keybinding keystroke getkeystroke keyevent vk inputevent ctrl mask defaulteditorkit downaction jtextcomponent keybinding keystroke getkeystroke keyevent vk inputevent ctrl mask defaulteditorkit upaction jtextcomponent keybinding keystroke getkeystroke keyevent vk inputevent alt mask defaulteditorkit previouswordaction jtextcomponent keybinding keystroke getkeystroke keyevent vk less inputevent alt mask defaulteditorkit beginaction jtextcomponent keybinding keystroke getkeystroke keyevent vk less inputevent alt mask inputevent shift mask defaulteditorkit endaction jtextcomponent keybinding keystroke getkeystroke keyevent vk inputevent alt mask defaulteditorkit nextwordaction jtextcomponent keybinding keystroke getkeystroke keyevent vk inputevent ctrl mask defaulteditorkit backwardaction ctrl alt disabled ctrl also paste jtextcomponent keybinding keystroke getkeystroke keyevent vk inputevent ctrl mask defaulteditorkit pagedownaction jtextcomponent keybinding keystroke getkeystroke keyevent vk inputevent alt mask defaulteditorkit pageupaction jtextcomponent keybinding keystroke getkeystroke keyevent vk inputevent alt mask emacskeybindings kill word action jtextcomponent keybinding keystroke getkeystroke keyevent vk back space inputevent alt mask emacskeybindings backward kill word action jtextcomponent keybinding keystroke getkeystroke keyevent vk space inputevent ctrl mask emacskeybindings set mark command action jtextcomponent keybinding keystroke getkeystroke keyevent vk inputevent alt mask emacskeybindings kill ring save action jtextcomponent keybinding keystroke getkeystroke keyevent vk inputevent ctrl mask emacskeybindings kill region action jtextcomponent keybinding keystroke getkeystroke keyevent vk inputevent ctrl mask emacskeybindings kill line action jtextcomponent keybinding keystroke getkeystroke keyevent vk inputevent ctrl mask emacskeybindings yank action jtextcomponent keybinding keystroke getkeystroke keyevent vk inputevent alt mask emacskeybindings yank pop action jtextcomponent keybinding keystroke getkeystroke keyevent vk inputevent alt mask emacskeybindings capitalize word action jtextcomponent keybinding keystroke getkeystroke keyevent vk inputevent alt mask emacskeybindings downcase word action jtextcomponent keybinding keystroke getkeystroke keyevent vk inputevent alt mask emacskeybindings upcase word action jtextcomponent keybinding emacs key binding jtextcomponent keybinding keystroke getkeystroke keyevent vk inputevent ctrl mask defaulteditorkit beginlineaction jtextcomponent keybinding emacs key binding jtextcomponent keybinding keystroke getkeystroke keyevent vk inputevent ctrl mask defaulteditorkit forwardaction textaction[] emacs actions killwordaction emacskeybindings kill word action backwardkillwordaction emacskeybindings backward kill word action setmarkcommandaction emacskeybindings set mark command action killringsaveaction emacskeybindings kill ring save action killregionaction emacskeybindings kill region action killlineaction emacskeybindings kill line action yankaction emacskeybindings yank action yankpopaction emacskeybindings yank pop action capitalizewordaction emacskeybindings capitalize word action downcasewordaction emacskeybindings downcase word action upcasewordaction emacskeybindings upcase word action components modify jtextcomponent[] jtcs jtextcomponent[] jtextarea jtextpane jtextfield jeditorpane log logger logfactory getlog emacskeybindings loads emacs keybindings common <code>jtextcomponent< code>s shared keymap instances concrete subclasses link jtextcomponent fed keybindings original keybindings stored backup array load emacskeybindings createbackup emacskeybindings loademacskeybindings createbackup keymap oldbackup jtextcomponent getkeymap emacskeybindings jtcs[0] getclass getname oldbackup null already backup create backup jtextcomponent jtc emacskeybindings jtcs keymap orig jtc getkeymap keymap backup jtextcomponent addkeymap jtc getclass getname null action[] bound orig getboundactions action abound bound keystroke[] strokes orig getkeystrokesforaction abound keystroke stroke strokes backup addactionforkeystroke stroke abound backup setdefaultaction orig getdefaultaction restores original keybindings concrete subclasses link jtextcomponent unload emacskeybindings jtcs length keymap backup jtextcomponent getkeymap emacskeybindings jtcs[i] getclass getname backup null keymap current emacskeybindings jtcs[i] getkeymap current removebindings action[] bound backup getboundactions action abound bound keystroke[] strokes backup getkeystrokesforaction bound[i] keystroke stroke strokes current addactionforkeystroke stroke abound current setdefaultaction backup getdefaultaction activates emacs keybindings text components extending link jtextcomponent loademacskeybindings emacskeybindings logger debug loading emacs keybindings jtextcomponent jtc emacskeybindings jtcs action[] origactions jtc getactions action[] actions action[origactions length emacskeybindings emacs actions length] system arraycopy origactions actions origactions length system arraycopy emacskeybindings emacs actions actions origactions length emacskeybindings emacs actions length keymap jtc getkeymap jtextcomponent keybinding[] keybindings boolean rebindca jabrefpreferences getinstance getboolean jabrefpreferences editor emacs keybindings rebind ca boolean rebindcf jabrefpreferences getinstance getboolean jabrefpreferences editor emacs keybindings rebind cf rebindca rebindcf additionally rebind add shortcuts emacskeybindings emacs key bindings base determine size array position key bindings array size emacskeybindings emacs key bindings base length posca poscf rebindca posca size size rebindcf poscf size size generate array keybindings jtextcomponent keybinding[size] system arraycopy emacskeybindings emacs key bindings base keybindings emacskeybindings emacs key bindings base length rebindca keybindings[posca] emacskeybindings emacs key binding rebindcf keybindings[poscf] emacskeybindings emacs key binding else keybindings emacskeybindings emacs key bindings base jtextcomponent loadkeymap keybindings actions action kills next word removes next word right side cursor active text component adds clipboard suppresswarnings serial killwordaction textaction killwordaction string nm super nm override actionperformed actionevent jtextcomponent jtc gettextcomponent jtc null try offs jtc getcaretposition jtc setselectionstart offs offs emacskeybindings getwordend jtc offs jtc setselectionend offs string selectedtext jtc getselectedtext selectedtext null killring getinstance add selectedtext jtc cut catch badlocationexception ble jtc gettoolkit beep action kills previous word removes previous word left side cursor active text component adds clipboard suppresswarnings serial backwardkillwordaction textaction backwardkillwordaction string nm super nm override actionperformed actionevent jtextcomponent jtc gettextcomponent jtc null try offs jtc getcaretposition jtc setselectionend offs offs utilities getpreviousword jtc offs jtc setselectionstart offs string selectedtext jtc getselectedtext selectedtext null killring getinstance add selectedtext jtc cut catch badlocationexception ble jtc gettoolkit beep action copies marked region stores killring suppresswarnings serial killringsaveaction textaction killringsaveaction string nm super nm override actionperformed actionevent jtextcomponent jtc gettextcomponent emacskeybindings docopyorcut jtc true action kills marked region stores killring suppresswarnings serial killregionaction textaction killregionaction string nm super nm override actionperformed actionevent jtextcomponent jtc gettextcomponent emacskeybindings docopyorcut jtc false docopyorcut jtextcomponent jtc boolean copy jtc null caretposition jtc getcaretposition string text jtc getselectedtext text null user manually marked text without using ctrl obey selection copy else setmarkcommandaction ismarked jtc beginpos caretposition endpos setmarkcommandaction getcaretposition beginpos endpos tmp endpos endpos beginpos beginpos tmp jtc select beginpos endpos setmarkcommandaction reset text jtc getselectedtext text null jtc gettoolkit beep else copy jtc copy clear selection jtc select caretposition caretposition else newcaretpos jtc getselectionstart jtc cut put cursor beginning text cut jtc setcaretposition newcaretpos killring getinstance add text actin kills text end current line stores killring suppresswarnings serial killlineaction textaction killlineaction string nm super nm override actionperformed actionevent jtextcomponent jtc gettextcomponent jtc null try start jtc getcaretposition end utilities getrowend jtc start start end jtc iseditable document doc jtc getdocument doc remove end else jtc setselectionstart start jtc setselectionend end string selectedtext jtc getselectedtext selectedtext null killring getinstance add selectedtext jtc cut jtc replaceselection catch badlocationexception ble jtc gettoolkit beep action matchers beginning mark selection suppresswarnings serial setmarkcommandaction textaction position jtextcomponent jtc setmarkcommandaction string nm super nm override actionperformed actionevent setmarkcommandaction jtc gettextcomponent setmarkcommandaction jtc null setmarkcommandaction position setmarkcommandaction jtc getcaretposition boolean ismarked jtextcomponent jt setmarkcommandaction jtc jt setmarkcommandaction position reset setmarkcommandaction jtc null setmarkcommandaction position getcaretposition setmarkcommandaction position action pastes text killring suppresswarnings serial yankaction textaction start end yankaction string nm super nm override actionperformed actionevent event jtextcomponent jtc gettextcomponent event jtc null try yankaction start jtc getcaretposition jtc paste yankaction end jtc getcaretposition killring getinstance add jtc gettext yankaction start yankaction end killring getinstance setcurrenttextcomponent jtc catch badlocationexception logger info bad location yanking action pastes element killring cycling suppresswarnings serial yankpopaction textaction yankpopaction string nm super nm override actionperformed actionevent event jtextcomponent jtc gettextcomponent event boolean jtcnotnull jtc null boolean jtciscurrenttextcomponent killring getinstance getcurrenttextcomponent jtc boolean caretpositionisendoflastyank jtcnotnull jtc getcaretposition yankaction end boolean killringnotempty killring getinstance isempty jtcnotnull jtciscurrenttextcomponent caretpositionisendoflastyank killringnotempty jtc setselectionstart yankaction start jtc setselectionend yankaction end string toyank killring getinstance next toyank null jtc gettoolkit beep else jtc replaceselection toyank yankaction end jtc getcaretposition manages killed cut text pieces ring accessible link yankpopaction <p> also provides unmodifiable copy cut pieces killring jtextcomponent jtc linkedlist<string> ring linkedlist<> iterator<string> iter ring iterator killring instance killring killring getinstance killring instance setcurrenttextcomponent jtextcomponent jtc jtc jtc jtextcomponent getcurrenttextcomponent jtc adds text front kill ring <p> deviating emacs implementation make sure exact text somewhere else ring add string text text isempty ring remove text ring addfirst text ring size ring removelast iter ring iterator skip first entry one added iter next returns unmodifiable version ring list contains killed texts content kill ring list<string> getring collections unmodifiablelist ring boolean isempty ring isempty returns next text element yank popped <code>null< code> ring empty string next ring isempty null else iter hasnext iter next else iter ring iterator guaranteed throw exception since ring empty iter next action capitalizes next word right side caret suppresswarnings serial capitalizewordaction textaction capitalizewordaction string nm super nm first code link emacskeybindings downcasewordaction performed ensure word lower case first letter capialized override actionperformed actionevent event jtextcomponent jtc gettextcomponent event jtc null try downcase code start jtc getcaretposition end emacskeybindings getwordend jtc start jtc setselectionstart start jtc setselectionend end string word jtc gettext start end start jtc replaceselection word tolowercase actual capitalize code offs utilities getwordstart jtc start get first letter string jtc gettext offs we're end previous word equals ugly workaround get beginning word offs utilities getwordstart jtc offs jtc gettext offs character isletter charat jtc setselectionstart offs jtc setselectionend offs jtc replaceselection touppercase end utilities getwordend jtc offs jtc setcaretposition end catch badlocationexception ble jtc gettoolkit beep action renders characters next word lowercase suppresswarnings serial downcasewordaction textaction downcasewordaction string nm super nm override actionperformed actionevent event jtextcomponent jtc gettextcomponent event jtc null try start jtc getcaretposition end emacskeybindings getwordend jtc start jtc setselectionstart start jtc setselectionend end string word jtc gettext start end start jtc replaceselection word tolowercase jtc setcaretposition end catch badlocationexception ble jtc gettoolkit beep action renders characters next word upppercase suppresswarnings serial upcasewordaction textaction upcasewordaction string nm super nm override actionperformed actionevent event jtextcomponent jtc gettextcomponent event jtc null try start jtc getcaretposition end emacskeybindings getwordend jtc start jtc setselectionstart start jtc setselectionend end string word jtc gettext start end start jtc replaceselection word touppercase jtc setcaretposition end catch badlocationexception ble jtc gettoolkit beep getwordend jtextcomponent jtc start throws badlocationexception try utilities getnextword jtc start catch badlocationexception ble end jtc gettext length start end end else throw ble 
74	JabRefMessageHandler.java	GUI	net sf jabref gui remote util list net sf jabref jabrefgui net sf jabref cli argumentprocessor net sf jabref logic importer parserresult net sf jabref logic remote server messagehandler jabrefmessagehandler messagehandler override handlemessage string message argumentprocessor argumentprocessor argumentprocessor message split \n argumentprocessor mode remote start argumentprocessor hasparserresults throw illegalstateexception could start jabref arguments message list<parserresult> loaded argumentprocessor getparserresults loaded size parserresult pr loaded get jabrefgui getmainframe addparserresult pr 
75	SidePane.java	GUI	net sf jabref gui awt borderlayout awt component awt dimension awt gridbagconstraints awt gridbaglayout awt insets util collection javax swing box javax swing jpanel javax swing jscrollpane javax swing scrollpaneconstants side pane displayed left side jabref shows instances sidepanecomponents instance groupselector searchmanager sidepane jpanel dimension preferred size dimension gridbaglayout gridbaglayout gridbaglayout gridbagconstraints constraint gridbagconstraints jpanel mainpanel jpanel sidepane debugging border: setborder borderfactory createlineborder color blue setlayout borderlayout mainpanel setlayout gridbaglayout initialize constraint constraint anchor gridbagconstraints north constraint fill gridbagconstraints constraint gridwidth gridbagconstraints remainder constraint insets insets constraint gridheight constraint weightx added scrollpane fix: jscrollpane sp jscrollpane mainpanel scrollpaneconstants vertical scrollbar needed scrollpaneconstants horizontal scrollbar needed sp setborder null remove scroll panel change sp mainpanel comment jscrollpane declaration super add sp setcomponents collection<sidepanecomponent> comps mainpanel removeall totalweights sidepanecomponent comps constraint weighty getrescalingweight totalweights getrescalingweight gridbaglayout setconstraints constraint mainpanel add totalweights fill vertical space components start top constraint weighty component bx box createverticalglue gridbaglayout setconstraints bx constraint mainpanel add bx revalidate repaint override remove component mainpanel remove override dimension getmaximumsize getpreferredsize override dimension getpreferredsize preferred size 
76	EntryTypeList.java	GUI	net sf jabref gui awt gridbagconstraints awt event actionevent awt event actionlistener util list util optional javax swing jbutton javax swing joptionpane javax swing event listselectionevent javax swing event listselectionlistener net sf jabref globals net sf jabref logic bibtexkeypattern bibtexkeypatternutil net sf jabref logic l10n localization net sf jabref model entrytypes net sf jabref model database bibdatabasemode net sf jabref model entry customentrytype net sf jabref model entry entrytype net sf jabref preferences jabrefpreferences fieldsetcomponent provide required functionality list entry types entrycustomizationdialog author alver entrytypelist fieldsetcomponent listselectionlistener jbutton def jbutton localization lang default bibdatabasemode mode creates instance entrytypelist entrytypelist list<string> fields bibdatabasemode mode super localization lang entry types fields false true mode mode con gridx con gridy con fill gridbagconstraints vertical con anchor gridbagconstraints east gbl setconstraints def con add def list addlistselectionlistener def addactionlistener def setenabled false remove setenabled false override addfield string str string str trim forcelowercase tolowercase equals listmodel contains string teststring bibtexkeypatternutil checklegalkey globals prefs getboolean jabrefpreferences enforce legal bibtex key teststring equals indexof report error exit joptionpane showmessagedialog localization lang entry type names allowed contain white space following characters localization lang error joptionpane error message else comment equalsignorecase report error exit joptionpane showmessagedialog localization lang name 'comment' cannot used entry type name localization lang error joptionpane error message addfielduncritically override removeselected super removeselected int[] selected list getselectedindices selected length changesmade true selected length string typename listmodel get selected[selected length i] optional<entrytype> type entrytypes gettype typename mode custom entry type remove type null means user must added yet applied remove case well standard type cannot removed type ispresent type get instanceof customentrytype listmodel removeelementat selected[selected length i] else happen since remove button disabled joptionpane showmessagedialog null localization lang entry type cannot removed localization lang remove entry type joptionpane error message override valuechanged listselectionevent nothing enable string typename boolean ischanged string string list getselectedvalue entrytypes getstandardtype typename mode ispresent optional<entrytype> entrytype entrytypes gettype typename mode ischanged entrytype ispresent entrytype get instanceof customentrytype def setenabled true else def setenabled false remove setenabled false else def setenabled false remove setenabled true adddefaultactionlistener actionlistener def addactionlistener override actionperformed actionevent default button pressed getsource def def setenabled false else super actionperformed override setenabled boolean en super setenabled en def setenabled en 
77	BasePanel.java	GUI	net sf jabref gui awt borderlayout awt toolkit awt datatransfer clipboard awt datatransfer clipboardowner awt datatransfer stringselection awt datatransfer transferable awt event actionevent awt event keyadapter awt event keyevent io file io ioexception io stringreader lang reflect invocationtargetexception nio charset charset nio charset unsupportedcharsetexception nio file path util arraylist util collection util collections util hashmap util list util map util objects util optional util set util timertask javax swing abstractaction javax swing borderfactory javax swing jcomponent javax swing joptionpane javax swing jpanel javax swing jsplitpane javax swing jtextarea javax swing swingutilities javax swing tree treepath javax swing undo cannotredoexception javax swing undo cannotundoexception net sf jabref globals net sf jabref jabrefexecutorservice net sf jabref collab changescanner net sf jabref collab fileupdatelistener net sf jabref collab fileupdatepanel net sf jabref gui actions actions net sf jabref gui actions baseaction net sf jabref gui actions cleanupaction net sf jabref gui actions copybibtexkeyandlinkaction net sf jabref gui bibtexkeypattern searchfixduplicatelabels net sf jabref gui desktop jabrefdesktop net sf jabref gui entryeditor entryeditor net sf jabref gui exporter exporttoclipboardaction net sf jabref gui exporter savedatabaseaction net sf jabref gui externalfiles findfulltextaction net sf jabref gui externalfiles synchronizefilefield net sf jabref gui externalfiles writexmpaction net sf jabref gui externalfiletype externalfilemenuitem net sf jabref gui externalfiletype externalfiletype net sf jabref gui externalfiletype externalfiletypes net sf jabref gui fieldeditors fieldeditor net sf jabref gui filelist attachfileaction net sf jabref gui filelist filelistentry net sf jabref gui filelist filelisttablemodel net sf jabref gui groups groupaddremovedialog net sf jabref gui groups groupselector net sf jabref gui groups grouptreenodeviewmodel net sf jabref gui importer actions appenddatabaseaction net sf jabref gui journals abbreviateaction net sf jabref gui journals unabbreviateaction net sf jabref gui keyboard keybinding net sf jabref gui maintable maintable net sf jabref gui maintable maintabledatamodel net sf jabref gui maintable maintableformat net sf jabref gui maintable maintableselectionlistener net sf jabref gui mergeentries fetchandmergeentry net sf jabref gui mergeentries mergeentriesdialog net sf jabref gui plaintextimport textinputdialog net sf jabref gui specialfields specialfielddatabasechangelistener net sf jabref gui specialfields specialfieldvalueviewmodel net sf jabref gui specialfields specialfieldviewmodel net sf jabref gui undo countingundomanager net sf jabref gui undo namedcompound net sf jabref gui undo undoablechangetype net sf jabref gui undo undoablefieldchange net sf jabref gui undo undoableinsertentry net sf jabref gui undo undoablekeychange net sf jabref gui undo undoableremoveentry net sf jabref gui util component checkboxmessage net sf jabref gui worker abstractworker net sf jabref gui worker callback net sf jabref gui worker markentriesaction net sf jabref gui worker sendasemailaction net sf jabref gui worker worker net sf jabref logic autocompleter autocompletepreferences net sf jabref logic autocompleter autocompleter net sf jabref logic autocompleter autocompleterfactory net sf jabref logic autocompleter contentautocompleters net sf jabref logic bibtexkeypattern bibtexkeypatternutil net sf jabref logic citationstyle citationstylecache net sf jabref logic exporter bibtexdatabasewriter net sf jabref logic exporter filesavesession net sf jabref logic exporter saveexception net sf jabref logic exporter savepreferences net sf jabref logic exporter savesession net sf jabref logic l10n encodings net sf jabref logic l10n localization net sf jabref logic layout layout net sf jabref logic layout layouthelper net sf jabref logic search searchquery net sf jabref logic util fileextensions net sf jabref logic util updatefield net sf jabref logic util io filebasedlock net sf jabref logic util io fileutil net sf jabref logic util io regexpfilesearch net sf jabref model fieldchange net sf jabref model bibtexkeypattern abstractbibtexkeypattern net sf jabref model database bibdatabase net sf jabref model database bibdatabasecontext net sf jabref model database databaselocation net sf jabref model database keycollisionexception net sf jabref model database event entryaddedevent net sf jabref model database event entryremovedevent net sf jabref model entry bibentry net sf jabref model entry entrytype net sf jabref model entry fieldname net sf jabref model entry idgenerator net sf jabref model entry event entrychangedevent net sf jabref model entry event entryeventsource net sf jabref model entry specialfields specialfield net sf jabref model entry specialfields specialfieldvalue net sf jabref preferences highlightmatchinggrouppreferences net sf jabref preferences jabrefpreferences net sf jabref preferences previewpreferences net sf jabref shared dbmssynchronizer ca odell glazedlists event listeventlistener com google common eventbus subscribe com jgoodies forms builder formbuilder com jgoodies forms layout formlayout org apache commons logging log org apache commons logging logfactory basepanel jpanel clipboardowner fileupdatelistener log logger logfactory getlog basepanel divider size baseframe split pane means non resizable split pane divider size bibdatabasecontext bibdatabasecontext maintabledatamodel tablemodel citationstylecache citationstylecache contain instantiated entry editors save time enums must null basepanelmode mode basepanelmode showing nothing entryeditor currenteditor maintableselectionlistener selectionlistener listeventlistener<bibentry> groupshighlightlistener jsplitpane splitpane jabrefframe frame string filemonitorhandle boolean saving boolean updatedexternally autocompleter used search bar autocompleter<string> searchautocompleter undo manager undoaction undoaction undoaction redoaction redoaction redoaction countingundomanager undomanager countingundomanager list<bibentry> previousentries arraylist<> list<bibentry> nextentries arraylist<> boolean basechanged boolean nonundoablechange used track whether base changed since last save maintable maintable maintableformat tableformat bibentry showing variable prevent erroneous update back forward histories time back forward operation processed: boolean backorforwardinprogress switching entries preambleeditor preambleeditor keeps track preamble dialog open stringdialog stringdialog keeps track string dialog open map<string object> actions hashmap<> sidepanemanager sidepanemanager contentautocompleters autocompleters searchquery currentsearchquery basepanel jabrefframe frame bibdatabasecontext bibdatabasecontext objects requirenonnull frame objects requirenonnull bibdatabasecontext bibdatabasecontext bibdatabasecontext sidepanemanager frame getsidepanemanager frame frame tablemodel maintabledatamodel getbibdatabasecontext citationstylecache citationstylecache bibdatabasecontext setupmainpanel setupactions getdatabase registerlistener searchlistener ensure addition entry entry added groups interface bibdatabasecontext getdatabase registerlistener grouptreelistener optional<file> file bibdatabasecontext getdatabasefile file ispresent register get notifications outside changes file try filemonitorhandle globals getfileupdatemonitor addupdatelistener file get catch ioexception ex logger warn could register fileupdatemonitor ex else bibdatabasecontext getdatabase hasentries database empty file assigned database came treated somehow mark changed basechanged true returns collection autocompleters populated current database contentautocompleters getautocompleters autocompleters string gettabtitle stringbuilder title stringbuilder databaselocation databaselocation bibdatabasecontext getlocation boolean isautosaveenabled globals prefs getboolean jabrefpreferences local auto save databaselocation databaselocation local bibdatabasecontext getdatabasefile ispresent check file modified string changeflag ismodified isautosaveenabled title append bibdatabasecontext getdatabasefile get getname append changeflag else title append guiglobals untitled title getdatabase hasentries database empty file assigned database came treated somehow mark changed also happens internally basepanel ensure consistency line title append else databaselocation databaselocation shared title append bibdatabasecontext getdbmssynchronizer getdbname localization lang shared title tostring boolean ismodified basechanged basepanelmode getmode mode setmode basepanelmode mode mode mode jabrefframe frame frame output string frame output setupactions savedatabaseaction saveaction savedatabaseaction cleanupaction cleanupaction cleanupaction globals prefs actions put actions undo undoaction actions put actions redo redoaction actions put actions focus table baseaction maintable requestfocus action opening entry editor actions put actions edit baseaction selectionlistener::editsignalled action saving database actions put actions save saveaction actions put actions save baseaction saveaction::saveas actions put actions save selected saveselectedaction savepreferences databasesavetype actions put actions save selected plain saveselectedaction savepreferences databasesavetype plain bibtex action copying selected entries actions put actions copy baseaction copy actions put actions print preview printpreviewaction actions put actions cut baseaction this::cut modify action sure adjust actions cut except localization delete confirmation actions copy call actions put actions delete baseaction delete false action pasting entries cell contents robust detection available content flavors look first one offered support parsing string flavor clipboard contents bibtex entries allows paste entire bibtex entries text editor web browser etc copy paste entries multiple instances jabref since text representation seems get far clipboard least system actions put actions paste baseaction paste actions put actions select baseaction maintable::selectall action opening preamble editor actions put actions edit preamble baseaction preambleeditor null preambleeditor form preambleeditor frame basepanel bibdatabasecontext getdatabase form setlocationrelativeto frame form setvisible true preambleeditor form else preambleeditor setvisible true action opening string editor actions put actions edit strings baseaction stringdialog null stringdialog form stringdialog frame basepanel bibdatabasecontext getdatabase form setvisible true stringdialog form else stringdialog setvisible true actions put findunlinkedfilesdialog action command baseaction findunlinkedfilesdialog dialog findunlinkedfilesdialog frame frame basepanel dialog setlocationrelativeto frame dialog setvisible true action auto generating keys actions put actions make key abstractworker list<bibentry> entries numselected boolean canceled run first edt: override init entries getselectedentries numselected entries size entries isempty none selected inform user select entries first joptionpane showmessagedialog frame localization lang first select entries want keys generated localization lang autogenerate bibtex keys joptionpane information message frame block output formatoutputmessage localization lang generating bibtex key numselected run second different thread: override run want generate keys entries already one thus remove entries globals prefs getboolean jabrefpreferences avoid overwriting key entries removeif bibentry::hascitekey we're going override cite keys warn user else globals prefs getboolean jabrefpreferences warn overwriting key entries parallelstream anymatch bibentry::hascitekey checkboxmessage cbm checkboxmessage localization lang one keys overwritten continue? localization lang disable confirmation dialog false answer joptionpane showconfirmdialog frame cbm localization lang overwrite keys joptionpane yes option globals prefs putboolean jabrefpreferences warn overwriting key cbm isselected user want overide cite keys answer joptionpane option canceled true generate cite keys entry namedcompound ce namedcompound localization lang autogenerate bibtex keys abstractbibtexkeypattern citekeypattern bibdatabasecontext getmetadata getcitekeypattern globals prefs getbibtexkeypatternpreferences getkeypattern bibentry entry entries string oldcitekey entry getcitekeyoptional orelse bibtexkeypatternutil makelabel citekeypattern bibdatabasecontext getdatabase entry globals prefs getbibtexkeypatternpreferences string newcitekey entry getcitekeyoptional orelse oldcitekey equals newcitekey ce addedit undoablekeychange entry oldcitekey newcitekey ce end register undo event cite keys generated ce hasedits getundomanager addedit ce run third edt: override update canceled frame unblock markbasechanged numselected entries size prevent selection loss autogenerated bibtex keys bibentry bibentry entries swingutilities invokelater row maintable findentry bibentry row maintable getselectedrowcount entries size maintable addrowselectioninterval row row output formatoutputmessage localization lang generated bibtex key numselected frame unblock action cleaning entry actions put actions cleanup cleanupaction actions put actions merge entries baseaction mergeentriesdialog basepanel actions put actions search baseaction frame getglobalsearchbar ::focus actions put actions global search baseaction frame getglobalsearchbar ::performglobalsearch action copying selected entry's key actions put actions copy key baseaction copykey action copying cite selected entry actions put actions copy cite key baseaction copycitekey action copying bibtex key title first selected entry actions put actions copy key title baseaction copykeyandtitle action copying bibtex keys hyperlinks urls selected entries actions put actions copy key link copybibtexkeyandlinkaction maintable actions put actions merge database appenddatabaseaction frame actions put actions add file link attachfileaction actions put actions open external file baseaction openexternalfile actions put actions open folder baseaction jabrefexecutorservice instance execute list<file> files fileutil getlistoflinkedfiles maintable getselectedentries bibdatabasecontext getfiledirectory globals prefs getfiledirectorypreferences file files try jabrefdesktop openfolderandselectfile getabsolutepath catch ioexception logger info could open folder actions put actions open console baseaction jabrefdesktop openconsole frame getcurrentbasepanel getbibdatabasecontext getdatabasefile orelse null actions put actions pull changes shared database baseaction dbmssynchronizer dbmssynchronizer frame getcurrentbasepanel getbibdatabasecontext getdbmssynchronizer dbmssynchronizer pullchanges actions put actions open url openurlaction actions put actions merge fetched entry baseaction maintable getselectedentries size bibentry originalentry maintable getselectedentries get fetchandmergeentry originalentry fetchandmergeentry supported fields else joptionpane showmessagedialog frame localization lang operation requires exactly one item selected localization lang merge entry information fieldname orfields fieldname getdisplayname fieldname doi fieldname getdisplayname fieldname isbn fieldname getdisplayname fieldname eprint joptionpane information message actions put actions replace baseaction replacestringdialog rsd replacestringdialog frame rsd setvisible true rsd okpressed counter namedcompound ce namedcompound localization lang replace string rsd selonly bibentry maintable getselectedentries counter rsd replace ce else bibentry entry bibdatabasecontext getdatabase getentries counter rsd replace entry ce output localization lang replaced counter counter localization lang occurrence localization lang occurrences counter ce end getundomanager addedit ce markbasechanged actions put actions dupli check baseaction jabrefexecutorservice instance execute duplicatesearch basepanel actions put actions plain text baseaction get type entry entrytypedialog etd entrytypedialog frame etd setlocationrelativeto basepanel etd setvisible true entrytype tp etd getchoice tp null string id idgenerator next bibentry bibentry bibentry id tp getname textinputdialog tidialog textinputdialog frame bibentry tidialog setlocationrelativeto basepanel tidialog setvisible true tidialog okpressed updatefield setautomaticfields collections singletonlist bibentry false false globals prefs getupdatefieldpreferences insertentry bibentry actions put actions mark entries markentriesaction frame actions put actions unmark entries baseaction try list<bibentry> bes maintable getselectedentries bes isempty output localization lang operation requires one entries selected namedcompound ce namedcompound localization lang unmark entries bibentry bes entrymarker unmarkentry false bibdatabasecontext getdatabase ce ce end getundomanager addedit ce markbasechanged string outputstr bes size outputstr localization lang unmarked selected entry else outputstr localization lang unmarked selected entries integer tostring bes size output outputstr catch throwable ex logger warn could unmark ex actions put actions unmark baseaction namedcompound ce namedcompound localization lang unmark bibentry bibdatabasecontext getdatabase getentries entrymarker unmarkentry false bibdatabasecontext getdatabase ce ce end getundomanager addedit ce markbasechanged output localization lang unmarked entries note can't put number entries reverted undotext concrete number cannot injected actions put specialfieldvalueviewmodel specialfield relevance getvalues get getactionname specialfieldviewmodel specialfield relevance getspecialfieldaction specialfield relevance getvalues get frame actions put specialfieldvalueviewmodel specialfield quality getvalues get getactionname specialfieldviewmodel specialfield quality getspecialfieldaction specialfield quality getvalues get frame actions put specialfieldvalueviewmodel specialfield printed getvalues get getactionname specialfieldviewmodel specialfield printed getspecialfieldaction specialfield printed getvalues get frame specialfieldvalue prio specialfield priority getvalues actions put specialfieldvalueviewmodel prio getactionname specialfieldviewmodel specialfield priority getspecialfieldaction prio frame specialfieldvalue rank specialfield ranking getvalues actions put specialfieldvalueviewmodel rank getactionname specialfieldviewmodel specialfield ranking getspecialfieldaction rank frame specialfieldvalue status specialfield read status getvalues actions put specialfieldvalueviewmodel status getactionname specialfieldviewmodel specialfield read status getspecialfieldaction status frame actions put actions toggle preview baseaction previewpreferences previewpreferences globals prefs getpreviewpreferences boolean enabled previewpreferences ispreviewpanelenabled previewpreferences newpreviewpreferences previewpreferences getbuilder withpreviewpanelenabled enabled build globals prefs storepreviewpreferences newpreviewpreferences setpreviewactivebasepanels enabled frame setpreviewtoggle enabled actions put actions toggle highlights groups matching baseaction highlightmatchinggrouppreferences globals prefs settoany ping listener updates: groupshighlightlistener listchanged null actions put actions toggle highlights groups matching baseaction highlightmatchinggrouppreferences globals prefs settoall ping listener updates: groupshighlightlistener listchanged null actions put actions toggle highlights groups matching disable baseaction highlightmatchinggrouppreferences globals prefs settodisabled ping listener updates: groupshighlightlistener listchanged null actions put actions next preview style baseaction selectionlistener::nextpreviewstyle actions put actions previous preview style baseaction selectionlistener::previouspreviewstyle actions put actions export clipboard exporttoclipboardaction frame actions put actions send email sendasemailaction frame actions put actions write xmp writexmpaction actions put actions abbreviate iso abbreviateaction true actions put actions abbreviate medline abbreviateaction false actions put actions unabbreviate unabbreviateaction actions put actions auto set file synchronizefilefield actions put actions back baseaction basepanel this::back actions put actions forward baseaction basepanel this::forward actions put actions resolve duplicate keys searchfixduplicatelabels actions put actions add group groupaddremovedialog true false actions put actions remove group groupaddremovedialog false false actions put actions move group groupaddremovedialog true true actions put actions download full text findfulltextaction copy list<bibentry> bes maintable getselectedentries bes isempty user maybe selected single cell todo: check actually happen int[] rows maintable getselectedrows int[] cols maintable getselectedcolumns cols length rows length copy single value object maintable getvalueat rows[0] cols[0] null stringselection ss stringselection tostring toolkit getdefaulttoolkit getsystemclipboard setcontents ss basepanel output localization lang copied cell contents else transferablebibtexentry trbe transferablebibtexentry bes look clipboardmanager toolkit getdefaulttoolkit getsystemclipboard setcontents trbe basepanel output formatoutputmessage localization lang copied bes size cut runcommand actions copy cannot call runcommand actions delete call delete false wrong parameter delete true removes selected entries database param cut false user get asked really wants delete entries localized deleted true action localized cut delete boolean cut list<bibentry> entries maintable getselectedentries entries isempty cut showdeleteconfirmationdialog entries size select next entry stay place previous we're already end maintable getselectedrow maintable getrowcount selectnextentry else selectpreviousentry namedcompound compound cut compound namedcompound entries size localization lang cut entries localization lang cut entry else compound namedcompound entries size localization lang delete entries localization lang delete entry bibentry entry entries compound addedit undoableremoveentry bibdatabasecontext getdatabase entry basepanel bibdatabasecontext getdatabase removeentry entry ensurenotshowingbottompanel entry compound end getundomanager addedit compound markbasechanged frame output formatoutputmessage cut localization lang cut localization lang deleted entries size prevent main table loosing focus maintable requestfocus paste collection<bibentry> bes clipboardmanager extractbibentriesfromclipboard finally paste entries either came transferablebibtexentries parsed string bes isempty namedcompound ce namedcompound bes size localization lang paste entries localization lang paste entry store first inserted bibtexentry bes[0] work bes[0] first clonded inserted entry used open entry editor first inserted entry bibentry firstbe null bibentry be1 bes bibentry bibentry be1 clone firstbe null firstbe updatefield setautomaticfields globals prefs getupdatefieldpreferences clone entries since pasted entries must exist independently copied ones setid idgenerator next bibdatabasecontext getdatabase insertentry ce addedit undoableinsertentry bibdatabasecontext getdatabase basepanel ce end getundomanager addedit ce output formatoutputmessage localization lang pasted bes size markbasechanged highlightentry firstbe maintable requestfocus globals prefs getboolean jabrefpreferences auto open form selectionlistener editsignalled firstbe copycitekey list<bibentry> bes maintable getselectedentries bes isempty storecurrentedit list<string> keys arraylist<> bes size collect non null keys bibentry bes getcitekeyoptional ifpresent keys::add keys isempty output localization lang none selected entries bibtex keys string sb string join keys stringselection ss stringselection \\cite sb toolkit getdefaulttoolkit getsystemclipboard setcontents ss basepanel keys size bes size entries keys output bes size localization lang copied keys localization lang copied key else output localization lang warning: entries undefined bibtex key integer tostring bes size keys size integer tostring bes size copykey list<bibentry> bes maintable getselectedentries bes isempty storecurrentedit list<string> keys arraylist<> bes size collect non null keys bibentry bes getcitekeyoptional ifpresent keys::add keys isempty output localization lang none selected entries bibtex keys stringselection ss stringselection string join keys toolkit getdefaulttoolkit getsystemclipboard setcontents ss basepanel keys size bes size entries keys output bes size localization lang copied keys localization lang copied key else output localization lang warning: entries undefined bibtex key integer tostring bes size keys size integer tostring bes size copykeyandtitle list<bibentry> bes maintable getselectedentries bes isempty storecurrentedit ok: future version string configurable allow arbitrary exports stringreader sr stringreader \\bibtexkey \\begin title \\format[removebrackets] \\title \\end title \n layout layout try layout layouthelper sr globals prefs getlayoutformatterpreferences globals journalabbreviationloader getlayoutfromtext catch ioexception logger info could get layout stringbuilder sb stringbuilder copied collect non null keys bibentry bes hascitekey copied sb append layout dolayout bibdatabasecontext getdatabase copied output localization lang none selected entries bibtex keys stringselection ss stringselection sb tostring toolkit getdefaulttoolkit getsystemclipboard setcontents ss basepanel copied bes size entries keys output bes size localization lang copied keys localization lang copied key else output localization lang warning: entries undefined bibtex key integer tostring bes size copied integer tostring bes size openexternalfile jabrefexecutorservice instance execute list<bibentry> bes maintable getselectedentries bes size output localization lang operation requires exactly one item selected bibentry entry bes get entry hasfield fieldname file bibtex field searchandopenfile entry basepanel searchandopen filelisttablemodel filelisttablemodel filelisttablemodel entry getfield fieldname file ifpresent filelisttablemodel::setcontent filelisttablemodel getrowcount content bibtex field readable searchandopenfile entry basepanel searchandopen filelistentry flentry filelisttablemodel getentry externalfilemenuitem item externalfilemenuitem frame entry flentry link flentry type get geticon bibdatabasecontext flentry type item openlink method called jabrefframe database specific action requested user runs command defined prints error message standard error stream param command name command run runcommand string command actions containskey command logger info action defined command '\'' object actions get command try instanceof baseaction baseaction action else part uses spin's features: worker wrk abstractworker getworker worker returned getworker wrapped spin makes methods run different thread edt callback clb abstractworker getcallback abstractworker init method runs thread edt useful initial gui actions like printing message callback returned getcallback wrapped spin makes methods run edt wrk run runs potentially time consuming action without freezing gui magic line execution continue run finished clb update runs update method edt catch throwable ex action blocked jabrefframe crashing need unblock call unblock simply hide glasspane harm calling even frame blocked frame unblock logger error runcommand error: ex getmessage ex boolean savedatabase file file boolean selectedonly charset enc savepreferences databasesavetype savetype throws saveexception savesession session frame block string save database localization lang save database try savepreferences prefs savepreferences loadforsavefrompreferences globals prefs withencoding enc withsavetype savetype bibtexdatabasewriter<savesession> databasewriter bibtexdatabasewriter<> filesavesession::new selectedonly session databasewriter savepartofdatabase bibdatabasecontext maintable getselectedentries prefs else session databasewriter savedatabase bibdatabasecontext prefs registerundoablechanges session fixme: sure really thrown anywhere catch unsupportedcharsetexception ex joptionpane showmessagedialog frame localization lang could save file localization lang character encoding 0' supported enc displayname save database joptionpane error message throw saveexception rt catch saveexception ex ex specificentry error occurred processing entry highlight it: highlightentry ex getentry showentry ex getentry else logger warn could save ex joptionpane showmessagedialog frame localization lang could save file \n ex getmessage save database joptionpane error message throw saveexception rt finally frame unblock boolean commit true session getwriter couldencodeall formbuilder builder formbuilder create layout formlayout left:pref 4dlu fill:pref pref 4dlu pref jtextarea ta jtextarea session getwriter getproblemcharacters ta seteditable false builder add localization lang chosen encoding 0' could encode following characters: session getencoding displayname xy builder add ta xy builder add localization lang want do? xy string trydiff localization lang try different encoding answer joptionpane showoptiondialog frame builder getpanel save database joptionpane yes cancel option joptionpane warning message null string[] localization lang save trydiff localization lang cancel trydiff answer joptionpane option user wants use another encoding object choice joptionpane showinputdialog frame localization lang select encoding save database joptionpane question message null encodings encodings displaynames enc choice null commit false else charset newencoding charset forname string choice savedatabase file selectedonly newencoding savetype else answer joptionpane cancel option commit false commit session commit file topath bibdatabasecontext getmetadata setencoding enc make sure remember encoding used else session cancel commit registerundoablechanges savesession session namedcompound ce namedcompound localization lang save actions fieldchange change session getfieldchanges ce addedit undoablefieldchange change ce end ce hasedits getundomanager addedit ce method called jabrefframe user wants create entry argument null user prompted entry type param type type entry create newly created bibentry null operation canceled user bibentry newentry entrytype type entrytype actualtype type actualtype null find type wanted entrytypedialog etd entrytypedialog frame want center dialog make look nicer etd setlocationrelativeto frame etd setvisible true actualtype etd getchoice actualtype null dialog canceled string id idgenerator next bibentry bibentry id actualtype getname try bibdatabasecontext getdatabase insertentry set owner timestamp options enabled: list<bibentry> list arraylist<> list add updatefield setautomaticfields list true true globals prefs getupdatefieldpreferences create undoableinsertentry object getundomanager addedit undoableinsertentry bibdatabasecontext getdatabase basepanel output localization lang added 0' entry actualtype getname tolowercase going select entry make sure show entry mode already mode enter show editor mode makes sure selection trigger display entry editor adjustment splitter mode basepanelmode showing editor mode basepanelmode show editor highlightentry database changed markbasechanged entryeditor entryeditor getentryeditor showentryeditor entryeditor entryeditor requestfocus catch keycollisionexception ex logger info ex getmessage ex null grouptreelistener runnable task runnable override run update group display example reflect number contained entries changed frame getgroupselector revalidategroups access lock task instance guarded task timertask timertask timertask override run task run subscribe listen entryaddedevent addedentryevent added entry undo add current group addedentryevent getentryeventsource entryeventsource undo scheduleupdate automatically add entry selected group set groups globals prefs getboolean jabrefpreferences auto assign group frame getgroupselector gettoggleaction isselected list<bibentry> entries collections singletonlist addedentryevent getbibentry treepath[] selection frame getgroupselector getgroupstree getselectionpaths selection null possible user selected nothing therefore checked null treepath tree selection grouptreenodeviewmodel tree getlastpathcomponent addentriestogroup entries swingutilities invokelater basepanel getgroupselector valuechanged null scheduleupdate scheduleupdate quickfix dirty hack better solution would using rxjava something reactive instead nevertheless works correctly synchronized task timertask cancel timertask timertask override run task run jabrefexecutorservice instance submit timertask ensures search auto completer date entries changed aka let auto completer harvest words entry searchautocompletelistener subscribe listen entryaddedevent addedentryevent searchautocompleter addbibtexentry addedentryevent getbibentry subscribe listen entrychangedevent entrychangedevent searchautocompleter addbibtexentry entrychangedevent getbibentry ensures auto completers date entries changed aka let auto completer harvest words entry autocompletelistener subscribe listen entryaddedevent addedentryevent basepanel autocompleters addentry addedentryevent getbibentry subscribe listen entrychangedevent entrychangedevent basepanel autocompleters addentry entrychangedevent getbibentry ensures results current search updated entry inserted database searchlistener subscribe listen entryaddedevent addedentryevent frame getglobalsearchbar performsearch subscribe listen entrychangedevent entrychangedevent frame getglobalsearchbar setdontselectsearchbar true frame getglobalsearchbar performsearch subscribe listen entryremovedevent removedentryevent imo used update status found entries frame getglobalsearchbar performsearch method called jabrefframe user wants create entry param bibentry entry insertentry bibentry bibentry bibentry null try bibdatabasecontext getdatabase insertentry bibentry globals prefs getboolean jabrefpreferences use owner set owner field default value updatefield setautomaticfields bibentry true true globals prefs getupdatefieldpreferences create undoableinsertentry object getundomanager addedit undoableinsertentry bibdatabasecontext getdatabase bibentry basepanel output localization lang added 0' entry bibentry gettype markbasechanged database changed globals prefs getboolean jabrefpreferences auto open form selectionlistener editsignalled bibentry highlightentry bibentry catch keycollisionexception ex logger info collision bibtex key bibentry getid ex editentrybykeyandfocusfield string bibtexkey string fieldname list<bibentry> entries bibdatabasecontext getdatabase getentriesbykey bibtexkey entries size maintable setselected maintable findentry entries get selectionlistener editsignalled entryeditor editor getentryeditor entries get editor setfocustofield fieldname showentryeditor editor editor requestfocus updatetablefont maintable updatefont createmaintable bibdatabasecontext getdatabase registerlistener tablemodel getlistsynchronizer bibdatabasecontext getdatabase registerlistener specialfielddatabasechangelistener getinstance tableformat maintableformat bibdatabasecontext getdatabase tableformat updatetableformat maintable maintable tableformat tablemodel frame selectionlistener maintableselectionlistener maintable maintable updatefont maintable addselectionlistener selectionlistener maintable addmouselistener selectionlistener maintable addkeylistener selectionlistener maintable addfocuslistener selectionlistener add listener take care highlighting groups selection changes: groupshighlightlistener listevent highlightmatchinggrouppreferences highlightmatchinggrouppreferences highlightmatchinggrouppreferences globals prefs highlightmatchinggrouppreferences isany getgroupselector showmatchinggroups maintable getselectedentries false else highlightmatchinggrouppreferences isall getgroupselector showmatchinggroups maintable getselectedentries true else highlight getgroupselector showmatchinggroups null true maintable addselectionlistener groupshighlightlistener string clearsearch clearsearch maintable getinputmap put globals getkeyprefs getkey keybinding clear search clearsearch maintable getactionmap put clearsearch abstractaction override actionperformed actionevent need close action overshadows responsible actions main table selected switch mode case showing nothing: frame getglobalsearchbar endsearch break case showing preview: getpreviewpanel close break case showing editor: case show editor: getcurrenteditor close break default: logger warn unknown basepanelmode: mode nothing break maintable getactionmap put actions cut abstractaction override actionperformed actionevent try runcommand actions cut catch throwable ex logger warn could cut ex maintable getactionmap put actions copy abstractaction override actionperformed actionevent try runcommand actions copy catch throwable ex logger warn could copy ex maintable getactionmap put actions paste abstractaction override actionperformed actionevent try runcommand actions paste catch throwable ex logger warn could paste ex maintable addkeylistener keyadapter override keypressed keyevent keycode getkeycode treepath path frame getgroupselector getselectionpath grouptreenodeviewmodel node path null null grouptreenodeviewmodel path getlastpathcomponent iscontroldown switch keycode left rightkeystrokes displayed groupselector's popup menu changed edit groupselector accordingly case keyevent vk up: consume node null frame getgroupselector movenodeup node true break case keyevent vk down: consume node null frame getgroupselector movenodedown node true break case keyevent vk left: consume node null frame getgroupselector movenodeleft node true break case keyevent vk right: consume node null frame getgroupselector movenoderight node true break case keyevent vk page down: frame nexttab actionperformed null consume break case keyevent vk page up: frame prevtab actionperformed null consume break default: break else keycode keyevent vk enter consume try runcommand actions edit catch throwable ex logger warn could run action based key press ex setupmainpanel splitpane jsplitpane jsplitpane vertical split splitpane setdividersize split pane divider size adjustsplitter restore last splitting state maintable created creation affects stored size entryeditors check whether maintable already existed floatsearch active boolean floatsearchactive maintable null tablemodel getsearchstate maintabledatamodel displayoption createmaintable splitpane settopcomponent maintable getpane remove borders splitpane setborder borderfactory createemptyborder setborder borderfactory createemptyborder entry currently shown make sure stays shown otherwise set bottom component null mode basepanelmode showing preview mode basepanelmode showing nothing highlightentry selectionlistener getpreview getentry else mode basepanelmode showing editor mode basepanelmode showing nothing else splitpane setbottomcomponent null setlayout borderlayout removeall add splitpane borderlayout center set name autocompleter search: instantiatesearchautocompleter getdatabase registerlistener searchautocompletelistener autocompletepreferences autocompletepreferences autocompletepreferences globals prefs set autocompleters panel: globals prefs getboolean jabrefpreferences auto complete autocompleters contentautocompleters getdatabase autocompletepreferences globals journalabbreviationloader ensure autocompleters sync entries getdatabase registerlistener autocompletelistener else create empty contentautocompleters autocompletion deactivated autocompleters contentautocompleters restore floating search result needed preferences changed causes recreation main table floatsearchactive maintable showfloatsearch splitpane revalidate revalidate repaint saves divider position soon changes splitpane addpropertychangelistener jsplitpane divider location property event savedividerlocation updatesearchmanager frame getglobalsearchbar setautocompleter searchautocompleter instantiatesearchautocompleter autocompletepreferences autocompletepreferences autocompletepreferences globals prefs autocompleterfactory autocompleterfactory autocompleterfactory autocompletepreferences globals journalabbreviationloader searchautocompleter autocompleterfactory getpersonautocompleter bibentry entry bibdatabasecontext getdatabase getentries searchautocompleter addbibtexentry entry updatepreamble preambleeditor null preambleeditor updatepreamble assurestringdialognotediting stringdialog null stringdialog assurenotediting updatestringdialog stringdialog null stringdialog refreshtable adjustsplitter mode basepanelmode showing preview splitpane setdividerlocation splitpane getheight globals prefs getpreviewpreferences getpreviewpanelheight else splitpane setdividerlocation splitpane getheight globals prefs getint jabrefpreferences entry editor height boolean isshowingeditor splitpane getbottomcomponent null splitpane getbottomcomponent instanceof entryeditor showentry bibentry getshowing splitpane getbottomcomponent null special occasion showing set entry entry editor fact shown happens preferences dialog closed means must make sure entry shown setting showing null recursively calling method newentryshowing null showentry else correct entry already shown make sure editor updated entryeditor splitpane getbottomcomponent updateallfields string visname null getshowing null isshowingeditor visname entryeditor splitpane getbottomcomponent getvisiblepanelname must instantiate editor entryeditor entryeditor entryeditor frame basepanel visname null entryeditor setvisiblepanel visname showentryeditor entryeditor newentryshowing setentryeditorenabled true make sure enabled get entry editor ready edit given entry appropriate editor already cached updated returned param entry entry edited suitable entry editor entryeditor getentryeditor bibentry entry must instantiate editor first make sure old one stores last edit: storecurrentedit start one: entryeditor frame basepanel entry entryeditor getcurrenteditor currenteditor sets given entry editor bottom component split pane entry editor already shown makes sure divider move updates mode showing editor param editor entry editor add showentryeditor entryeditor editor mode basepanelmode showing editor globals prefs putint jabrefpreferences entry editor height splitpane getheight splitpane getdividerlocation mode basepanelmode showing editor currenteditor null currenteditor setmovingtodifferententry currenteditor editor splitpane setbottomcomponent editor editor getentry getshowing newentryshowing editor getentry adjustsplitter sets given preview panel bottom component split panel updates mode showing preview param preview preview show showpreview previewpanel preview mode basepanelmode showing preview splitpane setbottomcomponent preview adjustsplitter removes bottom component hidebottomcomponent mode basepanelmode showing nothing splitpane setbottomcomponent null method selects given entry scrolls view table entryeditor shown given focus afterwards highlightentry bibentry bibentry highlightentry maintable findentry bibentry method selects entry given position scrolls view table entryeditor shown given focus afterwards highlightentry pos pos pos maintable getrowcount maintable setrowselectioninterval pos pos maintable ensurevisible pos selectpreviousentry highlightentry maintable getselectedrow maintable getrowcount maintable getrowcount selectnextentry highlightentry maintable getselectedrow maintable getrowcount selectfirstentry highlightentry selectlastentry highlightentry maintable getrowcount method called entryeditor closed relay selection listener takes care rest param editor entry editor close entryeditorclosing entryeditor editor store divider location next time: globals prefs putint jabrefpreferences entry editor height splitpane getheight splitpane getdividerlocation selectionlistener entryeditorclosing editor closes entry editor preview panel showing given entry ensurenotshowingbottompanel bibentry entry mode basepanelmode showing editor currenteditor getentry entry mode basepanelmode showing preview selectionlistener getpreview getentry entry hidebottomcomponent updateentryeditorifshowing mode basepanelmode showing editor currenteditor getdisplayedbibentrytype equals currenteditor getentry gettype currenteditor updateallfields currenteditor updatesource else entry changed type must get editor newentryshowing null entryeditor neweditor getentryeditor currenteditor getentry showentryeditor neweditor entry editor showing make sure currently focused field stores changes storecurrentedit isshowingeditor entryeditor editor entryeditor splitpane getbottomcomponent editor storecurrentedit markbasechanged basechanged true swingutilities iseventdispatchthread markbasedchangedinternal else try swingutilities invokeandwait markbasedchangedinternal catch invocationtargetexception interruptedexception logger info problem marking database changed markbasedchangedinternal put asterisk behind filename indicate database changed frame setwindowtitle frame updatealltabtitles status line states base saved remove message since longer relevant different message shown leave frame getstatuslinetext startswith localization lang saved database frame output marknonundoablebasechanged nonundoablechange true markbasechanged synchronized markchangedorunchanged getundomanager haschanged basechanged markbasechanged else basechanged nonundoablechange basechanged false getbibdatabasecontext getdatabasefile ispresent frame settabtitle gettabtitle getbibdatabasecontext getdatabasefile get getabsolutepath else frame settabtitle guiglobals untitled title null frame setwindowtitle bibdatabase getdatabase bibdatabasecontext getdatabase preambleeditorclosing preambleeditor null stringsclosing stringdialog null changetypeofselectedentries string newtype list<bibentry> bes maintable getselectedentries changetype bes newtype changetype list<bibentry> entries string newtype entries null entries isempty logger error least one entry must selected able change type entries size choice joptionpane showconfirmdialog localization lang multiple entries selected want change type 0'? newtype localization lang change entry type joptionpane yes option joptionpane warning message choice joptionpane option namedcompound compound namedcompound localization lang change entry type bibentry entry entries compound addedit undoablechangetype entry entry gettype newtype entry settype newtype output formatoutputmessage localization lang changed type 0' newtype entries size compound end getundomanager addedit compound markbasechanged updateentryeditorifshowing boolean showdeleteconfirmationdialog numberofentries globals prefs getboolean jabrefpreferences confirm delete string msg msg localization lang really delete selected entry? string title localization lang delete entry numberofentries msg localization lang really delete selected entries? integer tostring numberofentries title localization lang delete multiple entries checkboxmessage cb checkboxmessage msg localization lang disable confirmation dialog false answer joptionpane showconfirmdialog frame cb title joptionpane yes option joptionpane question message cb isselected globals prefs putboolean jabrefpreferences confirm delete false answer joptionpane yes option else true relevant option set autogenerate keys entries lacking keys autogeneratekeysbeforesaving globals prefs getboolean jabrefpreferences generate keys saving namedcompound ce namedcompound localization lang autogenerate bibtex keys bibentry bes bibdatabasecontext getdatabase getentries optional<string> oldkey bes getcitekeyoptional oldkey ispresent oldkey get isempty bibtexkeypatternutil makelabel bibdatabasecontext getmetadata getcitekeypattern globals prefs getbibtexkeypatternpreferences getkeypattern bibdatabasecontext getdatabase bes globals prefs getbibtexkeypatternpreferences bes getcitekeyoptional ifpresent newkey ce addedit undoablekeychange bes oldkey orelse newkey store undo information any: ce hasedits ce end getundomanager addedit ce activates deactivates entry preview depending argument deactivating makes sure visible preview hidden param enabled setpreviewactive boolean enabled selectionlistener setpreviewactive enabled depending whether preview entry editor showing save current divider location correct preference setting savedividerlocation mode basepanelmode showing preview previewpanelheight splitpane getheight splitpane getdividerlocation previewpreferences previewpreferences globals prefs getpreviewpreferences getbuilder withpreviewpanelheight previewpanelheight build globals prefs storepreviewpreferences previewpreferences else mode basepanelmode showing editor globals prefs putint jabrefpreferences entry editor height splitpane getheight splitpane getdividerlocation undoaction baseaction override action try jcomponent focused globals getfocuslistener getfocused focused null focused instanceof fieldeditor focused hasfocus user currently editing field: check preamble: preambleeditor null focused preambleeditor getfieldeditor preambleeditor storecurrentedit else storecurrentedit getundomanager undo markbasechanged frame output localization lang undo catch cannotundoexception ex logger warn nothing undo ex frame output localization lang nothing undo markchangedorunchanged openurlaction baseaction override action list<bibentry> bes maintable getselectedentries bes size string field fieldname doi optional<string> link bes get getfield fieldname doi bes get hasfield fieldname url link bes get getfield fieldname url field fieldname url link ispresent try jabrefdesktop openexternalviewer bibdatabasecontext link get field output localization lang external viewer called catch ioexception ex output localization lang error ex getmessage else url doi found url doi fields look web links file field fallback: filelistentry entry null filelisttablemodel tm filelisttablemodel bes get getfield fieldname file ifpresent tm::setcontent tm getrowcount filelistentry flentry tm getentry fieldname url equalsignorecase flentry type get getname fieldname ps equalsignorecase flentry type get getname fieldname pdf equalsignorecase flentry type get getname entry flentry break entry null output localization lang url defined else try jabrefdesktop openexternalfileanyformat bibdatabasecontext entry link entry type output localization lang external viewer called catch ioexception output localization lang could open link logger info could open link else output localization lang operation requires exactly one item selected redoaction baseaction override action try jcomponent focused globals getfocuslistener getfocused focused null focused instanceof fieldeditor focused hasfocus user currently editing field: storecurrentedit getundomanager redo markbasechanged frame output localization lang redo catch cannotredoexception ex frame output localization lang nothing redo markchangedorunchanged printpreviewaction baseaction override action throws exception selectionlistener setpreviewactive true showpreview selectionlistener getpreview selectionlistener getpreview getprintaction actionperformed actionevent actionevent action performed null method pertaining clipboardowner interface override lostownership clipboard clipboard transferable contents nothing setentryeditorenabled boolean enabled getshowing null splitpane getbottomcomponent instanceof entryeditor entryeditor ed entryeditor splitpane getbottomcomponent ed isenabled enabled ed setenabled enabled string filemonitorhandle filemonitorhandle override fileupdated saving saving file message likely due bad timing we'll handle next polling updatedexternally true changescanner scanner changescanner frame basepanel getbibdatabasecontext getdatabasefile orelse null test: running scan automatically background getbibdatabasecontext getdatabasefile ispresent filebasedlock waitforfilelock getbibdatabasecontext getdatabasefile get topath file locked even maximum wait nothing logger error file updated externally change scan failed file locked perturb stored timestamp successive checks made: globals getfileupdatemonitor perturbtimestamp getfilemonitorhandle jabrefexecutorservice instance executewithlowpriorityinownthreadandwait scanner adding sidepane component swing work must swing thread: runnable check already notification external changes: boolean hasalready sidepanemanager hascomponent fileupdatepanel hasalready sidepanemanager hidecomponent fileupdatepanel sidepanemanager unregistercomponent fileupdatepanel fileupdatepanel pan fileupdatepanel basepanel sidepanemanager getbibdatabasecontext getdatabasefile orelse null scanner sidepanemanager register pan sidepanemanager show fileupdatepanel scanner changesfound swingutilities invokelater else setupdatedexternally false override fileremoved logger info file getbibdatabasecontext getdatabasefile get getpath deleted perform necessary cleanup basepanel closed cleanup filemonitorhandle null globals getfileupdatemonitor removeupdatelistener filemonitorhandle check fileupdatepanel basepanel shown remove it: sidepanemanager hascomponent fileupdatepanel fileupdatepanel fup fileupdatepanel sidepanemanager getcomponent fileupdatepanel fup getpanel sidepanemanager hidecomponent fileupdatepanel setupdatedexternally boolean updatedexternally get array containing currently selected entries array stable changed selection changes list containing selected entries never null list<bibentry> getselectedentries maintable getselectedentries bibdatabasecontext getbibdatabasecontext bibdatabasecontext groupselector getgroupselector frame getgroupselector boolean isupdatedexternally updatedexternally string getfilemonitorhandle filemonitorhandle setfilemonitorhandle string filemonitorhandle filemonitorhandle filemonitorhandle sidepanemanager getsidepanemanager sidepanemanager setnonundoablechange boolean nonundoablechange nonundoablechange nonundoablechange setbasechanged boolean basechanged basechanged basechanged setsaving boolean saving saving saving boolean issaving saving bibentry getshowing showing update pointer currently shown entry cases user moved entry except using back forward commands also updates history back command clears history forward command param entry entry shown newentryshowing bibentry entry call result back forward operation must take care make history changes since necessary changes already done back forward method: backorforwardinprogress showing entry backorforwardinprogress false setbackandforwardenabledstate nextentries clear objects equals entry showing add entry leaving history: showing null previousentries add showing previousentries size guiglobals max back history size previousentries remove showing entry setbackandforwardenabledstate go back recorded history update histories back forward commands back previousentries isempty bibentry toshow previousentries get previousentries size previousentries remove previousentries size add entry going back forward history: showing null nextentries add showing backorforwardinprogress true avoid history getting updated erroneously highlightentry toshow forward nextentries isempty bibentry toshow nextentries get nextentries size nextentries remove nextentries size add entry going forward back history: showing null previousentries add showing backorforwardinprogress true avoid history getting updated erroneously highlightentry toshow setbackandforwardenabledstate frame getbackaction setenabled previousentries isempty frame getforwardaction setenabled nextentries isempty string formatoutputmessage string start count string format start count count localization lang entries localization lang entry saveselectedaction baseaction savepreferences databasesavetype savetype saveselectedaction savepreferences databasesavetype savetype savetype savetype override action throws saveexception filedialog dialog filedialog frame withextension fileextensions bibtex db dialog setdefaultextension fileextensions bibtex db optional<path> chosenfile dialog savenewfile chosenfile ispresent path path chosenfile get savedatabase path tofile true globals prefs getdefaultencoding savetype frame getfilehistory newfile path tostring frame output localization lang saved selected 0' path tostring searchandopenfile bibentry entry basepanel basepanel searchandopenfile bibentry entry basepanel basepanel entry entry basepanel basepanel optional<string> searchandopen globals prefs getboolean jabrefpreferences run automatic file search optional empty search lead unexpected cpu usage perceived bug search incidentally starts directory lots stuff disabled default see fall back filename based bibtex key list<bibentry> entries collections singletonlist entry set<externalfiletype> types externalfiletypes getinstance getexternalfiletypeselection list<file> dirs arraylist<> list<string> mddirs basepanel getbibdatabasecontext getfiledirectory globals prefs getfiledirectorypreferences string mddir mddirs dirs add file mddir list<string> extensions arraylist<> externalfiletype type types extensions add type getextension run search operation: map<bibentry list<file>> result globals prefs getboolean jabrefpreferences autolink use reg exp search key string regexp globals prefs get jabrefpreferences reg exp search expression key result regexpfilesearch findfilesforset entries extensions dirs regexp globals prefs getkeyworddelimiter else boolean autolinkexactkeyonly globals prefs getboolean jabrefpreferences autolink exact key result fileutil findassociatedfiles entries extensions dirs autolinkexactkeyonly result containskey entry list<file> res result get entry res isempty string filepath res get getpath optional<string> extension fileutil getfileextension filepath extension ispresent optional<externalfiletype> type externalfiletypes getinstance getexternalfiletypebyext extension get type ispresent try jabrefdesktop openexternalfileanyformat basepanel getbibdatabasecontext filepath type basepanel output localization lang external viewer called optional filepath catch ioexception ex basepanel output localization lang error ex getmessage optional empty set preview active state basepanel instances param enabled setpreviewactivebasepanels boolean enabled frame gettabbedpane gettabcount frame getbasepanelat setpreviewactive enabled countingundomanager getundomanager undomanager maintable getmaintable maintable bibdatabasecontext getdatabasecontext bibdatabasecontext searchquery getcurrentsearchquery currentsearchquery setcurrentsearchquery searchquery currentsearchquery currentsearchquery currentsearchquery citationstylecache getcitationstylecache citationstylecache previewpanel getpreviewpanel selectionlistener null occurs called instantiating basepanel null selectionlistener getpreview 
78	PreviewPanel.java	GUI	net sf jabref gui awt borderlayout awt dimension awt insets awt event actionevent awt print printerexception io ioexception io stringreader util optional util regex pattern javax print attribute hashprintrequestattributeset javax print attribute printrequestattributeset javax print attribute standard jobname javax swing abstractaction javax swing action javax swing actionmap javax swing inputmap javax swing jcomponent javax swing joptionpane javax swing jpanel javax swing jpopupmenu javax swing jscrollpane javax swing scrollpaneconstants javax swing swingutilities javax swing event hyperlinkevent net sf jabref globals net sf jabref jabrefexecutorservice net sf jabref gui desktop jabrefdesktop net sf jabref gui fieldeditors previewpaneltransferhandler net sf jabref gui keyboard keybinding net sf jabref gui worker citationstyleworker net sf jabref logic citationstyle citationstyle net sf jabref logic exporter exportformats net sf jabref logic l10n localization net sf jabref logic layout layout net sf jabref logic layout layouthelper net sf jabref logic search searchqueryhighlightlistener net sf jabref model database bibdatabasecontext net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model entry event fieldchangedevent net sf jabref preferences previewpreferences com google common eventbus subscribe org apache commons logging log org apache commons logging logfactory displays bibentry using given layout format previewpanel jpanel searchqueryhighlightlistener entrycontainer log logger logfactory getlog previewpanel bibtex entry currently shown optional<bibentry> bibentry optional empty database set preview attempt resolve strings previewed entry using database optional<bibdatabasecontext> databasecontext optional empty optional<basepanel> basepanel optional empty boolean fixedlayout optional<layout> layout optional empty jeditorpanewithhighlighting previewpane jscrollpane scrollpane printaction printaction printaction closeaction closeaction closeaction copypreviewaction copypreviewaction copypreviewaction optional<pattern> highlightpattern optional empty optional<citationstyleworker> citationstyleworker optional empty param databasecontext may null optionally used resolve strings resolving pdf directories links param entry may null given entry shown otherwise call setentry make something visible param panel may null given toolbar shown right hand side previewpanel bibdatabasecontext databasecontext bibentry entry basepanel panel panel databasecontext setentry entry param panel may null given toolbar shown right hand side param databasecontext may null used resolving pdf directories links previewpanel basepanel panel bibdatabasecontext databasecontext super borderlayout true databasecontext optional ofnullable databasecontext basepanel optional ofnullable panel createpreviewpane basepanel ispresent dropped files handler created main window windows like search results window previewpane settransferhandler previewpaneltransferhandler panel frame previewpane gettransferhandler set scroll pane preview pane scrollpane jscrollpane previewpane scrollpaneconstants vertical scrollbar needed scrollpaneconstants horizontal scrollbar never scrollpane setborder null add scrollpane borderlayout center createkeybindings updatelayout createkeybindings actionmap actionmap getactionmap inputmap inputmap getinputmap jcomponent focused window string close close inputmap put globals getkeyprefs getkey keybinding close dialog close actionmap put close closeaction string copy copy inputmap put globals getkeyprefs getkey keybinding copy preview copy actionmap put copy copypreviewaction jpopupmenu createpopupmenu jpopupmenu menu jpopupmenu menu add printaction menu add copypreviewaction basepanel ifpresent menu add frame getnextpreviewstyleaction basepanel ifpresent menu add frame getpreviouspreviewstyleaction menu createpreviewpane previewpane jeditorpanewithhighlighting override dimension getpreferredscrollableviewportsize getpreferredsize previewpane setmargin insets previewpane setcomponentpopupmenu createpopupmenu previewpane seteditable false previewpane setdragenabled true effect custom transfer handler registered keep statement transfer handler removed previewpane setcontenttype text html previewpane addhyperlinklistener hyperlinkevent hyperlinkevent geteventtype hyperlinkevent eventtype activated previewpanel databasecontext ispresent try string address hyperlinkevent geturl tostring jabrefdesktop openexternalviewer previewpanel databasecontext get address fieldname url catch ioexception logger warn could open external viewer setdatabasecontext bibdatabasecontext databasecontext databasecontext optional ofnullable databasecontext optional<basepanel> getbasepanel basepanel setbasepanel basepanel basepanel basepanel optional ofnullable basepanel updatelayout fixedlayout logger debug cannot change layout layout fixed previewpreferences previewpreferences globals prefs getpreviewpreferences string style previewpreferences getpreviewcycle get previewpreferences getpreviewcycleposition citationstyle iscitationstylefile style basepanel ispresent layout optional empty citationstyle citationstyle citationstyle createcitationstylefromfile style citationstyle null basepanel get getcitationstylecache setcitationstyle citationstyle basepanel get output localization lang preview style changed to: citationstyle gettitle else updatepreviewlayout previewpreferences getpreviewstyle basepanel ispresent basepanel get output localization lang preview style changed to: localization lang preview update updatepreviewlayout string layoutfile stringreader sr stringreader layoutfile replace newline \n try layout optional layouthelper sr globals prefs getlayoutformatterpreferences globals journalabbreviationloader getlayoutfromtext catch ioexception layout optional empty logger debug layout could set setlayout layout layout layout optional ofnullable layout setentry bibentry newentry bibentry filter newentry ifpresent unregisterlistener bibentry optional ofnullable newentry bibentry ifpresent registerlistener update listener changedfieldevent suppresswarnings unused subscribe listen fieldchangedevent fieldchangedevent update override bibentry getentry bibentry orelse null update exportformats entrynumber set entry number case included preview layout citationstyleworker ispresent citationstyleworker get cancel true citationstyleworker optional empty layout ispresent stringbuilder sb stringbuilder bibentry ifpresent entry sb append layout get dolayout entry databasecontext map bibdatabasecontext::getdatabase orelse null setpreviewlabel sb tostring markhighlights else basepanel ispresent citationstyleworker optional citationstyleworker previewpane citationstyleworker get execute markhighlights previewpane highlightpattern highlightpattern setpreviewlabel string text swingutilities iseventdispatchthread previewpane settext text previewpane revalidate else swingutilities invokelater previewpane settext text previewpane revalidate scrolltotop scrolltotop swingutilities invokelater scrollpane getverticalscrollbar setvalue override highlightpattern optional<pattern> newpattern highlightpattern newpattern update optional<pattern> gethighlightpattern highlightpattern fixes layout user cannot change anymore useful testing styles settings param parameter either link string old previewstyle link citationstyle previewpanel setfixedlayout object parameter fixedlayout true parameter instanceof string updatepreviewlayout string parameter else parameter instanceof citationstyle layout optional empty basepanel ispresent basepanel get getcitationstylecache setcitationstyle citationstyle parameter else logger error unknown style type update printaction abstractaction printaction super localization lang print entry preview icontheme jabreficon printed geticon putvalue action short description localization lang print entry preview override actionperformed actionevent arg0 background takes jabrefexecutorservice instance execute try printrequestattributeset pras hashprintrequestattributeset pras add jobname bibentry flatmap bibentry::getcitekeyoptional orelse entry null previewpane print null null true null pras false catch printerexception inform user know joptionpane showmessagedialog previewpanel localization lang could print preview \n getmessage localization lang print entry preview joptionpane error message logger info could print preview close basepanel ifpresent basepanel::hidebottomcomponent closeaction abstractaction closeaction super localization lang close window icontheme jabreficon close getsmallicon putvalue action short description localization lang close window override actionperformed actionevent close copypreviewaction abstractaction copypreviewaction super localization lang copy preview icontheme jabreficon copy getsmallicon putvalue action short description localization lang copy preview putvalue action accelerator key globals getkeyprefs getkey keybinding copy preview override actionperformed actionevent previewpane selectall previewpane copy previewpane select printaction getprintaction printaction 
79	IconTheme.java	GUI	net sf jabref gui awt color awt component awt font awt fontformatexception awt fontmetrics awt graphics awt graphics2d awt renderinghints io bufferedreader io ioexception io inputstream io inputstreamreader net url nio charset standardcharsets util hashmap util map util objects javax swing icon javax swing imageicon org apache commons logging log org apache commons logging logfactory icontheme font font font font colors jabref's default colors color default color color purple color logo color default disabled color color christmas edition color default color color 0x155115 color default disabled color color 0x990000 default size small size map<string string> key icon readiconthemefile icontheme getresource images icons properties images external string default icon path images external red png log logger logfactory getlog icontheme try inputstream stream fontbasedicon getresourceasstream fonts materialdesignicons webfont ttf font font createfont font truetype font stream font font derivefont font plain 16f catch fontformatexception ioexception logger warn error loading font enum jabreficon add \uf416 css: mdi plus box add nobox \uf415 css: plus add entry \uf527 css: tooltip outline plus edit entry \uf524 css: tooltip edit edit strings \uf528 css: tooltip text folder \uf24b css: folder remove \uf375 css: minus box remove nobox \uf374 css: minus file \uf214 css: file pdf file \uf225 css: file pdf doi \uf072 css: barcode scan duplicate \uf191 css: content duplicate edit \uf3eb css: pencil \uf224 css: file outline save \uf193 css: content save save \uf194 css: content save close \uf156 css: close paste \uf192 css: content paste cut \uf190 css: content cut copy \uf18f css: content copy redo \uf44e css: redo undo \uf54c css: undo mark entries \uf0c0 css: bookmark unmark entries \uf0c3 css: bookmark outline refresh \uf450 css: refresh delete entry \uf1c0 css: delete search \uf349 css: magnify preferences \uf493 css: settings help \uf2d7 css: help circle \uf143 css: chevron \uf140 css: chevron left \uf04e css arrow left bold right \uf055 css: arrow right bold source \uf169 css: code braces make key \uf30b css: key variant cleanup entries \uf0e2 css: broom priority \uf23b css: flag priority high \uf23b color red css: flag priority medium \uf23b color orange css: flag priority low \uf23b color css: flag printed \uf42a css: printer ranking \uf4ce css: star star outline: f4d2 rank1 \uf4ce\uf4d2\uf4d2\uf4d2\uf4d2 rank2 \uf4ce\uf4ce\uf4d2\uf4d2\uf4d2 rank3 \uf4ce\uf4ce\uf4ce\uf4d2\uf4d2 rank4 \uf4ce\uf4ce\uf4ce\uf4ce\uf4d2 rank5 \uf4ce\uf4ce\uf4ce\uf4ce\uf4ce www \uf59f css: web group including \uf233 css: filter outline group refining \uf232 css: filter auto group \uf068 css: auto fix email \uf1ee css: email export clipboard \uf14b css: clipboard arrow left attach file \uf3e2 css: paperclip auto file link \uf21e css: file find quality assured \uf124 css: certificate quality \uf124 css: certificate open \uf24b css: folder add row \uf490 css: server plus remove row \uf48c css: server minus picture \uf21f css: file image read status read \uf208 color css: eye read status skimmed \uf208 color orange css: eye read status \uf208 css: eye relevance \uf4cf css: star circle merge entries \uf18a css: compare connect open office \uf3cb css: open app plain text todo \uf130 css: checkbox blank circle outline plain text done \uf134 checkbox marked circle outline donate \uf2a1 css: gift move tab arrow \uf05e css: arrow bold optional \uf316 css: label outline required \uf315 css: label integrity fail \uf159 color red css: close circle integrity info \uf2fc css: information integrity warn \uf028 css alert circle integrity success \uf134 css: checkbox marked circle outline github \uf2a4 css: github circle toggle entry preview \uf332 css: library books toggle groups \uf572 css: view list write xmp \uf2fa css: file word \uf22c css: file word file excel \uf21b css: file excel file powerpoint \uf227 css: file powerpoint file text \uf219 css: file document file multiple \uf222 css: file multiple key bindings \uf30c css: keyboard find duplicates \uf16b css: code equal pull \uf4c2 source pull open window \uf3cc css: open case sensitive \uf02c css: mdi alphabetical reg ex \uf451 css: mdi regex console \uf18d css: console forum \uf28c css: forum facebook \uf20c css: facebook blog \uf46b css: rss global search \uf1e7 css: earth still missing: group regular \uf4e6 color red string code color color jabreficon string code code icontheme default color jabreficon string code color color code code color color fontbasedicon geticon fontbasedicon code color fontbasedicon getsmallicon fontbasedicon code color icontheme small size string getcode code fontbasedicon icon string iconcode color iconcolor size fontbasedicon string code color iconcolor iconcode code iconcolor iconcolor size icontheme default size fontbasedicon string code color iconcolor size iconcode code iconcolor iconcolor size size override painticon component graphics graphics2d g2 graphics2d create renderinghints rh renderinghints renderinghints key text antialiasing renderinghints value text antialias g2 setrenderinghints rh g2 setfont font derivefont font plain size g2 setcolor iconcolor fontmetrics fm g2 getfontmetrics g2 translate fm getascent g2 drawstring iconcode g2 dispose override geticonwidth size override geticonheight size fontbasedicon createdisabledicon fontbasedicon iconcode icontheme default disabled color size fontbasedicon createsmallicon fontbasedicon iconcode iconcolor icontheme small size fontbasedicon createwithnewcolor color newcolor fontbasedicon iconcode newcolor size constructs imageicon image representing given function resource file listing images param name name icon open save saveas etc imageicon function imageicon getimage string name imageicon geticonurl name looks url image representing given function resource file listing images param name name icon open save saveas etc url actual image use url geticonurl string name string key objects requirenonnull name icon name key icon containskey key logger warn could find icon url name name falling back default icon default icon path string path key icon getordefault key default icon path objects requirenonnull icontheme getresource path path must null key key read typical property url map currently support escaping character simply looks first determine key ends key value trimmed whitespace ends param url url read information param prefix string prefix values read represent directory icon files found map containing key value pairs found fixme: prefix removed? map<string string> readiconthemefile url url string prefix objects requirenonnull url url objects requirenonnull prefix prefix map<string string> result hashmap<> try bufferedreader bufferedreader inputstreamreader url openstream standardcharsets iso string line line readline null line contains continue index line indexof string key line substring index trim string value prefix line substring index trim result put key value catch ioexception logger warn unable read default icon theme result 
80	OSXCompatibleToolbar.java	GUI	net sf jabref gui awt component javax swing jbutton javax swing jtoolbar net sf jabref logic util os osxcompatibletoolbar jtoolbar osxcompatibletoolbar osxcompatibletoolbar orientation super orientation osxcompatibletoolbar string name super name osxcompatibletoolbar string name orientation super name orientation override component add component instanceof jbutton jbutton button jbutton os os button putclientproperty jbutton buttontype toolbar super add 
81	SidePaneManager.java	GUI	net sf jabref gui util collections util comparator util hashmap util linkedhashmap util linkedlist util list util map util stream collectors javax swing swingutilities net sf jabref globals net sf jabref gui maintable maintable net sf jabref preferences jabrefpreferences org apache commons logging log org apache commons logging logfactory manages visibility sideshowcomponents given newly constructed sidepane sidepanemanager log logger logfactory getlog sidepanemanager jabrefframe frame sidepane sidep map<class<? sidepanecomponent> sidepanecomponent> components linkedhashmap<> list<sidepanecomponent> visible linkedlist<> sidepanemanager jabrefframe frame frame frame change morten alver 04: postponing updating side pane components get rid annoying latency switching tabs: frame gettabbedpane addchangelistener event swingutilities invokelater setactivebasepanel sidepanemanager frame getcurrentbasepanel sidep sidepane sidep setvisible false sidepane getpanel sidep synchronized <t sidepanecomponent> boolean hascomponent class<t> sidepanecomponent components containskey sidepanecomponent synchronized <t sidepanecomponent> boolean iscomponentvisible class<t> sidepanecomponent sidepanecomponent component components get sidepanecomponent component null false else visible contains component panel visible hidden way around synchronized <t sidepanecomponent> toggle class<t> sidepanecomponent iscomponentvisible sidepanecomponent hide sidepanecomponent else show sidepanecomponent panel hidden shown focused panel visible focused focused panel visible focused hidden synchronized <t sidepanecomponent> togglethreeway class<t> sidepanecomponent boolean ispanelfocused globals getfocuslistener getfocused components get sidepanecomponent iscomponentvisible sidepanecomponent ispanelfocused hide sidepanecomponent else show sidepanecomponent synchronized <t sidepanecomponent> show class<t> sidepanecomponent sidepanecomponent component components get sidepanecomponent component null logger warn side pane component sidepanecomponent unknown else show component synchronized <t sidepanecomponent> hide class<t> sidepanecomponent sidepanecomponent component components get sidepanecomponent component null logger warn side pane component sidepanecomponent unknown else hidecomponent component frame getcurrentbasepanel null maintable maintable frame getcurrentbasepanel getmaintable maintable setselected maintable getselectedrow maintable requestfocus synchronized register sidepanecomponent comp components put comp getclass comp synchronized show sidepanecomponent component visible contains component put component top group visible add component sort visible components preferred position collections sort visible preferredindexsort updateview component componentopening globals getfocuslistener setfocused component component grabfocus synchronized <t sidepanecomponent> sidepanecomponent getcomponent class<t> sidepanecomponent components get sidepanecomponent synchronized hidecomponent sidepanecomponent comp visible contains comp comp componentclosing visible remove comp updateview synchronized <t sidepanecomponent> hidecomponent class<t> sidepanecomponent sidepanecomponent component components get sidepanecomponent component null visible contains component component componentclosing visible remove component updateview map<class<? sidepanecomponent> integer> getpreferredpositions map<class<? sidepanecomponent> integer> preferredpositions hashmap<> list<string> componentnames globals prefs getstringlist jabrefpreferences side pane component names list<string> componentpositions globals prefs getstringlist jabrefpreferences side pane component preferred positions componentnames size string componentname componentnames get try class<? sidepanecomponent> componentclass class<? sidepanecomponent> forname componentname preferredpositions put componentclass integer parseint componentpositions get catch classnotfoundexception logger error following side pane could found: componentname catch classcastexception logger error following side pane: componentname catch numberformatexception logger info invalid number format side pane component componentname preferredpositions updatepreferredpositions map<class<? sidepanecomponent> integer> preferredpositions getpreferredpositions update preferred positions visible components index sidepanecomponent comp visible preferredpositions put comp getclass index index split map pair parallel string lists suitable storage list<string> tmpcomponentnames preferredpositions keyset parallelstream map class::getname collect collectors tolist list<string> componentpositions preferredpositions values stream map object::tostring collect collectors tolist globals prefs putstringlist jabrefpreferences side pane component names tmpcomponentnames globals prefs putstringlist jabrefpreferences side pane component preferred positions componentpositions helper sorting visible components based preferred position preferredindexsort comparator<sidepanecomponent> map<class<? sidepanecomponent> integer> preferredpositions preferredindexsort preferredpositions getpreferredpositions override compare sidepanecomponent comp1 sidepanecomponent comp2 pos1 preferredpositions getordefault comp1 getclass pos2 preferredpositions getordefault comp2 getclass integer valueof pos1 compareto pos2 synchronized moveup sidepanecomponent comp visible contains comp currindex visible indexof comp currindex newindex currindex visible remove currindex visible add newindex comp updatepreferredpositions updateview synchronized movedown sidepanecomponent comp visible contains comp currindex visible indexof comp currindex visible size newindex currindex visible remove currindex visible add newindex comp updatepreferredpositions updateview synchronized <t sidepanecomponent> unregistercomponent class<t> sidepanecomponent components remove sidepanecomponent update side pane components show information given basepanel param panel synchronized setactivebasepanel basepanel panel sidepanecomponent component components values component setactivebasepanel panel synchronized updateview sidep setcomponents visible visible isempty sidep isvisible globals prefs putint jabrefpreferences side pane width frame getsplitpane getdividerlocation sidep setvisible false else boolean wasvisible sidep isvisible sidep setvisible true wasvisible width globals prefs getint jabrefpreferences side pane width width frame getsplitpane setdividerlocation width else frame getsplitpane setdividerlocation getpanel getpreferredsize width 
82	HtmlTransferable.java	GUI	net sf jabref gui fieldeditors awt datatransfer dataflavor awt datatransfer transferable awt datatransfer unsupportedflavorexception io ioexception based http: newsgroups derkeiler com archive de de comp lang msg00203 html htmltransferable transferable html string dataflavor html flavor dataflavor text html charset utf lang string html format charset could read via jabref mainframe getcurrentbasepanel getencoding dataflavor[] flavors htmltransferable html flavor dataflavor stringflavor string htmltext string plaintext param htmltext text html param plaintext plain text htmltransferable string htmltext string plaintext htmltext htmltext plaintext plaintext override dataflavor[] gettransferdataflavors htmltransferable flavors clone override boolean isdataflavorsupported dataflavor flavor dataflavor flavor htmltransferable flavors flavor equals flavor true false override object gettransferdata dataflavor flavor throws unsupportedflavorexception ioexception flavor equals htmltransferable flavors[htmltransferable string] plaintext else flavor equals htmltransferable flavors[htmltransferable html] htmltext else throw unsupportedflavorexception flavor 
83	FileListEditor.java	GUI	net sf jabref gui fieldeditors awt borderlayout awt color awt component awt insets awt event actionevent awt event actionlistener awt event mouseadapter awt event mouseevent io file io ioexception nio file files nio file path nio file paths util arraylist util list util optional javax swing abstractaction javax swing jbutton javax swing jcomponent javax swing jdialog javax swing jlabel javax swing jmenuitem javax swing joptionpane javax swing jpanel javax swing jpopupmenu javax swing jscrollpane javax swing jtable javax swing keystroke javax swing transferhandler javax swing table tablecellrenderer net sf jabref globals net sf jabref jabrefexecutorservice net sf jabref gui icontheme net sf jabref gui jabrefframe net sf jabref gui actions actions net sf jabref gui autocompleter autocompletelistener net sf jabref gui desktop jabrefdesktop net sf jabref gui entryeditor entryeditor net sf jabref gui externalfiles autosetlinks net sf jabref gui externalfiles downloadexternalfile net sf jabref gui externalfiles movefileaction net sf jabref gui externalfiletype externalfiletype net sf jabref gui externalfiletype externalfiletypes net sf jabref gui filelist filelistentry net sf jabref gui filelist filelistentryeditor net sf jabref gui filelist filelisttablemodel net sf jabref gui keyboard keybinding net sf jabref gui util guiutil net sf jabref logic l10n localization net sf jabref logic util io fileutil net sf jabref model database bibdatabasecontext net sf jabref model entry bibentry com jgoodies forms builder formbuilder com jgoodies forms layout formlayout org apache commons logging log org apache commons logging logfactory filelisteditor jtable fieldeditor downloadexternalfile downloadcallback log logger logfactory getlog filelisteditor fieldnamelabel label filelistentryeditor editor jabrefframe frame bibdatabasecontext databasecontext string fieldname entryeditor entryeditor jpanel panel filelisttablemodel tablemodel jbutton auto jpopupmenu menu jpopupmenu filelisteditor jabrefframe frame bibdatabasecontext databasecontext string fieldname string content entryeditor entryeditor frame frame databasecontext databasecontext fieldname fieldname entryeditor entryeditor label fieldnamelabel fieldname tablemodel filelisttablemodel settext content setmodel tablemodel jscrollpane spane jscrollpane settableheader null addmouselistener tableclicklistener guiutil correctrowheight jbutton add jbutton icontheme jabreficon add nobox getsmallicon add settooltiptext localization lang file link insert jbutton remove jbutton icontheme jabreficon remove nobox getsmallicon remove settooltiptext localization lang remove file link delete jbutton jbutton icontheme jabreficon getsmallicon jbutton jbutton icontheme jabreficon getsmallicon auto jbutton localization lang get fulltext jbutton download jbutton localization lang download url add setmargin insets remove setmargin insets setmargin insets setmargin insets add addactionlistener addentry remove addactionlistener removeentries addactionlistener moveentry addactionlistener moveentry auto addactionlistener autosetlinks download addactionlistener downloadfile formbuilder builder formbuilder create layout formlayout fill:pref 1dlu fill:pref 1dlu fill:pref fill:pref fill:pref builder add xy builder add add xy builder add auto xy builder add xy builder add remove xy builder add download xy panel jpanel panel setlayout borderlayout panel add spane borderlayout center panel add builder getpanel borderlayout east transferhandler transferhandler filelisteditortransferhandler frame entryeditor null settransferhandler transferhandler panel settransferhandler transferhandler add input action pair deleting entries: getinputmap put keystroke getkeystroke delete delete getactionmap put delete abstractaction override actionperformed actionevent actionevent row getselectedrow removeentries row math min row getrowcount row setrowselectioninterval row row add input action pair inserting entry: getinputmap put keystroke getkeystroke insert insert getactionmap put insert abstractaction override actionperformed actionevent actionevent addentry add input action pair moving entry up: getinputmap put globals getkeyprefs getkey keybinding file list editor move entry move getactionmap put move abstractaction override actionperformed actionevent actionevent moveentry add input action pair moving entry down: getinputmap put globals getkeyprefs getkey keybinding file list editor move entry move getactionmap put move abstractaction override actionperformed actionevent actionevent moveentry jmenuitem openlink jmenuitem localization lang open menu add openlink openlink addactionlistener openselectedfile jmenuitem openfolder jmenuitem localization lang open folder menu add openfolder openfolder addactionlistener row getselectedrow row filelistentry entry tablemodel getentry row try string path absolute path paths get entry link isabsolute path paths get entry link tostring else relative file folder string folder databasecontext getfiledirectory globals prefs getfiledirectorypreferences path file paths get folder entry link files exists file path file tostring break path isempty jabrefdesktop openfolderandselectfile path else joptionpane showmessagedialog frame localization lang file found localization lang error joptionpane error message catch ioexception ex logger debug cannot open folder ex jmenuitem rename jmenuitem localization lang move rename file menu add rename rename addactionlistener movefileaction frame entryeditor false jmenuitem movetofiledir jmenuitem localization lang move file file directory menu add movetofiledir movetofiledir addactionlistener movefileaction frame entryeditor true jmenuitem deletefile jmenuitem localization lang delete local file menu add deletefile deletefile addactionlistener row getselectedrow selection row filelistentry entry tablemodel getentry row null file exist optional<file> file fileutil expandfilename databasecontext entry link globals prefs getfiledirectorypreferences transactional delete unlink try file ispresent files delete file get topath removeentries catch ioexception ex joptionpane showmessagedialog frame localization lang file permission error localization lang cannot delete file joptionpane error message logger warn file permission error deleting: entry link ex adjustcolumnwidth adjustcolumnwidth column column getcolumncount column width row row getrowcount row tablecellrenderer renderer getcellrenderer row column component comp preparerenderer renderer row column width math max comp getpreferredsize width width columnmodel getcolumn column setpreferredwidth width openselectedfile row getselectedrow row filelistentry entry tablemodel getentry row try optional<externalfiletype> type externalfiletypes getinstance getexternalfiletypebyname entry type get getname jabrefdesktop openexternalfileanyformat databasecontext entry link type ispresent type entry type catch ioexception logger warn cannot open selected file filelisttablemodel gettablemodel tablemodel override string getfieldname fieldname returns component added container might jscrollpane component override jcomponent getpane panel returns text component override jcomponent gettextcomponent override jlabel getlabel label override setlabelcolor color color label setforeground color override string gettext tablemodel getstringrepresentation override settext string newtext tablemodel setcontent newtext override append string text nothing override updatefont nothing override paste string texttoinsert nothing override string getselectedtext null addentry string initiallink row getselectedrow row row filelistentry entry filelistentry initiallink editlistentry entry true tablemodel addentry row entry entryeditor updatefield adjustcolumnwidth addentry list<string> defaultdirectory databasecontext getfiledirectory globals prefs getfiledirectorypreferences defaultdirectory isempty defaultdirectory get null addentry else addentry defaultdirectory get removeentries int[] rows getselectedrows rows null rows length tablemodel removeentry rows[i] entryeditor updatefield adjustcolumnwidth moveentry int[] sel getselectedrows sel length tablemodel getrowcount toidx sel[0] toidx tablemodel getrowcount toidx tablemodel getrowcount toidx toidx tablemodel getrowcount filelistentry entry tablemodel getentry sel[0] tablemodel removeentry sel[0] tablemodel addentry toidx entry entryeditor updatefield setrowselectioninterval toidx toidx adjustcolumnwidth open editor entry param entry entry edit param openbrowse true indicate browse dialog immediately opened true edit accepted false canceled boolean editlistentry filelistentry entry boolean openbrowse editor null editor filelistentryeditor frame entry false true databasecontext else editor setentry entry editor setvisible true openbrowse editor okpressed tablemodel firetabledatachanged entryeditor updatefield adjustcolumnwidth editor okpressed autosetlinks auto setenabled false list<bibentry> entries arraylist<> frame getcurrentbasepanel getselectedentries filesystem lookup jdialog dialog jdialog frame true jabrefexecutorservice instance execute autosetlinks autosetlinks entries null null tablemodel databasecontext auto setenabled true getid entryeditor updatefield adjustcolumnwidth frame output localization lang finished automatically setting external links else frame output localization lang finished automatically setting external links localization lang files found auto download file file found frame getcurrentbasepanel runcommand actions download full text reset auto setenabled true dialog run file download operation downloadfile optional<string> bibtexkey entryeditor getentry getcitekeyoptional bibtexkey ispresent answer joptionpane showconfirmdialog frame localization lang entry bibtex key generate key now? localization lang download file joptionpane ok cancel option joptionpane question message answer joptionpane ok option actionlistener entryeditor getgeneratekeyaction actionperformed null bibtexkey entryeditor getentry getcitekeyoptional downloadexternalfile def downloadexternalfile frame frame getcurrentbasepanel getbibdatabasecontext entryeditor getentry try def download catch ioexception ex logger warn cannot download ex callback method downloadexternalfile uses report result download operation call may never come user canceled operation param file filelistentry linking resulting local file override downloadcomplete filelistentry file tablemodel addentry tablemodel getrowcount file entryeditor updatefield adjustcolumnwidth tableclicklistener mouseadapter override mouseclicked mouseevent getbutton mouseevent button1 getclickcount row rowatpoint getpoint row filelistentry entry tablemodel getentry row editlistentry entry false else ispopuptrigger processpopuptrigger override mousepressed mouseevent ispopuptrigger processpopuptrigger override mousereleased mouseevent ispopuptrigger processpopuptrigger processpopuptrigger mouseevent row rowatpoint getpoint row setrowselectioninterval row row menu show filelisteditor getx gety override undo nothing override redo nothing override setautocompletelistener autocompletelistener listener nothing override clearautocompletesuggestion nothing override setactivebackgroundcolor nothing override setvalidbackgroundcolor nothing override setinvalidbackgroundcolor nothing override updatefontcolor nothing 
84	EntryLinkListEditor.java	GUI	net sf jabref gui fieldeditors awt borderlayout awt color awt component awt fontmetrics awt insets awt event actionevent awt event mouseadapter awt event mouseevent io ioexception io stringreader util arraylist util collections util list util optional javax swing abstractaction javax swing jbutton javax swing jcomponent javax swing jlabel javax swing jmenuitem javax swing jpanel javax swing jpopupmenu javax swing jscrollpane javax swing jtable javax swing keystroke javax swing swingutilities javax swing table defaulttablemodel javax swing table tablecellrenderer net sf jabref globals net sf jabref gui icontheme net sf jabref gui jabrefframe net sf jabref gui autocompleter autocompletelistener net sf jabref gui entryeditor entryeditor net sf jabref gui keyboard keybinding net sf jabref logic l10n localization net sf jabref logic layout layout net sf jabref logic layout layouthelper net sf jabref model database bibdatabase net sf jabref model database bibdatabasecontext net sf jabref model entry bibentry net sf jabref model entry entrylinklist net sf jabref model entry parsedentrylink com jgoodies forms builder formbuilder com jgoodies forms layout formlayout org apache commons logging log org apache commons logging logfactory entrylinklisteditor jtable fieldeditor log logger logfactory getlog entrylinklisteditor fieldnamelabel label jabrefframe frame bibdatabasecontext databasecontext string fieldname entryeditor entryeditor jpanel panel entrylinklisttablemodel tablemodel jpopupmenu menu jpopupmenu boolean singleentry jbutton add jbutton icontheme jabreficon add nobox getsmallicon jbutton remove jbutton icontheme jabreficon remove nobox getsmallicon string layoutformat \\begin author \\format[authors latextounicode] \\author \\end author \\begin title \\format[latextounicode] \\title \\end title \\begin year \\year\\end year entrylinklisteditor jabrefframe frame bibdatabasecontext databasecontext string fieldname string content entryeditor entryeditor boolean singleentry frame frame databasecontext databasecontext fieldname fieldname entryeditor entryeditor singleentry singleentry label fieldnamelabel fieldname tablemodel entrylinklisttablemodel entrylinklist parse content databasecontext getdatabase settext content setmodel tablemodel jscrollpane spane jscrollpane settableheader null addmouselistener tableclicklistener add settooltiptext entry link insert remove settooltiptext remove entry link delete add setmargin insets remove setmargin insets add addactionlistener addentry remove addactionlistener removeentries formbuilder builder formbuilder create layout formlayout fill:pref:grow 1dlu fill:pref:grow fill:pref fill:pref 1dlu fill:pref singleentry jbutton jbutton icontheme jabreficon getsmallicon jbutton jbutton icontheme jabreficon getsmallicon setmargin insets setmargin insets addactionlistener moveentry addactionlistener moveentry builder add xy builder add xy builder add add xy builder add remove xy jbutton button jbutton localization lang select button addactionlistener selectentry builder add button xyw panel jpanel panel setlayout borderlayout panel add spane borderlayout center panel add builder getpanel borderlayout east add input action pair deleting entries: getinputmap put keystroke getkeystroke delete delete getactionmap put delete abstractaction override actionperformed actionevent actionevent row getselectedrow removeentries row math min row getrowcount row setrowselectioninterval row row add input action pair inserting entry: getinputmap put keystroke getkeystroke insert insert getactionmap put insert abstractaction override actionperformed actionevent actionevent row getselectedrow addentry setrowselectioninterval row row add input action pair moving entry up: getinputmap put globals getkeyprefs getkey keybinding file list editor move entry move getactionmap put move abstractaction override actionperformed actionevent actionevent moveentry add input action pair moving entry down: getinputmap put globals getkeyprefs getkey keybinding file list editor move entry move getactionmap put move abstractaction override actionperformed actionevent actionevent moveentry jmenuitem openlink jmenuitem localization lang select menu add openlink openlink addactionlistener selectentry set table row height fontmetrics metrics getfontmetrics getfont setrowheight math max getrowheight metrics getheight updatebuttonstates selectentry selectedrow getselectedrow selectedrow string crossref tablemodel getentry selectedrow getkey frame getcurrentbasepanel getdatabase getentrybykey crossref ifpresent entry frame getcurrentbasepanel highlightentry entry adjustcolumnwidth column column getcolumncount column width row row getrowcount row tablecellrenderer renderer getcellrenderer row column component comp preparerenderer renderer row column width math max comp getpreferredsize width width columnmodel getcolumn column setpreferredwidth width override string getfieldname fieldname returns component added container might jscrollpane component override jcomponent getpane panel returns text component override jcomponent gettextcomponent override jlabel getlabel label override setlabelcolor color color label setforeground color override string gettext tablemodel gettext override settext string newtext tablemodel setcontent entrylinklist parse newtext databasecontext getdatabase adjustcolumnwidth updatebuttonstates override append string text nothing override updatefont nothing override paste string texttoinsert nothing override string getselectedtext null addentry row getselectedrow row row parsedentrylink entry parsedentrylink databasecontext getdatabase tablemodel addentry row entry entryeditor updatefield adjustcolumnwidth updatebuttonstates removeentries int[] rows getselectedrows rows null rows length tablemodel removeentry rows[i] entryeditor updatefield adjustcolumnwidth updatebuttonstates updatebuttonstates singleentry tablemodel isempty add setenabled true remove setenabled false else add setenabled false remove setenabled true moveentry int[] sel getselectedrows sel length tablemodel getrowcount toidx sel[0] toidx tablemodel getrowcount toidx tablemodel getrowcount toidx toidx tablemodel getrowcount parsedentrylink entry tablemodel getentry sel[0] tablemodel removeentry sel[0] tablemodel addentry toidx entry entryeditor updatefield setrowselectioninterval toidx toidx adjustcolumnwidth tableclicklistener mouseadapter override mouseclicked mouseevent getbutton mouseevent button1 getclickcount row rowatpoint getpoint row optional<bibentry> entry tablemodel getentry row getlinkedentry entry ispresent select entry main table frame getcurrentbasepanel highlightentry entry get else focus bibtex key field else ispopuptrigger processpopuptrigger override mousepressed mouseevent ispopuptrigger processpopuptrigger override mousereleased mouseevent ispopuptrigger processpopuptrigger processpopuptrigger mouseevent row rowatpoint getpoint row setrowselectioninterval row row menu show entrylinklisteditor getx gety override undo nothing override redo nothing override setautocompletelistener autocompletelistener listener nothing override clearautocompletesuggestion nothing override setactivebackgroundcolor nothing override setvalidbackgroundcolor nothing override setinvalidbackgroundcolor nothing override updatefontcolor nothing entrylinklisttablemodel defaulttablemodel list<parsedentrylink> internallist collections synchronizedlist arraylist<> entrylinklisttablemodel list<parsedentrylink> originallist addentries originallist string gettext synchronized internallist string result entrylinklist serialize internallist result addentries list<parsedentrylink> newlist internallist addall newlist swingutilities iseventdispatchthread firetabledatachanged else swingutilities invokelater firetabledatachanged setcontent list<parsedentrylink> newlist internallist clear internallist addall newlist swingutilities iseventdispatchthread firetabledatachanged else swingutilities invokelater firetabledatachanged override getcolumncount override getrowcount internallist null synchronized internallist internallist size override class<string> getcolumnclass columnindex string override object getvalueat rowindex columnindex synchronized internallist parsedentrylink entry internallist get rowindex switch columnindex case 0: entry getkey case 1: entry getlinkedentry map bibentry formatentry bibentry entry getdatabase orelse unknown entry default: null parsedentrylink getentry index synchronized internallist internallist get index removeentry index internallist remove index swingutilities iseventdispatchthread firetablerowsdeleted index index else swingutilities invokelater firetablerowsdeleted index index boolean isempty internallist isempty add entry table model fire change event change event fired event dispatch thread param index row index insert entry param entry entry insert addentry index parsedentrylink entry synchronized internallist internallist add index entry swingutilities iseventdispatchthread firetabledatachanged else swingutilities invokelater firetabledatachanged override boolean iscelleditable row column column override setvalueat object avalue rowindex columnindex synchronized internallist columnindex internallist get rowindex setkey string avalue swingutilities iseventdispatchthread firetablerowsupdated rowindex rowindex else swingutilities invokelater firetablerowsupdated rowindex rowindex string formatentry bibentry entry bibdatabase database stringreader sr stringreader layoutformat try layout layout layouthelper sr globals prefs getlayoutformatterpreferences globals journalabbreviationloader getlayoutfromtext layout dolayout entry database catch ioexception logger warn problem generating entry layout 
85	FieldNameLabel.java	GUI	net sf jabref gui fieldeditors awt graphics awt graphics2d awt renderinghints javax swing borderfactory javax swing jlabel javax swing swingconstants net sf jabref gui guiglobals net sf jabref model entry fieldname fieldnamelabel jlabel fieldnamelabel string name super fieldnamelabel getfieldnamelabeltext name swingconstants left setverticalalignment swingconstants top setforeground guiglobals entry editor label color setborder borderfactory createemptyborder override paintcomponent graphics graphics2d g2 graphics2d g2 setrenderinghint renderinghints key antialiasing renderinghints value antialias g2 setrenderinghint renderinghints key rendering renderinghints value render quality super paintcomponent g2 string getfieldnamelabeltext string fieldname fieldname getdisplayname fieldname 
86	FieldEditor.java	GUI	net sf jabref gui fieldeditors awt color awt container javax swing jcomponent javax swing jlabel net sf jabref gui autocompleter autocompletelistener fieldeditors common interface textfield textarea interface fieldeditor string getfieldname returns component added container might jscrollpane component jcomponent getpane returns text component jcomponent gettextcomponent jlabel getlabel setactivebackgroundcolor setvalidbackgroundcolor setinvalidbackgroundcolor setlabelcolor color color setbackground color color updatefontcolor string gettext sets given text current field editor marks text editor modified param newtext settext string newtext append string text container getparent requestfocus setenabled boolean enabled updatefont paste text component also take selected text account paste string texttoinsert normally implemented jtextarea jtextfield string getselectedtext undo redo setautocompletelistener autocompletelistener listener clearautocompletesuggestion 
87	TextArea.java	GUI	net sf jabref gui fieldeditors awt color awt dimension lang reflect invocationtargetexception javax swing jcomponent javax swing jlabel javax swing jscrollpane javax swing scrollpaneconstants javax swing swingutilities net sf jabref globals net sf jabref gui guiglobals net sf jabref gui autocompleter autocompletelistener net sf jabref gui fieldeditors contextmenu fieldtextmenu org apache commons logging log org apache commons logging logfactory implementation fieldeditor backed jtextarea used multi line input currently bibtexfields except bibtex key textarea jtextareawithhighlighting fieldeditor log logger logfactory getlog textarea jscrollpane scrollpane fieldnamelabel label string fieldname autocompletelistener autocompletelistener textarea string fieldname string content fieldname content textarea string fieldname string content string title super content title updatefont add global focus listener menu item see field focused action called addfocuslistener globals getfocuslistener addfocuslistener fieldeditorfocuslistener scrollpane jscrollpane scrollpaneconstants vertical scrollbar needed scrollpaneconstants horizontal scrollbar never scrollpane setminimumsize dimension setlinewrap true setwrapstyleword true fieldname fieldname label fieldnamelabel fieldname setbackground guiglobals validfieldbackgroundcolor setforeground guiglobals editortextcolor fieldtextmenu popmenu fieldtextmenu addmouselistener popmenu label addmouselistener popmenu override dimension getpreferredscrollableviewportsize getpreferredsize override string getfieldname fieldname setfieldname string newname fieldname newname override jlabel getlabel label override setlabelcolor color color label setforeground color override jcomponent getpane scrollpane override jcomponent gettextcomponent override setactivebackgroundcolor setbackgroundcolor guiglobals activebackgroundcolor override setvalidbackgroundcolor setbackgroundcolor guiglobals validfieldbackgroundcolor override setinvalidbackgroundcolor setbackgroundcolor guiglobals invalidfieldbackgroundcolor setbackgroundcolor color color swingutilities iseventdispatchthread setbackground color else try swingutilities invokeandwait setbackground color catch invocationtargetexception interruptedexception logger info problem setting background color override updatefontcolor setforeground guiglobals editortextcolor override updatefont setfont guiglobals currentfont override paste string texttoinsert replaceselection texttoinsert override undo nothing override redo nothing override setautocompletelistener autocompletelistener listener autocompletelistener listener override clearautocompletesuggestion autocompletelistener null autocompletelistener clearcurrentsuggestion 
88	FieldEditorFocusListener.java	GUI	net sf jabref gui fieldeditors awt event focusevent awt event focuslistener javax swing jcomponent net sf jabref gui guiglobals focus listener changes color text area focus fieldeditorfocuslistener focuslistener override focusgained focusevent event event getsource instanceof fieldeditor fieldeditor event getsource setactivebackgroundcolor else jcomponent event getsource setbackground guiglobals activebackgroundcolor override focuslost focusevent event event getsource instanceof fieldeditor jcomponent event getsource setbackground guiglobals validfieldbackgroundcolor 
89	TextField.java	GUI	net sf jabref gui fieldeditors awt color awt event actionevent lang reflect invocationtargetexception javax swing abstractaction javax swing jcomponent javax swing jlabel javax swing swingutilities javax swing text document javax swing undo cannotredoexception javax swing undo cannotundoexception javax swing undo undomanager net sf jabref globals net sf jabref gui guiglobals net sf jabref gui actions actions net sf jabref gui actions pasteaction net sf jabref gui autocompleter autocompletelistener net sf jabref gui fieldeditors contextmenu fieldtextmenu net sf jabref gui util component jtextfieldwithplaceholder org apache commons logging log org apache commons logging logfactory implementation fieldeditor backed jtextfield used single line input bibtex key moment? textfield jtextfieldwithplaceholder fieldeditor log logger logfactory getlog textfield string fieldname jlabel label undomanager undo autocompletelistener autocompletelistener textfield string fieldname string content boolean changecoloronfocus fieldname content changecoloronfocus textfield string fieldname string content boolean changecoloronfocus string title super content title setuppastelistener setupundoredo updatefont add global focus listener menu item see field focused action called addfocuslistener globals getfocuslistener changecoloronfocus addfocuslistener fieldeditorfocuslistener fieldname fieldname label fieldnamelabel fieldname setbackground guiglobals validfieldbackgroundcolor setforeground guiglobals editortextcolor fieldtextmenu popmenu fieldtextmenu addmouselistener popmenu label addmouselistener popmenu override settext string super settext undo null undo discardalledits override append string text settext gettext text override string getfieldname fieldname override jlabel getlabel label override setlabelcolor color color label setforeground color throw nullpointerexception ok override jcomponent getpane override jcomponent gettextcomponent override setactivebackgroundcolor setbackgroundcolor guiglobals activebackgroundcolor override setvalidbackgroundcolor setbackgroundcolor guiglobals validfieldbackgroundcolor override setinvalidbackgroundcolor setbackgroundcolor guiglobals invalidfieldbackgroundcolor setbackgroundcolor color color swingutilities iseventdispatchthread setbackground color else try swingutilities invokeandwait setbackground color catch invocationtargetexception interruptedexception logger info problem setting background color override updatefontcolor setforeground guiglobals editortextcolor override updatefont setfont guiglobals currentfont override replaces selected text found paste string texttoinsert replaceselection texttoinsert override undo nothing override redo nothing override setautocompletelistener autocompletelistener listener autocompletelistener listener override clearautocompletesuggestion autocompletelistener null autocompletelistener clearcurrentsuggestion setuppastelistener register paste action getactionmap put actions paste pasteaction bind paste command keybinds paste getinputmap put globals getkeyprefs getkey net sf jabref gui keyboard keybinding paste actions paste setupundoredo undo undomanager document doc getdocument listen undo redo events doc addundoableeditlistener evt undo addedit evt getedit create undo action add text component getactionmap put undo abstractaction undo override actionperformed actionevent evt try undo canundo undo undo catch cannotundoexception ignored ignored bind undo action ctl getinputmap put globals getkeyprefs getkey net sf jabref gui keyboard keybinding undo undo create redo action add text component getactionmap put redo abstractaction actions redo override actionperformed actionevent evt try undo canredo undo redo catch cannotredoexception ignored ignored bind redo action ctl getinputmap put globals getkeyprefs getkey net sf jabref gui keyboard keybinding redo redo 
90	PreviewPanelTransferHandler.java	GUI	net sf jabref gui fieldeditors awt datatransfer stringselection awt datatransfer transferable awt dnd dndconstants io ioexception io stringwriter javax swing jcomponent javax swing jeditorpane javax swing transferhandler javax swing text badlocationexception net sf jabref gui entrycontainer net sf jabref gui jabrefframe net sf jabref logic l10n localization org apache commons logging log org apache commons logging logfactory previewpaneltransferhandler filelisteditortransferhandler log logger logfactory getlog previewpaneltransferhandler previewpaneltransferhandler jabrefframe frame entrycontainer entrycontainer transferhandler texttransferhandler super frame entrycontainer texttransferhandler link unsupported dropping microsoft word leads link instead copy override getsourceactions jcomponent component dndconstants action copy override transferable createtransferable jcomponent component component instanceof jeditorpane method called preview panel default transferhandler implementation aware html returns appropriate transferable texttransferhandler createtransferable available know method html conversion hand first get html selected text jeditorpane editorpane jeditorpane component stringwriter stringwriter stringwriter try editorpane geteditorkit write stringwriter editorpane getdocument editorpane getselectionstart editorpane getselectionend catch badlocationexception ioexception logger warn cannot write preview second html text fallback htmltransferable stringwriter tostring editorpane getselectedtext else called preview panel error string stringselection localization lang operation supported 
91	CaseChangeMenu.java	GUI	net sf jabref gui fieldeditors contextmenu util objects javax swing jmenu javax swing jmenuitem javax swing text jtextcomponent net sf jabref logic formatter formatters net sf jabref logic l10n localization net sf jabref model cleanup formatter casechangemenu jmenu casechangemenu jtextcomponent parent super localization lang change case objects requirenonnull parent create menu items one case changer formatter casechanger formatters case changers jmenuitem menuitem jmenuitem casechanger getname menuitem settooltiptext casechanger getdescription menuitem addactionlistener parent settext casechanger format parent gettext add menuitem 
92	FieldTextMenu.java	GUI	net sf jabref gui fieldeditors contextmenu awt event actionevent awt event mouseevent awt event mouselistener javax swing abstractaction javax swing action javax swing jmenuitem javax swing jpopupmenu javax swing text jtextcomponent net sf jabref gui clipboardmanager net sf jabref gui actions copyaction net sf jabref gui actions copydoiurlaction net sf jabref gui actions pasteaction net sf jabref gui fieldeditors fieldeditor net sf jabref logic formatter bibtexfields normalizenamesformatter net sf jabref logic l10n localization net sf jabref model entry fieldname net sf jabref model strings stringutil fieldtextmenu mouselistener fieldeditor field jpopupmenu inputmenu jpopupmenu copyaction copyaction pasteaction pasteaction jmenuitem doimenuitem protectedtermsmenu protectedtermsmenu max paste preview length fieldtextmenu fieldeditor fieldcomponent field fieldcomponent copyaction copyaction jtextcomponent field pasteaction pasteaction jtextcomponent field copydoiurlaction copydoiaction copydoiurlaction jtextcomponent field doimenuitem jmenuitem copydoiaction initmenu override mouseclicked mouseevent nothing override mouseentered mouseevent nothing override mouseexited mouseevent nothing override mousepressed mouseevent maybeshowpopup override mousereleased mouseevent maybeshowpopup maybeshowpopup mouseevent ispopuptrigger field null field requestfocus enable disable copy clipboard selected text available string txt field getselectedtext string alltxt field gettext boolean copystatus false txt null txt isempty alltxt null alltxt isempty copystatus true copyaction setenabled copystatus string data clipboardmanager getclipboardcontents boolean pastestatus false data isempty pastestatus true pasteaction putvalue action short description localization lang paste clipboard stringutil limitstringlength data max paste preview length else pasteaction putvalue action short description localization lang paste clipboard pasteaction setenabled pastestatus protectedtermsmenu null protectedtermsmenu updatefiles boolean isdoifield field getfieldname equals fieldname doi doimenuitem setvisible isdoifield boolean isdoifieldempty field gettext isempty doimenuitem setenabled isdoifieldempty inputmenu show getcomponent getx gety initmenu inputmenu add pasteaction inputmenu add copyaction field gettextcomponent instanceof jtextcomponent inputmenu add doimenuitem inputmenu addseparator inputmenu add replaceaction field gettextcomponent instanceof jtextcomponent inputmenu add casechangemenu jtextcomponent field gettextcomponent inputmenu add conversionmenu jtextcomponent field gettextcomponent inputmenu addseparator protectedtermsmenu protectedtermsmenu jtextcomponent field gettextcomponent inputmenu add protectedtermsmenu suppresswarnings serial replaceaction abstractaction replaceaction putvalue action name localization lang normalize bibtex name format putvalue action short description localization lang possible normalize list names conform standard bibtex name formatting override actionperformed actionevent evt field gettext isempty string input field gettext field settext normalizenamesformatter format input 
93	ProtectedTermsMenu.java	GUI	net sf jabref gui fieldeditors contextmenu javax swing jmenu javax swing jmenuitem javax swing text jtextcomponent net sf jabref globals net sf jabref jabrefgui net sf jabref gui protectedterms newprotectedtermsfiledialog net sf jabref logic formatter casechanger protecttermsformatter net sf jabref logic l10n localization net sf jabref logic protectedterms protectedtermslist protectedtermsmenu jmenu protecttermsformatter formatter protecttermsformatter globals protectedtermsloader jmenu externalfiles jtextcomponent opener protectedtermsmenu jtextcomponent opener super localization lang protect terms opener opener jmenuitem protectitem jmenuitem localization lang add around selected text protectitem addactionlistener event string selectedtext opener getselectedtext selectedtext null selectedtext isempty opener replaceselection selectedtext jmenuitem formatitem jmenuitem localization lang format field formatitem addactionlistener event opener settext formatter format opener gettext externalfiles jmenu localization lang add selected text list updatefiles add protectitem add externalfiles addseparator add formatitem updatefiles externalfiles removeall protectedtermslist list globals protectedtermsloader getprotectedtermslists list isinternallist jmenuitem fileitem jmenuitem list getdescription externalfiles add fileitem fileitem addactionlistener event string selectedtext opener getselectedtext selectedtext null selectedtext isempty list addprotectedterm selectedtext externalfiles addseparator jmenuitem addtonewfileitem jmenuitem localization lang addtonewfileitem addactionlistener event newprotectedtermsfiledialog dialog newprotectedtermsfiledialog jabrefgui getmainframe globals protectedtermsloader dialog setvisible true dialog isokpressed update preferences list globals prefs setprotectedtermspreferences globals protectedtermsloader externalfiles add addtonewfileitem 
94	ConversionMenu.java	GUI	net sf jabref gui fieldeditors contextmenu javax swing jmenu javax swing jmenuitem javax swing text jtextcomponent net sf jabref logic formatter formatters net sf jabref logic l10n localization net sf jabref model cleanup formatter author oscar gustafsson menu show right click text field converting text formats conversionmenu jmenu conversionmenu jtextcomponent opener super localization lang convert create menu items one case changer formatter converter formatters converters jmenuitem menuitem jmenuitem converter getname menuitem settooltiptext converter getdescription menuitem addactionlistener opener settext converter format opener gettext add menuitem 
95	JTextAreaWithHighlighting.java	GUI	net sf jabref gui fieldeditors awt event actionevent util optional util regex matcher util regex pattern javax swing abstractaction javax swing keystroke javax swing text badlocationexception javax swing text defaulthighlighter javax swing text document javax swing text highlighter javax swing text keymap javax swing undo cannotredoexception javax swing undo cannotundoexception javax swing undo undomanager net sf jabref globals net sf jabref gui actions actions net sf jabref gui actions pasteaction net sf jabref gui util component jtextareawithplaceholder net sf jabref logic search searchqueryhighlightlistener net sf jabref preferences jabrefpreferences org apache commons logging log org apache commons logging logfactory jtextareawithhighlighting jtextareawithplaceholder searchqueryhighlightlistener log logger logfactory getlog jtextareawithhighlighting optional<pattern> highlightpattern optional empty undomanager undo jtextareawithhighlighting jtextareawithhighlighting string text text creates text area ability highlight parts content also defines placeholder displayed content empty param text param placeholder jtextareawithhighlighting string text string placeholder super text placeholder setupundoredo setuppastelistener setuppastelistener register paste action getactionmap put actions paste pasteaction bind paste command keybinds paste getinputmap put globals getkeyprefs getkey net sf jabref gui keyboard keybinding paste actions paste setupundoredo undo undomanager document doc getdocument listen undo redo events doc addundoableeditlistener evt undo addedit evt getedit create undo action add text component getactionmap put undo abstractaction undo override actionperformed actionevent evt try undo canundo undo undo catch cannotundoexception ignored ignored bind undo action ctl getinputmap put globals getkeyprefs getkey net sf jabref gui keyboard keybinding undo undo create redo action add text component getactionmap put redo abstractaction actions redo override actionperformed actionevent evt try undo canredo undo redo catch cannotredoexception ignored ignored bind redo action ctrl boolean bind true keystroke redokey globals getkeyprefs getkey net sf jabref gui keyboard keybinding redo globals prefs getboolean jabrefpreferences editor emacs keybindings emacs enabled check conflict keys yes bind typically have: ctrl yank emacs redo 'normal' settings emacs key bindings stored keymap input map keymap keymap getkeymap keystroke[] keys keymap getboundkeystrokes keys length keys[i] equals redokey keys length conflict found bind bind false bind getinputmap put redokey redo highlight words textarea param words highlight highlight highlight characters appear charstohighlight highlighter highlighter gethighlighter highlighter removeallhighlights highlightpattern null highlightpattern ispresent string content gettext content isempty highlightpattern ifpresent pattern matcher matcher pattern matcher content matcher find try highlighter addhighlight matcher start matcher end defaulthighlighter defaultpainter catch badlocationexception ble occur matcher works right logger warn highlighting possible bad location ble override settext string text super settext text highlight undo null undo discardalledits override highlightpattern optional<pattern> highlightpattern highlightpattern highlightpattern highlight 
96	FileListEditorTransferHandler.java	GUI	net sf jabref gui fieldeditors awt datatransfer clipboard awt datatransfer dataflavor awt datatransfer transferable awt datatransfer unsupportedflavorexception awt dnd dndconstants io file io ioexception net url util arraylist util list javax swing jcomponent javax swing swingutilities javax swing transferhandler net sf jabref gui entrycontainer net sf jabref gui jabrefframe net sf jabref gui externalfiles droppedfilehandler net sf jabref gui externalfiletype externalfiletypes net sf jabref gui groups entrytabletransferhandler net sf jabref logic util io fileutil org apache commons logging log org apache commons logging logfactory filelisteditortransferhandler transferhandler dataflavor urlflavor dataflavor stringflavor jabrefframe frame entrycontainer entrycontainer transferhandler texttransferhandler droppedfilehandler droppedfilehandler log logger logfactory getlog filelisteditortransferhandler param frame param entrycontainer param texttransferhandler instance javax swing plaf basic basictextui texttransferhandler visible therefore cheat filelisteditortransferhandler jabrefframe frame entrycontainer entrycontainer transferhandler texttransferhandler frame frame entrycontainer entrycontainer texttransferhandler texttransferhandler stringflavor dataflavor stringflavor try urlflavor dataflavor application url net url catch classnotfoundexception logger info unable configure drag drop file link table overridden indicate types drags supported link copy copy supported support disables ctrl copy text override getsourceactions jcomponent dndconstants action link dndconstants action copy override exporttoclipboard jcomponent comp clipboard clip action texttransferhandler null texttransferhandler exporttoclipboard comp clip action override boolean importdata jcomponent comp transferable drop target main table want record row item dropped identify entry needed: try list<file> files arraylist<> flavor used dragged file links windows: isdataflavorsupported dataflavor javafilelistflavor suppresswarnings unchecked list<file> transferedfiles list<file> gettransferdata dataflavor javafilelistflavor files addall transferedfiles isdataflavorsupported urlflavor url droplink url gettransferdata urlflavor logger debug url: droplink used one files pasted file manager gnome data consists file paths one file per line: isdataflavorsupported stringflavor string dropstr string gettransferdata stringflavor files addall entrytabletransferhandler getfilesfromdraggedfilesstring dropstr swingutilities invokelater file file files find file's extension any: string name file getabsolutepath fileutil getfileextension name ifpresent extension externalfiletypes getinstance getexternalfiletypebyext extension ifpresent filetype droppedfilehandler null droppedfilehandler droppedfilehandler frame frame getcurrentbasepanel droppedfilehandler handledroppedfile name filetype entrycontainer getentry files isempty found files true catch ioexception ioe logger warn failed read dropped data ioe catch unsupportedflavorexception classcastexception ufe logger warn drop type error ufe supported flavors failed stringbuilder logmessage stringbuilder cannot transfer input: dataflavor[] inflavs gettransferdataflavors dataflavor inflav inflavs logmessage append append inflav logger warn logmessage tostring false method called query whether transfer imported true urls strings javafilelists override boolean canimport jcomponent comp dataflavor[] transferflavors accept input flavor matches supported flavors dataflavor inflav transferflavors inflav match urlflavor inflav match stringflavor inflav match dataflavor javafilelistflavor true nope never heard type false 
97	GenFieldsCustomizer.java	GUI	net sf jabref gui awt borderlayout awt dimension awt gridbagconstraints awt gridbaglayout awt insets awt event actionevent javax swing abstractaction javax swing actionmap javax swing borderfactory javax swing inputmap javax swing jbutton javax swing jcomponent javax swing jdialog javax swing jlabel javax swing joptionpane javax swing jpanel javax swing jscrollpane javax swing jtextarea net sf jabref globals net sf jabref gui entryeditor entryeditortablist net sf jabref gui help helpaction net sf jabref gui keyboard keybinding net sf jabref logic bibtexkeypattern bibtexkeypatternutil net sf jabref logic help helpfile net sf jabref logic l10n localization net sf jabref preferences jabrefpreferences com jgoodies forms builder buttonbarbuilder com jgoodies forms layout sizes genfieldscustomizer jdialog jpanel buttons jpanel jbutton ok jbutton jbutton cancel jbutton jbutton helpbut jlabel jlabel1 jlabel jpanel jpanel3 jpanel jpanel jpanel4 jpanel gridbaglayout gridbaglayout1 gridbaglayout jscrollpane jscrollpane1 jscrollpane jlabel jlabel2 jlabel jtextarea fieldsarea jtextarea gridbaglayout gridbaglayout2 gridbaglayout jbutton revert jbutton genfieldscustomizer jabrefframe frame super frame localization lang set general fields false helpbut helpaction helpfile general fields gethelpbutton jbinit setsize dimension jbinit ok settext localization lang ok ok addactionlistener okactionperformed cancel settext localization lang cancel cancel addactionlistener dispose jlabel1 settext localization lang delimit fields semicolon ex url pdf note jpanel3 setlayout gridbaglayout2 jpanel4 setborder borderfactory createetchedborder jpanel4 setlayout gridbaglayout1 jlabel2 settext localization lang general fields setfieldstext revert settext localization lang default revert addactionlistener revertactionperformed getcontentpane add buttons borderlayout south buttonbarbuilder bb buttonbarbuilder buttons buttons setborder borderfactory createemptyborder bb addglue bb addbutton ok bb addbutton revert bb addbutton cancel bb addstrut sizes dlux5 bb addbutton helpbut bb addglue getcontentpane add jpanel3 borderlayout center jpanel3 add jlabel1 gridbagconstraints gridbagconstraints west gridbagconstraints none insets jpanel3 add jpanel4 gridbagconstraints gridbagconstraints center gridbagconstraints insets jpanel4 add jscrollpane1 gridbagconstraints gridbagconstraints center gridbagconstraints insets jscrollpane1 getviewport add fieldsarea null jpanel4 add jlabel2 gridbagconstraints gridbagconstraints west gridbagconstraints none insets key bindings: actionmap buttons getactionmap inputmap im buttons getinputmap jcomponent focused window im put globals getkeyprefs getkey keybinding close dialog close put close abstractaction override actionperformed actionevent dispose okactionperformed string[] lines fieldsarea gettext split \n lines length string[] parts lines[i] split parts length report error exit string field localization lang field joptionpane showmessagedialog localization lang line must following form localization lang tabname ':' field field field n' localization lang error joptionpane error message string teststring bibtexkeypatternutil checklegalkey parts[1] globals prefs getboolean jabrefpreferences enforce legal bibtex key teststring equals parts[1] parts[1] indexof report error exit joptionpane showmessagedialog localization lang field names allowed contain white space following characters localization lang error joptionpane error message globals prefs put jabrefpreferences custom tab name parts[0] globals prefs put jabrefpreferences custom tab fields parts[1] tolowercase globals prefs purgeseries jabrefpreferences custom tab name globals prefs purgeseries jabrefpreferences custom tab fields globals prefs updateentryeditortablist dispose setfieldstext stringbuilder sb stringbuilder entryeditortablist tablist globals prefs getentryeditortablist tablist gettabcount sb append tablist gettabname sb append ':' sb append string join tablist gettabfields sb append '\n' fieldsarea settext sb tostring revertactionperformed stringbuilder sb stringbuilder string name string fields name string globals prefs defaults get jabrefpreferences custom tab name def null sb append name fields string globals prefs defaults get jabrefpreferences custom tab fields def sb append ':' sb append fields sb append '\n' fieldsarea settext sb tostring 
98	SidePaneComponent.java	GUI	net sf jabref gui awt color awt dimension awt insets awt event actionevent awt event inputevent javax swing action javax swing borderfactory javax swing icon javax swing jbutton javax swing jlabel javax swing jtoolbar javax swing keystroke net sf jabref gui actions mnemonicawareaction org jdesktop swingx jxtitledpanel org jdesktop swingx painter mattepainter sidepanecomponent jxtitledpanel jbutton close jbutton icontheme jabreficon close getsmallicon sidepanemanager manager basepanel panel sidepanecomponent sidepanemanager manager icon icon string title super title manager manager add jlabel icon settitleforeground color setborder borderfactory createemptyborder close setmargin insets close setborder null close addactionlistener hideaway jbutton jbutton icontheme jabreficon getsmallicon setmargin insets setborder null addactionlistener moveup jbutton jbutton icontheme jabreficon getsmallicon setmargin insets setborder null addactionlistener movedown jtoolbar tlb osxcompatibletoolbar tlb add tlb add tlb add close tlb setopaque false tlb setfloatable false getui gettitlebar add tlb settitlepainter mattepainter color lightgray hideaway manager hidecomponent moveup manager moveup movedown manager movedown setactivebasepanel basepanel panel panel panel basepanel getactivebasepanel panel override method component needs make changes close componentclosing nothing right override method component needs actions opening componentopening nothing right override dimension getminimumsize getpreferredsize specifies distribute extra vertical space side pane components 0: fixed height 1: fill remaining space getrescalingweight action toggles link sidepanecomponent toggleaction gettoggleaction toggleaction mnemonicawareaction toggleaction string text string description keystroke key icontheme jabreficon icon super icon geticon putvalue action name text putvalue action accelerator key key putvalue action short description description toggleaction string text string description keystroke key icon icon super icon putvalue action name text putvalue action accelerator key key putvalue action short description description override actionperformed actionevent manager hascomponent sidepanecomponent getclass manager register sidepanecomponent clicked mouse toggle getmodifiers inputevent button1 mask manager toggle sidepanecomponent getclass else manager togglethreeway sidepanecomponent getclass putvalue action selected key manager iscomponentvisible sidepanecomponent getclass setselected boolean selected putvalue action selected key selected boolean isselected boolean true equals getvalue action selected key 
99	BibtexKeyPatternDialog.java	GUI	net sf jabref gui bibtexkeypattern awt borderlayout awt dimension awt event actionevent awt event windowevent javax swing abstractaction javax swing action javax swing borderfactory javax swing jbutton javax swing jdialog javax swing jpanel javax swing windowconstants net sf jabref globals net sf jabref gui basepanel net sf jabref gui jabrefframe net sf jabref gui keyboard keybinder net sf jabref logic l10n localization net sf jabref model bibtexkeypattern abstractbibtexkeypattern net sf jabref model metadata metadata com jgoodies forms builder buttonbarbuilder bibtexkeypatterndialog jdialog metadata metadata basepanel panel bibtexkeypatternpanel bibtexkeypatternpanel bibtexkeypatterndialog jabrefframe parent basepanel panel super parent localization lang bibtex key patterns true bibtexkeypatternpanel bibtexkeypatternpanel panel setpanel panel init used updating existing dialog param panel panel read data setpanel basepanel panel panel panel metadata panel getbibdatabasecontext getmetadata abstractbibtexkeypattern keypatterns metadata getcitekeypattern globals prefs getkeypattern bibtexkeypatternpanel setvalues keypatterns init getcontentpane setlayout borderlayout getcontentpane add bibtexkeypatternpanel borderlayout center jbutton ok jbutton localization lang ok jbutton cancel jbutton label cancel set later label overwritten assigning action button jpanel lower jpanel lower setborder borderfactory createemptyborder buttonbarbuilder bb buttonbarbuilder lower bb addglue bb addbutton ok bb addbutton cancel bb addglue getcontentpane add lower borderlayout south setdefaultcloseoperation windowconstants dispose close getcontentpane setpreferredsize dimension pack ok addactionlistener metadata setcitekeypattern bibtexkeypatternpanel getkeypatternasdatabasebibtexkeypattern panel marknonundoablebasechanged dispose jdialog dialog action cancelaction abstractaction override actionperformed actionevent dialog dispatchevent windowevent dialog windowevent window closing cancel setaction cancelaction cancel settext localization lang cancel keybinder bindclosedialogkeytocancelaction getrootpane cancelaction override setvisible boolean visible visible super setvisible visible 
100	SearchFixDuplicateLabels.java	GUI	net sf jabref gui bibtexkeypattern util arraylist util hashmap util list util map javax swing jcheckbox net sf jabref globals net sf jabref gui basepanel net sf jabref gui undo namedcompound net sf jabref gui undo undoablekeychange net sf jabref gui worker abstractworker net sf jabref logic bibtexkeypattern bibtexkeypatternutil net sf jabref logic l10n localization net sf jabref model database bibdatabase net sf jabref model entry bibentry function resolving duplicate bibtex keys searchfixduplicatelabels abstractworker basepanel panel map<string list<bibentry>> dupes searchfixduplicatelabels basepanel panel panel panel override run find multiple occurrences bibtex keys dupes hashmap<> map<string bibentry> foundkeys hashmap<> bibdatabase db panel getdatabase bibentry entry db getentries entry getcitekeyoptional filter key key isempty ifpresent key see whether entry's key already known: foundkeys containskey key already known found dupe see already found dupe: dupes containskey key already dupe map add entry well: dupes get key add entry else construct list entries key: list<bibentry> al arraylist<> add first one found one found now: al add foundkeys get key al add entry add list dupe map: dupes put key al else already known add key entry map: foundkeys put key entry override init throws exception panel output localization lang resolving duplicate bibtex keys override update list<bibentry> togeneratefor arraylist<> map entry<string list<bibentry>> dupeentry dupes entryset resolveduplicatelabeldialog rdld resolveduplicatelabeldialog panel dupeentry getkey dupeentry getvalue rdld show rdld isokpressed list<jcheckbox> cbs rdld getcheckboxes cbs size cbs get isselected checkbox entry selected generate key it: togeneratefor add dupeentry getvalue get else rdld iscancelpressed break actual generation: togeneratefor isempty namedcompound ce namedcompound localization lang resolve duplicate bibtex keys bibentry entry togeneratefor string oldkey entry getcitekeyoptional orelse null bibtexkeypatternutil makelabel panel getbibdatabasecontext getmetadata getcitekeypattern globals prefs getbibtexkeypatternpreferences getkeypattern panel getdatabase entry globals prefs getbibtexkeypatternpreferences ce addedit undoablekeychange entry oldkey entry getcitekeyoptional get ce end panel getundomanager addedit ce panel markbasechanged panel output localization lang finished resolving duplicate bibtex keys entries modified string valueof togeneratefor size 
101	ResolveDuplicateLabelDialog.java	GUI	net sf jabref gui bibtexkeypattern awt borderlayout awt dimension awt event actionevent util arraylist util list javax swing abstractaction javax swing actionmap javax swing borderfactory javax swing inputmap javax swing jbutton javax swing jcheckbox javax swing jcomponent javax swing jdialog javax swing jlabel javax swing jscrollpane net sf jabref globals net sf jabref gui basepanel net sf jabref gui previewpanel net sf jabref gui keyboard keybinding net sf jabref logic l10n localization net sf jabref model entry bibentry com jgoodies forms builder buttonbarbuilder com jgoodies forms builder formbuilder com jgoodies forms layout formlayout dialog box resolving duplicate bibte keys resolveduplicatelabeldialog jdialog diag list<jcheckbox> cbs arraylist<> boolean okpressed boolean cancelpressed resolveduplicatelabeldialog basepanel panel string key list<bibentry> entries diag jdialog panel frame localization lang duplicate bibtex key true formbuilder formbuilder create layout formlayout left:pref 4dlu fill:pref add jlabel localization lang duplicate bibtex key key xyw getpanel setborder borderfactory createemptyborder boolean first true row bibentry entry entries jcheckbox cb jcheckbox localization lang generate bibtex key first appendrows 1dlu add cb xy row previewpanel pp previewpanel null entry null pp setpreferredsize dimension add jscrollpane pp xy row row cbs add cb first false buttonbarbuilder bb buttonbarbuilder bb addglue jbutton ok jbutton localization lang ok bb addbutton ok jbutton ignore jbutton localization lang ignore bb addbutton ignore jbutton cancel jbutton localization lang cancel bb addbutton cancel bb addglue bb getpanel setborder borderfactory createemptyborder diag getcontentpane add getpanel borderlayout center diag getcontentpane add bb getpanel borderlayout south diag pack ok addactionlistener okpressed true diag dispose ignore addactionlistener diag dispose abstractaction closeaction abstractaction override actionperformed actionevent cancelpressed true diag dispose cancel addactionlistener closeaction actionmap getpanel getactionmap inputmap im getpanel getinputmap jcomponent focused window im put globals getkeyprefs getkey keybinding close dialog close put close closeaction dialog closed query answers whether dialog okpressed cancel button closing dialog directly true okpressed false ok pressed boolean isokpressed okpressed get list checkboxes user selected entries generate keys list checkboxes list<jcheckbox> getcheckboxes cbs show okpressed false diag setlocationrelativeto diag getparent diag setvisible true boolean iscancelpressed cancelpressed 
102	BibtexKeyPatternPanel.java	GUI	net sf jabref gui bibtexkeypattern awt container awt dimension awt font awt gridbagconstraints awt gridbaglayout awt insets util hashmap util map javax swing borderfactory javax swing jbutton javax swing jlabel javax swing jpanel javax swing jscrollpane javax swing jtextfield net sf jabref globals net sf jabref gui basepanel net sf jabref gui icontheme net sf jabref gui help helpaction net sf jabref logic help helpfile net sf jabref logic l10n localization net sf jabref model entrytypes net sf jabref model bibtexkeypattern abstractbibtexkeypattern net sf jabref model bibtexkeypattern databasebibtexkeypattern net sf jabref model bibtexkeypattern globalbibtexkeypattern net sf jabref model database bibdatabasemode net sf jabref model entry entrytype net sf jabref preferences jabrefpreferences bibtexkeypatternpanel jpanel used bibtexkeypatternpanel tablabelpattern gridbaglayout gbl gridbaglayout gridbagconstraints con gridbagconstraints helpaction help default pattern jtextfield defaultpat jtextfield one field type map<string jtextfield> textfields hashmap<> basepanel panel bibtexkeypatternpanel basepanel panel panel panel help helpaction localization lang help key patterns helpfile bibtex key pattern buildgui buildgui jpanel pan jpanel jscrollpane sp jscrollpane pan sp setpreferredsize dimension sp setborder borderfactory createemptyborder pan setlayout gbl setlayout gbl header removed jlabel lblentrytype jlabel localization lang entry type font font plain font bold lblentrytype setfont con gridx con gridy con gridwidth con gridheight con fill gridbagconstraints vertical con anchor gridbagconstraints west con insets insets gbl setconstraints lblentrytype con pan add lblentrytype jlabel lblkeypattern jlabel localization lang key pattern lblkeypattern setfont con gridx con gridy con gridheight con fill gridbagconstraints horizontal con anchor gridbagconstraints west con insets insets gbl setconstraints lblkeypattern con pan add lblkeypattern con gridy con gridx jlabel lab jlabel localization lang default pattern gbl setconstraints lab con pan add lab con gridx gbl setconstraints defaultpat con pan add defaultpat con insets insets jbutton btndefault jbutton localization lang default btndefault addactionlistener defaultpat settext string globals prefs defaults get jabrefpreferences default bibtex key pattern con gridx gbl setconstraints btndefault con pan add btndefault bibdatabasemode mode check mode currently used db panel null mode panel getbibdatabasecontext getmode else use preferences value db open mode globals prefs getdefaultbibdatabasemode entrytype type entrytypes getallvalues mode textfields put type getname tolowercase addentrytype pan type con fill gridbagconstraints con gridx con gridy con gridwidth con weightx con weighty gbl setconstraints sp con add sp help button con gridwidth con gridx con gridy con fill gridbagconstraints horizontal con weightx con weighty con anchor gridbagconstraints southeast con insets insets jbutton hlb jbutton icontheme jabreficon help getsmallicon hlb settooltiptext localization lang help key patterns gbl setconstraints hlb con add hlb hlb addactionlistener help finally button reset everything jbutton btndefaultall jbutton localization lang reset con gridx con gridy con weightx con weighty con anchor gridbagconstraints southeast con insets insets gbl setconstraints btndefaultall con btndefaultall addactionlistener reset fields jtextfield field textfields values field settext also reset default pattern defaultpat settext string globals prefs defaults get jabrefpreferences default bibtex key pattern add btndefaultall jtextfield addentrytype container entrytype type jlabel lab jlabel type getname con gridx con gridy con fill gridbagconstraints con weightx con weighty con anchor gridbagconstraints west con insets insets gbl setconstraints lab con add lab jtextfield tf jtextfield tf setcolumns con gridx con fill gridbagconstraints horizontal con weightx con weighty con anchor gridbagconstraints center con insets insets gbl setconstraints tf con add tf jbutton jbutton localization lang default con gridx con fill gridbagconstraints con weightx con weighty con anchor gridbagconstraints center con insets insets gbl setconstraints con setactioncommand type getname tolowercase addactionlistener jtextfield tfield textfields get getactioncommand tfield settext add tf fill given labelpattern values generated text fields fillpatternusingpaneldata abstractbibtexkeypattern keypatterns entry type map entry<string jtextfield> entry textfields entryset string text entry getvalue gettext text trim isempty keypatterns addbibtexkeypattern entry getkey text default value string text defaultpat gettext text trim isempty trim value assignment enable users spaces beginning end pattern keypatterns setdefaultvalue text globalbibtexkeypattern getkeypatternasglobalbibtexkeypattern globalbibtexkeypattern res globalbibtexkeypattern abstractbibtexkeypattern split jabrefpreferences getinstance get jabrefpreferences default bibtex key pattern fillpatternusingpaneldata res res databasebibtexkeypattern getkeypatternasdatabasebibtexkeypattern databasebibtexkeypattern res databasebibtexkeypattern globals prefs getkeypattern fillpatternusingpaneldata res res fills current values text fields param keypattern bibtexkeypattern use initial value setvalues abstractbibtexkeypattern keypattern map entry<string jtextfield> entry textfields entryset setvalue entry getvalue entry getkey keypattern keypattern getdefaultvalue null keypattern getdefaultvalue isempty defaultpat settext else defaultpat settext keypattern getdefaultvalue get setvalue jtextfield tf string fieldname abstractbibtexkeypattern keypattern keypattern isdefaultvalue fieldname tf settext else tf settext keypattern getvalue fieldname get 
103	CitationManager.java	GUI	net sf jabref gui openoffice awt borderlayout awt dimension awt event actionevent awt event mouseadapter awt event mouseevent util list util optional javax swing abstractaction javax swing action javax swing borderfactory javax swing jbutton javax swing jcomponent javax swing jdialog javax swing joptionpane javax swing jscrollpane javax swing jtable javax swing jtextfield net sf jabref globals net sf jabref gui jabrefframe net sf jabref gui keyboard keybinding net sf jabref gui util guiutil net sf jabref logic l10n localization net sf jabref logic openoffice citationentry ca odell glazedlists basiceventlist ca odell glazedlists eventlist ca odell glazedlists gui tableformat ca odell glazedlists swing defaulteventtablemodel com jgoodies forms builder buttonbarbuilder com jgoodies forms builder formbuilder com jgoodies forms layout formlayout com sun star beans illegaltypeexception com sun star beans notremoveableexception com sun star beans propertyexistexception com sun star beans unknownpropertyexception com sun star container nosuchelementexception com sun star container xnameaccess com sun star lang illegalargumentexception com sun star lang wrappedtargetexception org apache commons logging log org apache commons logging logfactory dialog modifying existing citations citationmanager oobibbase oobase jdialog diag eventlist<citationentry> list jtable table defaulteventtablemodel<citationentry> tablemodel log logger logfactory getlog citationmanager citationmanager jabrefframe frame oobibbase oobase throws nosuchelementexception wrappedtargetexception unknownpropertyexception diag jdialog frame localization lang manage citations true oobase oobase list basiceventlist<> xnameaccess nameaccess oobase getreferencemarks list<string> names oobase getjabrefreferencemarks nameaccess string name names list add citationentry name <html> oobase getcitationcontext nameaccess name true html> oobase getcustomproperty name tablemodel defaulteventtablemodel<> list citationentryformat table jtable tablemodel guiutil correctrowheight table diag add jscrollpane table borderlayout center buttonbarbuilder bb buttonbarbuilder bb addglue jbutton ok jbutton localization lang ok bb addbutton ok jbutton cancel jbutton localization lang cancel bb addbutton cancel bb addglue bb getpanel setborder borderfactory createemptyborder diag add bb getpanel borderlayout south diag pack diag setsize ok addactionlistener try storesettings catch unknownpropertyexception notremoveableexception propertyexistexception illegaltypeexception illegalargumentexception ex logger warn problem modifying citation ex joptionpane showmessagedialog frame localization lang problem modifying citation diag dispose action cancelaction abstractaction override actionperformed actionevent actionevent diag dispose cancel addactionlistener cancelaction bb getpanel getinputmap jcomponent focused window put globals getkeyprefs getkey keybinding close dialog close bb getpanel getactionmap put close cancelaction table getcolumnmodel getcolumn setpreferredwidth table getcolumnmodel getcolumn setpreferredwidth table setpreferredscrollableviewportsize dimension table addmouselistener tableclicklistener storesettings throws unknownpropertyexception notremoveableexception propertyexistexception illegaltypeexception illegalargumentexception citationentry entry list optional<string> pageinfo entry getpageinfo entry pageinfochanged pageinfo ispresent oobase setcustomproperty entry getrefmarkname pageinfo get showdialog diag setlocationrelativeto diag getparent diag setvisible true citationentryformat tableformat<citationentry> override getcolumncount override string getcolumnname localization lang citation else localization lang extra information override object getcolumnvalue citationentry citentry citentry getcontext else citentry getpageinfo orelse tableclicklistener mouseadapter override mouseclicked mouseevent getbutton mouseevent button1 getclickcount row table rowatpoint getpoint row singlecitationdialog scd singlecitationdialog list get row scd showdialog singlecitationdialog jdialog singlecitedialog jtextfield pageinfo jtextfield jbutton okbutton jbutton localization lang ok jbutton cancelbutton jbutton localization lang cancel citationentry entry singlecitationdialog citationentry citentry entry citentry pageinfo settext entry getpageinfo orelse singlecitedialog jdialog citationmanager diag localization lang citation true formbuilder builder formbuilder create layout formlayout left:pref 4dlu fill:150dlu:grow pref 4dlu pref builder add entry getcontext xyw builder add localization lang extra information page number xy builder add pageinfo xy builder padding 10dlu 10dlu 10dlu 10dlu singlecitedialog getcontentpane add builder getpanel borderlayout center buttonbarbuilder bb buttonbarbuilder bb addglue bb addbutton okbutton bb addbutton cancelbutton bb addglue bb padding 5dlu 5dlu 5dlu 5dlu singlecitedialog add bb getpanel borderlayout south okbutton addactionlistener pageinfo gettext trim isempty entry setpageinfo null else entry setpageinfo pageinfo gettext trim tablemodel firetabledatachanged singlecitedialog dispose action cancelaction abstractaction override actionperformed actionevent actionevent singlecitedialog dispose cancelbutton addactionlistener cancelaction builder getpanel getinputmap jcomponent focused window put globals getkeyprefs getkey keybinding close dialog close builder getpanel getactionmap put close cancelaction showdialog singlecitedialog pack singlecitedialog setlocationrelativeto singlecitedialog getparent singlecitedialog setvisible true 
104	UndefinedCharacterFormatException.java	GUI	net sf jabref gui openoffice exception used indicate plugin attempted set character format defined current openoffice document undefinedcharacterformatexception exception string formatname undefinedcharacterformatexception string formatname super formatname formatname string getformatname formatname 
105	AutoDetectPaths.java	GUI	net sf jabref gui openoffice awt borderlayout io file util arraylist util list util optional javax swing borderfactory javax swing buttongroup javax swing defaultlistmodel javax swing jbutton javax swing jdialog javax swing jfilechooser javax swing jlabel javax swing jlist javax swing joptionpane javax swing jprogressbar javax swing jradiobutton javax swing listselectionmodel javax swing swingconstants net sf jabref gui worker abstractworker net sf jabref logic l10n localization net sf jabref logic openoffice openofficefilesearch net sf jabref logic openoffice openofficepreferences net sf jabref logic util os com jgoodies forms builder formbuilder com jgoodies forms layout formlayout tools automatically detecting jar executable paths openoffice libreoffice autodetectpaths abstractworker openofficepreferences preferences boolean foundpaths boolean filesearchcanceled jdialog prog jdialog parent openofficefilesearch filesearch openofficefilesearch autodetectpaths jdialog parent openofficepreferences preferences parent parent preferences preferences boolean runautodetection foundpaths false preferences checkautodetectedpaths true init getworker run update foundpaths override run foundpaths autodetectpaths boolean canceled filesearchcanceled override init prog showprogressdialog parent localization lang autodetecting paths localization lang please wait true override update prog dispose boolean autodetectpaths filesearch resetfilesearch os windows list<file> progfiles filesearch findwindowsprogramfilesdir list<file> sofficefiles arraylist<> filesearch findfileindirs progfiles openofficepreferences windows executable filesearchcanceled false sofficefiles isempty joptionpane showmessagedialog parent localization lang unable autodetect openoffice libreoffice installation please choose installation directory manually localization lang could find openoffice libreoffice installation joptionpane information message jfilechooser filechooser jfilechooser file system getenv programfiles filechooser setdialogtype jfilechooser open dialog filechooser setfilefilter javax swing filechooser filefilter override boolean accept file file file isdirectory override string getdescription localization lang directories filechooser setfileselectionmode jfilechooser directories filechooser showopendialog parent filechooser getselectedfile null sofficefiles add filechooser getselectedfile optional<file> actualfile checkandselectamongmultipleinstalls sofficefiles actualfile ispresent setuppreferencesforoo actualfile get getparentfile actualfile get openofficepreferences windows executable else false else os os list<file> dirlist filesearch findosxprogramfilesdir list<file> sofficefiles arraylist<> filesearch findfileindirs dirlist openofficepreferences osx executable filesearchcanceled false optional<file> actualfile checkandselectamongmultipleinstalls sofficefiles actualfile ispresent file rootdir dirlist actualfile get getpath startswith rootdir getpath setuppreferencesforoo rootdir actualfile get openofficepreferences osx executable false else linux: string usrroot usr lib optional<file> inusr filesearch findfileindir file usrroot openofficepreferences linux executable filesearchcanceled false inusr ispresent inusr filesearch findfileindir file usr lib64 openofficepreferences linux executable inusr ispresent usrroot usr lib64 filesearchcanceled false optional<file> inopt filesearch findfileindir file opt openofficepreferences linux executable filesearchcanceled false inusr ispresent inopt ispresent setuppreferencesforoo usrroot inusr get openofficepreferences linux executable else inopt ispresent inusr ispresent setuppreferencesforoo opt inopt get openofficepreferences linux executable else found jradiobutton optrb jradiobutton inopt get getpath true jradiobutton usrrb jradiobutton inusr get getpath false buttongroup bg buttongroup bg add optrb bg add usrrb formbuilder formbuilder create layout formlayout left:pref pref 2dlu pref 2dlu pref add localization lang found one openoffice libreoffice executable localization lang please choose one connect to: xy add optrb xy add usrrb xy answer joptionpane showconfirmdialog null getpanel localization lang choose openoffice libreoffice executable joptionpane ok cancel option answer joptionpane cancel option false optrb isselected setuppreferencesforoo opt inopt get openofficepreferences linux executable else setuppreferencesforoo usrroot inusr get openofficepreferences linux executable false boolean setuppreferencesforoo string usrroot file inusr string sofficename setuppreferencesforoo file usrroot inusr sofficename boolean setuppreferencesforoo file rootdir file inusr string sofficename preferences setexecutablepath file inusr sofficename getpath optional<file> jurt filesearch findfileindir rootdir jurt jar filesearchcanceled false jurt ispresent preferences setjarspath jurt get getpath true else false optional<file> checkandselectamongmultipleinstalls list<file> sofficefiles sofficefiles isempty optional empty else sofficefiles size optional sofficefiles get otherwise one file found select among defaultlistmodel<file> mod defaultlistmodel<> file tmpfile sofficefiles mod addelement tmpfile jlist<file> filelist jlist<> mod filelist setselectionmode listselectionmodel single selection filelist setselectedindex formbuilder builder formbuilder create layout formlayout left:pref pref 2dlu pref 4dlu pref builder add localization lang found one openoffice libreoffice executable xy builder add localization lang please choose one connect to: xy builder add filelist xy answer joptionpane showconfirmdialog null builder getpanel localization lang choose openoffice libreoffice executable joptionpane ok cancel option answer joptionpane cancel option optional empty else optional filelist getselectedvalue jdialog showprogressdialog jdialog progressparent string title string message boolean includecancelbutton filesearchcanceled false jprogressbar bar jprogressbar swingconstants horizontal jdialog progressdialog jdialog progressparent title false bar setborder borderfactory createemptyborder bar setindeterminate true includecancelbutton jbutton cancel jbutton localization lang cancel cancel addactionlistener event filesearchcanceled true filesearch cancelfilesearch jbutton event getsource setenabled false progressdialog add cancel borderlayout south progressdialog add jlabel message borderlayout north progressdialog add bar borderlayout center progressdialog pack progressdialog setlocationrelativeto null progressdialog setvisible true progressdialog 
106	CreationException.java	GUI	net sf jabref gui openoffice exception used indicate plugin attempted set character format defined current openoffice document creationexception exception creationexception string message super message 
107	StyleSelectDialog.java	GUI	net sf jabref gui openoffice awt borderlayout awt dimension awt rectangle awt event actionevent awt event actionlistener awt event mouseadapter awt event mouseevent io ioexception nio file path util objects util optional javax swing abstractaction javax swing action javax swing actionmap javax swing borderfactory javax swing inputmap javax swing jbutton javax swing jcomponent javax swing jdialog javax swing jmenuitem javax swing joptionpane javax swing jpopupmenu javax swing jscrollpane javax swing jtable javax swing jtextarea javax swing jtextfield javax swing keystroke javax swing listselectionmodel javax swing swingutilities javax swing table tablecolumnmodel net sf jabref globals net sf jabref gui filedialog net sf jabref gui icontheme net sf jabref gui jabrefframe net sf jabref gui previewpanel net sf jabref gui desktop jabrefdesktop net sf jabref gui externalfiletype externalfiletype net sf jabref gui externalfiletype externalfiletypes net sf jabref gui externalfiletype unknownexternalfiletype net sf jabref gui keyboard keybinding net sf jabref gui util guiutil net sf jabref gui util windowlocation net sf jabref logic l10n localization net sf jabref logic openoffice oobibstyle net sf jabref logic openoffice openofficepreferences net sf jabref logic openoffice styleloader net sf jabref logic util fileextensions net sf jabref logic util testentry net sf jabref model database bibdatabasecontext net sf jabref model entry bibentry net sf jabref preferences jabrefpreferences ca odell glazedlists basiceventlist ca odell glazedlists eventlist ca odell glazedlists sortedlist ca odell glazedlists event listevent ca odell glazedlists event listeventlistener ca odell glazedlists gui tableformat ca odell glazedlists swing defaulteventselectionmodel ca odell glazedlists swing defaulteventtablemodel ca odell glazedlists swing glazedlistsswing com jgoodies forms builder buttonbarbuilder com jgoodies forms builder formbuilder com jgoodies forms layout formlayout org apache commons logging log org apache commons logging logfactory produces dialog box choosing style file styleselectdialog log logger logfactory getlog styleselectdialog jabrefframe frame eventlist<oobibstyle> styles jdialog diag jtable table defaulteventtablemodel<oobibstyle> tablemodel defaulteventselectionmodel<oobibstyle> selectionmodel jpopupmenu popup jpopupmenu jmenuitem edit jmenuitem localization lang edit jmenuitem show jmenuitem localization lang view jmenuitem remove jmenuitem localization lang remove jmenuitem reload jmenuitem localization lang reload jbutton addbutton jbutton icontheme jabreficon add nobox geticon jbutton removebutton jbutton icontheme jabreficon remove nobox geticon previewpanel preview actionlistener removeaction rectangle torect rectangle jbutton ok jbutton localization lang ok jbutton cancel jbutton localization lang cancel bibentry preventry boolean okpressed styleloader loader openofficepreferences preferences styleselectdialog jabrefframe frame openofficepreferences preferences styleloader loader frame objects requirenonnull frame preferences objects requirenonnull preferences loader objects requirenonnull loader preventry testentry gettestentry init init setuppopupmenu addbutton addactionlistener actionevent addfiledialog adddialog addfiledialog adddialog setdirectorypath preferences getcurrentstyle adddialog setvisible true adddialog getfilename ifpresent filename loader addstyleifvalid filename preferences setcurrentstyle filename updatestyles addbutton settooltiptext localization lang add style file removebutton addactionlistener removeaction removebutton settooltiptext localization lang remove style create preview panel previewing styles must done creating table avoid npes preview previewpanel null null use test entry preview settings tab preferences: preview setentry preventry setuptable updatestyles build dialog diag jdialog frame localization lang select style true formbuilder builder formbuilder create builder layout formlayout fill:pref:grow 4dlu left:pref 4dlu left:pref pref 4dlu 100dlu:grow 4dlu pref 4dlu fill:100dlu builder add localization lang select one available styles add style file disk xyw builder add jscrollpane table xyw builder add addbutton xy builder add removebutton xy builder add preview xyw builder padding 5dlu 5dlu 5dlu 5dlu diag add builder getpanel borderlayout center abstractaction oklistener abstractaction override actionperformed actionevent event table getrowcount table getselectedrowcount joptionpane showmessagedialog diag localization lang must select valid style file localization lang style selection joptionpane error message okpressed true storesettings diag dispose ok addactionlistener oklistener action cancellistener abstractaction override actionperformed actionevent event diag dispose cancel addactionlistener cancellistener buttonbarbuilder bb buttonbarbuilder bb addglue bb addbutton ok bb addbutton cancel bb addglue bb getpanel setborder borderfactory createemptyborder diag add bb getpanel borderlayout south actionmap bb getpanel getactionmap inputmap im bb getpanel getinputmap jcomponent focused window im put globals getkeyprefs getkey keybinding close dialog close put close cancellistener im put keystroke getkeystroke enter enterok put enterok oklistener diag pack windowlocation pw windowlocation diag jabrefpreferences styles pos jabrefpreferences styles pos jabrefpreferences styles size jabrefpreferences styles size pw displaywindowatstoredlocation setuptable styles basiceventlist<> eventlist<oobibstyle> sortedstyles sortedlist<> styles tablemodel defaulteventtablemodel<oobibstyle> glazedlistsswing eventtablemodelwiththreadproxylist sortedstyles styletableformat table jtable tablemodel tablecolumnmodel cm table getcolumnmodel cm getcolumn setpreferredwidth cm getcolumn setpreferredwidth cm getcolumn setpreferredwidth guiutil correctrowheight table selectionmodel defaulteventselectionmodel<oobibstyle> glazedlistsswing eventselectionmodelwiththreadproxylist sortedstyles table setselectionmodel selectionmodel table getselectionmodel setselectionmode listselectionmodel single selection table addmouselistener mouseadapter override mousepressed mouseevent mouseevent mouseevent ispopuptrigger tablepopup mouseevent override mousereleased mouseevent mouseevent mouseevent ispopuptrigger tablepopup mouseevent selectionmodel getselected addlisteventlistener entryselectionlistener setuppopupmenu popup add edit popup add show popup add remove popup add reload add action listener edit menu item supposed open style file external editor: edit addactionlistener actionevent getselectedstyle ifpresent style optional<externalfiletype> type externalfiletypes getinstance getexternalfiletypebyext jstyle string link style getpath try type ispresent jabrefdesktop openexternalfileanyformat bibdatabasecontext link type else jabrefdesktop openexternalfileunknown frame bibentry bibdatabasecontext link unknownexternalfiletype jstyle catch ioexception logger warn problem open style file editor add action listener show menu item supposed open style file dialog: show addactionlistener actionevent getselectedstyle ifpresent this::displaystyle create action listener removing style also used remove button removeaction actionevent getselectedstyle ifpresent style style isfromresource joptionpane showconfirmdialog diag localization lang sure want remove style? localization lang remove style joptionpane yes option joptionpane yes option loader removestyle style logger info problem removing style updatestyles add remove menu item remove addactionlistener removeaction add action listener reload menu item supposed reload external style file reload addactionlistener actionevent getselectedstyle ifpresent style try style ensureuptodate catch ioexception logger warn problem style file style getpath setvisible boolean visible okpressed false diag setvisible visible read style files directories style files indicated current settings add styles list styles updatestyles table clearselection styles getreadwritelock writelock lock styles clear styles addall loader getstyles styles getreadwritelock writelock unlock selectlastused method scans current list styles looks styles last used found style selected found first style selected provided >0 styles selectlastused string usedstylefile preferences getcurrentstyle set initial selection table: usedstylefile null table getrowcount table setrowselectioninterval else boolean found false table getrowcount usedstylefile equals tablemodel getelementat getpath table setrowselectioninterval found true break found table getrowcount table setrowselectioninterval storesettings getselectedstyle ifpresent style preferences setcurrentstyle style getpath optional<oobibstyle> getstyle okpressed getselectedstyle optional empty get currently selected style selected style empty style selected optional<oobibstyle> getselectedstyle selectionmodel getselected isempty optional selectionmodel getselected get optional empty styletableformat tableformat<oobibstyle> override getcolumncount override string getcolumnname switch case 0: localization lang name case 1: localization lang journals case 2: localization lang file default: override object getcolumnvalue oobibstyle style switch case 0: style getname case 1: string join style getjournals case 2: style isfromresource localization lang internal style style getfile getname default: boolean isokpressed okpressed tablepopup mouseevent popup show getcomponent getx gety displaystyle oobibstyle style make dialog box display contents: jdialog dd jdialog diag style getname true jtextarea ta jtextarea style getlocalcopy ta seteditable false jscrollpane sp jscrollpane ta sp setpreferredsize dimension dd getcontentpane add sp borderlayout center jbutton okbutton jbutton localization lang ok buttonbarbuilder bb buttonbarbuilder bb addglue bb addbutton okbutton bb addglue bb getpanel setborder borderfactory createemptyborder dd getcontentpane add bb getpanel borderlayout south okbutton addactionlistener actionevent dd dispose dd pack dd setlocationrelativeto diag dd setvisible true listener glazed list monitoring current selection selection changes need update preview panel entryselectionlistener listeventlistener<oobibstyle> override listchanged listevent<oobibstyle> listevent listevent getsourcelist size oobibstyle style listevent getsourcelist get enable disable popup menu items buttons style isfromresource remove setenabled false edit setenabled false reload setenabled false removebutton setenabled false else remove setenabled true edit setenabled true reload setenabled true removebutton setenabled true set preview layout preview setlayout style getreferenceformat default update preview's entry: swingutilities invokelater preview update preview scrollrecttovisible torect addfiledialog jdialog jtextfield newfile jtextfield boolean addokpressed addfiledialog super diag localization lang add style file true jbutton browse jbutton localization lang browse filedialog dialog filedialog frame withextension fileextensions jstyle dialog setdefaultextension fileextensions jstyle browse addactionlistener optional<path> file dialog showdialogandgetselectedfile file ifpresent newfile settext toabsolutepath tostring build content panel formbuilder builder formbuilder create builder layout formlayout left:pref 4dlu fill:100dlu:grow 4dlu pref builder add localization lang file xy builder add newfile xy builder add browse xy builder padding 10dlu 10dlu 10dlu 10dlu getcontentpane add builder build borderlayout center buttons buttonbarbuilder bb buttonbarbuilder jbutton addokbutton jbutton localization lang ok jbutton addcancelbutton jbutton localization lang cancel bb addglue bb addbutton addokbutton bb addbutton addcancelbutton bb addglue bb getpanel setborder borderfactory createemptyborder getcontentpane add bb getpanel borderlayout south addokbutton addactionlistener addokpressed true dispose action cancelaction abstractaction override actionperformed actionevent addokpressed false dispose addcancelbutton addactionlistener cancelaction key bindings: bb getpanel getinputmap jcomponent focused window put globals getkeyprefs getkey keybinding close dialog close bb getpanel getactionmap put close cancelaction pack setlocationrelativeto diag optional<string> getfilename addokpressed newfile gettext null newfile gettext isempty optional newfile gettext optional empty setdirectorypath string path newfile settext path 
108	ConnectionLostException.java	GUI	net sf jabref gui openoffice exception used indicate connection openoffice lost connectionlostexception runtimeexception connectionlostexception string super 
109	BibEntryNotFoundException.java	GUI	net sf jabref gui openoffice created intellij idea user: alver date: dec time: 10:37:23 change template use file settings file templates bibentrynotfoundexception exception string bibtexkey bibentrynotfoundexception string bibtexkey string message super message bibtexkey bibtexkey string getbibtexkey bibtexkey 
110	OOBibBase.java	GUI	net sf jabref gui openoffice io file io ioexception lang reflect invocationtargetexception lang reflect method net malformedurlexception net url net urlclassloader util arraylist util arrays util collections util comparator util enumset util hashmap util hashset util linkedhashmap util list util map util objects util optional util set util sortedmap util treemap util treeset util regex matcher util regex pattern util stream collectors javax swing jlist javax swing joptionpane javax swing jscrollpane javax swing listselectionmodel net sf jabref logic bibtex comparator fieldcomparator net sf jabref logic bibtex comparator fieldcomparatorstack net sf jabref logic l10n localization net sf jabref logic layout layout net sf jabref logic openoffice oobibstyle net sf jabref logic openoffice oopreformatter net sf jabref logic openoffice ooutil net sf jabref logic openoffice undefinedbibtexentry net sf jabref logic openoffice undefinedparagraphformatexception net sf jabref model database bibdatabase net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model entry idgenerator com sun star awt point com sun star beans illegaltypeexception com sun star beans notremoveableexception com sun star beans propertyexistexception com sun star beans propertyvetoexception com sun star beans unknownpropertyexception com sun star beans xpropertycontainer com sun star beans xpropertyset com sun star comp helper bootstrap com sun star comp helper bootstrapexception com sun star container nosuchelementexception com sun star container xenumeration com sun star container xenumerationaccess com sun star container xnameaccess com sun star container xnamed com sun star document xdocumentpropertiessupplier com sun star frame xcomponentloader com sun star frame xcontroller com sun star frame xdesktop com sun star frame xmodel com sun star lang disposedexception com sun star lang illegalargumentexception com sun star lang locale com sun star lang wrappedtargetexception com sun star lang xcomponent com sun star lang xmulticomponentfactory com sun star lang xmultiservicefactory com sun star text xbookmarkssupplier com sun star text xdocumentindexessupplier com sun star text xfootnote com sun star text xreferencemarkssupplier com sun star text xtext com sun star text xtextcontent com sun star text xtextcursor com sun star text xtextdocument com sun star text xtextrange com sun star text xtextrangecompare com sun star text xtextsection com sun star text xtextsectionssupplier com sun star text xtextviewcursor com sun star text xtextviewcursorsupplier com sun star uno com sun star uno type com sun star uno unoruntime com sun star uno xcomponentcontext org apache commons logging log org apache commons logging logfactory manipulating bibliography currently start document openoffice oobibbase oopreformatter postformatter oopreformatter string bib section name jr bib string bib section end name jr bib end string bib citation jr cite pattern cite pattern pattern compile oobibbase bib citation \\d \\d string char style name charstylename authoryear par authoryear intext invisible cit xmultiservicefactory mxdocfactory xtextdocument mxdoc xtext text xdesktop xdesktop xtextviewcursorsupplier xviewcursorsupplier xcomponent xcurrentcomponent xpropertyset propertyset xpropertycontainer userproperties boolean atend comparator<bibentry> entrycomparator comparator<bibentry> yearauthortitlecomparator fieldcomparator authcomp fieldcomparator fieldname author fieldcomparator yearcomp fieldcomparator fieldname year fieldcomparator titlecomp fieldcomparator fieldname title list<comparator<bibentry>> authoryeartitlelist arraylist<> list<comparator<bibentry>> yearauthortitlelist arraylist<> map<string string> uniquefiers hashmap<> list<string> sortedreferencemarks log logger logfactory getlog oobibbase oobibbase string pathtooo boolean atend throws ioexception illegalaccessexception invocationtargetexception bootstrapexception creationexception unknownpropertyexception wrappedtargetexception indexoutofboundsexception nosuchelementexception nodocumentexception authoryeartitlelist add authcomp authoryeartitlelist add yearcomp authoryeartitlelist add titlecomp yearauthortitlelist add yearcomp yearauthortitlelist add authcomp yearauthortitlelist add titlecomp entrycomparator fieldcomparatorstack<> authoryeartitlelist yearauthortitlecomparator fieldcomparatorstack<> yearauthortitlelist atend atend xdesktop simplebootstrap pathtooo selectdocument boolean isconnectedtodocument xcurrentcomponent null optional<string> getcurrentdocumenttitle mxdoc null optional empty else try optional string valueof ooutil getproperty mxdoc getcurrentcontroller getframe title catch unknownpropertyexception wrappedtargetexception logger warn could get document title optional empty selectdocument throws unknownpropertyexception wrappedtargetexception indexoutofboundsexception nosuchelementexception nodocumentexception list<xtextdocument> textdocumentlist gettextdocuments xtextdocument selected textdocumentlist isempty text documents found throw nodocumentexception writer documents found else textdocumentlist size get one selected textdocumentlist get else bring dialog selected selectcomponent textdocumentlist selected null xcurrentcomponent unoruntime queryinterface xcomponent selected mxdoc selected unoruntime queryinterface xdocumentindexessupplier xcurrentcomponent xmodel xmodel unoruntime queryinterface xmodel xcurrentcomponent xcontroller xcontroller xmodel getcurrentcontroller xviewcursorsupplier unoruntime queryinterface xtextviewcursorsupplier xcontroller get reference body text document text mxdoc gettext access text document's multi service factory: mxdocfactory unoruntime queryinterface xmultiservicefactory mxdoc xdocumentpropertiessupplier supp unoruntime queryinterface xdocumentpropertiessupplier mxdoc userproperties supp getdocumentproperties getuserdefinedproperties propertyset unoruntime queryinterface xpropertyset userproperties xdesktop simplebootstrap string pathtoexecutable throws illegalaccessexception invocationtargetexception bootstrapexception creationexception ioexception classloader loader classloader getsystemclassloader loader instanceof urlclassloader urlclassloader cl urlclassloader loader class<urlclassloader> sysclass urlclassloader try method method sysclass getdeclaredmethod addurl url method setaccessible true method invoke cl file pathtoexecutable touri tourl catch securityexception nosuchmethodexception malformedurlexception logger error error could add url system classloader cl close throw ioexception error could add url system classloader else logger error error occured urlclassloader expected loader getclass received could continue get office component context: xcomponentcontext xcontext bootstrap bootstrap get office service manager: xmulticomponentfactory xservicemanager xcontext getservicemanager create desktop root frame hierarchy frames contain viewable components: object desktop try desktop xservicemanager createinstancewithcontext com sun star frame desktop xcontext catch exception throw creationexception getmessage xdesktop resultdesktop unoruntime queryinterface xdesktop desktop unoruntime queryinterface xcomponentloader desktop resultdesktop list<xtextdocument> gettextdocuments throws nosuchelementexception wrappedtargetexception list<xtextdocument> result arraylist<> xenumerationaccess enumaccess xdesktop getcomponents xenumeration componentenumeration enumaccess createenumeration todo: http: api openoffice org docs developersguide officedev officedev xhtml#1 frame hierarchies componentenumeration hasmoreelements object nextelement componentenumeration nextelement xcomponent component unoruntime queryinterface xcomponent nextelement xtextdocument document unoruntime queryinterface xtextdocument component document null result add document result setcustomproperty string property string value throws unknownpropertyexception notremoveableexception propertyexistexception illegaltypeexception illegalargumentexception propertyset getpropertysetinfo haspropertybyname property userproperties removeproperty property value null userproperties addproperty property com sun star beans propertyattribute removeable type string value optional<string> getcustomproperty string property throws unknownpropertyexception wrappedtargetexception propertyset getpropertysetinfo haspropertybyname property optional ofnullable propertyset getpropertyvalue property tostring optional empty updatesortedreferencemarks throws wrappedtargetexception nosuchelementexception sortedreferencemarks getsortedreferencemarks getreferencemarks method inserts cite marker text given bibentry may refresh bibliography param entries entries cite param database database entry belongs param style bibliography style using param inparenthesis indicates whether text citation citation parenthesis relevant numbered citations used param withtext indicates whether normal citation true empty invisible citation false param sync indicates whether reference list refreshed throws illegaltypeexception throws propertyexistexception throws notremoveableexception throws unknownpropertyexception throws undefinedcharacterformatexception throws nosuchelementexception throws wrappedtargetexception throws ioexception throws propertyvetoexception throws creationexception throws bibentrynotfoundexception throws undefinedparagraphformatexception insertentry list<bibentry> entries bibdatabase database list<bibdatabase> allbases oobibstyle style boolean inparenthesis boolean withtext string pageinfo boolean sync throws illegalargumentexception unknownpropertyexception notremoveableexception propertyexistexception illegaltypeexception undefinedcharacterformatexception wrappedtargetexception nosuchelementexception propertyvetoexception ioexception creationexception bibentrynotfoundexception undefinedparagraphformatexception try xtextviewcursor xviewcursor xviewcursorsupplier getviewcursor entries size style getbooleancitproperty oobibstyle multi cite chronological entries sort yearauthortitlecomparator else entries sort entrycomparator string keystring string join entries stream map entry entry getcitekeyoptional orelse collect collectors tolist insert bookmark: string bname getuniquereferencemarkname keystring withtext inparenthesis oobibbase authoryear par oobibbase authoryear intext oobibbase invisible cit store metadata page info now: pageinfo null logger info storing page info: pageinfo setcustomproperty bname pageinfo xviewcursor gettext insertstring xviewcursor false style isformatcitations xpropertyset xcursorprops unoruntime queryinterface xpropertyset xviewcursor string charstyle style getcitationcharacterformat try xcursorprops setpropertyvalue char style name charstyle catch unknownpropertyexception propertyvetoexception illegalargumentexception wrappedtargetexception ex setting character format failed throw exception result error message user delete space inserted: xviewcursor goleft short true xviewcursor setstring throw undefinedcharacterformatexception charstyle xviewcursor goleft short false map<bibentry bibdatabase> databasemap hashmap<> bibentry entry entries databasemap put entry database string citetext style isnumberentries style getcitationmarker entries databasemap inparenthesis null null insertreferencemark bname citetext xviewcursor withtext style xviewcursor collapsetoend xviewcursor goright short false xtextrange position xviewcursor getend sync account numbering uniqiefiers must refresh cite markers: updatesortedreferencemarks refreshcitemarkers allbases style insert current position: rebuildbibtextsection allbases style go back relevant position: xviewcursor gotorange position false catch disposedexception ex need catch one openofficepanel loaded connection therefore cannot directly reference catch disposedexception oo jar file throw connectionlostexception ex getmessage refresh cite markers document param databases databases get entries param style bibliography style use list referenced bibtex keys could resolved throws undefinedcharacterformatexception throws nosuchelementexception throws illegalargumentexception throws wrappedtargetexception throws bibentrynotfoundexception throws creationexception throws ioexception throws propertyvetoexception throws unknownpropertyexception list<string> refreshcitemarkers list<bibdatabase> databases oobibstyle style throws wrappedtargetexception illegalargumentexception nosuchelementexception undefinedcharacterformatexception unknownpropertyexception propertyvetoexception ioexception creationexception bibentrynotfoundexception try refreshcitemarkersinternal databases style catch disposedexception ex need catch one openofficepanel loaded connection therefore cannot directly reference catch disposedexception oo jar file throw connectionlostexception ex getmessage list<string> getjabrefreferencemarks xnameaccess nameaccess string[] names nameaccess getelementnames remove reference marks look like jabref citations: list<string> result arraylist<> names null string name names cite pattern matcher name find result add name result list<string> refreshcitemarkersinternal list<bibdatabase> databases oobibstyle style throws wrappedtargetexception illegalargumentexception nosuchelementexception undefinedcharacterformatexception unknownpropertyexception propertyvetoexception creationexception bibentrynotfoundexception list<string> cited findcitedkeys map<string bibdatabase> linksourcebase hashmap<> map<bibentry bibdatabase> entries findcitedentries databases cited linksourcebase xnameaccess xreferencemarks getreferencemarks list<string> names style issortbyposition need sort reference marks according order appearance: names sortedreferencemarks else style isnumberentries need sort reference marks according sorting bibliographic entries: sortedmap<bibentry bibdatabase> newmap treemap<> entrycomparator map entry<bibentry bibdatabase> bibtexentrybibtexdatabaseentry entries entryset newmap put bibtexentrybibtexdatabaseentry getkey bibtexentrybibtexdatabaseentry getvalue entries newmap rebuild list cited keys according sort order: cited clear bibentry entry entries keyset cited add entry getcitekeyoptional orelse null names arrays aslist xreferencemarks getelementnames else names sortedreferencemarks remove reference marks look like jabref citations: list<string> tmp arraylist<> string name names cite pattern matcher name find tmp add name names tmp map<string integer> numbers hashmap<> lastnum first compute citation markers citations: string[] citmarkers string[names size string[][] normcitmarkers string[names size ][] string[][] bibtexkeys string[names size ][] mingroupingcount style getintcitproperty oobibstyle minimum grouping count int[] types int[names size names size matcher citematcher cite pattern matcher names get citematcher find string typestr citematcher group type integer parseint typestr types[i] type remember type case need uniquefy string[] keys citematcher group split bibtexkeys[i] keys bibentry[] centries bibentry[keys length] centries length bibdatabase database linksourcebase get keys[j] optional<bibentry> tmpentry optional empty database null tmpentry database getentrybykey keys[j] tmpentry ispresent centries[j] tmpentry get else logger info bibtex key found: keys[j] '\'' logger info problem reference mark: names get '\'' centries[j] undefinedbibtexentry keys[j] string[] normcitmarker string[keys length] string citationmarker style isbibtexkeycitemarkers stringbuilder sb stringbuilder normcitmarkers[i] string[keys length] keys length normcitmarkers[i][j] centries[j] getcitekeyoptional orelse null sb append centries[j] getcitekeyoptional orelse keys length sb append citationmarker sb tostring else style isnumberentries style issortbyposition sorted citation markers according order appearance simply count marker referring entry: list<integer> num arraylist<> keys length keys length centries[j] instanceof undefinedbibtexentry num add else num add lastnum numbers containskey keys[j] num set numbers get keys[j] else numbers put keys[j] num get lastnum num get citationmarker style getnumcitationmarker num mingroupingcount false keys length normcitmarker[j] style getnumcitationmarker collections singletonlist num get mingroupingcount false else need find number cited entry bibliography use number cite marker: list<integer> num findcitedentryindex names get cited num isempty throw bibentrynotfoundexception names get localization lang could resolve bibtex entry citation marker 0' names get else citationmarker style getnumcitationmarker num mingroupingcount false keys length list<integer> list arraylist<> list add num get normcitmarker[j] style getnumcitationmarker list mingroupingcount false else centries length style getbooleancitproperty oobibstyle multi cite chronological arrays sort centries yearauthortitlecomparator else arrays sort centries entrycomparator update key list match sorting: centries length bibtexkeys[i][j] centries[j] getcitekeyoptional orelse null citationmarker style getcitationmarker arrays aslist centries entries type oobibbase authoryear par null null need normalized parenthesis markers uniqueness checking purposes: centries length normcitmarker[j] style getcitationmarker collections singletonlist centries[j] entries true null int[] citmarkers[i] citationmarker normcitmarkers[i] normcitmarker uniquefiers clear style isbibtexkeycitemarkers style isnumberentries see duplicate citations marks referring different entries need use uniquefiers: map<string list<string>> refkeys hashmap<> map<string list<integer>> refnums hashmap<> citmarkers length string[] markers normcitmarkers[i] compare normalized markers since actual markers different markers length string marker markers[j] string currentkey bibtexkeys[i][j] refkeys containskey marker ok seen exact marker refkeys get marker contains currentkey entry refkeys get marker add currentkey refnums get marker add else list<string> arraylist<> add currentkey refkeys put marker list<integer> l2 arraylist<> l2 add refnums put marker l2 go collected lists see need uniquefy: map entry<string list<string>> stringlistentry refkeys entryset list<string> keys stringlistentry getvalue keys size marker appears one unique entry: uniq 'a' string key keys update map uniquefiers benefit following generation citation markers method builds bibliography: uniquefiers put key string valueof char uniq uniq finally go citation markers update referring entries current list: maxauthorsfirst style getintcitproperty oobibstyle max authors first set<string> seenbefore hashset<> bibtexkeys length boolean needschange false int[] firstlimauthors int[bibtexkeys[j] length] string[] uniquif string[bibtexkeys[j] length] bibentry[] centries bibentry[bibtexkeys[j] length] bibtexkeys[j] length string currentkey bibtexkeys[j][k] firstlimauthors[k] maxauthorsfirst seenbefore contains currentkey firstlimauthors[k] maxauthorsfirst seenbefore add currentkey string uniq uniquefiers get currentkey optional<bibentry> tmpentry optional empty uniq null firstlimauthors[k] needschange true bibdatabase database linksourcebase get currentkey database null tmpentry database getentrybykey currentkey else bibdatabase database linksourcebase get currentkey database null tmpentry database getentrybykey currentkey uniquif[k] else needschange true bibdatabase database linksourcebase get currentkey database null tmpentry database getentrybykey currentkey uniquif[k] uniq tmpentry ispresent centries[k] tmpentry get needschange citmarkers[j] style getcitationmarker arrays aslist centries entries types[j] oobibbase authoryear par uniquif firstlimauthors refresh reference marks citation markers computed: boolean hadbibsection getbookmarkrange oobibbase bib section name null check supposed set character format citations: boolean musttestcharformat style isformatcitations names size object referencemark xreferencemarks getbyname names get xtextcontent bookmark unoruntime queryinterface xtextcontent referencemark xtextcursor cursor bookmark getanchor gettext createtextcursorbyrange bookmark getanchor musttestcharformat supposed set character format citations must run test delete old citation markers otherwise specified character format exist end deleting markers process crashes due missing format catastrophic consequences user musttestcharformat false need xpropertyset xcursorprops unoruntime queryinterface xpropertyset cursor string charstyle style getcitationcharacterformat try xcursorprops setpropertyvalue char style name charstyle catch unknownpropertyexception propertyvetoexception illegalargumentexception wrappedtargetexception ex throw undefinedcharacterformatexception charstyle text removetextcontent bookmark insertreferencemark names get citmarkers[i] cursor types[i] oobibbase invisible cit style hadbibsection getbookmarkrange oobibbase bib section name null overwritten marker start reference list need add cursor collapsetoend ooutil insertparagraphbreak text cursor insertbookmark oobibbase bib section name cursor list<string> unresolvedkeys arraylist<> bibentry entry entries keyset entry instanceof undefinedbibtexentry string key undefinedbibtexentry entry getkey unresolvedkeys contains key unresolvedkeys add key unresolvedkeys list<string> getsortedreferencemarks xnameaccess nameaccess throws wrappedtargetexception nosuchelementexception xtextviewcursorsupplier cursorsupplier unoruntime queryinterface xtextviewcursorsupplier mxdoc getcurrentcontroller xtextviewcursor viewcursor cursorsupplier getviewcursor xtextrange initialpos viewcursor getstart list<string> names arrays aslist nameaccess getelementnames list<point> positions arraylist<> names size string name names xtextcontent textcontent unoruntime queryinterface xtextcontent nameaccess getbyname name xtextrange range textcontent getanchor check inside footnote: unoruntime queryinterface xfootnote range gettext null find linking footnote marker: xfootnote footer unoruntime queryinterface xfootnote range gettext footnote's anchor gives correct position text: range footer getanchor positions add findposition viewcursor range set<comparablemark> set treeset<> positions size set add comparablemark names get positions get list<string> result arraylist<> set size comparablemark mark set result add mark getname viewcursor gotorange initialpos false result rebuildbibtextsection list<bibdatabase> databases oobibstyle style throws nosuchelementexception wrappedtargetexception illegalargumentexception creationexception propertyvetoexception unknownpropertyexception undefinedparagraphformatexception list<string> cited findcitedkeys map<string bibdatabase> linksourcebase hashmap<> map<bibentry bibdatabase> entries findcitedentries databases cited linksourcebase although entries redefined without use also updates linksourcebase list<string> names sortedreferencemarks style issortbyposition need sort entries according order appearance: entries getsortedentriesfromsortedrefmarks names linksourcebase else sortedmap<bibentry bibdatabase> newmap treemap<> entrycomparator map entry<bibentry bibdatabase> bibtexentrybibtexdatabaseentry findcitedentries databases cited linksourcebase entryset newmap put bibtexentrybibtexdatabaseentry getkey bibtexentrybibtexdatabaseentry getvalue entries newmap clearbibtextsectioncontent2 populatebibtextsection entries style xnameaccess getreferencemarks xreferencemarkssupplier supplier unoruntime queryinterface xreferencemarkssupplier xcurrentcomponent supplier getreferencemarks string getuniquereferencemarkname string bibtexkey type xnameaccess xnamedrefmarks getreferencemarks string name oobibbase bib citation type bibtexkey xnamedrefmarks hasbyname name name oobibbase bib citation type bibtexkey name map<bibentry bibdatabase> findcitedentries list<bibdatabase> databases list<string> keys map<string bibdatabase> linksourcebase map<bibentry bibdatabase> entries linkedhashmap<> string key keys boolean found false bibdatabase database databases optional<bibentry> entry database getentrybykey key entry ispresent entries put entry get database linksourcebase put key database found true break found entries put undefinedbibtexentry key null entries list<string> findcitedkeys throws nosuchelementexception wrappedtargetexception xnameaccess xnamedmarks getreferencemarks string[] names xnamedmarks getelementnames list<string> keys arraylist<> string name1 names object bookmark xnamedmarks getbyname name1 unoruntime queryinterface xtextcontent bookmark list<string> newkeys parserefmarkname name1 string key newkeys keys contains key keys add key keys map<bibentry bibdatabase> getsortedentriesfromsortedrefmarks list<string> names map<string bibdatabase> linksourcebase map<bibentry bibdatabase> newlist linkedhashmap<> string name names matcher citematcher cite pattern matcher name citematcher find string[] keys citematcher group split string key keys bibdatabase database linksourcebase get key optional<bibentry> origentry optional empty database null origentry database getentrybykey key origentry ispresent newlist containskey origentry get newlist put origentry get database else logger info bibtex key found: key logger info problem reference mark: name newlist put undefinedbibtexentry key null newlist point findposition xtextviewcursor cursor xtextrange range cursor gotorange range false cursor getposition extract list bibtex keys reference mark name param name reference mark name list bibtex keys encoded name list<string> parserefmarkname string name list<string> keys arraylist<> matcher citematcher cite pattern matcher name citematcher find string[] keystring citematcher group split string akeystring keystring keys contains akeystring keys add akeystring keys resolve bibtex key citation reference marker name look index key list keys param citrefname name referencemark representing citation param keys list bibtex keys representing entries bibliography indices cited keys key found returns null ref name could resolved citation list<integer> findcitedentryindex string citrefname list<string> keys matcher citematcher cite pattern matcher citrefname citematcher find list<string> keystrings arrays aslist citematcher group split list<integer> result arraylist<> keystrings size string key keystrings ind keys indexof key result add ind ind result else collections emptylist string getcitationcontext xnameaccess nameaccess string refmarkname charbefore charafter boolean htmlmarkup throws nosuchelementexception wrappedtargetexception object referencemark nameaccess getbyname refmarkname xtextcontent bookmark unoruntime queryinterface xtextcontent referencemark xtextcursor cursor bookmark getanchor gettext createtextcursorbyrange bookmark getanchor string citpart cursor getstring flex charbefore try cursor goleft short true charbefore flex character iswhitespace cursor getstring charat break catch indexoutofboundsexception ex logger warn problem going left ex length cursor getstring length added length citpart length cursor collapsetostart charafter length try cursor goright short true charafter length flex string strnow cursor getstring character iswhitespace strnow charat strnow length break catch indexoutofboundsexception ex logger warn problem going right ex string result cursor getstring htmlmarkup result result substring added <b> citpart b> result substring length result trim insertfullreferenceatcursor xtextcursor cursor map<bibentry bibdatabase> entries oobibstyle style string parformat throws undefinedparagraphformatexception illegalargumentexception unknownpropertyexception propertyvetoexception wrappedtargetexception map<bibentry bibdatabase> correctentries numbered entries need sort entries adding them: style issortbyposition use received map directly correctentries entries else sort map map<bibentry bibdatabase> newmap treemap<> entrycomparator newmap putall entries correctentries newmap number map entry<bibentry bibdatabase> entry correctentries entryset entry getkey instanceof undefinedbibtexentry continue ooutil insertparagraphbreak text cursor style isnumberentries mingroupingcount style getintcitproperty oobibstyle minimum grouping count ooutil inserttextatcurrentlocation text cursor style getnumcitationmarker collections singletonlist number mingroupingcount true enumset noneof ooutil formatting layout layout style getreferenceformat entry getkey gettype layout setpostformatter postformatter ooutil insertfullreferenceatcurrentlocation text cursor layout parformat entry getkey entry getvalue uniquefiers get entry getkey getcitekeyoptional orelse null createbibtextsection2 boolean end throws illegalargumentexception creationexception xtextcursor mxdoccursor text createtextcursor end mxdoccursor gotoend false ooutil insertparagraphbreak text mxdoccursor create textsection document factory access xnamed interface xnamed xchildnamed try xchildnamed unoruntime queryinterface xnamed mxdocfactory createinstance com sun star text textsection catch exception throw creationexception getmessage set sections name 'child section' xchildnamed setname oobibbase bib section name access child section's xtextcontent interface insert document xtextcontent xchildsection unoruntime queryinterface xtextcontent xchildnamed text inserttextcontent mxdoccursor xchildsection false clearbibtextsectioncontent2 throws nosuchelementexception wrappedtargetexception illegalargumentexception creationexception check section exists: xtextsectionssupplier supplier unoruntime queryinterface xtextsectionssupplier mxdoc supplier gettextsections hasbyname oobibbase bib section name xtextsection section xtextsection supplier gettextsections getbyname oobibbase bib section name getobject clear it: xtextcursor cursor text createtextcursorbyrange section getanchor cursor gotorange section getanchor false cursor setstring else createbibtextsection2 atend populatebibtextsection map<bibentry bibdatabase> entries oobibstyle style throws nosuchelementexception wrappedtargetexception propertyvetoexception unknownpropertyexception undefinedparagraphformatexception illegalargumentexception creationexception xtextsectionssupplier supplier unoruntime queryinterface xtextsectionssupplier mxdoc xtextsection section xtextsection supplier gettextsections getbyname oobibbase bib section name getobject xtextcursor cursor text createtextcursorbyrange section getanchor ooutil inserttextatcurrentlocation text cursor string style getproperty oobibstyle title string style getproperty oobibstyle reference header paragraph format insertfullreferenceatcursor cursor entries style string style getproperty oobibstyle reference paragraph format insertbookmark oobibbase bib section end name cursor xtextcontent insertbookmark string name xtextcursor position throws illegalargumentexception creationexception object bookmark try bookmark mxdocfactory createinstance com sun star text bookmark catch exception throw creationexception getmessage name bookmark xnamed xnamed unoruntime queryinterface xnamed bookmark xnamed setname name get xtextcontent interface xtextcontent xtextcontent unoruntime queryinterface xtextcontent bookmark insert bookmark end document instead mxdoctext getend could use text cursor's xtextrange interface xtextrange text inserttextcontent position xtextcontent true position collapsetoend xtextcontent insertreferencemark string name string citationtext xtextcursor position boolean withtext oobibstyle style throws unknownpropertyexception wrappedtargetexception propertyvetoexception illegalargumentexception undefinedcharacterformatexception creationexception check page info stored citation insert citation text inserting citation: optional<string> pageinfo getcustomproperty name string cittext pageinfo ispresent pageinfo get isempty cittext style insertpageinfo citationtext pageinfo get else cittext citationtext object bookmark try bookmark mxdocfactory createinstance com sun star text referencemark catch exception throw creationexception getmessage name reference xnamed xnamed unoruntime queryinterface xnamed bookmark xnamed setname name withtext position setstring cittext xpropertyset xcursorprops unoruntime queryinterface xpropertyset position set language [none]: xcursorprops setpropertyvalue charlocale locale zxx style isformatcitations string charstyle style getcitationcharacterformat try xcursorprops setpropertyvalue char style name charstyle catch unknownpropertyexception propertyvetoexception illegalargumentexception wrappedtargetexception ex throw undefinedcharacterformatexception charstyle else position setstring get xtextcontent interface xtextcontent xtextcontent unoruntime queryinterface xtextcontent bookmark position gettext inserttextcontent position xtextcontent true check italicize et al string citations: boolean italicize style getbooleancitproperty oobibstyle italic et al italicize string etalstring style getstringcitproperty oobibstyle et al string index cittext indexof etalstring index italicizeorbold position true index index etalstring length position collapsetoend italicizeorbold xtextcursor position boolean italicize start end throws unknownpropertyexception propertyvetoexception illegalargumentexception wrappedtargetexception xtextrange range position getstart xtextcursor cursor position gettext createtextcursorbyrange range cursor goright short start false cursor goright short end start true xpropertyset xcp unoruntime queryinterface xpropertyset cursor italicize xcp setpropertyvalue charposture com sun star awt fontslant italic else xcp setpropertyvalue charweight com sun star awt fontweight bold removereferencemark string name throws nosuchelementexception wrappedtargetexception xnameaccess xreferencemarks getreferencemarks xreferencemarks hasbyname name object referencemark xreferencemarks getbyname name xtextcontent bookmark unoruntime queryinterface xtextcontent referencemark text removetextcontent bookmark get xtextrange corresponding named bookmark param name name bookmark find xtextrange bookmark throws wrappedtargetexception throws nosuchelementexception xtextrange getbookmarkrange string name throws nosuchelementexception wrappedtargetexception xnameaccess xnamedbookmarks getbookmarks retrieve bookmark name xnamedbookmarks hasbyname name null object foundbookmark xnamedbookmarks getbyname name xtextcontent xfoundbookmark unoruntime queryinterface xtextcontent foundbookmark xfoundbookmark getanchor xnameaccess getbookmarks query xbookmarkssupplier document model get bookmarks collection xbookmarkssupplier xbookmarkssupplier unoruntime queryinterface xbookmarkssupplier xcurrentcomponent xnameaccess xnamedbookmarks xbookmarkssupplier getbookmarks xnamedbookmarks combinecitemarkers list<bibdatabase> databases oobibstyle style throws ioexception wrappedtargetexception nosuchelementexception illegalargumentexception undefinedcharacterformatexception unknownpropertyexception propertyvetoexception creationexception bibentrynotfoundexception xnameaccess nameaccess getreferencemarks todo: work citations footnotes tables list<string> names getsortedreferencemarks nameaccess xtextrangecompare compare unoruntime queryinterface xtextrangecompare text piv boolean mademodifications false piv names size xtextrange range1 unoruntime queryinterface xtextcontent nameaccess getbyname names get piv getanchor getend xtextrange range2 unoruntime queryinterface xtextcontent nameaccess getbyname names get piv getanchor getstart range1 gettext range2 gettext piv continue xtextcursor mxdoccursor range1 gettext createtextcursorbyrange range1 mxdoccursor goright short true boolean couldexpand true couldexpand compare compareregionends mxdoccursor range2 couldexpand mxdoccursor goright short true string cursortext mxdoccursor getstring check string contains line breaks whitespace: cursortext indexof '\n' cursortext trim isempty supposed set character format citations test making changes way throw exception reference marks removed preventing damage user's document: style isformatcitations xpropertyset xcursorprops unoruntime queryinterface xpropertyset mxdoccursor string charstyle style getcitationcharacterformat try xcursorprops setpropertyvalue char style name charstyle catch unknownpropertyexception propertyvetoexception illegalargumentexception wrappedtargetexception ex setting character format failed throw exception result error message user: throw undefinedcharacterformatexception charstyle list<string> keys parserefmarkname names get piv keys addall parserefmarkname names get piv removereferencemark names get piv removereferencemark names get piv list<bibentry> entries arraylist<> string key keys bibdatabase database databases optional<bibentry> entry database getentrybykey key entry ispresent entries add entry get break collections sort entries fieldcomparator fieldname year string keystring string join entries stream map entry entry getcitekeyoptional orelse collect collectors tolist insert bookmark: string bname getuniquereferencemarkname keystring oobibbase authoryear par insertreferencemark bname tmp mxdoccursor true style names set piv bname mademodifications true piv mademodifications updatesortedreferencemarks refreshcitemarkers databases style xtextdocument selectcomponent list<xtextdocument> list throws unknownpropertyexception wrappedtargetexception indexoutofboundsexception string[] values string[list size ii xtextdocument doc list values[ii] string valueof ooutil getproperty doc getcurrentcontroller getframe title ii jlist<string> sel jlist<> values sel setselectionmode listselectionmodel single selection sel setselectedindex ans joptionpane showconfirmdialog null jscrollpane sel localization lang select document joptionpane ok cancel option ans joptionpane ok option list get sel getselectedindex else null comparablemark comparable<comparablemark> string name point position comparablemark string name point position name name position position override compareto comparablemark position position position position else position position override boolean equals object true instanceof comparablemark comparablemark comparablemark position position position position objects equals name name false string getname name override hashcode objects hash position name bibdatabase generatedatabase list<bibdatabase> databases throws nosuchelementexception wrappedtargetexception bibdatabase resultdatabase bibdatabase list<string> cited findcitedkeys cited key string key cited loop available databases bibdatabase loopdatabase databases optional<bibentry> entry loopdatabase getentrybykey key entry found entry ispresent bibentry clonedentry bibentry entry get clone clonedentry setid idgenerator next insert copy entry resultdatabase insertentry clonedentry check cloned entry crossref field clonedentry getfield fieldname crossref ifpresent crossref crossref entry already database resultdatabase getentrybykey crossref ispresent add current database loopdatabase getentrybykey crossref ifpresent resultdatabase::insertentry happy first found bibentry move next key break resultdatabase 
111	OpenOfficeSidePanel.java	GUI	net sf jabref gui openoffice javax swing icon net sf jabref globals net sf jabref gui sidepanecomponent net sf jabref gui sidepanemanager net sf jabref gui keyboard keybinding net sf jabref logic l10n localization net sf jabref logic openoffice openofficepreferences openofficesidepanel sidepanecomponent openofficepreferences preferences toggleaction toggleaction openofficesidepanel sidepanemanager sidepanemanager icon icon string title openofficepreferences preferences super sidepanemanager icon title preferences preferences sidepanemanager register preferences showpanel manager show openofficesidepanel toggleaction toggleaction localization lang openoffice libreoffice connection localization lang openoffice libreoffice connection globals getkeyprefs getkey keybinding open open office libre office connection icon override componentclosing preferences setshowpanel false override componentopening preferences setshowpanel true override getrescalingweight override toggleaction gettoggleaction toggleaction 
112	OpenOfficePanel.java	GUI	net sf jabref gui openoffice awt borderlayout awt dimension awt event actionevent awt event actionlistener io file io filenotfoundexception io ioexception lang reflect invocationtargetexception lang reflect method net url net urlclassloader util arraylist util arrays util list javax swing abstractaction javax swing action javax swing buttongroup javax swing icon javax swing jbutton javax swing jcheckboxmenuitem javax swing jcomponent javax swing jdialog javax swing jframe javax swing jmenuitem javax swing joptionpane javax swing jpanel javax swing jpopupmenu javax swing jradiobuttonmenuitem javax swing jtextfield net sf jabref globals net sf jabref gui basepanel net sf jabref gui filedialog net sf jabref gui icontheme net sf jabref gui jabrefframe net sf jabref gui sidepanecomponent net sf jabref gui sidepanemanager net sf jabref gui help helpaction net sf jabref gui keyboard keybinding net sf jabref gui undo namedcompound net sf jabref gui undo undoablekeychange net sf jabref gui worker abstractworker net sf jabref logic bibtexkeypattern bibtexkeypatternpreferences net sf jabref logic bibtexkeypattern bibtexkeypatternutil net sf jabref logic help helpfile net sf jabref logic l10n localization net sf jabref logic openoffice oobibstyle net sf jabref logic openoffice openofficepreferences net sf jabref logic openoffice styleloader net sf jabref logic openoffice undefinedparagraphformatexception net sf jabref logic util os net sf jabref model defaults net sf jabref model database bibdatabase net sf jabref model database bibdatabasecontext net sf jabref model database bibdatabasemode net sf jabref model entry bibentry net sf jabref preferences jabrefpreferences com jgoodies forms builder buttonbarbuilder com jgoodies forms builder formbuilder com jgoodies forms layout formlayout com sun star beans illegaltypeexception com sun star beans notremoveableexception com sun star beans propertyexistexception com sun star beans propertyvetoexception com sun star beans unknownpropertyexception com sun star comp helper bootstrapexception com sun star container nosuchelementexception com sun star lang wrappedtargetexception org apache commons logging log org apache commons logging logfactory test panel opened reflection jabref passing jabrefframe argument start method displays buttons testing interaction functions jabref openoffice openofficepanel abstractworker log logger logfactory getlog openofficepanel openofficesidepanel sidepane jdialog diag jbutton connect jbutton manualconnect jbutton selectdocument jbutton setstylefile jbutton localization lang select style jbutton pushentries jbutton localization lang cite jbutton pushentriesint jbutton localization lang cite text jbutton pushentriesempty jbutton localization lang insert empty citation jbutton pushentriesadvanced jbutton localization lang cite special jbutton update jbutton merge jbutton localization lang merge citations jbutton managecitations jbutton localization lang manage citations jbutton exportcitations jbutton localization lang export cited jbutton settingsb jbutton localization lang settings jbutton help helpaction localization lang openoffice libreoffice integration helpfile openoffice libreoffice gethelpbutton oobibbase oobase jabrefframe frame oobibstyle style styleselectdialog styledialog boolean dialogokpressed boolean autodetected string soffice ioexception connectexception openofficepreferences preferences styleloader loader openofficepanel jabrefframe jabrefframe sidepanemanager spmanager icon connectimage icontheme jabreficon connect open office getsmallicon connect jbutton connectimage manualconnect jbutton connectimage connect settooltiptext localization lang connect manualconnect settooltiptext localization lang manual connect connect setpreferredsize dimension manualconnect setpreferredsize dimension selectdocument jbutton icontheme jabreficon open getsmallicon selectdocument settooltiptext localization lang select writer document selectdocument setpreferredsize dimension update jbutton icontheme jabreficon refresh getsmallicon update settooltiptext localization lang sync openoffice libreoffice bibliography update setpreferredsize dimension preferences openofficepreferences globals prefs loader styleloader preferences globals prefs getlayoutformatterpreferences globals journalabbreviationloader globals prefs getdefaultencoding frame jabrefframe sidepane openofficesidepanel spmanager icontheme getimage openoffice openoffice libreoffice preferences initpanel spmanager register sidepane initpanel connect addactionlistener connect true manualconnect addactionlistener connect false selectdocument settooltiptext localization lang select open writer document work selectdocument addactionlistener try oobase selectdocument frame output localization lang connected document oobase getcurrentdocumenttitle orelse catch unknownpropertyexception wrappedtargetexception indexoutofboundsexception nosuchelementexception nodocumentexception ex joptionpane showmessagedialog frame ex getmessage localization lang error joptionpane error message logger warn problem connecting ex setstylefile addactionlistener event styledialog null styledialog styleselectdialog frame preferences loader styledialog setvisible true styledialog getstyle ifpresent selectedstyle style selectedstyle try style ensureuptodate catch ioexception logger warn unable reload style file style getpath frame setstatus localization lang current style 0' style getname pushentries settooltiptext localization lang cite selected entries parenthesis pushentries addactionlistener pushentries true true false pushentriesint settooltiptext localization lang cite selected entries text citation pushentriesint addactionlistener pushentries false true false pushentriesempty settooltiptext localization lang insert citation without text entry appear reference list pushentriesempty addactionlistener pushentries false false false pushentriesadvanced settooltiptext localization lang cite selected entries extra information pushentriesadvanced addactionlistener pushentries false true true update settooltiptext localization lang ensure bibliography date action updateaction abstractaction override actionperformed actionevent try style null style loader getusedstyle else style ensureuptodate oobase updatesortedreferencemarks list<bibdatabase> databases getbaselist list<string> unresolvedkeys oobase refreshcitemarkers databases style oobase rebuildbibtextsection databases style unresolvedkeys isempty joptionpane showmessagedialog frame localization lang openoffice libreoffice document references bibtex key 0' could found current database unresolvedkeys get localization lang unable synchronize bibliography joptionpane error message catch undefinedcharacterformatexception ex reportundefinedcharacterformat ex catch undefinedparagraphformatexception ex reportundefinedparagraphformat ex catch connectionlostexception ex showconnectionlosterrormessage catch ioexception ex joptionpane showmessagedialog frame localization lang must select either valid style file use one default styles localization lang valid style file defined joptionpane error message logger warn problem style file ex catch bibentrynotfoundexception ex joptionpane showmessagedialog frame localization lang openoffice libreoffice document references bibtex key 0' could found current database ex getbibtexkey localization lang unable synchronize bibliography joptionpane error message logger debug bibentry found ex catch com sun star lang illegalargumentexception propertyvetoexception unknownpropertyexception wrappedtargetexception nosuchelementexception creationexception ex logger warn could update bibliography ex update addactionlistener updateaction merge settooltiptext localization lang combine pairs citations separated spaces merge addactionlistener try oobase combinecitemarkers getbaselist style catch undefinedcharacterformatexception ex reportundefinedcharacterformat ex catch com sun star lang illegalargumentexception unknownpropertyexception propertyvetoexception creationexception nosuchelementexception wrappedtargetexception ioexception bibentrynotfoundexception ex logger warn problem combining cite markers ex settingsb addactionlistener showsettingspopup managecitations addactionlistener try citationmanager cm citationmanager frame oobase cm showdialog catch nosuchelementexception wrappedtargetexception unknownpropertyexception ex logger warn problem showing citation manager ex exportcitations addactionlistener event exportentries selectdocument setenabled false pushentries setenabled false pushentriesint setenabled false pushentriesempty setenabled false pushentriesadvanced setenabled false update setenabled false merge setenabled false managecitations setenabled false exportcitations setenabled false diag jdialog jframe null openoffice libreoffice panel false formbuilder mainbuilder formbuilder create layout formlayout fill:pref:grow formbuilder toprowbuilder formbuilder create layout formlayout fill:pref:grow 1dlu fill:pref:grow 1dlu fill:pref:grow 1dlu fill:pref:grow 1dlu fill:pref pref toprowbuilder add connect xy toprowbuilder add manualconnect xy toprowbuilder add selectdocument xy toprowbuilder add update xy toprowbuilder add help xy mainbuilder add toprowbuilder getpanel xy mainbuilder add setstylefile xy mainbuilder add pushentries xy mainbuilder add pushentriesint xy mainbuilder add pushentriesadvanced xy mainbuilder add pushentriesempty xy mainbuilder add merge xy mainbuilder add managecitations xy mainbuilder add exportcitations xy mainbuilder add settingsb xy jpanel content jpanel sidepane setcontentcontainer content content setlayout borderlayout content add mainbuilder getpanel borderlayout center frame gettabbedpane getinputmap jcomponent focused window put globals getkeyprefs getkey keybinding refresh oo refresh oo frame gettabbedpane getactionmap put refresh oo updateaction exportentries try style null style loader getusedstyle else style ensureuptodate oobase updatesortedreferencemarks list<bibdatabase> databases getbaselist list<string> unresolvedkeys oobase refreshcitemarkers databases style bibdatabase newdatabase oobase generatedatabase databases unresolvedkeys isempty joptionpane showmessagedialog frame localization lang openoffice libreoffice document references bibtex key 0' could found current database unresolvedkeys get localization lang unable generate database joptionpane error message defaults defaults defaults bibdatabasemode frompreference globals prefs getboolean jabrefpreferences biblatex default mode bibdatabasecontext databasecontext bibdatabasecontext newdatabase defaults frame addtab databasecontext true catch bibentrynotfoundexception ex joptionpane showmessagedialog frame localization lang openoffice libreoffice document references bibtex key 0' could found current database ex getbibtexkey localization lang unable synchronize bibliography joptionpane error message logger debug bibentry found ex catch com sun star lang illegalargumentexception unknownpropertyexception propertyvetoexception undefinedcharacterformatexception nosuchelementexception wrappedtargetexception ioexception creationexception logger warn problem generating database list<bibdatabase> getbaselist list<bibdatabase> databases arraylist<> preferences usealldatabases basepanel basepanel frame getbasepanellist databases add basepanel getdatabase else databases add frame getcurrentbasepanel getdatabase databases connect boolean auto string oojarsdirectory auto autodetectpaths adp autodetectpaths diag preferences adp runautodetection autodetected true dialogokpressed true diag dispose else adp canceled frame setstatus localization lang operation canceled else joptionpane showmessagedialog diag localization lang autodetection failed localization lang autodetection failed joptionpane error message autodetected oojarsdirectory preferences getjarspath soffice preferences getexecutablepath else manual connect showconnectdialog dialogokpressed string oopath preferences getoopath string oojars preferences getjarspath soffice preferences getexecutablepath os windows oojarsdirectory oopath openofficepreferences windows jars subpath soffice oopath openofficepreferences windows executable subpath openofficepreferences windows executable else os os soffice oopath openofficepreferences osx executable subpath openofficepreferences osx executable oojarsdirectory oopath openofficepreferences osx jars subpath else linux: oojarsdirectory oojars program classes add oo jars classpath: try list<file> jarfiles arrays aslist file oojarsdirectory unoil jar file oojarsdirectory jurt jar file oojarsdirectory juh jar file oojarsdirectory ridl jar list<url> jarlist arraylist<> jarfiles size file jarfile jarfiles jarfile exists throw ioexception file found: jarfile getpath jarlist add jarfile touri tourl addurl jarlist show progress dialog: jdialog progdiag autodetectpaths diag preferences showprogressdialog diag localization lang connecting localization lang please wait false getworker run actual connection using spin get edt progdiag dispose diag dispose oobase null throw connectexception oobase isconnectedtodocument frame output localization lang connected document oobase getcurrentdocumenttitle orelse enable actions depend connect: selectdocument setenabled true pushentries setenabled true pushentriesint setenabled true pushentriesempty setenabled true pushentriesadvanced setenabled true update setenabled true merge setenabled true managecitations setenabled true exportcitations setenabled true catch unsatisfiedlinkerror logger warn could connect running openoffice libreoffice joptionpane showmessagedialog frame localization lang unable connect one possible reason jabref openoffice libreoffice running either bit mode bit mode catch ioexception logger warn could connect running openoffice libreoffice joptionpane showmessagedialog frame localization lang could connect running openoffice libreoffice \n localization lang make sure installed openoffice libreoffice support \n localization lang connecting manually please verify program library paths \n \n localization lang error message: getmessage override run try connect: oobase oobibbase soffice true catch unknownpropertyexception creationexception nosuchelementexception wrappedtargetexception ioexception nodocumentexception bootstrapexception invocationtargetexception illegalaccessexception oobase null connectexception ioexception getmessage methods addfile associated class[] parameters gratefully copied anthony miguel http: forum sun com thread jsp?forum thread tstart trange class<?>[] parameters class[] url addurl list<url> jarlist throws ioexception urlclassloader sysloader urlclassloader classloader getsystemclassloader class<urlclassloader> sysclass urlclassloader try method method sysclass getdeclaredmethod addurl parameters method setaccessible true url anu jarlist method invoke sysloader anu catch securityexception nosuchmethodexception illegalaccessexception illegalargumentexception invocationtargetexception logger error could add url system classloader throw ioexception error could add url system classloader showconnectdialog dialogokpressed false jdialog cdiag jdialog frame localization lang set connection parameters true path fields jtextfield oopath jtextfield jbutton browseoopath jbutton localization lang browse oopath settext preferences getoopath browseoopath addactionlistener filedialog frame showdialogandgetselecteddirectory ifpresent oopath settext toabsolutepath tostring jtextfield ooexec jtextfield jbutton browseooexec jbutton localization lang browse ooexec settext preferences getexecutablepath browseooexec addactionlistener filedialog frame showdialogandgetselectedfile ifpresent ooexec settext toabsolutepath tostring jtextfield oojars jtextfield oojars settext preferences getjarspath jbutton browseoojars jbutton localization lang browse browseoojars addactionlistener filedialog frame showdialogandgetselectedfile ifpresent oojars settext toabsolutepath tostring formbuilder builder formbuilder create layout formlayout left:pref 4dlu fill:pref:grow 4dlu fill:pref pref os windows os os builder add localization lang path openoffice libreoffice directory xy builder add oopath xy builder add browseoopath xy else builder add localization lang path openoffice libreoffice executable xy builder add ooexec xy builder add browseooexec xy builder appendrows 4dlu pref builder add localization lang path openoffice libreoffice library dir xy builder add oojars xy builder add browseoojars xy builder padding 5dlu 5dlu 5dlu 5dlu cdiag getcontentpane add builder getpanel borderlayout center actionlistener tflistener preferences updateconnectionparams oopath gettext ooexec gettext oojars gettext cdiag dispose oopath addactionlistener tflistener ooexec addactionlistener tflistener oojars addactionlistener tflistener buttons jbutton ok jbutton localization lang ok jbutton cancel jbutton localization lang cancel ok addactionlistener preferences updateconnectionparams oopath gettext ooexec gettext oojars gettext dialogokpressed true cdiag dispose cancel addactionlistener cdiag dispose buttonbarbuilder bb buttonbarbuilder bb addglue bb addrelatedgap bb addbutton ok bb addbutton cancel bb addglue bb padding 5dlu 5dlu 5dlu 5dlu cdiag getcontentpane add bb getpanel borderlayout south finish show dialog cdiag pack cdiag setlocationrelativeto frame cdiag setvisible true pushentries boolean inparenthesisin boolean withtext boolean addpageinfo oobase isconnectedtodocument joptionpane showmessagedialog frame localization lang connected writer document please make sure document open use 'select writer document' button connect localization lang error joptionpane error message boolean inparenthesis inparenthesisin string pageinfo null addpageinfo advancedcitedialog citedialog advancedcitedialog frame citedialog showdialog citedialog canceled citedialog getpageinfo isempty pageinfo citedialog getpageinfo inparenthesis citedialog isinparenthesiscite basepanel panel frame getcurrentbasepanel panel null bibdatabase database panel getdatabase list<bibentry> entries panel getselectedentries entries isempty checkthatentrieshavekeys entries try style null style loader getusedstyle oobase insertentry entries database getbaselist style inparenthesis withtext pageinfo preferences syncwhenciting catch filenotfoundexception ex joptionpane showmessagedialog frame localization lang must select either valid style file use one default styles localization lang valid style file defined joptionpane error message logger warn problem style file ex catch connectionlostexception ex showconnectionlosterrormessage catch undefinedcharacterformatexception ex reportundefinedcharacterformat ex catch undefinedparagraphformatexception ex reportundefinedparagraphformat ex catch com sun star lang illegalargumentexception unknownpropertyexception propertyvetoexception creationexception nosuchelementexception wrappedtargetexception ioexception bibentrynotfoundexception illegaltypeexception propertyexistexception notremoveableexception ex logger warn could insert entry ex check entries list bibtex keys ask generated param entries list entries checked true entries bibtex keys may generating boolean checkthatentrieshavekeys list<bibentry> entries check empty keys boolean emptykeys false bibentry entry entries entry getcitekeyoptional ispresent found one need look emptykeys true break empty keys true emptykeys true ask keys generated string[] options localization lang generate keys localization lang cancel answer joptionpane showoptiondialog frame localization lang cannot cite entries without bibtex keys generate keys now? localization lang cite joptionpane ok cancel option joptionpane plain message null options null basepanel panel frame getcurrentbasepanel answer joptionpane ok option panel null generate keys bibtexkeypatternpreferences prefs globals prefs getbibtexkeypatternpreferences namedcompound undocompound namedcompound localization lang cite bibentry entry entries entry getcitekeyoptional ispresent generate key bibtexkeypatternutil makelabel panel getbibdatabasecontext getmetadata getcitekeypattern prefs getkeypattern panel getdatabase entry prefs add undo change undocompound addedit undoablekeychange entry null entry getcitekeyoptional get undocompound end add undos panel getundomanager addedit undocompound every entry key true else canceled panel get database highly unlikely false showconnectionlosterrormessage joptionpane showmessagedialog frame localization lang connection openoffice libreoffice lost please make sure openoffice libreoffice running try reconnect localization lang connection lost joptionpane error message reportundefinedparagraphformat undefinedparagraphformatexception ex joptionpane showmessagedialog frame <html> localization lang style file specifies paragraph format 0' undefined current openoffice libreoffice document ex getformatname <br> localization lang paragraph format controlled property 'referenceparagraphformat' 'referenceheaderparagraphformat' style file html> joptionpane error message reportundefinedcharacterformat undefinedcharacterformatexception ex joptionpane showmessagedialog frame <html> localization lang style file specifies character format 0' undefined current openoffice libreoffice document ex getformatname <br> localization lang character format controlled citation property 'citationcharacterformat' style file html> joptionpane error message showsettingspopup jpopupmenu menu jpopupmenu jcheckboxmenuitem autosync jcheckboxmenuitem localization lang automatically sync bibliography inserting citations preferences syncwhenciting jradiobuttonmenuitem useactivebase jradiobuttonmenuitem localization lang look bibtex entries active tab jradiobuttonmenuitem useallbases jradiobuttonmenuitem localization lang look bibtex entries open databases jmenuitem clearconnectionsettings jmenuitem localization lang clear connection settings buttongroup bg buttongroup bg add useactivebase bg add useallbases preferences usealldatabases useallbases setselected true else useactivebase setselected true autosync addactionlistener preferences setsyncwhenciting autosync isselected useallbases addactionlistener preferences setusealldatabases useallbases isselected useactivebase addactionlistener preferences setusealldatabases useactivebase isselected clearconnectionsettings addactionlistener frame output preferences clearconnectionsettings menu add autosync menu addseparator menu add useactivebase menu add useallbases menu addseparator menu add clearconnectionsettings menu show settingsb settingsb getheight sidepanecomponent toggleaction gettoggleaction sidepane gettoggleaction 
113	AdvancedCiteDialog.java	GUI	net sf jabref gui openoffice awt borderlayout awt event actionevent awt event actionlistener javax swing abstractaction javax swing action javax swing buttongroup javax swing jbutton javax swing jcomponent javax swing jdialog javax swing jradiobutton javax swing jtextfield net sf jabref globals net sf jabref gui jabrefframe net sf jabref gui keyboard keybinding net sf jabref logic l10n localization com jgoodies forms builder buttonbarbuilder com jgoodies forms builder formbuilder com jgoodies forms layout formlayout dialog adding citation page number info advancedcitedialog boolean defaultinpar true boolean okpressed jdialog diag jtextfield pageinfo jtextfield advancedcitedialog jabrefframe parent diag jdialog parent localization lang cite special true buttongroup bg buttongroup jradiobutton inpar jradiobutton localization lang cite selected entries parenthesis jradiobutton intext jradiobutton localization lang cite selected entries text citation bg add inpar bg add intext defaultinpar inpar setselected true else intext setselected true inpar addchangelistener changeevent defaultinpar inpar isselected formbuilder builder formbuilder create layout formlayout left:pref 4dlu fill:pref pref 4dlu pref 4dlu pref builder add inpar xyw builder add intext xyw builder add localization lang extra information page number xy builder add pageinfo xy builder padding 10dlu 10dlu 10dlu 10dlu diag getcontentpane add builder getpanel borderlayout center buttonbarbuilder bb buttonbarbuilder bb addglue jbutton ok jbutton localization lang ok jbutton cancel jbutton localization lang cancel bb addbutton ok bb addbutton cancel bb addglue bb padding 5dlu 5dlu 5dlu 5dlu diag getcontentpane add bb getpanel borderlayout south diag pack actionlistener okaction actionevent okpressed true diag dispose ok addactionlistener okaction pageinfo addactionlistener okaction inpar addactionlistener okaction intext addactionlistener okaction action cancelaction abstractaction override actionperformed actionevent actionevent okpressed false diag dispose cancel addactionlistener cancelaction builder getpanel getinputmap jcomponent focused window put globals getkeyprefs getkey keybinding close dialog close builder getpanel getactionmap put close cancelaction showdialog diag setlocationrelativeto diag getparent diag setvisible true boolean canceled okpressed string getpageinfo pageinfo gettext trim boolean isinparenthesiscite defaultinpar 
114	NoDocumentException.java	GUI	net sf jabref gui openoffice exception used indicate plugin attempted set character format defined current openoffice document nodocumentexception exception nodocumentexception string message super message 
115	FieldSetComponent.java	GUI	net sf jabref gui awt component awt gridbagconstraints awt gridbaglayout awt insets awt rectangle awt event actionevent awt event actionlistener awt event focusevent awt event focuslistener util arraylist util enumeration util hashset util list util objects util set javax swing box javax swing defaultlistmodel javax swing jbutton javax swing jcombobox javax swing jlabel javax swing jlist javax swing joptionpane javax swing jpanel javax swing jscrollpane javax swing jtextfield javax swing jviewport javax swing listselectionmodel javax swing scrollpaneconstants javax swing event listdatalistener javax swing event listselectionlistener net sf jabref globals net sf jabref logic bibtexkeypattern bibtexkeypatternutil net sf jabref logic l10n localization net sf jabref preferences jabrefpreferences author alver fieldsetcomponent jpanel actionlistener set<actionlistener> additionlisteners hashset<> jlist<string> list jscrollpane sp defaultlistmodel<string> listmodel jcombobox<string> sel jtextfield input jbutton add jbutton remove jbutton jbutton gridbaglayout gbl gridbaglayout gridbagconstraints con gridbagconstraints boolean forcelowercase boolean changesmade set<listdatalistener> modellisteners hashset<> creates instance fieldsetcomponent preset selection values put jcombobox fieldsetcomponent string title list<string> fields list<string> preset boolean arrows boolean forcelowercase title fields preset localization lang add localization lang remove arrows forcelowercase creates instance fieldsetcomponent without preset selection values replaces jcombobox jtextfield fieldsetcomponent string title list<string> fields boolean arrows boolean forcelowercase title fields null localization lang add localization lang remove arrows forcelowercase fieldsetcomponent string title list<string> fields list<string> preset string addtext string removetext boolean arrows boolean forcelowercase forcelowercase forcelowercase add jbutton addtext remove jbutton removetext listmodel defaultlistmodel<> jlabel title1 null title null title1 jlabel title string field fields listmodel addelement field list jlist<> listmodel list setselectionmode listselectionmodel multiple interval selection set gui: add addactionlistener remove addactionlistener setlayout gbl con insets insets con fill gridbagconstraints con weightx con gridwidth gridbagconstraints remainder title1 null gbl setconstraints title1 con add title1 con weighty sp jscrollpane list scrollpaneconstants vertical scrollbar needed scrollpaneconstants horizontal scrollbar never gbl setconstraints sp con add sp con weighty con gridwidth arrows con weightx jbutton icontheme jabreficon getsmallicon jbutton icontheme jabreficon getsmallicon addactionlistener addactionlistener settooltiptext localization lang move settooltiptext localization lang move gbl setconstraints con add gbl setconstraints con add con weightx component strut box createhorizontalstrut gbl setconstraints strut con add strut con weightx con gridwidth gridbagconstraints remainder component box createhorizontalglue gbl setconstraints con add arrows con gridwidth gridbagconstraints remainder gbl setconstraints remove con add remove con gridwidth con weightx preset null input jtextfield input addactionlistener gbl setconstraints input con add input else sel jcombobox<> preset toarray string[preset size sel seteditable true sel addactionlistener gbl setconstraints sel con add sel con gridwidth gridbagconstraints remainder con weighty con weightx con gridwidth gbl setconstraints add con add add fieldlistfocuslistener<string> fieldlistfocuslistener fieldlistfocuslistener<> list list addfocuslistener fieldlistfocuslistener setlistselectionmode mode list setselectionmode mode selectfield string fieldname idx listmodel indexof fieldname idx list setselectedindex idx make sure visible: jviewport viewport sp getviewport rectangle rectangle list getcellbounds idx idx rectangle null viewport scrollrecttovisible rectangle string getfirstselected list getselectedvalue override setenabled boolean en input null input setenabled en sel null sel setenabled en null setenabled en setenabled en add setenabled en remove setenabled en setfields list<string> fields defaultlistmodel<string> newlistmodel defaultlistmodel<> string field fields newlistmodel addelement field listmodel newlistmodel listdatalistener modellistener modellisteners newlistmodel addlistdatalistener modellistener list setmodel newlistmodel method called field added list performs validation field addfield string str string str trim forcelowercase tolowercase equals listmodel contains string teststring bibtexkeypatternutil checklegalkey globals prefs getboolean jabrefpreferences enforce legal bibtex key teststring equals indexof report error exit joptionpane showmessagedialog localization lang field names allowed contain white space following characters localization lang error joptionpane error message addfielduncritically method adds field list without regard validation method useful classes overrides addfield provide different validation addfielduncritically string listmodel addelement changesmade true actionlistener additionlistener additionlisteners additionlistener actionperformed actionevent removeselected int[] selected list getselectedindices selected length changesmade true selected length listmodel removeelementat selected[selected length i] current list list<string> getfields list<string> res arraylist<> listmodel getsize enumeration<string> elements listmodel elements elements hasmoreelements res add elements nextelement res add listselectionlistener jlist component displayed part component addlistselectionlistener listselectionlistener list addlistselectionlistener adds actionlistener receive events time field added actionevent specify component source added field action command addadditionactionlistener actionlistener additionlisteners add addlistdatalistener listdatalistener listmodel addlistdatalistener modellisteners add field selected list move dy positions move dy oldidx list getselectedindex oldidx string listmodel get oldidx compute index: newind math max math min listmodel size oldidx dy listmodel remove oldidx listmodel add newind list setselectedindex newind override actionperformed actionevent object src getsource objects equals src add selection made add button pressed: sel null sel getselecteditem null string sel getselecteditem tostring addfield else input null equals input gettext addfield input gettext else objects equals src input addfield input gettext else objects equals src remove remove button pressed: removeselected else objects equals src sel comboboxchanged equals getactioncommand getmodifiers conditions signify arrow key navigation dropdown list react i'm sure well defined enough guaranteed work everywhere string sel getselecteditem tostring addfield sel geteditor selectall else objects equals src move else objects equals src move focuslistener select first entry list fields focused fieldlistfocuslistener<t> focuslistener jlist<t> list fieldlistfocuslistener jlist<t> list list list override focusgained focusevent list getselectedvalue null list setselectedindex override focuslost focusevent focus remain position nothing 
116	ExternalTab.java	GUI	net sf jabref gui preftabs awt borderlayout awt gridbagconstraints awt gridbaglayout awt gridlayout awt insets javax swing borderfactory javax swing buttongroup javax swing jbutton javax swing jcheckbox javax swing jfilechooser javax swing jlabel javax swing jpanel javax swing jradiobutton javax swing jtextfield net sf jabref globals net sf jabref gui jabrefframe net sf jabref gui externalfiletype externalfiletypeeditor net sf jabref gui push pushtoapplication net sf jabref gui push pushtoapplicationbutton net sf jabref logic l10n localization net sf jabref preferences jabrefpreferences com jgoodies forms builder defaultformbuilder com jgoodies forms layout formlayout externaltab jpanel prefstab jabrefpreferences prefs jabrefframe frame jtextfield emailsubject jtextfield citecommand jcheckbox openfoldersofattachedfiles jradiobutton defaultconsole jradiobutton executeconsole jtextfield consolecommand jbutton browsebutton externaltab jabrefframe frame preferencesdialog prefsdiag jabrefpreferences prefs prefs prefs frame frame setlayout borderlayout jbutton editfiletypes jbutton localization lang manage external file types citecommand jtextfield editfiletypes addactionlistener externalfiletypeeditor getaction prefsdiag defaultconsole jradiobutton localization lang use default terminal emulator executeconsole jradiobutton localization lang execute command consolecommand jtextfield browsebutton jbutton localization lang browse jlabel commanddescription jlabel localization lang note: use placeholder location opened database file dir buttongroup consoleoptions buttongroup consoleoptions add defaultconsole consoleoptions add executeconsole jpanel consoleoptionpanel jpanel gridbaglayout gridbagconstraints layoutconstraints gridbagconstraints defaultconsole addactionlistener updateexecuteconsolebuttonandfieldenabledstate executeconsole addactionlistener updateexecuteconsolebuttonandfieldenabledstate browsebutton addactionlistener showconsolechooser layoutconstraints fill gridbagconstraints horizontal layoutconstraints gridx layoutconstraints gridy layoutconstraints insets insets consoleoptionpanel add defaultconsole layoutconstraints layoutconstraints gridy consoleoptionpanel add executeconsole layoutconstraints layoutconstraints gridx consoleoptionpanel add consolecommand layoutconstraints layoutconstraints gridx layoutconstraints insets insets consoleoptionpanel add browsebutton layoutconstraints layoutconstraints gridx layoutconstraints gridy consoleoptionpanel add commanddescription layoutconstraints formlayout layout formlayout 1dlu 8dlu left:pref 4dlu fill:150dlu 4dlu fill:pref defaultformbuilder builder defaultformbuilder layout builder appendseparator localization lang sending emails builder append jpanel jlabel lab jlabel localization lang subject sending email references concat builder append lab emailsubject jtextfield builder append emailsubject builder nextline builder append jpanel openfoldersofattachedfiles jcheckbox localization lang automatically open folders attached files builder append openfoldersofattachedfiles builder nextline builder appendseparator localization lang external programs builder nextline jpanel butpan jpanel butpan setlayout gridlayout pushtoapplication pushtoapplication frame getpushapplications getapplications addsettingsbutton pushtoapplication butpan builder append jpanel builder append butpan builder nextline lab jlabel localization lang cite command ':' jpanel pan jpanel builder append pan builder append lab builder append citecommand builder nextline builder append pan builder append editfiletypes builder nextline builder appendseparator localization lang open console builder nextline builder append jpanel builder append consoleoptionpanel pan builder getpanel pan setborder borderfactory createemptyborder add pan borderlayout center addsettingsbutton pushtoapplication pt jpanel jbutton button jbutton localization lang settings pt getapplicationname pt geticon button addactionlistener pushtoapplicationbutton showsettingsdialog frame pt pt getsettingspanel add button override setvalues emailsubject settext prefs get jabrefpreferences email subject openfoldersofattachedfiles setselected prefs getboolean jabrefpreferences open folders attached files citecommand settext prefs get jabrefpreferences cite command defaultconsole setselected globals prefs getboolean jabrefpreferences use default console application executeconsole setselected globals prefs getboolean jabrefpreferences use default console application consolecommand settext globals prefs get jabrefpreferences console command updateexecuteconsolebuttonandfieldenabledstate override storesettings prefs put jabrefpreferences email subject emailsubject gettext prefs putboolean jabrefpreferences open folders attached files openfoldersofattachedfiles isselected prefs put jabrefpreferences cite command citecommand gettext prefs putboolean jabrefpreferences use default console application defaultconsole isselected prefs put jabrefpreferences console command consolecommand gettext override boolean validatesettings true override string gettabname localization lang external programs updateexecuteconsolebuttonandfieldenabledstate browsebutton setenabled executeconsole isselected consolecommand setenabled executeconsole isselected showconsolechooser jfilechooser consolechooser jfilechooser answer consolechooser showopendialog externaltab answer jfilechooser approve option consolecommand settext consolechooser getselectedfile getabsolutepath 
117	EntryEditorPrefsTab.java	GUI	net sf jabref gui preftabs awt borderlayout awt insets javax swing borderfactory javax swing buttongroup javax swing jcheckbox javax swing jlabel javax swing jpanel javax swing jradiobutton javax swing jspinner javax swing jtextfield javax swing spinnernumbermodel net sf jabref gui keyboard emacskeybindings net sf jabref logic autocompleter autocompletefirstnamemode net sf jabref logic autocompleter autocompletepreferences net sf jabref logic l10n localization net sf jabref preferences jabrefpreferences com jgoodies forms builder defaultformbuilder com jgoodies forms layout cellconstraints com jgoodies forms layout formlayout entryeditorprefstab jpanel prefstab jcheckbox autoopenform jcheckbox defsource jcheckbox emacsmode jcheckbox emacsrebindctrla jcheckbox emacsrebindctrlf jcheckbox autocomplete jradiobutton autocompboth jradiobutton autocompff jradiobutton autocomplf jradiobutton firstnamemodefull jradiobutton firstnamemodeabbr jradiobutton firstnamemodeboth jspinner shortesttocomplete jtextfield autocompfields jabrefpreferences prefs autocompletepreferences autocompletepreferences entryeditorprefstab jabrefpreferences prefs prefs prefs autocompletepreferences autocompletepreferences prefs setlayout borderlayout autoopenform jcheckbox localization lang open editor entry created defsource jcheckbox localization lang show bibtex source default emacsmode jcheckbox localization lang use emacs key bindings emacsrebindctrla jcheckbox localization lang rebind emacsrebindctrlf jcheckbox localization lang rebind autocomplete jcheckbox localization lang enable word name autocompletion shortesttocomplete jspinner spinnernumbermodel autocompletepreferences getshortestlengthtocomplete allowed name formats autocompff jradiobutton localization lang autocomplete names 'firstname lastname' format autocomplf jradiobutton localization lang autocomplete names 'lastname firstname' format autocompboth jradiobutton localization lang autocomplete names formats buttongroup buttongroup buttongroup buttongroup add autocomplf buttongroup add autocompff buttongroup add autocompboth treatment first name firstnamemodefull jradiobutton localization lang use full firstname whenever possible firstnamemodeabbr jradiobutton localization lang use abbreviated firstname whenever possible firstnamemodeboth jradiobutton localization lang use abbreviated full firstname buttongroup firstnamemodebuttongroup buttongroup firstnamemodebuttongroup add firstnamemodefull firstnamemodebuttongroup add firstnamemodeabbr firstnamemodebuttongroup add firstnamemodeboth insets marg insets emacsrebindctrla setmargin marg need listener showsource enable disable source panel related choices: emacsmode addchangelistener event emacsrebindctrla setenabled emacsmode isselected emacsrebindctrlf setmargin marg need listener showsource enable disable source panel related choices: emacsmode addchangelistener event emacsrebindctrlf setenabled emacsmode isselected autocompfields jtextfield need listener autocomplete enable disable autocompfields text field: autocomplete addchangelistener event setautocompleteelementsenabled autocomplete isselected formlayout layout formlayout columns 8dlu left:pref 8dlu fill:150dlu 4dlu fill:pref 4dlu left:pref 4dlu rows pref 6dlu pref 6dlu pref 6dlu pref 6dlu pref 6dlu rows pref 6dlu pref 6dlu pref 6dlu rows pref 6dlu pref pref pref pref 6dlu pref pref pref pref defaultformbuilder builder defaultformbuilder layout cellconstraints cc cellconstraints builder addseparator localization lang editor options cc xyw builder add autoopenform cc xy builder add defsource cc xy builder add emacsmode cc xy builder add emacsrebindctrla cc xy builder add emacsrebindctrlf cc xy builder addseparator localization lang autocompletion options cc xyw builder add autocomplete cc xy defaultformbuilder builder3 defaultformbuilder formlayout left:pref 4dlu fill:150dlu jlabel label jlabel localization lang use autocompletion following fields builder3 append label builder3 append autocompfields jlabel label2 jlabel localization lang autocomplete following number characters builder3 append label2 builder3 append shortesttocomplete builder add builder3 getpanel cc xyw builder addseparator localization lang name format used autocompletion cc xyw builder add autocompff cc xy builder add autocomplf cc xy builder add autocompboth cc xy builder addseparator localization lang treatment first names cc xyw builder add firstnamemodeabbr cc xy builder add firstnamemodefull cc xy builder add firstnamemodeboth cc xy jpanel pan builder getpanel pan setborder borderfactory createemptyborder add pan borderlayout center setautocompleteelementsenabled boolean enabled autocompfields setenabled enabled autocomplf setenabled enabled autocompff setenabled enabled autocompboth setenabled enabled firstnamemodeabbr setenabled enabled firstnamemodefull setenabled enabled firstnamemodeboth setenabled enabled shortesttocomplete setenabled enabled override setvalues autoopenform setselected prefs getboolean jabrefpreferences auto open form defsource setselected prefs getboolean jabrefpreferences default show source emacsmode setselected prefs getboolean jabrefpreferences editor emacs keybindings emacsrebindctrla setselected prefs getboolean jabrefpreferences editor emacs keybindings rebind ca emacsrebindctrlf setselected prefs getboolean jabrefpreferences editor emacs keybindings rebind cf autocomplete setselected prefs getboolean jabrefpreferences auto complete autocompfields settext autocompletepreferences getcompletenamesasstring shortesttocomplete setvalue autocompletepreferences getshortestlengthtocomplete autocompletepreferences getonlycompletefirstlast autocompff setselected true else autocompletepreferences getonlycompletelastfirst autocomplf setselected true else autocompboth setselected true switch autocompletepreferences getfirstnamemode case abbreviated: firstnamemodeabbr setselected true break case full: firstnamemodefull setselected true break default: firstnamemodeboth setselected true break similar emacs ctrl emacs mode emacsrebindctrla setenabled emacsmode isselected autocomplete fields enabled autocompletion selected setautocompleteelementsenabled autocomplete isselected override storesettings prefs putboolean jabrefpreferences auto open form autoopenform isselected prefs putboolean jabrefpreferences default show source defsource isselected boolean emacsmodechanged prefs getboolean jabrefpreferences editor emacs keybindings emacsmode isselected boolean emacsrebindctrlachanged prefs getboolean jabrefpreferences editor emacs keybindings rebind ca emacsrebindctrla isselected boolean emacsrebindctrlfchanged prefs getboolean jabrefpreferences editor emacs keybindings rebind cf emacsrebindctrlf isselected emacsmodechanged emacsrebindctrlachanged emacsrebindctrlfchanged prefs putboolean jabrefpreferences editor emacs keybindings emacsmode isselected prefs putboolean jabrefpreferences editor emacs keybindings rebind ca emacsrebindctrla isselected prefs putboolean jabrefpreferences editor emacs keybindings rebind cf emacsrebindctrlf isselected immediately apply change emacsmodechanged emacsmode isselected emacskeybindings load else emacskeybindings unload else rebinding ctrl ctrl changed assert emacsmode isselected simply reload emacs mode activate ctrl ctrl change emacskeybindings unload emacskeybindings load autocompletepreferences setshortestlengthtocomplete integer shortesttocomplete getvalue prefs putboolean jabrefpreferences auto complete autocomplete isselected autocompletepreferences setcompletenames autocompfields gettext autocompboth isselected autocompletepreferences setonlycompletefirstlast false autocompletepreferences setonlycompletelastfirst false else autocompff isselected autocompletepreferences setonlycompletefirstlast true autocompletepreferences setonlycompletelastfirst false else autocompletepreferences setonlycompletefirstlast false autocompletepreferences setonlycompletelastfirst true firstnamemodeabbr isselected autocompletepreferences setfirstnamemode autocompletefirstnamemode abbreviated else firstnamemodefull isselected autocompletepreferences setfirstnamemode autocompletefirstnamemode full else autocompletepreferences setfirstnamemode autocompletefirstnamemode override boolean validatesettings true override string gettabname localization lang entry editor 
118	BibtexKeyPatternPrefTab.java	GUI	net sf jabref gui preftabs awt gridbagconstraints javax swing borderfactory javax swing buttongroup javax swing jcheckbox javax swing jpanel javax swing jradiobutton javax swing jtextfield net sf jabref globals net sf jabref gui basepanel net sf jabref gui bibtexkeypattern bibtexkeypatternpanel net sf jabref logic l10n localization net sf jabref model bibtexkeypattern globalbibtexkeypattern net sf jabref preferences jabrefpreferences com jgoodies forms builder defaultformbuilder com jgoodies forms layout formlayout preferences panel key generation bibtexkeypatternpreftab bibtexkeypatternpanel prefstab jabrefpreferences prefs jcheckbox dontoverwrite jcheckbox localization lang overwrite existing keys jcheckbox warnbeforeoverwriting jcheckbox localization lang warn overwriting existing keys jcheckbox generateonsave jcheckbox localization lang generate keys saving entries without key jcheckbox autogenerateonimport jcheckbox localization lang generate keys imported entries jradiobutton letterstarta jradiobutton localization lang ensure unique keys using letters jradiobutton letterstartb jradiobutton localization lang ensure unique keys using letters jradiobutton alwaysaddletter jradiobutton localization lang always add letter generated keys jtextfield keypatternregex jtextfield jtextfield keypatternreplacement jtextfield bibtexkeypatternpreftab jabrefpreferences prefs basepanel panel super panel prefs prefs appendkeygeneratorsettings store changes table preferences method called user clicks ok override storesettings set default value: globals prefs put jabrefpreferences default bibtex key pattern defaultpat gettext globals prefs putboolean jabrefpreferences warn overwriting key warnbeforeoverwriting isselected globals prefs putboolean jabrefpreferences avoid overwriting key dontoverwrite isselected globals prefs put jabrefpreferences key pattern regex keypatternregex gettext globals prefs put jabrefpreferences key pattern replacement keypatternreplacement gettext globals prefs putboolean jabrefpreferences generate keys inspection autogenerateonimport isselected globals prefs putboolean jabrefpreferences generate keys saving generateonsave isselected alwaysaddletter isselected globals prefs putboolean jabrefpreferences key gen always add letter true else letterstarta isselected globals prefs putboolean jabrefpreferences key gen first letter true globals prefs putboolean jabrefpreferences key gen always add letter false else globals prefs putboolean jabrefpreferences key gen first letter false globals prefs putboolean jabrefpreferences key gen always add letter false fetch entries gui globalbibtexkeypattern keypatterns getkeypatternasglobalbibtexkeypattern store patterns globally prefs putkeypattern keypatterns appendkeygeneratorsettings buttongroup bg buttongroup bg add letterstarta bg add letterstartb bg add alwaysaddletter build panel checkbox settings: formlayout layout formlayout 1dlu 8dlu left:pref 8dlu left:pref jpanel pan jpanel defaultformbuilder builder defaultformbuilder layout builder appendseparator localization lang key generator settings builder nextline builder append pan builder append autogenerateonimport builder append letterstarta builder nextline builder append pan builder append warnbeforeoverwriting builder append letterstartb builder nextline builder append pan builder append dontoverwrite builder append alwaysaddletter builder nextline builder append pan builder append generateonsave builder nextline builder append pan builder append localization lang replace regular expression ':' builder append localization lang ':' builder nextline builder append pan builder append keypatternregex builder append keypatternreplacement builder getpanel setborder borderfactory createemptyborder con gridx con gridy con gridwidth gridbagconstraints remainder con weightx con fill gridbagconstraints gbl setconstraints builder getpanel con add builder getpanel dontoverwrite addchangelistener warning overwriting relevant overwriting happen: warnbeforeoverwriting setenabled dontoverwrite isselected override boolean validatesettings true override setvalues super setvalues globals prefs getkeypattern defaultpat settext globals prefs get jabrefpreferences default bibtex key pattern dontoverwrite setselected globals prefs getboolean jabrefpreferences avoid overwriting key generateonsave setselected globals prefs getboolean jabrefpreferences generate keys saving autogenerateonimport setselected globals prefs getboolean jabrefpreferences generate keys inspection warnbeforeoverwriting setselected globals prefs getboolean jabrefpreferences warn overwriting key boolean prefalwaysaddletter globals prefs getboolean jabrefpreferences key gen always add letter boolean firstlettera globals prefs getboolean jabrefpreferences key gen first letter prefalwaysaddletter alwaysaddletter setselected true else firstlettera letterstarta setselected true else letterstartb setselected true warning overwriting relevant overwriting happen: warnbeforeoverwriting setenabled dontoverwrite isselected keypatternregex settext globals prefs get jabrefpreferences key pattern regex keypatternreplacement settext globals prefs get jabrefpreferences key pattern replacement override string gettabname localization lang bibtex key generator 
119	FileTab.java	GUI	net sf jabref gui preftabs awt borderlayout awt dimension awt event itemlistener nio file files nio file path nio file paths javax swing borderfactory javax swing buttongroup javax swing jbutton javax swing jcheckbox javax swing jcombobox javax swing jlabel javax swing joptionpane javax swing jpanel javax swing jradiobutton javax swing jtextfield net sf jabref gui filedialog net sf jabref gui jabrefframe net sf jabref gui help helpaction net sf jabref logic help helpfile net sf jabref logic l10n localization net sf jabref logic util os net sf jabref model entry fieldname net sf jabref model metadata filedirectorypreferences net sf jabref preferences jabrefpreferences com jgoodies forms builder defaultformbuilder com jgoodies forms layout formlayout preferences tab file options options moved generaltab resolve space issue filetab jpanel prefstab jabrefpreferences prefs jabrefframe frame jcheckbox backup jcheckbox localautosave jcheckbox openlast jcombobox<string> newlineseparator jcheckbox reformatfileonsaveandexport jradiobutton resolvestringsstandard jradiobutton resolvestringsall jtextfield nonwrappablefields jtextfield donotresolvestringsfor jtextfield filedir jcheckbox biblocasprimarydir jcheckbox runautofilesearch jcheckbox allowfileautoopenbrowse jradiobutton useregexpcombobox jradiobutton matchexactkeyonly jradiobutton localization lang autolink files match bibtex key jradiobutton matchstartswithkey jradiobutton localization lang autolink files names starting bibtex key jtextfield regexptextfield filetab jabrefframe frame jabrefpreferences prefs prefs prefs frame frame filedir jtextfield biblocasprimarydir jcheckbox localization lang use bib file location primary file directory biblocasprimarydir settooltiptext localization lang downloading files moving linked files file directory prefer bib file location rather file directory set runautofilesearch jcheckbox localization lang opening file link search matching file link defined allowfileautoopenbrowse jcheckbox localization lang automatically open browse dialog creating file link regexptextfield jtextfield useregexpcombobox jradiobutton localization lang use regular expression search itemlistener regexplistener regexptextfield seteditable useregexpcombobox isselected useregexpcombobox additemlistener regexplistener buttongroup buttongroup buttongroup buttongroup add matchexactkeyonly buttongroup add matchstartswithkey buttongroup add useregexpcombobox openlast jcheckbox localization lang open last edited databases startup backup jcheckbox localization lang backup old file saving localautosave jcheckbox localization lang autosave local databases resolvestringsall jradiobutton localization lang resolve strings fields except resolvestringsstandard jradiobutton localization lang resolve strings standard bibtex fields buttongroup bg buttongroup bg add resolvestringsall bg add resolvestringsstandard sort quick hack newlineseparator jcombobox<> string[] cr cr lf lf reformatfileonsaveandexport jcheckbox localization lang always reformat bib file save export nonwrappablefields jtextfield donotresolvestringsfor jtextfield formlayout layout formlayout left:pref 4dlu fill:150dlu 4dlu fill:pref left:pref 4dlu fill:pref defaultformbuilder builder defaultformbuilder layout builder appendseparator localization lang general builder nextline builder append openlast builder nextline builder append backup builder nextline jlabel label jlabel localization lang wrap following fields saving builder append label builder append nonwrappablefields builder nextline builder append resolvestringsstandard builder nextline builder append resolvestringsall builder append donotresolvestringsfor builder nextline jlabel lab jlabel localization lang newline separator builder append lab builder append newlineseparator builder nextline builder append reformatfileonsaveandexport builder nextline builder appendseparator localization lang external file links builder nextline lab jlabel localization lang main file directory ':' builder append lab builder append filedir jbutton browse jbutton localization lang browse browse addactionlistener filedialog frame showdialogandgetselecteddirectory ifpresent filedir settext toabsolutepath tostring builder append browse builder nextline builder append biblocasprimarydir builder nextline builder append matchstartswithkey builder nextline builder append matchexactkeyonly builder nextline builder append useregexpcombobox builder append regexptextfield builder append helpaction localization lang help regular expression search helpfile regex search gethelpbutton builder nextline builder append runautofilesearch builder nextline builder append allowfileautoopenbrowse builder nextline builder appendseparator localization lang autosave builder append localautosave jbutton help helpaction helpfile autosave gethelpbutton help setpreferredsize dimension jpanel hpan jpanel hpan setlayout borderlayout hpan add help borderlayout east builder append hpan builder nextline jpanel pan builder getpanel pan setborder borderfactory createemptyborder setlayout borderlayout add pan borderlayout center override setvalues filedir settext prefs get fieldname file filedirectorypreferences dir suffix biblocasprimarydir setselected prefs getboolean jabrefpreferences bib loc primary dir runautofilesearch setselected prefs getboolean jabrefpreferences run automatic file search allowfileautoopenbrowse setselected prefs getboolean jabrefpreferences allow file auto open browse regexptextfield settext prefs get jabrefpreferences reg exp search expression key prefs getboolean jabrefpreferences autolink use reg exp search key useregexpcombobox setselected true else prefs getboolean jabrefpreferences autolink exact key matchexactkeyonly setselected true else matchstartswithkey setselected true openlast setselected prefs getboolean jabrefpreferences open last edited backup setselected prefs getboolean jabrefpreferences backup string newline prefs get jabrefpreferences newline \r equals newline newlineseparator setselectedindex else \n equals newline newlineseparator setselectedindex else fallback: windows standard newlineseparator setselectedindex reformatfileonsaveandexport setselected prefs getboolean jabrefpreferences reformat file save export resolvestringsall setselected prefs getboolean jabrefpreferences resolve strings fields resolvestringsstandard setselected resolvestringsall isselected donotresolvestringsfor settext prefs get jabrefpreferences resolve strings nonwrappablefields settext prefs get jabrefpreferences non wrappable fields localautosave setselected prefs getboolean jabrefpreferences local auto save override storesettings prefs put fieldname file filedirectorypreferences dir suffix filedir gettext prefs putboolean jabrefpreferences bib loc primary dir biblocasprimarydir isselected prefs putboolean jabrefpreferences run automatic file search runautofilesearch isselected prefs putboolean jabrefpreferences allow file auto open browse allowfileautoopenbrowse isselected prefs putboolean jabrefpreferences autolink use reg exp search key useregexpcombobox isselected prefs putboolean jabrefpreferences autolink exact key matchexactkeyonly isselected useregexpcombobox isselected prefs put jabrefpreferences reg exp search expression key regexptextfield gettext string newline switch newlineseparator getselectedindex case 0: newline \r break case 2: newline \n break default: newline \r\n break prefs put jabrefpreferences newline newline also change globals variable globals getter constant os newline newline prefs putboolean jabrefpreferences reformat file save export reformatfileonsaveandexport isselected prefs putboolean jabrefpreferences open last edited openlast isselected prefs putboolean jabrefpreferences resolve strings fields resolvestringsall isselected prefs put jabrefpreferences resolve strings donotresolvestringsfor gettext trim donotresolvestringsfor settext prefs get jabrefpreferences resolve strings nonwrappablefields gettext trim equals prefs get jabrefpreferences non wrappable fields prefs put jabrefpreferences non wrappable fields nonwrappablefields gettext prefs putboolean jabrefpreferences local auto save localautosave isselected override boolean validatesettings path path paths get filedir gettext boolean valid files exists path files isdirectory path valid string content string format s: localization lang file localization lang main file directory localization lang directory found path joptionpane showmessagedialog frame content localization lang error joptionpane error message valid override string gettabname localization lang file 
120	NameFormatterTab.java	GUI	net sf jabref gui preftabs awt borderlayout awt dimension awt event actionevent util arraylist util list util objects javax swing abstractaction javax swing action javax swing borderfactory javax swing jpanel javax swing jscrollpane javax swing jtable javax swing jtoolbar javax swing scrollpaneconstants javax swing swingconstants javax swing table abstracttablemodel javax swing table tablecolumnmodel javax swing table tablemodel net sf jabref gui icontheme net sf jabref gui osxcompatibletoolbar net sf jabref gui help helpaction net sf jabref gui util guiutil net sf jabref logic help helpfile net sf jabref logic l10n localization net sf jabref logic layout format nameformatter net sf jabref preferences jabrefpreferences com jgoodies forms builder defaultformbuilder com jgoodies forms layout formlayout nameformattertab jpanel prefstab jabrefpreferences prefs boolean tablechanged jtable table rowcount list<tablerow> tablerows arraylist<> tablerow string name string format tablerow tablerow string name name nameformatter default format tablerow string name string format name name format format string getname name setname string name name name string getformat format setformat string format format format tab create custom name formatters nameformattertab jabrefpreferences prefs prefs objects requirenonnull prefs setlayout borderlayout tablemodel tablemodel abstracttablemodel override getrowcount rowcount override getcolumncount override object getvalueat row column row tablerows size tablerow tr tablerows get row tr null two columns column tr getname else tr getformat override string getcolumnname col col localization lang formatter name localization lang format string override class<string> getcolumnclass column string override boolean iscelleditable row col true override setvalueat object value row col tablechanged true make sure vector long enough row tablerows size tablerows add tablerow tablerow rowcontent tablerows get row col rowcontent setname value tostring else rowcontent setformat value tostring table jtable tablemodel guiutil correctrowheight table tablecolumnmodel columnmodel table getcolumnmodel columnmodel getcolumn setpreferredwidth columnmodel getcolumn setpreferredwidth formlayout layout formlayout 1dlu 8dlu left:pref 4dlu fill:pref defaultformbuilder builder defaultformbuilder layout jpanel pan jpanel jpanel tabpanel jpanel tabpanel setlayout borderlayout jscrollpane scrollpane jscrollpane table scrollpaneconstants vertical scrollbar needed scrollpaneconstants horizontal scrollbar never table setpreferredscrollableviewportsize dimension scrollpane setminimumsize dimension scrollpane setpreferredsize dimension tabpanel add scrollpane borderlayout center jtoolbar toolbar osxcompatibletoolbar swingconstants vertical toolbar setfloatable false toolbar setborder null toolbar add addrowaction toolbar add deleterowaction toolbar add helpaction localization lang help name formatting helpfile custom exports name formatter gethelpbutton tabpanel add toolbar borderlayout east builder appendseparator localization lang special name formatters builder nextline builder append pan builder append tabpanel builder nextline pan builder getpanel pan setborder borderfactory createemptyborder add pan borderlayout center override setvalues tablerows clear list<string> names prefs getstringlist jabrefpreferences name formater key list<string> formats prefs getstringlist jabrefpreferences name formatter value names size formats size tablerows add tablerow names get formats get else tablerows add tablerow names get rowcount tablerows size deleterowaction abstractaction deleterowaction super delete row icontheme jabreficon remove nobox geticon putvalue action short description localization lang delete rows override actionperformed actionevent tablechanged true int[] selectedrows table getselectedrows numberdeleted selectedrows length selectedrows[i] tablerows size tablerows remove selectedrows[i] numberdeleted rowcount numberdeleted selectedrows length table clearselection table revalidate table repaint addrowaction abstractaction addrowaction super add row icontheme jabreficon add nobox geticon putvalue action short description localization lang insert rows override actionperformed actionevent int[] rows table getselectedrows rows length rows selected add one end rowcount table revalidate table repaint rows length rows[i] tablerows size tablerows add math max rows[i] tablerow rowcount rows length rows length table clearselection table revalidate table repaint tablechanged true store changes table preferences method called user clicks ok override storesettings table isediting col table geteditingcolumn row table geteditingrow table getcelleditor row col stopcellediting need make sense contents user made table setup table tablechanged first remove rows empty names tablerows size tablerows get getname isempty tablerows remove else make lists list<string> names arraylist<> tablerows size list<string> formats arraylist<> tablerows size tablerow tr tablerows names add tr getname formats add tr getformat finally store preferences prefs putstringlist jabrefpreferences name formater key names prefs putstringlist jabrefpreferences name formatter value formats override boolean validatesettings true override string gettabname localization lang name formatter 
121	FontSelectorDialog.java	GUI	net sf jabref gui preftabs taken jpicedt modified slightly nizar batada jabref eepicviewfactory february jpicedt picture editor latex copyright sylvain reynal portions copyright slava pestov portions copyright jason ginchereau d\ufffdpartement de physique ecole nationale sup\ufffdrieure de l'electronique et de ses applications ensea avenue du ponceau cergy cedex tel fax mail reynal ensea fr jpicedt web page http: trashx ensea fr jpicedt program free software redistribute modify terms gnu general license published free software foundation either version license later version program distributed hope useful without warranty without even implied warranty merchantability fitness particular purpose see gnu general license details received copy gnu general license along program write free software foundation inc temple place suite boston usa awt borderlayout awt component awt dimension awt font awt graphics awt graphics2d awt graphicsenvironment awt gridbagconstraints awt gridbaglayout awt gridlayout awt renderinghints util arraylist util list util optional javax swing box javax swing boxlayout javax swing jbutton javax swing jdialog javax swing jlabel javax swing jlist javax swing joptionpane javax swing jpanel javax swing jscrollpane javax swing jtextfield javax swing border emptyborder javax swing border titledborder javax swing event listselectionevent javax swing event listselectionlistener net sf jabref logic l10n localization font chooser widget author slava pestov jedit sylvain reynal since jpicedt beta version $id$ <p> $log$ revision 01:35:35 coezbek jabref 4b1 plug system established yeah revision 08:46:57 kiar fix dialog show deprecation messages change build xml revision 23:28:41 mortenalver code tidying effect behaviour hopefully revision 23:30:18 mortenalver added translations started work replace string feature revision 09:14:02 mortenalver similar update font selection preview revision 07:35:22 mortenalver experimenting antialiasing table revision 23:48:02 mortenalver revision 22:18:07 nbatada modified slightly initial version revision 22:14:34 nbatada modified initial version revision 01:51:06 reynal cleaned i18n labels revision 22:05:40 reynal enhanced interface widgets fontselectordialog jdialog string plain plain string bold bold string bold italic bold italic string italic italic string[] styles plain bold italic bold italic string[] sizes members boolean isok jtextfield familyfield jtextfield jlist<string> familylist jtextfield sizefield jtextfield jlist<string> sizelist jlist<> sizes jtextfield stylefield jtextfield jlist<string> stylelist jlist<> styles jlabel preview reason default fonts show list bold bolditalic italic extensions string[] hidefonts bold italic fontselectordialog component comp font font super joptionpane getframeforcomponent comp localization lang font selection true jpanel content jpanel borderlayout content setborder emptyborder setcontentpane content jpanel listpanel jpanel gridlayout familylist jlist<> getfontlist jpanel familypanel createtextfieldandlistpanel localization lang font family familyfield familylist listpanel add familypanel jpanel sizepanel createtextfieldandlistpanel localization lang font size sizefield sizelist listpanel add sizepanel jpanel stylepanel createtextfieldandlistpanel localization lang font style stylefield stylelist stylefield seteditable false listpanel add stylepanel familylist setselectedvalue font getfamily true familyfield settext font getfamily sizelist setselectedvalue string valueof font getsize true sizefield settext string valueof font getsize stylelist setselectedindex font getstyle stylefield settext stylelist getselectedvalue listhandler listhandler listhandler familylist addlistselectionlistener listhandler sizelist addlistselectionlistener listhandler stylelist addlistselectionlistener listhandler content add borderlayout north listpanel experimental addition morten alver want enable antialiasing preview field since i'm working introducing table view preview jlabel localization lang font preview override paint graphics graphics2d g2 graphics2d g2 setrenderinghint renderinghints key antialiasing renderinghints value antialias super paint g2 preview setborder titledborder localization lang font preview updatepreview dimension prefsize preview getpreferredsize prefsize height preview setpreferredsize prefsize content add borderlayout center preview jpanel buttons jpanel buttons setlayout boxlayout buttons boxlayout axis buttons setborder emptyborder buttons add box createglue jbutton ok jbutton localization lang ok ok addactionlistener isok true dispose getrootpane setdefaultbutton ok buttons add ok buttons add box createhorizontalstrut jbutton cancel jbutton localization lang cancel cancel addactionlistener dispose buttons add cancel buttons add box createglue content add borderlayout south buttons pack setlocationrelativeto joptionpane getframeforcomponent comp setvisible true optional<font> getselectedfont isok optional empty size try size integer parseint sizefield gettext catch numberformatexception size optional font familyfield gettext stylelist getselectedindex size string[] getfontlist try string[] namearray graphicsenvironment getlocalgraphicsenvironment getavailablefontfamilynames list<string> namelist arraylist<> namearray length string fontname namearray boolean hidden false string hiddenname fontselectordialog hidefonts fontname contains hiddenname hidden true break hidden namelist add fontname string[] resultarray string[namelist size namelist toarray resultarray catch securityexception illegalargumentexception ex string[0] jpanel createtextfieldandlistpanel string labelstring jtextfield textfield jlist<string> list gridbaglayout layout gridbaglayout jpanel panel jpanel layout gridbagconstraints cons gridbagconstraints cons gridx cons gridy cons gridwidth cons gridheight cons fill gridbagconstraints cons weightx 0f jlabel label jlabel labelstring layout setconstraints label cons panel add label cons gridy component vs box createverticalstrut layout setconstraints vs cons panel add vs cons gridy layout setconstraints textfield cons panel add textfield cons gridy vs box createverticalstrut layout setconstraints vs cons panel add vs cons gridy cons gridheight gridbagconstraints remainder cons weighty 0f jscrollpane scroller jscrollpane list layout setconstraints scroller cons panel add scroller panel updatepreview string family familyfield gettext size try size integer parseint sizefield gettext catch numberformatexception size style stylelist getselectedindex preview setfont font family style size listhandler listselectionlistener override valuechanged listselectionevent evt object source evt getsource familylist equals source string family familylist getselectedvalue family null familyfield settext family else sizelist equals source string size sizelist getselectedvalue size null sizefield settext size else stylelist equals source string style stylelist getselectedvalue style null stylefield settext style updatepreview 
122	PrefsTab.java	GUI	net sf jabref gui preftabs prefstab component displayed preferencedialog needs extend component interface prefstab method called dialog opened made visible hidden tab update values place set values fields tab illegal set values construction time dialog reused updated setvalues method called user presses ok preferences dialog implementing classes must make sure settings presented get stored jabrefpreferences storesettings method called link #storesettings method check illegal settings tab ready closed tab ready display message user informing illegal setting boolean validatesettings localized identifier use tab identifier tab instance general appearance external files string gettabname 
123	FileSortTab.java	GUI	net sf jabref gui preftabs awt borderlayout awt event actionevent awt event actionlistener javax swing borderfactory javax swing buttongroup javax swing jpanel javax swing jradiobutton net sf jabref gui saveorderconfigdisplay net sf jabref logic l10n localization net sf jabref preferences jabrefpreferences com jgoodies forms builder defaultformbuilder com jgoodies forms layout formlayout preference tab file sorting options filesorttab jpanel prefstab jabrefpreferences prefs jradiobutton exportinoriginalorder jradiobutton exportintableorder jradiobutton exportinspecifiedorder saveorderconfigdisplay exportorderpanel filesorttab jabrefpreferences prefs prefs prefs formlayout layout formlayout 4dlu left:pref 4dlu fill:pref defaultformbuilder builder defaultformbuilder layout builder leadingcolumnoffset export sort order create components exportinoriginalorder jradiobutton localization lang export entries original order exportintableorder jradiobutton localization lang export current table sort order exportinspecifiedorder jradiobutton localization lang export entries ordered specified buttongroup buttongroup buttongroup buttongroup add exportinoriginalorder buttongroup add exportintableorder buttongroup add exportinspecifiedorder actionlistener listener actionlistener override actionperformed actionevent boolean selected getsource exportinspecifiedorder exportorderpanel setenabled selected exportinoriginalorder addactionlistener listener exportintableorder addactionlistener listener exportinspecifiedorder addactionlistener listener create gui builder appendseparator localization lang export sort order builder append exportinoriginalorder builder nextline builder append exportintableorder builder nextline builder append exportinspecifiedorder builder nextline exportorderpanel saveorderconfigdisplay builder append exportorderpanel getpanel builder nextline combine everything jpanel pan builder getpanel pan setborder borderfactory createemptyborder setlayout borderlayout add pan borderlayout center override setvalues prefs getboolean jabrefpreferences export original order exportinoriginalorder setselected true else prefs getboolean jabrefpreferences export specified order exportinspecifiedorder setselected true else exportintableorder setselected true boolean selected prefs getboolean jabrefpreferences export specified order exportorderpanel setenabled selected exportorderpanel setsaveorderconfig prefs loadexportsaveorder override storesettings prefs putboolean jabrefpreferences export original order exportinoriginalorder isselected prefs putboolean jabrefpreferences export specified order exportinspecifiedorder isselected prefs storeexportsaveorder exportorderpanel getsaveorderconfig override boolean validatesettings true override string gettabname localization lang export sorting 
124	PreferencesFilterDialog.java	GUI	net sf jabref gui preftabs awt borderlayout awt dimension awt flowlayout util list util objects javax swing jcheckbox javax swing jdialog javax swing jframe javax swing jlabel javax swing jpanel javax swing jscrollpane javax swing jtable javax swing table abstracttablemodel net sf jabref gui wraplayout net sf jabref gui util guiutil net sf jabref logic l10n localization net sf jabref preferences jabrefpreferencesfilter preferencesfilterdialog jdialog jabrefpreferencesfilter preferencesfilter jtable table jcheckbox showonlydeviatingpreferenceoptions jlabel count preferencesfilterdialog jabrefpreferencesfilter preferencesfilter jframe frame super frame true modal preferencesfilter objects requirenonnull preferencesfilter settitle localization lang preferences setsize dimension jpanel panel jpanel panel setlayout borderlayout jpanel northpanel jpanel northpanel setlayout wraplayout flowlayout left showonlydeviatingpreferenceoptions jcheckbox localization lang show preferences deviating default value false showonlydeviatingpreferenceoptions addchangelistener updatemodel northpanel add showonlydeviatingpreferenceoptions count jlabel northpanel add count panel add northpanel borderlayout north table jtable table setautocreaterowsorter true guiutil correctrowheight table updatemodel panel add jscrollpane table borderlayout center getcontentpane add panel updatemodel list<jabrefpreferencesfilter preferenceoption> preferenceoptions showonlydeviatingpreferenceoptions isselected preferenceoptions preferencesfilter getdeviatingpreferences else preferenceoptions preferencesfilter getpreferenceoptions table setmodel preferencestablemodel preferenceoptions count settext string format preferenceoptions size preferencestablemodel abstracttablemodel list<jabrefpreferencesfilter preferenceoption> preferences preferencestablemodel list<jabrefpreferencesfilter preferenceoption> preferences preferences objects requirenonnull preferences override string getcolumnname column column localization lang type else column localization lang key else column localization lang value else column localization lang default else override getrowcount preferences size override getcolumncount override object getvalueat rowindex columnindex rowindex rowindex preferences size jabrefpreferencesfilter preferenceoption preferenceoption preferences get rowindex columnindex preferenceoption gettype else columnindex preferenceoption getkey else columnindex preferenceoption getvalue else columnindex preferenceoption getdefaultvalue orelse null else 
125	AppearancePrefsTab.java	GUI	net sf jabref gui preftabs awt borderlayout awt font awt gridbaglayout util arraylist util arrays util list javax swing borderfactory javax swing jbutton javax swing jcheckbox javax swing jcombobox javax swing jlabel javax swing joptionpane javax swing jpanel javax swing jtextfield javax swing uimanager net sf jabref gui guiglobals net sf jabref logic l10n localization net sf jabref logic util os net sf jabref preferences jabrefpreferences com jgoodies forms builder defaultformbuilder com jgoodies forms layout formlayout org apache commons logging log org apache commons logging logfactory appearanceprefstab jpanel prefstab log logger logfactory getlog appearanceprefstab jabrefpreferences prefs jcheckbox colorcodes jcheckbox resolvedcolorcodes jcheckbox overridefonts jcheckbox showgrid colorsetuppanel colorpanel font usedfont guiglobals currentfont oldmenufontsize boolean oldoverridefontsize jtextfield fontsize jtextfield rowpadding look feel jcombobox<string> classnameslaf string currentlaf boolean usedefaultlaf jcheckbox customlaf lookandfeel list<string> looks arrays aslist uimanager getsystemlookandfeelclassname uimanager getcrossplatformlookandfeelclassname com jgoodies looks plastic plastic3dlookandfeel com jgoodies looks windows windowslookandfeel list<string> getavailablelookandfeels list<string> lookandfeels arraylist<> string looks try try find forname lookandfeels add catch classnotfoundexception ignored ignored lookandfeels customization appearance parameters param prefs <code>jabrefpreferences< code> value appearanceprefstab jabrefpreferences prefs prefs prefs setlayout borderlayout font sizes: fontsize jtextfield row padding size: rowpadding jtextfield colorcodes jcheckbox localization lang color codes required optional fields resolvedcolorcodes jcheckbox localization lang color code resolved fields overridefonts jcheckbox localization lang override default font settings showgrid jcheckbox localization lang show gridlines formlayout layout formlayout 1dlu 8dlu left:pref 4dlu fill:pref 4dlu fill:60dlu 4dlu fill:pref defaultformbuilder builder defaultformbuilder layout customlaf jcheckbox localization lang use look feel list available list<string> lookandfeels lookandfeel getavailablelookandfeels classnameslaf jcombobox<> lookandfeels toarray string[lookandfeels size classnameslaf seteditable true jcombobox<string> clname classnameslaf customlaf addchangelistener clname setenabled jcheckbox getsource isselected colorpanel colorsetuppanel colorcodes resolvedcolorcodes showgrid default shows osx specific first dropdownmenu os os jpanel pan jpanel builder appendseparator localization lang look feel jlabel lab jlabel localization lang default look feel uimanager getsystemlookandfeelclassname builder nextline builder append pan builder append lab builder nextline builder append pan builder append customlaf builder nextline builder append pan jpanel pan2 jpanel lab jlabel localization lang name ':' pan2 add lab pan2 add classnameslaf builder append pan2 builder nextline builder append pan lab jlabel localization lang note must specify fully qualified name look feel builder append lab builder nextline builder append pan lab jlabel localization lang must available classpath next time start jabref builder append lab builder nextline builder leadingcolumnoffset jlabel lab builder appendseparator localization lang general jpanel p1 jpanel lab jlabel localization lang menu label font size p1 add lab p1 add fontsize builder append p1 builder nextline builder append overridefonts builder nextline builder appendseparator localization lang table appearance jpanel p2 jpanel p2 add jlabel localization lang table row height padding p2 add rowpadding builder append p2 builder nextline builder append colorcodes builder nextline builder append resolvedcolorcodes builder nextline builder append showgrid builder nextline jbutton fontbutton jbutton localization lang set table font builder append fontbutton builder nextline builder appendseparator localization lang table entry editor colors builder append colorpanel jpanel upper jpanel jpanel sort jpanel jpanel namesp jpanel jpanel iconcol jpanel gridbaglayout gbl gridbaglayout upper setlayout gbl sort setlayout gbl namesp setlayout gbl iconcol setlayout gbl overridefonts addactionlistener fontsize setenabled overridefonts isselected fontbutton addactionlistener fontselectordialog null usedfont getselectedfont ifpresent usedfont jpanel pan builder getpanel pan setborder borderfactory createemptyborder add pan borderlayout center override setvalues usedefaultlaf prefs getboolean jabrefpreferences use default look feel currentlaf prefs get jabrefpreferences win look feel customlaf setselected usedefaultlaf classnameslaf setselecteditem currentlaf classnameslaf setenabled usedefaultlaf colorcodes setselected prefs getboolean jabrefpreferences table color codes resolvedcolorcodes setselected prefs getboolean jabrefpreferences table resolved color codes fontsize settext string valueof prefs getint jabrefpreferences menu font size rowpadding settext string valueof prefs getint jabrefpreferences table row padding oldmenufontsize prefs getint jabrefpreferences menu font size overridefonts setselected prefs getboolean jabrefpreferences override default fonts oldoverridefontsize overridefonts isselected fontsize setenabled overridefonts isselected showgrid setselected prefs getboolean jabrefpreferences table show grid colorpanel setvalues override storesettings prefs putboolean jabrefpreferences use default look feel customlaf isselected prefs put jabrefpreferences win look feel classnameslaf getselecteditem tostring customlaf isselected usedefaultlaf currentlaf equals classnameslaf getselecteditem tostring joptionpane showmessagedialog null localization lang changed look feel setting concat concat localization lang must restart jabref come effect localization lang changed look feel settings joptionpane warning message prefs putboolean jabrefpreferences table color codes colorcodes isselected prefs putboolean jabrefpreferences table resolved color codes resolvedcolorcodes isselected prefs put jabrefpreferences font family usedfont getfamily prefs putint jabrefpreferences font style usedfont getstyle prefs putint jabrefpreferences font size usedfont getsize prefs putboolean jabrefpreferences override default fonts overridefonts isselected guiglobals currentfont usedfont colorpanel storesettings prefs putboolean jabrefpreferences table show grid showgrid isselected try size integer parseint fontsize gettext overridefonts isselected oldoverridefontsize size oldmenufontsize prefs putint jabrefpreferences menu font size size joptionpane showmessagedialog null localization lang changed menu label font size concat concat localization lang must restart jabref come effect localization lang changed font settings joptionpane warning message catch numberformatexception ex logger info invalid font size ex try padding integer parseint rowpadding gettext prefs putint jabrefpreferences table row padding padding catch numberformatexception ex logger info invalid row padding ex boolean validateintegerfield string fieldname string fieldvalue string errortitle try test field value number: integer parseint fieldvalue catch numberformatexception ex joptionpane showmessagedialog null localization lang must enter integer value text field fieldname errortitle joptionpane error message false true override boolean validatesettings test font size number: validateintegerfield localization lang menu label font size fontsize gettext localization lang invalid setting false test row padding number: validateintegerfield localization lang table row height padding rowpadding gettext localization lang invalid setting override string gettabname localization lang appearance 
126	ColorSetupPanel.java	GUI	net sf jabref gui preftabs awt borderlayout awt color awt component awt graphics awt rectangle awt event actionevent awt event actionlistener util arraylist util list util optional javax swing borderfactory javax swing icon javax swing jbutton javax swing jcheckbox javax swing jcolorchooser javax swing jpanel net sf jabref globals net sf jabref logic l10n localization net sf jabref preferences jabrefpreferences com jgoodies forms builder formbuilder com jgoodies forms layout formlayout created intellij idea user: alver date: oct time: 4:29:35 pm change template use file settings file templates colorsetuppanel jpanel icon width icon height list<colorbutton> buttons arraylist<> colorsetuppanel jcheckbox colorcodes jcheckbox resolvedcolorcodes jcheckbox showgrid formlayout layout formlayout 30dlu 4dlu fill:pref 4dlu fill:pref 8dlu 30dlu 4dlu fill:pref 4dlu fill:pref pref 2dlu pref 2dlu pref 2dlu pref 2dlu pref 2dlu pref 2dlu pref 2dlu pref 2dlu pref formbuilder builder formbuilder create layout layout buttons add colorbutton jabrefpreferences table text localization lang table text color buttons add colorbutton jabrefpreferences marked entry background0 localization lang marking color buttons add colorbutton jabrefpreferences table background localization lang table background color buttons add colorbutton jabrefpreferences marked entry background1 localization lang marking color buttons add colorbutton jabrefpreferences table req field background localization lang background color required fields colorcodes buttons add colorbutton jabrefpreferences marked entry background2 localization lang marking color buttons add colorbutton jabrefpreferences table opt field background localization lang background color optional fields colorcodes buttons add colorbutton jabrefpreferences marked entry background3 localization lang marking color buttons add colorbutton jabrefpreferences incomplete entry background localization lang color marking incomplete entries buttons add colorbutton jabrefpreferences marked entry background4 localization lang marking color buttons add colorbutton jabrefpreferences grid color localization lang table grid color showgrid buttons add colorbutton jabrefpreferences marked entry background5 localization lang marking color buttons add colorbutton jabrefpreferences field editor text color localization lang entry editor font color buttons add colorbutton jabrefpreferences valid field background color localization lang entry editor background color buttons add colorbutton jabrefpreferences active field editor background color localization lang entry editor active background color buttons add colorbutton jabrefpreferences invalid field background color localization lang entry editor invalid field color buttons add colorbutton jabrefpreferences table resolved field background localization lang background color resolved fields resolvedcolorcodes rowcnt col row colorbutton buttons row rowcnt floor rowcnt builder add jbutton xy col row builder add getdefaultbutton xy col row builder add getname xy col row addactionlistener colorbuttonlistener col col change rowcnt setlayout borderlayout add builder getpanel borderlayout center setvalues setvalues colorbutton buttons setcolor globals prefs getcolor getkey storesettings colorbutton buttons globals prefs putcolor getkey getcolor colorbuttonlistener actionlistener colorbutton button colorbuttonlistener colorbutton button button button override actionperformed actionevent color chosen jcolorchooser showdialog null button getname button getcolor chosen null button setcolor chosen button getcheckbox ifpresent checkbox checkbox setselected true button display chosen color hold key information color setting includes method produce default button setting colorbutton jbutton icon color color color white string key string name optional<jcheckbox> checkbox optional empty colorbutton string key string name jcheckbox checkbox key name checkbox optional checkbox colorbutton string key string name seticon key key name name setborder borderfactory createraisedbevelborder jbutton getdefaultbutton jbutton todefault jbutton localization lang default todefault addactionlistener setcolor globals prefs getdefaultcolor key repaint todefault string getkey key override string getname name color getcolor color setcolor color color color color override painticon component graphics rectangle getclipbounds setcolor color fillrect width height override geticonwidth colorsetuppanel icon width override geticonheight colorsetuppanel icon height optional<jcheckbox> getcheckbox checkbox 
127	TablePrefsTab.java	GUI	net sf jabref gui preftabs awt borderlayout util collections util list util objects javax swing borderfactory javax swing buttongroup javax swing jcheckbox javax swing jcombobox javax swing jlabel javax swing jpanel javax swing jradiobutton javax swing jtable javax swing jtextfield net sf jabref globals net sf jabref logic l10n localization net sf jabref model entry bibentry net sf jabref model entry internalbibtexfields net sf jabref preferences jabrefpreferences com jgoodies forms builder defaultformbuilder com jgoodies forms layout formlayout tableprefstab jpanel prefstab jabrefpreferences prefs jcheckbox autoresizemode jcheckbox pridesc jcheckbox secdesc jcheckbox terdesc jcheckbox floatmarked jradiobutton namesasis jradiobutton namesff jradiobutton namesfl jradiobutton namesnatbib jradiobutton abbrnames jradiobutton noabbrnames jradiobutton lastnamesonly jtextfield prifield jtextfield secfield jtextfield terfield jtextfield numericfields jcombobox<string> prisort jcombobox<string> secsort jcombobox<string> tersort customization external program paths param prefs <code>jabrefpreferences< code> value tableprefstab jabrefpreferences prefs prefs prefs setlayout borderlayout added bibtexkey combobox default sort order: bibtexkey http: sourceforge net tracker index php?func detail aid group id atid list<string> fieldnames internalbibtexfields getallpublicfieldnames fieldnames add bibentry key field collections sort fieldnames string[] allpluskey fieldnames toarray string[fieldnames size prisort jcombobox<> allpluskey secsort jcombobox<> allpluskey tersort jcombobox<> allpluskey autoresizemode jcheckbox localization lang fit table horizontally screen namesasis jradiobutton localization lang show names unchanged namesff jradiobutton localization lang show 'firstname lastname' namesfl jradiobutton localization lang show 'lastname firstname' namesnatbib jradiobutton localization lang natbib style noabbrnames jradiobutton localization lang abbreviate names abbrnames jradiobutton localization lang abbreviate names lastnamesonly jradiobutton localization lang show last names floatmarked jcheckbox localization lang marked entries prifield jtextfield secfield jtextfield terfield jtextfield numericfields jtextfield prisort insertitemat localization lang <select> secsort insertitemat localization lang <select> tersort insertitemat localization lang <select> prisort addactionlistener prisort getselectedindex prifield settext prisort getselecteditem tostring prisort setselectedindex secsort addactionlistener secsort getselectedindex secfield settext secsort getselecteditem tostring secsort setselectedindex tersort addactionlistener tersort getselectedindex terfield settext tersort getselecteditem tostring tersort setselectedindex buttongroup namestyle buttongroup namestyle add namesasis namestyle add namesnatbib namestyle add namesff namestyle add namesfl buttongroup nameabbrev buttongroup nameabbrev add lastnamesonly nameabbrev add abbrnames nameabbrev add noabbrnames pridesc jcheckbox localization lang descending secdesc jcheckbox localization lang descending terdesc jcheckbox localization lang descending formlayout layout formlayout 1dlu 8dlu left:pref 4dlu fill:pref 4dlu fill:60dlu 4dlu fill:pref defaultformbuilder builder defaultformbuilder layout jlabel lab jpanel pan jpanel builder appendseparator localization lang format author editor names defaultformbuilder namebuilder defaultformbuilder formlayout left:pref 8dlu left:pref namebuilder append namesasis namebuilder append noabbrnames namebuilder nextline namebuilder append namesff namebuilder append abbrnames namebuilder nextline namebuilder append namesfl namebuilder append lastnamesonly namebuilder nextline namebuilder append namesnatbib builder append pan builder append namebuilder getpanel builder nextline builder appendseparator localization lang default sort criteria create panel formlayout items: formlayout layout2 formlayout left:pref 8dlu fill:pref 4dlu fill:60dlu 4dlu left:pref defaultformbuilder builder2 defaultformbuilder layout2 lab jlabel localization lang primary sort criterion builder2 append lab builder2 append prisort builder2 append prifield builder2 append pridesc builder2 nextline lab jlabel localization lang secondary sort criterion builder2 append lab builder2 append secsort builder2 append secfield builder2 append secdesc builder2 nextline lab jlabel localization lang tertiary sort criterion builder2 append lab builder2 append tersort builder2 append terfield builder2 append terdesc builder nextline builder append pan builder append builder2 getpanel builder nextline builder append pan builder append floatmarked builder nextline builder append pan builder2 defaultformbuilder formlayout left:pref 8dlu fill:pref builder2 append localization lang sort following fields numeric fields ':' builder2 append numericfields builder append builder2 getpanel builder nextline builder appendseparator localization lang general builder append pan builder append autoresizemode builder nextline pan builder getpanel pan setborder borderfactory createemptyborder add pan borderlayout center namesnatbib addchangelistener abbrnames setenabled namesnatbib isselected lastnamesonly setenabled namesnatbib isselected noabbrnames setenabled namesnatbib isselected override setvalues autoresizemode setselected prefs getint jabrefpreferences auto resize mode jtable auto resize columns prifield settext prefs get jabrefpreferences table primary sort field secfield settext prefs get jabrefpreferences table secondary sort field terfield settext prefs get jabrefpreferences table tertiary sort field prisort setselectedindex secsort setselectedindex tersort setselectedindex prefs getboolean jabrefpreferences names namesasis setselected true else prefs getboolean jabrefpreferences names first last namesff setselected true else prefs getboolean jabrefpreferences names natbib namesnatbib setselected true else namesfl setselected true prefs getboolean jabrefpreferences abbr author names abbrnames setselected true else prefs getboolean jabrefpreferences names last lastnamesonly setselected true else noabbrnames setselected true pridesc setselected prefs getboolean jabrefpreferences table primary sort descending secdesc setselected prefs getboolean jabrefpreferences table secondary sort descending terdesc setselected prefs getboolean jabrefpreferences table tertiary sort descending floatmarked setselected prefs getboolean jabrefpreferences marked entries abbrnames setenabled namesnatbib isselected lastnamesonly setenabled namesnatbib isselected noabbrnames setenabled namesnatbib isselected string numf prefs get jabrefpreferences numeric fields numf null numericfields settext else numericfields settext numf store changes table preferences method called user clicks ok override storesettings prefs putboolean jabrefpreferences names namesasis isselected prefs putboolean jabrefpreferences names first last namesff isselected prefs putboolean jabrefpreferences names natbib namesnatbib isselected prefs putboolean jabrefpreferences names last lastnamesonly isselected prefs putboolean jabrefpreferences abbr author names abbrnames isselected prefs putint jabrefpreferences auto resize mode autoresizemode isselected jtable auto resize columns jtable auto resize prefs putboolean jabrefpreferences table primary sort descending pridesc isselected prefs putboolean jabrefpreferences table secondary sort descending secdesc isselected prefs putboolean jabrefpreferences table tertiary sort descending terdesc isselected prefs put jabrefpreferences table primary sort field prifield gettext tolowercase trim prefs put jabrefpreferences table secondary sort field secfield gettext tolowercase trim prefs put jabrefpreferences table tertiary sort field terfield gettext tolowercase trim prefs putboolean jabrefpreferences marked entries floatmarked isselected updatefont string oldval prefs get jabrefpreferences numeric fields string newval numericfields gettext trim newval isempty newval null objects equals oldval newval prefs put jabrefpreferences numeric fields newval internalbibtexfields setnumericfields globals prefs getstringlist jabrefpreferences numeric fields override boolean validatesettings true override string gettabname localization lang entry table 
128	NetworkTab.java	GUI	net sf jabref gui preftabs awt borderlayout awt color awt insets javax swing borderfactory javax swing jcheckbox javax swing jlabel javax swing joptionpane javax swing jpanel javax swing jpasswordfield javax swing jtextfield net sf jabref logic l10n localization net sf jabref logic net proxypreferences net sf jabref logic net proxyregisterer net sf jabref preferences jabrefpreferences com jgoodies forms builder formbuilder com jgoodies forms layout formlayout networktab jpanel prefstab jcheckbox useproxycheckbox jtextfield hostnametextfield jtextfield porttextfield jcheckbox useauthenticationcheckbox jtextfield usernametextfield jpasswordfield passwordtextfield jabrefpreferences preferences proxypreferences oldproxypreferences networktab jabrefpreferences preferences preferences preferences setlayout borderlayout useproxycheckbox jcheckbox localization lang use custom proxy configuration hostnametextfield jtextfield hostnametextfield setenabled false porttextfield jtextfield porttextfield setenabled false useauthenticationcheckbox jcheckbox localization lang proxy requires authentication useauthenticationcheckbox setenabled false usernametextfield jtextfield usernametextfield setenabled false passwordtextfield jpasswordfield passwordtextfield setenabled false jlabel passwordwarninglabel jlabel localization lang attention: password stored plain text passwordwarninglabel setenabled false passwordwarninglabel setforeground color red insets margin insets useproxycheckbox setmargin margin porttextfield setmargin margin useauthenticationcheckbox setmargin margin listener useproxycheckbox enable disable proxy related settings useproxycheckbox addchangelistener event hostnametextfield setenabled useproxycheckbox isselected porttextfield setenabled useproxycheckbox isselected useauthenticationcheckbox setenabled useproxycheckbox isselected useauthenticationcheckbox addchangelistener event usernametextfield setenabled useproxycheckbox isselected useauthenticationcheckbox isselected passwordtextfield setenabled useproxycheckbox isselected useauthenticationcheckbox isselected passwordwarninglabel setenabled useproxycheckbox isselected useauthenticationcheckbox isselected formlayout layout formlayout 8dlu left:pref 4dlu left:pref 4dlu fill:150dlu 2dlu 2dlu 2dlu 2dlu 2dlu 2dlu formbuilder builder formbuilder create layout layout builder addseparator localization lang network xyw builder add useproxycheckbox xyw builder add localization lang hostname ':' xy builder add hostnametextfield xyw builder add localization lang port ':' xy builder add porttextfield xyw builder add useauthenticationcheckbox xyw builder add localization lang username ':' xy builder add usernametextfield xy builder add localization lang password ':' xy builder add passwordtextfield xy builder add passwordwarninglabel xy jpanel pan builder getpanel pan setborder borderfactory createemptyborder add pan borderlayout center override setvalues proxypreferences proxypreferences preferences getproxypreferences useproxycheckbox setselected proxypreferences isuseproxy hostnametextfield settext proxypreferences gethostname porttextfield settext proxypreferences getport useauthenticationcheckbox setselected proxypreferences isuseauthentication usernametextfield settext proxypreferences getusername passwordtextfield settext proxypreferences getpassword oldproxypreferences proxypreferences override storesettings boolean useproxy useproxycheckbox isselected string hostname hostnametextfield gettext trim string port porttextfield gettext trim boolean useauthentication useauthenticationcheckbox isselected string username usernametextfield gettext trim string password string passwordtextfield getpassword proxypreferences proxypreferences proxypreferences useproxy hostname port useauthentication username password proxypreferences equals oldproxypreferences proxyregisterer register proxypreferences preferences storeproxypreferences proxypreferences override boolean validatesettings boolean validsetting boolean validauthenticationsetting false useproxycheckbox isselected string host hostnametextfield gettext string port porttextfield gettext host null host trim isempty port null port trim isempty validsetting false else integer try integer parseint port validsetting catch numberformatexception validsetting false useauthenticationcheckbox isselected string username usernametextfield gettext char[] password passwordtextfield getpassword empty proxy passwords currently supported make sense case anyway username null username trim isempty password null password length validauthenticationsetting false validsetting false else validauthenticationsetting true else validsetting true validsetting validauthenticationsetting joptionpane showmessagedialog null localization lang please specify hostname port localization lang invalid setting joptionpane error message else joptionpane showmessagedialog null localization lang please specify username password localization lang invalid setting joptionpane error message validsetting override string gettabname localization lang network 
129	XmpPrefsTab.java	GUI	net sf jabref gui preftabs awt borderlayout awt dimension awt event actionevent util arraylist util list util objects util stream collectors javax swing abstractaction javax swing action javax swing borderfactory javax swing jcheckbox javax swing jpanel javax swing jscrollpane javax swing jtable javax swing jtoolbar javax swing scrollpaneconstants javax swing swingconstants javax swing table abstracttablemodel javax swing table tablecolumnmodel javax swing table tablemodel net sf jabref gui icontheme net sf jabref gui osxcompatibletoolbar net sf jabref gui util guiutil net sf jabref logic l10n localization net sf jabref preferences jabrefpreferences com jgoodies forms builder defaultformbuilder com jgoodies forms layout formlayout preference tab xmp allows user enable configure xmp privacy filter xmpprefstab jpanel prefstab jabrefpreferences prefs boolean tablechanged rowcount jtable table jcheckbox privacyfiltercheckbox jcheckbox localization lang write following fields xmp metadata: list<object> tablerows arraylist<> customization external program paths xmpprefstab jabrefpreferences prefs prefs objects requirenonnull prefs setlayout borderlayout tablemodel tablemodel abstracttablemodel override getrowcount rowcount override getcolumncount override object getvalueat row column row tablerows size object rowcontent tablerows get row rowcontent null rowcontent override string getcolumnname col localization lang field filter override class<?> getcolumnclass column string override boolean iscelleditable row col true override setvalueat object value row col tablechanged true tablerows size row arraylist<object> tablerows ensurecapacity row tablerows set row value table jtable tablemodel guiutil correctrowheight table tablecolumnmodel columnmodel table getcolumnmodel columnmodel getcolumn setpreferredwidth formlayout layout formlayout 1dlu 8dlu left:pref 4dlu fill:pref defaultformbuilder builder defaultformbuilder layout jpanel pan jpanel jpanel tablepanel jpanel tablepanel setlayout borderlayout jscrollpane scrollpane jscrollpane table scrollpaneconstants vertical scrollbar needed scrollpaneconstants horizontal scrollbar never table setpreferredscrollableviewportsize dimension scrollpane setminimumsize dimension tablepanel add scrollpane borderlayout center jtoolbar toolbar osxcompatibletoolbar swingconstants vertical toolbar setfloatable false toolbar setborder null toolbar add addrowaction toolbar add deleterowaction tablepanel add toolbar borderlayout east build prefs tabs builder appendseparator localization lang xmp export privacy settings builder nextline builder append pan builder append privacyfiltercheckbox builder nextline builder append pan builder append tablepanel builder nextline pan builder getpanel pan setborder borderfactory createemptyborder add pan borderlayout center deleterowaction abstractaction deleterowaction super delete row icontheme jabreficon remove nobox geticon putvalue action short description localization lang delete rows override actionperformed actionevent int[] rows table getselectedrows rows length rows length rows[i] tablerows size tablerows remove rows[i] rowcount rows length rows length table clearselection table revalidate table repaint tablechanged true addrowaction abstractaction addrowaction super add row icontheme jabreficon add nobox geticon putvalue action short description localization lang insert rows override actionperformed actionevent int[] rows table getselectedrows rows length rows selected add one end rowcount table revalidate table repaint rows length rows[i] tablerows size tablerows add rows[i] rowcount rows length rows length table clearselection table revalidate table repaint tablechanged true load settings preferences initialize table override setvalues tablerows clear list<string> names jabrefpreferences getinstance getstringlist jabrefpreferences xmp privacy filters tablerows addall names rowcount tablerows size privacyfiltercheckbox setselected jabrefpreferences getinstance getboolean jabrefpreferences use xmp privacy filter store changes table preferences method called user clicks ok override storesettings table isediting col table geteditingcolumn row table geteditingrow table getcelleditor row col stopcellediting need make sense contents user made table setup table needs done either changes made checkbox checked field values stored previously: tablechanged privacyfiltercheckbox isselected prefs haskey jabrefpreferences xmp privacy filters first remove rows empty names tablerows size tablerows get null tablerows get tostring isempty tablerows remove finally store preferences jabrefpreferences getinstance putstringlist jabrefpreferences xmp privacy filters tablerows stream map object::tostring collect collectors tolist jabrefpreferences getinstance putboolean jabrefpreferences use xmp privacy filter privacyfiltercheckbox isselected override boolean validatesettings true override string gettabname localization lang xmp metadata 
130	PreferencesDialog.java	GUI	net sf jabref gui preftabs awt borderlayout awt cardlayout awt component awt gridlayout awt event actionevent nio file path util arraylist util list util map util optional util prefs backingstoreexception javax swing abstractaction javax swing borderfactory javax swing jbutton javax swing jdialog javax swing jlist javax swing joptionpane javax swing jpanel javax swing listselectionmodel net sf jabref globals net sf jabref jabrefexception net sf jabref gui filedialog net sf jabref gui guiglobals net sf jabref gui jabrefframe net sf jabref gui keyboard keybinder net sf jabref gui maintable maintable net sf jabref logic exporter exportformat net sf jabref logic exporter exportformats net sf jabref logic exporter savepreferences net sf jabref logic l10n localization net sf jabref logic layout layoutformatterpreferences net sf jabref logic util fileextensions net sf jabref preferences jabrefpreferences net sf jabref preferences jabrefpreferencesfilter net sf jabref shared prefs shareddatabasepreferences com jgoodies forms builder buttonbarbuilder org apache commons logging log org apache commons logging logfactory preferences dialog contains tabbedpane tabs defined separate classes tabs must implement prefstab interface since dialog call storesettings method tabs user presses ok design easy add tabs later preferencesdialog jdialog log logger logfactory getlog preferencesdialog jpanel main jabrefframe frame jbutton importpreferences jbutton localization lang preferences jbutton exportpreferences jbutton localization lang export preferences jbutton showpreferences jbutton localization lang show preferences jbutton resetpreferences jbutton localization lang reset preferences preferencesdialog jabrefframe parent super parent localization lang jabref preferences false jabrefpreferences prefs jabrefpreferences getinstance frame parent main jpanel jpanel mainpanel jpanel jpanel lower jpanel getcontentpane setlayout borderlayout getcontentpane add mainpanel borderlayout center getcontentpane add lower borderlayout south cardlayout cardlayout cardlayout main setlayout cardlayout list<prefstab> tabs arraylist<> tabs add generaltab prefs tabs add networktab prefs tabs add filetab frame prefs tabs add filesorttab prefs tabs add entryeditorprefstab prefs tabs add groupsprefstab prefs tabs add appearanceprefstab prefs tabs add externaltab frame prefs tabs add tableprefstab prefs tabs add tablecolumnstab prefs parent tabs add bibtexkeypatternpreftab prefs parent getcurrentbasepanel tabs add previewprefstab tabs add nameformattertab prefs tabs add importsettingstab prefs tabs add xmpprefstab prefs tabs add advancedtab prefs add tabs tabs foreach tab main add component tab tab gettabname mainpanel setborder borderfactory createetchedborder string[] tabnames tabs stream map prefstab::gettabname toarray string[]::new jlist<string> chooser jlist<> tabnames chooser setborder borderfactory createetchedborder set prototype value control width list: chooser setprototypecellvalue wide enough chooser setselectedindex chooser setselectionmode listselectionmodel single selection add selection listener show correct panel selection changes: chooser addlistselectionlistener getvalueisadjusting string chooser getselectedvalue cardlayout show main jpanel buttons jpanel buttons setlayout gridlayout buttons add importpreferences buttons add exportpreferences buttons add showpreferences buttons add resetpreferences jpanel westpanel jpanel westpanel setlayout borderlayout westpanel add chooser borderlayout center westpanel add buttons borderlayout south mainpanel setlayout borderlayout mainpanel add main borderlayout center mainpanel add westpanel borderlayout west jbutton ok jbutton localization lang ok jbutton cancel jbutton localization lang cancel ok addactionlistener okaction cancelaction cancelaction cancelaction cancel addactionlistener cancelaction lower setborder borderfactory createemptyborder buttonbarbuilder buttonbarbuilder buttonbarbuilder lower buttonbarbuilder addglue buttonbarbuilder addbutton ok buttonbarbuilder addbutton cancel buttonbarbuilder addglue key bindings: keybinder bindclosedialogkeytocancelaction getrootpane cancelaction export actions: exportpreferences settooltiptext localization lang export preferences file exportpreferences addactionlistener exportaction importpreferences settooltiptext localization lang preferences file importpreferences addactionlistener filedialog dialog filedialog frame getprefsexportpath withextension fileextensions xml dialog setdefaultextension fileextensions xml optional<path> filename dialog showdialogandgetselectedfile filename ispresent try prefs importpreferences filename get tostring updateafterpreferencechanges joptionpane showmessagedialog preferencesdialog localization lang must restart jabref come effect localization lang preferences joptionpane warning message dispose catch jabrefexception ex logger warn ex getmessage ex joptionpane showmessagedialog preferencesdialog ex getlocalizedmessage localization lang preferences joptionpane error message showpreferences addactionlistener preferencesfilterdialog jabrefpreferencesfilter prefs frame setvisible true resetpreferences addactionlistener joptionpane showconfirmdialog preferencesdialog localization lang sure want reset settings default values? localization lang reset preferences joptionpane ok cancel option joptionpane ok option try prefs clear shareddatabasepreferences clear joptionpane showmessagedialog preferencesdialog localization lang must restart jabref come effect localization lang reset preferences joptionpane warning message catch backingstoreexception ex logger warn ex getmessage ex joptionpane showmessagedialog preferencesdialog ex getlocalizedmessage localization lang reset preferences joptionpane error message updateafterpreferencechanges setvalues pack string getprefsexportpath globals prefs get jabrefpreferences prefs export path updateafterpreferencechanges setvalues map<string exportformat> customformats globals prefs customexports getcustomexportformats globals prefs globals journalabbreviationloader layoutformatterpreferences layoutpreferences globals prefs getlayoutformatterpreferences globals journalabbreviationloader savepreferences savepreferences savepreferences loadforexportfrompreferences globals prefs exportformats initallexports customformats layoutpreferences savepreferences globals prefs updateentryeditortablist storeallsettings first check tabs ready close: component[] preferencetabs main getcomponents component tab: preferencetabs prefstab tab validatesettings break store settings close: component tab: preferencetabs prefstab tab storesettings globals prefs flush setvisible false maintable updaterenderers guiglobals updateentryeditorcolors frame setupalltables frame getgroupselector revalidategroups icons may changed frame output localization lang preferences recorded okaction abstractaction okaction super ok override actionperformed actionevent storeallsettings exportaction abstractaction exportaction super export override actionperformed actionevent filedialog dialog filedialog frame withextension fileextensions xml dialog setdefaultextension fileextensions xml optional<path> path dialog savenewfile path ifpresent exportfile try storeallsettings globals prefs exportpreferences exportfile tostring globals prefs put jabrefpreferences prefs export path exportfile tostring catch jabrefexception ex logger warn ex getmessage ex joptionpane showmessagedialog preferencesdialog ex getlocalizedmessage localization lang export preferences joptionpane warning message setvalues update field values tabs: count main getcomponentcount component[] comps main getcomponents count prefstab comps[i] setvalues cancelaction abstractaction cancelaction super cancel override actionperformed actionevent setvisible false 
131	TableColumnsTab.java	GUI	net sf jabref gui preftabs awt borderlayout awt dimension awt event actionevent util arraylist util arrays util collection util collections util hashmap util list javax swing abstractaction javax swing action javax swing borderfactory javax swing buttongroup javax swing icon javax swing jbutton javax swing jcheckbox javax swing jlist javax swing joptionpane javax swing jpanel javax swing jradiobutton javax swing jscrollpane javax swing jtable javax swing jtoolbar javax swing scrollpaneconstants javax swing swingconstants javax swing table abstracttablemodel javax swing table tablecolumnmodel javax swing table tablemodel net sf jabref gui basepanel net sf jabref gui icontheme net sf jabref gui jabrefframe net sf jabref gui osxcompatibletoolbar net sf jabref gui externalfiletype externalfiletype net sf jabref gui externalfiletype externalfiletypes net sf jabref gui help helpaction net sf jabref gui util guiutil net sf jabref logic help helpfile net sf jabref logic l10n localization net sf jabref model entry bibtexsinglefield net sf jabref model entry fieldname net sf jabref preferences jabrefpreferences com jgoodies forms builder defaultformbuilder com jgoodies forms layout cellconstraints com jgoodies forms layout formlayout org apache commons logging log org apache commons logging logfactory tablecolumnstab jpanel prefstab log logger logfactory getlog tablecolumnstab jabrefpreferences prefs boolean tablechanged jtable colsetup rowcount ncwidth list<tablerow> tablerows arraylist<> jabrefframe frame jcheckbox urlcolumn jcheckbox filecolumn jcheckbox arxivcolumn jcheckbox extrafilecolumns jlist<string> listoffilecolumns jradiobutton preferurl jradiobutton preferdoi begin: special fields jcheckbox specialfieldsenabled jcheckbox rankingcolumn jcheckbox qualitycolumn jcheckbox prioritycolumn jcheckbox relevancecolumn jcheckbox printedcolumn jcheckbox readstatuscolumn jradiobutton synckeywords jradiobutton writespecialfields boolean oldspecialfieldsenabled boolean oldrankingcolumn boolean oldqualitycolumn boolean oldprioritycolumn boolean oldrelevancecolumn boolean oldprintedcolumn boolean oldreadstatuscolumn boolean oldsynckeywords boolean oldwritespecialfields end: special fields tablerow string name length tablerow name length bibtexsinglefield default field length tablerow string name name name length bibtexsinglefield default field length tablerow string name length name name length length string getname name setname string name name name getlength length setlength length length length customization external program paths param prefs <code>jabrefpreferences< code> value tablecolumnstab jabrefpreferences prefs jabrefframe frame prefs prefs frame frame setlayout borderlayout tablemodel tm abstracttablemodel override getrowcount rowcount override getcolumncount override object getvalueat row column internalrow row internalrow column fieldname number col string valueof ncwidth internalrow internalrow tablerows size tablerow rowcontent tablerows get internalrow rowcontent null two columns column rowcontent getname else rowcontent getlength integer tostring rowcontent getlength override string getcolumnname col col localization lang field name localization lang column width override class<?> getcolumnclass column column string integer override boolean iscelleditable row col row col override setvalueat object value row col tablechanged true make sure vector long enough row tablerows size tablerows add tablerow row col ncwidth integer parseint value tostring tablerow rowcontent tablerows get row col rowcontent setname value tostring equals getvalueat row setvalueat string valueof bibtexsinglefield default field length row else value null rowcontent setlength else rowcontent setlength integer parseint value tostring colsetup jtable tm tablecolumnmodel cm colsetup getcolumnmodel cm getcolumn setpreferredwidth cm getcolumn setpreferredwidth guiutil correctrowheight colsetup formlayout layout formlayout 1dlu 8dlu left:pref 4dlu fill:pref defaultformbuilder builder defaultformbuilder layout jpanel pan jpanel jpanel tabpanel jpanel tabpanel setlayout borderlayout jscrollpane sp jscrollpane colsetup scrollpaneconstants vertical scrollbar needed scrollpaneconstants horizontal scrollbar never colsetup setpreferredscrollableviewportsize dimension sp setminimumsize dimension tabpanel add sp borderlayout center jtoolbar toolbar osxcompatibletoolbar swingconstants vertical toolbar setfloatable false addrowaction addrow addrowaction deleterowaction deleterow deleterowaction moverowupaction moveup moverowupaction moverowdownaction movedown moverowdownaction toolbar setborder null toolbar add addrow toolbar add deleterow toolbar addseparator toolbar add moveup toolbar add movedown tabpanel add toolbar borderlayout east filecolumn jcheckbox localization lang show file column urlcolumn jcheckbox localization lang show url doi column preferurl jradiobutton localization lang show url first preferdoi jradiobutton localization lang show doi first buttongroup preferurldoigroup buttongroup preferurldoigroup add preferurl preferurldoigroup add preferdoi urlcolumn addchangelistener arg0 preferurl setenabled urlcolumn isselected preferdoi setenabled urlcolumn isselected arxivcolumn jcheckbox localization lang show arxiv column collection<externalfiletype> filetypes externalfiletypes getinstance getexternalfiletypeselection string[] filetypenames string[filetypes size externalfiletype filetype filetypes filetypenames[i filetype getname listoffilecolumns jlist<> filetypenames jscrollpane listoffilecolumnsscrollpane jscrollpane listoffilecolumns listoffilecolumns setvisiblerowcount extrafilecolumns jcheckbox localization lang show extra columns extrafilecolumns addchangelistener arg0 listoffilecolumns setenabled extrafilecolumns isselected begin: special table columns special fields jbutton helpbutton helpaction localization lang help special fields helpfile special fields gethelpbutton rankingcolumn jcheckbox localization lang show rank qualitycolumn jcheckbox localization lang show quality prioritycolumn jcheckbox localization lang show priority relevancecolumn jcheckbox localization lang show relevance printedcolumn jcheckbox localization lang show printed status readstatuscolumn jcheckbox localization lang show read status sync keywords write special fields may configured mutually exclusive implementation supports combinations true true false false even latter make sense avoid confusion opted make setting mutually exclusive synckeywords jradiobutton localization lang synchronize keywords writespecialfields jradiobutton localization lang write values special fields separate fields bibtex buttongroup group buttongroup group add synckeywords group add writespecialfields specialfieldsenabled jcheckbox localization lang enable special fields specialfieldsenabled addchangelistener event boolean isenabled specialfieldsenabled isselected rankingcolumn setenabled isenabled qualitycolumn setenabled isenabled prioritycolumn setenabled isenabled relevancecolumn setenabled isenabled printedcolumn setenabled isenabled readstatuscolumn setenabled isenabled synckeywords setenabled isenabled writespecialfields setenabled isenabled builder appendseparator localization lang special table columns builder nextline builder append pan defaultformbuilder specialtablecolumnsbuilder defaultformbuilder formlayout 8dlu 8dlu 8cm 8dlu 8dlu left:pref:grow pref pref pref pref pref pref pref pref pref pref pref pref pref cellconstraints cc cellconstraints specialtablecolumnsbuilder add specialfieldsenabled cc xyw specialtablecolumnsbuilder add rankingcolumn cc xyw specialtablecolumnsbuilder add relevancecolumn cc xyw specialtablecolumnsbuilder add qualitycolumn cc xyw specialtablecolumnsbuilder add prioritycolumn cc xyw specialtablecolumnsbuilder add printedcolumn cc xyw specialtablecolumnsbuilder add readstatuscolumn cc xyw specialtablecolumnsbuilder add synckeywords cc xyw specialtablecolumnsbuilder add writespecialfields cc xyw specialtablecolumnsbuilder add helpbutton cc xyw specialtablecolumnsbuilder add filecolumn cc xyw specialtablecolumnsbuilder add urlcolumn cc xyw specialtablecolumnsbuilder add preferurl cc xy specialtablecolumnsbuilder add preferdoi cc xy specialtablecolumnsbuilder add arxivcolumn cc xyw specialtablecolumnsbuilder add extrafilecolumns cc xyw specialtablecolumnsbuilder add listoffilecolumnsscrollpane cc xywh builder append specialtablecolumnsbuilder getpanel builder nextline end: special table columns special fields builder appendseparator localization lang entry table columns builder nextline builder append pan builder append tabpanel builder nextline builder append pan jbutton buttonwidth jbutton updatewidthsaction jbutton buttonorder jbutton updateorderaction builder append buttonwidth builder nextline builder append pan builder append buttonorder builder nextline builder append pan builder nextline pan builder getpanel pan setborder borderfactory createemptyborder add pan borderlayout center override setvalues filecolumn setselected prefs getboolean jabrefpreferences file column urlcolumn setselected prefs getboolean jabrefpreferences url column preferurl setselected prefs getboolean jabrefpreferences prefer url doi preferdoi setselected prefs getboolean jabrefpreferences prefer url doi filecolumn setselected prefs getboolean jabrefpreferences file column arxivcolumn setselected prefs getboolean jabrefpreferences arxiv column extrafilecolumns setselected prefs getboolean jabrefpreferences extra file columns extrafilecolumns isselected list<string> desiredcolumns prefs getstringlist jabrefpreferences list file columns listsize listoffilecolumns getmodel getsize int[] indicestoselect int[listsize] listsize indicestoselect[i] listsize string desiredcolumn desiredcolumns listoffilecolumns getmodel getelementat equals desiredcolumn indicestoselect[i] break listoffilecolumns setselectedindices indicestoselect else listoffilecolumns setselectedindices int[] begin: special fields oldrankingcolumn prefs getboolean jabrefpreferences showcolumn ranking rankingcolumn setselected oldrankingcolumn oldqualitycolumn prefs getboolean jabrefpreferences showcolumn quality qualitycolumn setselected oldqualitycolumn oldprioritycolumn prefs getboolean jabrefpreferences showcolumn priority prioritycolumn setselected oldprioritycolumn oldrelevancecolumn prefs getboolean jabrefpreferences showcolumn relevance relevancecolumn setselected oldrelevancecolumn oldprintedcolumn prefs getboolean jabrefpreferences showcolumn printed printedcolumn setselected oldprintedcolumn oldreadstatuscolumn prefs getboolean jabrefpreferences showcolumn read readstatuscolumn setselected oldreadstatuscolumn oldsynckeywords prefs getboolean jabrefpreferences autosyncspecialfieldstokeywords synckeywords setselected oldsynckeywords oldwritespecialfields prefs getboolean jabrefpreferences serializespecialfields writespecialfields setselected oldwritespecialfields called last correctly enable disable settings oldspecialfieldsenabled prefs getboolean jabrefpreferences specialfieldsenabled specialfieldsenabled setselected oldspecialfieldsenabled specialfieldsenabled setselected oldspecialfieldsenabled call twice make sure changelistener triggered end: special fields tablerows clear list<string> names prefs getstringlist jabrefpreferences column names list<string> lengths prefs getstringlist jabrefpreferences column widths names size lengths size tablerows add tablerow names get integer parseint lengths get else tablerows add tablerow names get rowcount tablerows size ncwidth prefs getint jabrefpreferences number col width deleterowaction abstractaction deleterowaction super delete row icontheme jabreficon remove nobox geticon putvalue action short description localization lang delete rows override actionperformed actionevent int[] rows colsetup getselectedrows rows length offs rows length rows[i] tablerows size rows[i] tablerows remove rows[i] offs rowcount offs rows length colsetup clearselection colsetup revalidate colsetup repaint tablechanged true addrowaction abstractaction addrowaction super add row icontheme jabreficon add nobox geticon putvalue action short description localization lang insert rows override actionperformed actionevent int[] rows colsetup getselectedrows rows length rows selected add one end rowcount colsetup revalidate colsetup repaint rows length rows[i] tablerows size tablerows add math max rows[i] tablerow rowcount rows length rows length colsetup clearselection colsetup revalidate colsetup repaint tablechanged true abstractmoverowaction abstractaction abstractmoverowaction string string icon image super string image swap tablerows size tablerows size tablerow tmp tablerows get tablerows set tablerows get tablerows set tmp moverowupaction abstractmoverowaction moverowupaction super icontheme jabreficon geticon putvalue action short description localization lang move override actionperformed actionevent int[] selected colsetup getselectedrows arrays sort selected first element inside tablerows move selected element bounce selected length selected[0] boolean[] newselected boolean[colsetup getrowcount selected swap newselected[i 1] true select remove unselected colsetup setrowselectioninterval colsetup getrowcount colsetup getrowcount newselected[i] colsetup removerowselectioninterval colsetup revalidate colsetup repaint tablechanged true moverowdownaction abstractmoverowaction moverowdownaction super icontheme jabreficon geticon putvalue action short description localization lang override actionperformed actionevent int[] selected colsetup getselectedrows arrays sort selected last selected length boolean[] newselected boolean[colsetup getrowcount move selected element bounce selected length selected[last] tablerows size last swap selected[i] selected[i] newselected[selected[i] 1] true select remove unselected colsetup setrowselectioninterval colsetup getrowcount colsetup getrowcount newselected[i] colsetup removerowselectioninterval colsetup revalidate colsetup repaint tablechanged true updateorderaction abstractaction updateorderaction super localization lang update current column order override actionperformed actionevent basepanel panel frame getcurrentbasepanel panel null idea: sort elements according value stored hash keep everything inside hash maintable hashmap<string integer> map hashmap<> first element inside tablerows panel getmaintable getcolumncount string name panel getmaintable getcolumnname name null name isempty map put name tolowercase collections sort tablerows o1 o2 integer n1 map get o1 getname integer n2 map get o2 getname n1 null n2 null n1 compareto n2 colsetup revalidate colsetup repaint tablechanged true updatewidthsaction abstractaction updatewidthsaction super localization lang update current column widths override actionperformed actionevent basepanel panel frame getcurrentbasepanel panel null tablecolumnmodel colmod panel getmaintable getcolumnmodel colsetup setvalueat string valueof colmod getcolumn getwidth colmod getcolumncount try string name panel getmaintable getcolumnname tolowercase width colmod getcolumn getwidth tablerows size string colsetup getvalueat equalsignorecase name colsetup setvalueat string valueof width else match search matching col table colsetup getrowcount tablerows size string colsetup getvalueat equalsignorecase name colsetup setvalueat string valueof width break catch throwable ex logger warn problem table columns ex colsetup revalidate colsetup repaint store changes table preferences method called user clicks ok override storesettings prefs putboolean jabrefpreferences file column filecolumn isselected prefs putboolean jabrefpreferences url column urlcolumn isselected prefs putboolean jabrefpreferences prefer url doi preferdoi isselected prefs putboolean jabrefpreferences arxiv column arxivcolumn isselected prefs putboolean jabrefpreferences extra file columns extrafilecolumns isselected extrafilecolumns isselected listoffilecolumns isselectionempty numberselected listoffilecolumns getselectedindices length list<string> selections arraylist<> numberselected numberselected selections add listoffilecolumns getmodel getelementat listoffilecolumns getselectedindices [i] prefs putstringlist jabrefpreferences list file columns selections else prefs putstringlist jabrefpreferences list file columns arraylist<> begin: special fields boolean newspecialfieldsenabled specialfieldsenabled isselected boolean newrankingcolumn rankingcolumn isselected boolean newqualitycolumn qualitycolumn isselected boolean newprioritycolumn prioritycolumn isselected boolean newrelevancecolumn relevancecolumn isselected boolean newprintedcolumn printedcolumn isselected boolean newreadstatuscolumn readstatuscolumn isselected boolean newsynckeywords synckeywords isselected boolean newwritespecialfields writespecialfields isselected boolean restartrequired restartrequired oldspecialfieldsenabled newspecialfieldsenabled oldrankingcolumn newrankingcolumn oldqualitycolumn newqualitycolumn oldprioritycolumn newprioritycolumn oldrelevancecolumn newrelevancecolumn oldprintedcolumn newprintedcolumn oldreadstatuscolumn newreadstatuscolumn oldsynckeywords newsynckeywords oldwritespecialfields newwritespecialfields restartrequired joptionpane showmessagedialog null localization lang changed settings special fields concat concat localization lang must restart jabref come effect localization lang changed special field settings joptionpane warning message restart required implies settings changed seetings need stored restartrequired prefs putboolean jabrefpreferences specialfieldsenabled newspecialfieldsenabled prefs putboolean jabrefpreferences showcolumn ranking newrankingcolumn prefs putboolean jabrefpreferences showcolumn priority newprioritycolumn prefs putboolean jabrefpreferences showcolumn quality newqualitycolumn prefs putboolean jabrefpreferences showcolumn relevance newrelevancecolumn prefs putboolean jabrefpreferences showcolumn printed newprintedcolumn prefs putboolean jabrefpreferences showcolumn read newreadstatuscolumn prefs putboolean jabrefpreferences autosyncspecialfieldstokeywords newsynckeywords prefs putboolean jabrefpreferences serializespecialfields newwritespecialfields end: special fields colsetup isediting col colsetup geteditingcolumn row colsetup geteditingrow colsetup getcelleditor row col stopcellediting need make sense contents user made table setup table tablechanged first remove rows empty names tablerows size tablerows get getname isempty tablerows remove else make arrays list<string> names arraylist<> tablerows size list<string> widths arraylist<> tablerows size list<integer> nwidths arraylist<> tablerows size prefs putint jabrefpreferences number col width ncwidth tablerow tr tablerows names add tr getname tolowercase nwidths add tr getlength widths add string valueof tr getlength finally store preferences prefs putstringlist jabrefpreferences column names names prefs putstringlist jabrefpreferences column widths widths override boolean validatesettings true override string gettabname localization lang entry table columns 
132	PreviewPrefsTab.java	GUI	net sf jabref gui preftabs awt borderlayout awt dimension util arraylist util enumeration util list util concurrent executionexception javax swing boxlayout javax swing defaultlistmodel javax swing jbutton javax swing jlist javax swing joptionpane javax swing jpanel javax swing jscrollpane javax swing jtextarea javax swing listselectionmodel javax swing swingworker net sf jabref globals net sf jabref jabrefgui net sf jabref gui basepanel net sf jabref gui previewpanel net sf jabref logic citationstyle citationstyle net sf jabref logic l10n localization net sf jabref logic util testentry net sf jabref preferences previewpreferences com jgoodies forms builder formbuilder com jgoodies forms factories paddings org apache commons lang3 arrayutils org apache commons logging log org apache commons logging logfactory previewprefstab jpanel prefstab log logger logfactory getlog previewprefstab swingworker<list<citationstyle> void> discovercitationstyleworker defaultlistmodel<object> availablemodel defaultlistmodel<> defaultlistmodel<object> chosenmodel defaultlistmodel<> jlist<object> available jlist<> availablemodel jlist<object> chosen jlist<> chosenmodel jbutton btnright jbutton jbutton btnleft jbutton jbutton btnup jbutton localization lang jbutton btndown jbutton localization lang jtextarea layout jtextarea jbutton btntest jbutton localization lang test jbutton btndefault jbutton localization lang default jscrollpane scrollpane jscrollpane layout previewprefstab setuplogic setupgui setuplogic chosen getselectionmodel addlistselectionlistener event boolean selectionempty listselectionmodel event getsource isselectionempty btnleft setenabled selectionempty btndown setenabled selectionempty btnup setenabled selectionempty available getselectionmodel addlistselectionlistener btnright setenabled listselectionmodel getsource isselectionempty btnright addactionlistener event object object available getselectedvalueslist availablemodel removeelement object chosenmodel addelement object btnleft addactionlistener event object object chosen getselectedvalueslist availablemodel addelement object chosenmodel removeelement object btnup addactionlistener event list<integer> newselectedindices arraylist<> oldindex chosen getselectedindices boolean alreadytaken newselectedindices contains oldindex newindex oldindex alreadytaken oldindex oldindex chosenmodel add newindex chosenmodel remove oldindex newselectedindices add newindex chosen setselectedindices arrayutils toprimitive newselectedindices toarray integer[newselectedindices size btndown addactionlistener event list<integer> newselectedindices arraylist<> int[] selectedindices chosen getselectedindices selectedindices length oldindex selectedindices[i] boolean alreadytaken newselectedindices contains oldindex newindex oldindex chosenmodel getsize alreadytaken oldindex oldindex chosenmodel add newindex chosenmodel remove oldindex newselectedindices add newindex chosen setselectedindices arrayutils toprimitive newselectedindices toarray integer[newselectedindices size btndefault addactionlistener event layout settext globals prefs getpreviewpreferences getpreviewstyledefault replace newline \n btntest addactionlistener event try previewpanel testpane previewpanel null testentry gettestentry null setfixedlayout layout gettext testpane setpreferredsize dimension joptionpane showmessagedialog previewprefstab jscrollpane testpane localization lang preview joptionpane plain message catch stringindexoutofboundsexception exception logger warn parsing error exception joptionpane showmessagedialog null localization lang parsing error localization lang illegal backslash expression \n exception getmessage localization lang parsing error joptionpane error message setupgui jpanel choosestyle formbuilder create columns 0:grow $lcgap pref $lcgap 0:grow rows pref $lg fill:pref:grow $lg pref:grow $lg pref:grow $lg pref:grow padding paddings dialog addseparator localization lang current preview xyw add available xywh add chosen xywh add btnright xy fill bottom add btnleft xy fill top add btnup xy fill bottom add btndown xy fill top build jpanel preview formbuilder create columns pref:grow $lcgap pref $lcgap pref rows pref $lg fill:pref:grow padding paddings dialog addseparator localization lang preview xy add btntest xy add btndefault xy add scrollpane xyw build setlayout boxlayout boxlayout axis add choosestyle borderlayout center add preview borderlayout page end override setvalues previewpreferences previewpreferences globals prefs getpreviewpreferences chosenmodel clear boolean ispreviewchosen false string style previewpreferences getpreviewcycle citationstyle iscitationstylefile style chosenmodel addelement citationstyle createcitationstylefromfile style else ispreviewchosen logger error preview already list something went wrong continue ispreviewchosen true chosenmodel addelement localization lang preview availablemodel clear ispreviewchosen availablemodel addelement localization lang preview btnleft setenabled chosen isselectionempty btnright setenabled available isselectionempty btnup setenabled chosen isselectionempty btndown setenabled chosen isselectionempty discovercitationstyleworker null discovercitationstyleworker cancel true discovercitationstyleworker swingworker<list<citationstyle> void> override list<citationstyle> doinbackground throws exception citationstyle discovercitationstyles override done iscancelled try get stream filter style previewpreferences getpreviewcycle contains style getfilepath sorted style0 style1 style0 gettitle compareto style1 gettitle foreach availablemodel::addelement btnright setenabled availablemodel isempty catch interruptedexception executionexception logger error something went wrong adding discovered citationstyles list discovercitationstyleworker execute layout settext globals prefs getpreviewpreferences getpreviewstyle replace newline \n override storesettings list<string> styles arraylist<> enumeration<object> elements chosenmodel elements elements hasmoreelements object obj elements nextelement obj instanceof citationstyle styles add citationstyle obj getfilepath else obj instanceof string styles add preview previewpreferences previewpreferences globals prefs getpreviewpreferences getbuilder withpreviewcycle styles withpreviewstyle layout gettext replace \n newline build globals prefs storepreviewpreferences previewpreferences update preview basepanel basepanel jabrefgui getmainframe getbasepanellist basepanel getpreviewpanel updatelayout override boolean validatesettings chosenmodel isempty override string gettabname localization lang entry preview 
133	GroupsPrefsTab.java	GUI	net sf jabref gui preftabs awt borderlayout awt event focusevent awt event focuslistener javax swing borderfactory javax swing jcheckbox javax swing jlabel javax swing jpanel javax swing jtextfield net sf jabref logic l10n localization net sf jabref preferences jabrefpreferences com jgoodies forms builder defaultformbuilder com jgoodies forms layout formlayout groupsprefstab jpanel prefstab jcheckbox showicons jcheckbox localization lang show icons groups jcheckbox showdynamic jcheckbox <html> localization lang show dynamic groups <i>italics< i> html> jcheckbox expandtree jcheckbox localization lang initially show groups tree expanded jcheckbox autoassigngroup jcheckbox localization lang automatically assign entry selected groups jtextfield groupingfield jtextfield jtextfield keywordseparator jtextfield jabrefpreferences prefs groupsprefstab jabrefpreferences prefs prefs prefs keywordseparator addfocuslistener focuslistener override focusgained focusevent keywordseparator selectall override focuslost focusevent deselection automatic formlayout layout formlayout 9dlu pref 500px 3dlu 3dlu 3dlu 3dlu 3dlu 3dlu 3dlu 3dlu defaultformbuilder builder defaultformbuilder layout builder appendseparator localization lang view builder nextline builder nextline builder nextcolumn builder append showicons builder nextline builder nextline builder nextcolumn builder append showdynamic builder nextline builder nextline builder nextcolumn builder append expandtree builder nextline builder nextline builder nextcolumn builder append autoassigngroup builder nextline builder nextline builder appendseparator localization lang dynamic groups builder nextline builder nextline builder nextcolumn build subcomponent formlayout layout2 formlayout left:pref 2dlu left:pref 3dlu defaultformbuilder builder2 defaultformbuilder layout2 builder2 append jlabel localization lang default grouping field builder2 append groupingfield builder2 nextline builder2 nextline builder2 append jlabel localization lang adding removing keywords separate builder2 append keywordseparator builder append builder2 getpanel setlayout borderlayout jpanel panel builder getpanel panel setborder borderfactory createemptyborder add panel borderlayout center override setvalues showicons setselected prefs getboolean jabrefpreferences group show icons showdynamic setselected prefs getboolean jabrefpreferences group show dynamic expandtree setselected prefs getboolean jabrefpreferences group expand tree groupingfield settext prefs get jabrefpreferences groups default field keywordseparator settext prefs get jabrefpreferences keyword separator autoassigngroup setselected prefs getboolean jabrefpreferences auto assign group override storesettings prefs putboolean jabrefpreferences group show icons showicons isselected prefs putboolean jabrefpreferences group show dynamic showdynamic isselected prefs putboolean jabrefpreferences group expand tree expandtree isselected prefs put jabrefpreferences groups default field groupingfield gettext trim prefs putboolean jabrefpreferences auto assign group autoassigngroup isselected prefs put jabrefpreferences keyword separator keywordseparator gettext override boolean validatesettings true override string gettabname localization lang groups 
134	GeneralTab.java	GUI	net sf jabref gui preftabs awt borderlayout awt component nio charset charset time format datetimeformatter javax swing borderfactory javax swing defaultcomboboxmodel javax swing defaultlistcellrenderer javax swing jbutton javax swing jcheckbox javax swing jcombobox javax swing jlabel javax swing jlist javax swing joptionpane javax swing jpanel javax swing jtextfield net sf jabref globals net sf jabref gui help helpaction net sf jabref logic help helpfile net sf jabref logic l10n encodings net sf jabref logic l10n localization net sf jabref model database bibdatabasemode net sf jabref model entry internalbibtexfields net sf jabref preferences jabrefpreferences com jgoodies forms builder defaultformbuilder com jgoodies forms layout formlayout net sf jabref logic l10n languages languages generaltab jpanel prefstab jcheckbox useowner jcheckbox overwriteowner jcheckbox enforcelegalkeys jcheckbox confirmdelete jcheckbox memorystick jcheckbox inspectionwarndupli jcheckbox usetimestamp jcheckbox updatetimestamp jcheckbox overwritetimestamp jcheckbox markimportedentries jcheckbox unmarkallentriesbeforeimporting jtextfield defownerfield jtextfield timestampformat jtextfield timestampfield jabrefpreferences prefs jcombobox<string> language jcombobox<> languages keyset toarray string[languages keyset size jcombobox<charset> encodings jcombobox<bibdatabasemode> biblatexmode defaultbibmoderenderer defaultlistcellrenderer override component getlistcellrenderercomponent jlist<?> list object value index boolean isselected boolean cellhasfocus super getlistcellrenderercomponent list value index isselected cellhasfocus settext bibdatabasemode value getformattedname generaltab jabrefpreferences prefs prefs prefs setlayout borderlayout biblatexmode jcombobox<> bibdatabasemode values biblatexmode setrenderer defaultbibmoderenderer memorystick jcheckbox localization lang load save preferences jabref xml start memory stick mode useowner jcheckbox localization lang mark entries owner name ':' updatetimestamp jcheckbox localization lang update timestamp modification usetimestamp jcheckbox localization lang mark entries addition date localization lang date format ':' usetimestamp addchangelistener updatetimestamp setenabled usetimestamp isselected overwriteowner jcheckbox localization lang overwrite overwritetimestamp jcheckbox localization lang overwrite overwriteowner settooltiptext localization lang pasted imported entry already field set overwrite overwritetimestamp settooltiptext localization lang pasted imported entry already field set overwrite enforcelegalkeys jcheckbox localization lang enforce legal characters bibtex keys confirmdelete jcheckbox localization lang show confirmation dialog deleting entries markimportedentries jcheckbox localization lang mark entries imported existing database unmarkallentriesbeforeimporting jcheckbox localization lang unmark entries importing entries existing database defownerfield jtextfield timestampformat jtextfield timestampfield jtextfield inspectionwarndupli jcheckbox localization lang warn unresolved duplicates closing inspection window encodings jcombobox<> encodings setmodel defaultcomboboxmodel<> encodings encodings formlayout layout formlayout 8dlu 1dlu left:pref:grow 4dlu fill:pref 4dlu fill:pref 4dlu left:pref 1dlu left:pref 4dlu left:pref defaultformbuilder builder defaultformbuilder layout builder appendseparator localization lang general builder nextline builder append inspectionwarndupli builder nextline builder append confirmdelete builder nextline builder append enforcelegalkeys builder nextline builder append memorystick create panel formlayout last items: builder append useowner builder append defownerfield builder append overwriteowner builder append jpanel jbutton help helpaction helpfile owner gethelpbutton builder append help builder nextline builder append usetimestamp builder append timestampformat builder append overwritetimestamp builder append localization lang field name ':' builder append timestampfield help helpaction helpfile timestamp gethelpbutton builder append help builder nextline builder append jpanel builder append updatetimestamp builder nextline builder append markimportedentries builder nextline builder append unmarkallentriesbeforeimporting builder nextline jlabel lab lab jlabel localization lang language ':' builder append lab builder append language builder nextline lab jlabel localization lang default encoding ':' builder append lab builder append encodings builder nextline builder appendseparator localization lang default bibliography mode builder append jpanel builder append biblatexmode jpanel pan builder getpanel pan setborder borderfactory createemptyborder add pan borderlayout center override setvalues useowner setselected prefs getboolean jabrefpreferences use owner overwriteowner setselected prefs getboolean jabrefpreferences overwrite owner usetimestamp setselected prefs getboolean jabrefpreferences use time stamp overwritetimestamp setselected prefs getboolean jabrefpreferences overwrite time stamp updatetimestamp setselected prefs getboolean jabrefpreferences update timestamp updatetimestamp setenabled usetimestamp isselected enforcelegalkeys setselected prefs getboolean jabrefpreferences enforce legal bibtex key memorystick setselected prefs getboolean jabrefpreferences memory stick mode confirmdelete setselected prefs getboolean jabrefpreferences confirm delete defownerfield settext prefs get jabrefpreferences default owner timestampformat settext prefs get jabrefpreferences time stamp format timestampfield settext prefs get jabrefpreferences time stamp field inspectionwarndupli setselected prefs getboolean jabrefpreferences warn duplicates inspection markimportedentries setselected prefs getboolean jabrefpreferences mark imported entries unmarkallentriesbeforeimporting setselected prefs getboolean jabrefpreferences unmark entries importing globals prefs getboolean jabrefpreferences biblatex default mode biblatexmode setselecteditem bibdatabasemode biblatex else biblatexmode setselecteditem bibdatabasemode bibtex charset enc globals prefs getdefaultencoding encodings setselecteditem enc string oldlan prefs get jabrefpreferences language language choice ilk string lan languages values lan equals oldlan language setselectedindex ilk ilk override storesettings prefs putboolean jabrefpreferences use owner useowner isselected prefs putboolean jabrefpreferences overwrite owner overwriteowner isselected prefs putboolean jabrefpreferences use time stamp usetimestamp isselected prefs putboolean jabrefpreferences overwrite time stamp overwritetimestamp isselected prefs putboolean jabrefpreferences update timestamp updatetimestamp isselected prefs putboolean jabrefpreferences enforce legal bibtex key enforcelegalkeys isselected prefs getboolean jabrefpreferences memory stick mode memorystick isselected joptionpane showmessagedialog null localization lang disable memory stick mode rename remove jabref xml file folder jabref localization lang memory stick mode joptionpane information message prefs putboolean jabrefpreferences memory stick mode memorystick isselected prefs putboolean jabrefpreferences confirm delete confirmdelete isselected prefs putboolean jabrefpreferences warn duplicates inspection inspectionwarndupli isselected string owner defownerfield gettext trim prefs put jabrefpreferences default owner owner prefs put jabrefpreferences time stamp format timestampformat gettext trim prefs put jabrefpreferences time stamp field timestampfield gettext trim update name time stamp field based preferences internalbibtexfields updatetimestampfield globals prefs get jabrefpreferences time stamp field prefs setdefaultencoding charset encodings getselecteditem prefs putboolean jabrefpreferences mark imported entries markimportedentries isselected prefs putboolean jabrefpreferences unmark entries importing unmarkallentriesbeforeimporting isselected prefs putboolean jabrefpreferences biblatex default mode biblatexmode getselecteditem bibdatabasemode biblatex languages get language getselecteditem equals prefs get jabrefpreferences language prefs put jabrefpreferences language languages get language getselecteditem localization setlanguage languages get language getselecteditem update defaults might language dependent: globals prefs setlanguagedependentdefaultvalues warn restart needed: joptionpane showmessagedialog null localization lang changed language setting concat concat localization lang must restart jabref come effect localization lang changed language settings joptionpane warning message override boolean validatesettings try test date format legal: datetimeformatter ofpattern timestampformat gettext catch illegalargumentexception ex2 joptionpane showmessagedialog null localization lang chosen date format entries valid localization lang invalid date format joptionpane error message false true override string gettabname localization lang general 
135	ImportSettingsTab.java	GUI	net sf jabref gui preftabs awt borderlayout util objects javax swing borderfactory javax swing buttongroup javax swing jbutton javax swing jcheckbox javax swing jlabel javax swing jmenuitem javax swing jpanel javax swing jpopupmenu javax swing jradiobutton javax swing jtextfield net sf jabref logic l10n localization net sf jabref pdfimport importdialog net sf jabref preferences jabrefpreferences com jgoodies forms builder defaultformbuilder com jgoodies forms layout formlayout importsettingstab jpanel prefstab default style importdialog content string[] default filenamepatterns display string[] bibtexkey bibtexkey title string[] default filenamepatterns string[] \\bibtexkey \\bibtexkey\\begin title \\format[removebrackets] \\title \\end title jabrefpreferences prefs jradiobutton radiobuttonxmp jradiobutton radiobuttonpdfcontent jradiobutton radiobuttonnometa jradiobutton radiobuttononlyattachpdf jcheckbox usedefaultpdfimportstyle jtextfield filenamepattern jbutton selectfilenamepattern importsettingstab jabrefpreferences prefs prefs objects requirenonnull prefs setlayout borderlayout formlayout layout formlayout 1dlu 8dlu left:pref 4dlu fill:3dlu radiobuttonnometa jradiobutton localization lang create blank entry linking pdf radiobuttonxmp jradiobutton localization lang create entry based xmp data radiobuttonpdfcontent jradiobutton localization lang create entry based content radiobuttononlyattachpdf jradiobutton localization lang attach pdf buttongroup bg buttongroup bg add radiobuttonnometa bg add radiobuttonxmp bg add radiobuttonpdfcontent bg add radiobuttononlyattachpdf usedefaultpdfimportstyle jcheckbox localization lang always use pdf style ask filenamepattern jtextfield selectfilenamepattern jbutton localization lang choose pattern selectfilenamepattern addactionlistener openfilepatternmenu defaultformbuilder builder defaultformbuilder layout jpanel pan jpanel builder appendseparator localization lang default style drag drop pdfs builder nextline builder append pan builder append radiobuttonnometa builder nextline builder append pan builder append radiobuttonxmp builder nextline builder append pan builder append radiobuttonpdfcontent builder nextline builder append pan builder append radiobuttononlyattachpdf builder nextline builder append pan builder append usedefaultpdfimportstyle builder nextline builder appendseparator localization lang default pdf file link action builder nextline builder append pan jpanel pan2 jpanel jlabel lab jlabel localization lang filename format pattern concat pan2 add lab pan2 add filenamepattern pan2 add selectfilenamepattern builder append pan2 pan builder getpanel pan setborder borderfactory createemptyborder add pan borderlayout center override setvalues usedefaultpdfimportstyle setselected prefs getboolean jabrefpreferences alwaysuse style prefs getint jabrefpreferences default pdf style switch style case importdialog nometa: radiobuttonnometa setselected true break case importdialog xmp: radiobuttonxmp setselected true break case importdialog content: radiobuttonpdfcontent setselected true break case importdialog onlyattach: radiobuttononlyattachpdf setselected true break default: fallback radiobuttonpdfcontent setselected true break filenamepattern settext prefs get jabrefpreferences filenamepattern override storesettings prefs putboolean jabrefpreferences alwaysuse usedefaultpdfimportstyle isselected style importsettingstab default style radiobuttonnometa isselected style importdialog nometa else radiobuttonxmp isselected style importdialog xmp else radiobuttonpdfcontent isselected style importdialog content else radiobuttononlyattachpdf isselected style importdialog onlyattach prefs putint jabrefpreferences default pdf style style prefs put jabrefpreferences filenamepattern filenamepattern gettext override boolean validatesettings true override string gettabname localization lang openfilepatternmenu jpopupmenu popup jpopupmenu importsettingstab default filenamepatterns length jmenuitem item jmenuitem importsettingstab default filenamepatterns display[i] string toset importsettingstab default filenamepatterns[i] item addactionlistener filenamepattern settext toset popup add item popup show selectfilenamepattern selectfilenamepattern getheight 
136	AdvancedTab.java	GUI	net sf jabref gui preftabs awt borderlayout util optional javax swing borderfactory javax swing jcheckbox javax swing jlabel javax swing joptionpane javax swing jpanel javax swing jtextfield net sf jabref globals net sf jabref gui help helpaction net sf jabref gui remote jabrefmessagehandler net sf jabref logic help helpfile net sf jabref logic l10n localization net sf jabref logic remote remotepreferences net sf jabref logic remote remoteutil net sf jabref preferences jabrefpreferences com jgoodies forms builder defaultformbuilder com jgoodies forms layout formlayout advancedtab jpanel prefstab jabrefpreferences preferences jcheckbox useremoteserver jcheckbox useieeeabrv jtextfield remoteserverport jcheckbox usecasekeeperonsearch jcheckbox useunitformatteronsearch remotepreferences remotepreferences advancedtab jabrefpreferences prefs preferences prefs remotepreferences prefs getremotepreferences useremoteserver jcheckbox localization lang listen remote operation port ':' useieeeabrv jcheckbox localization lang use ieee latex abbreviations remoteserverport jtextfield usecasekeeperonsearch jcheckbox localization lang add specified title words search keep correct case useunitformatteronsearch jcheckbox localization lang format units adding non breaking separators keeping correct case search formlayout layout formlayout 1dlu 8dlu left:pref 4dlu fill:3dlu 4dlu fill:pref 4dlu left:pref 4dlu defaultformbuilder builder defaultformbuilder layout jpanel pan jpanel builder appendseparator localization lang remote operation builder nextline builder append jpanel builder append jlabel <html> localization lang feature lets files opened imported already running instance jabref<br>instead opening instance instance useful open file jabref<br>from web browser <br>note prevent running one instance jabref time html> builder nextline builder append jpanel jpanel jpanel add useremoteserver add remoteserverport add helpaction helpfile remote gethelpbutton builder append ieee builder nextline builder appendseparator localization lang search ieeexplore builder nextline builder append jpanel builder append useieeeabrv builder nextline builder appendseparator localization lang conversions builder nextline builder append pan builder append usecasekeeperonsearch builder nextline builder append pan builder append useunitformatteronsearch pan builder getpanel pan setborder borderfactory createemptyborder setlayout borderlayout add pan borderlayout center override setvalues useremoteserver setselected remotepreferences useremoteserver remoteserverport settext string valueof remotepreferences getport useieeeabrv setselected globals prefs getboolean jabrefpreferences use ieee abrv usecasekeeperonsearch setselected globals prefs getboolean jabrefpreferences use case keeper search useunitformatteronsearch setselected globals prefs getboolean jabrefpreferences use unit formatter search override storesettings preferences getboolean jabrefpreferences use ieee abrv useieeeabrv isselected preferences putboolean jabrefpreferences use ieee abrv useieeeabrv isselected globals journalabbreviationloader update globals prefs getjournalabbreviationpreferences storeremotesettings preferences putboolean jabrefpreferences use case keeper search usecasekeeperonsearch isselected preferences putboolean jabrefpreferences use unit formatter search useunitformatteronsearch isselected storeremotesettings getportasint ifpresent newport remotepreferences isdifferentport newport remotepreferences setport newport remotepreferences useremoteserver joptionpane showmessagedialog null localization lang remote server port concat concat localization lang must restart jabref come effect localization lang remote server port joptionpane warning message remotepreferences setuseremoteserver useremoteserver isselected remotepreferences useremoteserver globals remote listener openandstart jabrefmessagehandler remotepreferences getport else globals remote listener stop preferences setremotepreferences remotepreferences optional<integer> getportasint try optional integer parseint remoteserverport gettext catch numberformatexception ex optional empty override boolean validatesettings try portnumber integer parseint remoteserverport gettext remoteutil isuserport portnumber true else throw numberformatexception catch numberformatexception ex joptionpane showmessagedialog null localization lang must enter integer value interval text field localization lang remote server port '\'' localization lang remote server port joptionpane error message false override string gettabname localization lang advanced 
137	WaitForSaveOperation.java	GUI	net sf jabref gui awt borderlayout awt event actionevent awt event actionlistener javax swing borderfactory javax swing jbutton javax swing jdialog javax swing jlabel javax swing jprogressbar javax swing timer net sf jabref logic l10n localization com jgoodies forms builder buttonbarbuilder dialog shown closing application needs wait save operation finish waitforsaveoperation actionlistener jabrefframe frame jdialog diag timer timer boolean canceled waitforsaveoperation jabrefframe frame frame frame jbutton cancel jbutton localization lang cancel jprogressbar prog jprogressbar prog setindeterminate true prog setborder borderfactory createemptyborder diag jdialog frame localization lang please wait true buttonbarbuilder bb buttonbarbuilder bb addglue bb addbutton cancel bb addglue cancel addactionlistener canceled true stop diag dispose jlabel message jlabel localization lang waiting save operation finish message setborder borderfactory createemptyborder diag getcontentpane add message borderlayout north diag getcontentpane add bb getpanel borderlayout south diag getcontentpane add prog borderlayout center diag pack show diag setlocationrelativeto frame start diag setvisible true boolean canceled canceled override actionperformed actionevent actionevent boolean anysaving false basepanel basepanel frame getbasepanellist basepanel issaving anysaving true break anysaving stop diag dispose 
138	ListAutoCompleteRenderer.java	GUI	net sf jabref gui autocompleter awt component awt event actionevent awt event actionlistener util list util vector javax swing borderfactory javax swing defaultlistmodel javax swing jlist javax swing jscrollpane javax swing listselectionmodel javax swing scrollpaneconstants renders possible autocomplete items form simple list param <e> type items listautocompleterenderer<e> autocompleterenderer<e> defaultlistmodel<e> model defaultlistmodel<> jlist<e> list jlist<> model every selection change user interpreted accepting item autocompletion thus need helper variable prevent also programmatically trigger autocompletion boolean interpretselectionchangeasaccept true override update list<e> autocompletions autocompletions null model removeallelements else list setlistdata vector<> autocompletions list clearselection override component init actionlistener newacceptaction init list list setselectionmode listselectionmodel single selection list setfocusable false list setrequestfocusenabled false list setborder borderfactory createemptyborder list addlistselectionlistener interpretselectionchangeasaccept newacceptaction null newacceptaction actionperformed actionevent actionevent action performed null init pane containing list jscrollpane scrollpane jscrollpane list scrollpane setfocusable false scrollpane setrequestfocusenabled false scrollpane setborder borderfactory createemptyborder scrollpane setverticalscrollbarpolicy scrollpaneconstants vertical scrollbar never scrollpane sethorizontalscrollbarpolicy scrollpaneconstants horizontal scrollbar never scrollpane override getselecteditem list getselectedvalue override selectitem index interpretselectionchangeasaccept false set index valid otherwise clean selection index index list getmodel getsize list setselectedindex index list ensureindexisvisible index else list clearselection interpretselectionchangeasaccept true override getselectedindex list getselectedindex 
139	AutoCompleteSupport.java	GUI	net sf jabref gui autocompleter awt borderlayout awt color awt event actionevent awt event actionlistener awt event focusadapter awt event focusevent awt event keyevent util list javax swing abstractaction javax swing borderfactory javax swing jcomponent javax swing jpopupmenu javax swing keystroke javax swing event documentevent javax swing event documentlistener javax swing event popupmenuevent javax swing event popupmenulistener javax swing text jtextcomponent net sf jabref logic autocompleter autocompleter endows textbox ability autocomplete input based code santhosh kumar http: www jroller com santhosh date james lemieux glazed lists autocompletesupport param <e> type items displayed autocomplete popup autocompletesupport<e> autocompleterenderer<e> renderer autocompleter<e> autocompleter jtextcomponent textcomp jpopupmenu popup jpopupmenu boolean selectstextonfocusgain true constructs autocompletesupport textbox using autocompleter renderer param textcomp textbox component autocompletion enabled param autocompleter autocompleter providing data param renderer renderer displaying popup autocompletesupport jtextcomponent textcomp autocompleter<e> autocompleter autocompleterenderer<e> renderer renderer renderer textcomp textcomp autocompleter autocompleter constructs autocompletesupport textbox possible autocomplete items displayed simple list autocompletion items provided autocompleter specified later using link setautocompleter param textcomp textbox component autocompletion enabled autocompletesupport jtextcomponent textcomp textcomp null listautocompleterenderer<> constructs autocompletesupport textbox using autocompleter renderer possible autocomplete items displayed simple list param textcomp textbox component autocompletion enabled param autocompleter autocompleter providing data autocompletesupport jtextcomponent textcomp autocompleter<e> autocompleter textcomp autocompleter listautocompleterenderer<> inits autocompletion popup method called input specified textbox autocompleted install actionlisteners navigating suggested autocomplete items arrow keys actionlistener upaction moveaction actionlistener downaction moveaction actionlistener hiding autocomplete popup actionlistener hidepopupaction popup setvisible false actionlistener accepting currently selected item autocompletion actionlistener acceptaction itemtoinsert renderer getselecteditem itemtoinsert null string toinsert autocompleter getautocompletetext itemtoinsert todo: following refactored example autocompleter know whether want complete one word multiple fields interested currently edited word seek caret backward closest space: autocompleter issingleunitfield get position last word separator whitespace comma priv textcomp gettext length priv character iswhitespace textcomp gettext charat priv textcomp gettext charat priv priv priv points whitespace char priv copy everything next char end uptocaret textcomp settext textcomp gettext substring priv toinsert else fields journal reasonable try complete entire text field content skip searching keep entire part caret: textcomp settext toinsert textcomp setcaretposition textcomp gettext length popup setvisible false create popup popup setborder borderfactory creatematteborder color light gray popup setpopupsize textcomp getwidth popup setlayout borderlayout popup setfocusable false popup setrequestfocusenabled false popup add renderer init acceptaction listen changes text update autocomplete suggestions textcomp getdocument adddocumentlistener documentlistener override insertupdate documentevent postprocesstextchange override removeupdate documentevent postprocesstextchange override changedupdate documentevent nothing listen arrow keys move currently selected item reimplement function since cannot sure simple list used display items better let renderer decide moreover list focus probably would recognize keystrokes first place textcomp registerkeyboardaction downaction keystroke getkeystroke keyevent vk jcomponent focused textcomp registerkeyboardaction upaction keystroke getkeystroke keyevent vk jcomponent focused listen esc key hide popup textcomp registerkeyboardaction hidepopupaction keystroke getkeystroke keyevent vk escape jcomponent focused window listen focus events select text gaining focus textcomp addfocuslistener comboboxeditorfocushandler listen enter key popup visible accept current autocomplete suggestion popup addpopupmenulistener popupmenulistener override popupmenuwillbecomevisible popupmenuevent textcomp registerkeyboardaction acceptaction keystroke getkeystroke keyevent vk enter jcomponent focused override popupmenuwillbecomeinvisible popupmenuevent textcomp unregisterkeyboardaction keystroke getkeystroke keyevent vk enter override popupmenucanceled popupmenuevent nothing returns whether text textbox selected textbox gains focus defaults true boolean isselectstextonfocusgain selectstextonfocusgain sets whether text textbox selected textbox gains focus default true param selectstextonfocusgain value setselectstextonfocusgain boolean selectstextonfocusgain selectstextonfocusgain selectstextonfocusgain text changed update autocomplete suggestions accordingly postprocesstextchange autocompleter null popup setvisible false string text textcomp gettext list<e> candidates autocompleter complete text renderer update candidates textcomp isenabled candidates isempty renderer selectitem popup setpopupsize textcomp getwidth popup show textcomp textcomp getheight else popup setvisible false textcomp hasfocus textcomp requestfocusinwindow action invoked hitting arrow key popup currently shown action relayed otherwise arrow keys trigger popup moveaction abstractaction offset moveaction offset offset offset override actionperformed actionevent popup isvisible renderer selectitemrelative offset else popup show textcomp textcomp getheight selects text textbox gains focus behavior controlled value returned link autocompletesupport#isselectstextonfocusgain comboboxeditorfocushandler focusadapter override focusgained focusevent isselectstextonfocusgain istemporary textcomp selectall override focuslost focusevent nothing sets autocompleter used present autocomplete suggestions param autocompleter autocompleter providing data setautocompleter autocompleter<e> autocompleter autocompleter autocompleter setvisible boolean visible popup setvisible visible boolean isvisible popup isvisible 
140	AutoCompleteListener.java	GUI	net sf jabref gui autocompleter awt event focusevent awt event focuslistener awt event inputevent awt event keyadapter awt event keyevent util list javax swing text badlocationexception javax swing text jtextcomponent net sf jabref logic autocompleter autocompleter org apache commons logging log org apache commons logging logfactory created morten alver feb autocompletelistener keyadapter focuslistener todo: logging behavior probably fine grained understandable original author log logger logfactory getlog autocompletelistener autocompleter<string> completer variables keep track situation time time string tosetin null indicates completions available string lastbeginning letters user typed know lastcaretposition list<string> lastcompletions lastshowncompletion boolean consumeenterkey true field set focus listener call another focus listener finishing needed autocomplete listener must run focus listener responsible storing current edit focuslistener nextfocuslistener autocompletelistener autocompleter<string> completer logger gethandlers length logger setlevel level finest consolehandler ch consolehandler ch setlevel level finest logger addhandler ch completer completer method used focus listener call another focus listener finishing needed autocomplete listener must run focus listener responsible storing current edit param listener listener call setnextfocuslistener focuslistener listener nextfocuslistener listener setting determines whether autocomplete listener consume enter key stroke leads accepting completion set false jtextcomponent receive enter key press completion done default value true param true indicate enter key consumed false forwarded setconsumeenterkey boolean consumeenterkey override keypressed keyevent tosetin null getkeycode keyevent vk enter jtextcomponent comp jtextcomponent getsource replace typed characters characters completion lastbeginning lastcompletions get lastshowncompletion end comp getselectionend comp select end end tosetin null consumeenterkey consume cycle alternative completions user presses pgup pgdn: else getkeycode keyevent vk page tosetin null cycle jtextcomponent getsource consume else getkeycode keyevent vk page tosetin null cycle jtextcomponent getsource consume else getkeycode keyevent vk back space stringbuffer currentword getcurrentword jtextcomponent getsource delete last char obey semantics back space currentword deletecharat currentword length docompletion currentword else getkeychar keyevent char undefined getkeycode keyevent vk shift shift ok everything else leads reset logger debug special case: shift pressed action else resetautocompletion else logger debug special case: defined character caught cycle jtextcomponent comp increment assert lastcompletions null assert lastcompletions isempty lastshowncompletion increment lastshowncompletion lastcompletions size lastshowncompletion else lastshowncompletion lastshowncompletion lastcompletions size string sno lastcompletions get lastshowncompletion tosetin sno substring lastbeginning length stringbuilder alltext stringbuilder comp gettext oldselectionstart comp getselectionstart oldselectionend comp getselectionend replace prefix prefix startpos comp getselectionstart lastbeginning length alltext delete startpos oldselectionstart alltext insert startpos sno subsequence lastbeginning length replace suffix suffix alltext delete oldselectionstart oldselectionend cp oldselectionend deletedchars alltext insert oldselectionstart tosetin substring logger debug alltext tostring comp settext alltext tostring comp setcaretposition cp tosetin length comp select oldselectionstart oldselectionstart tosetin length lastcaretposition comp getcaretposition logger debug tosetin: tosetin boolean atendofword jtextcomponent textfield nextcharposition textfield getcaretposition position end input nextcharposition textfield gettext length char nextchar textfield gettext charat nextcharposition character iswhitespace nextchar false true user cancels autocompletion entering another letter completed word auto completion space casing letters kept global variable lastbeginning keeps track typed letters rely variable reconstruct text param wordseperatortyped indicates whether user typed white space character setunmodifiedtypedletters jtextcomponent comp boolean lastbeginningcontainstypedcharacter boolean wordseperatortyped lastbeginning null logger debug last beginning found previous input user typed word autocompletion available thus nothing replace logger debug lastbeginning: lastbeginning '<' comp getselectedtext null selection user typed complete word possibly different casing need replacement wordseperatortyped logger debug replacing complete word else user press white space character space anything else logger debug selected text comp getselectedtext removed remove completion suggestion comp replaceselection lastcaretposition comp getcaretposition endindex lastcaretposition lastbeginning length lastbeginningcontainstypedcharacter current letter contained comp gettext lastbeginning thus lastbeginning length one large endindex string text comp gettext comp settext text substring endindex concat lastbeginning concat text substring lastcaretposition lastbeginningcontainstypedcharacter current letter contained comp gettext thus cursor position also get updated lastcaretposition comp setcaretposition lastcaretposition lastbeginning null start completion attempt instead treating continuation existing word interrupt current word startcompletion stringbuffer currentword keyevent jtextcomponent comp jtextcomponent getsource list<string> completed findcompletions currentword tostring string prefix completer getprefix string cword prefix null prefix isempty currentword tostring substring prefix length currentword tostring logger debug startcompletion currentword: currentword '<' prefix: prefix '<' cword: cword '<' use first word array completions completed null completed isempty lastshowncompletion lastcompletions completed string sno completed get two lines obey user's input tosetin character tostring ch tosetin tosetin concat sno substring cword length obey completion tosetin sno substring cword length logger debug tosetin: tosetin '<' stringbuilder alltext stringbuilder comp gettext cp comp getcaretposition alltext insert cp tosetin comp settext alltext tostring comp setcaretposition cp comp select cp cp sno length cword length consume lastcaretposition comp getcaretposition char ch getkeychar logger debug appending ch '<' cword length lastbeginning character tostring ch else lastbeginning cword substring cword length concat character tostring ch override keytyped keyevent logger debug key typed event caught getkeycode char ch getkeychar ch '\n' case handled keypressed auto completion inside words atendofword jtextcomponent getsource getmodifiers inputevent shift mask inputevent shift mask plain key shift key pressed handling ctrl key meta key character isletter ch character isdigit ch character iswhitespace ch completer issingleunitfield jtextcomponent comp jtextcomponent getsource tosetin null logger debug tosetin null else logger debug tosetin: tosetin '<' case insensitive system bit tricky keyword todo user types treated continue matches keyword todo user types treated discont match tosetin null tosetin length ch tosetin charat user continues word suggested logger debug cont tosetin tosetin substring tosetin isempty cp comp getcaretposition comp setcaretposition cp tosetin comp select cp tosetin length cp lastbeginning lastbeginning ch consume lastcaretposition comp getcaretposition lastcompletions findcompletions lastbeginning lastshowncompletion lastcompletions size string lastcompletion lastcompletions get lastcompletion endswith tosetin lastshowncompletion break tosetin length user typed last character autocompleted word replace automcompletion word typed word helps user presses space completion space indicates user want autocompletion typed word string text comp gettext comp settext text substring lastcaretposition lastbeginning length lastbeginning text substring lastcaretposition selected text therefore updating selection tosetin null tosetin null tosetin length ch tosetin charat user discontinues word suggested lastbeginning lastbeginning ch logger debug discont tosetin: tosetin '<' lastbeginning: lastbeginning '<' list<string> completed findcompletions lastbeginning completed null completed isempty lastshowncompletion lastcompletions completed string sno completed get tosetin string used autocompletion last time string removed lastcaretposition position caret tosetin lastlen tosetin length tosetin sno substring lastbeginning length string text comp gettext use tosetin want obey casing sno comp settext text substring lastcaretposition lastlen lastbeginning length sno text substring lastcaretposition startselect lastcaretposition lastlen endselect lastcaretposition tosetin length lastlen comp select startselect endselect lastcaretposition comp getcaretposition consume else setunmodifiedtypedletters comp true false consume tosetin null logger debug case else comp replaceselection stringbuffer currentword getcurrentword comp real characters end assert character isisocontrol ch currentword append ch startcompletion currentword else character iswhitespace ch assert completer issingleunitfield logger debug whitespace singleunitfield start search end field reached replace displayed letters typed letters setunmodifiedtypedletters jtextcomponent getsource false true resetautocompletion logger debug letter digit whitespace char undefined replace displayed letters typed letters setunmodifiedtypedletters jtextcomponent getsource false character isisocontrol ch resetautocompletion resetautocompletion resets auto completion data way leftovers resetautocompletion logger debug resetting autocompletion tosetin null lastbeginning null list<string> findcompletions string beginning completer complete beginning stringbuffer getcurrentword jtextcomponent comp stringbuffer res stringbuffer string uptocaret try uptocaret comp gettext comp getcaretposition text start field caret position fields interested currently edited word seek caret backward closest space: completer issingleunitfield comp getcaretposition comp gettext length character iswhitespace comp gettext charat comp getcaretposition caret middle text current character whitespace means: word started current word stringbuffer piv uptocaret length piv character iswhitespace uptocaret charat piv piv piv points whitespace char piv copy everything next char end uptocaret res append uptocaret substring piv else fields journal reasonable try complete entire text field content skip searching keep entire part caret: res append uptocaret logger debug autocomplistener: res catch badlocationexception ignore ignored res override focusgained focusevent event nextfocuslistener null nextfocuslistener focusgained event override focuslost focusevent event tosetin null jtextcomponent comp jtextcomponent event getsource clearcurrentsuggestion comp nextfocuslistener null nextfocuslistener focuslost event clearcurrentsuggestion jtextcomponent comp tosetin null selstart comp getselectionstart string text comp gettext comp settext text substring selstart text substring comp getselectionend comp setcaretposition selstart lastcompletions null lastshowncompletion lastcaretposition tosetin null 
141	AutoCompleteRenderer.java	GUI	net sf jabref gui autocompleter awt component awt event actionlistener util list renders list possible autocomplete items also takes care currently selected item param <e> type items autocompleterenderer<e> refreshes list possible autocomplete items clears currently selected item param items list possible autocomplete items update list<e> items creates control shown autocomplete popup param acceptaction action performed current selection chosen autocompletion control added autocomplete popup component init actionlistener acceptaction selects item given position specified index valid selection cleared param index position item selectitem index selects item relative currently selected item specified offset valid selection cleared param offset offset item selectitemrelative offset newindex getselectedindex offset selectitem newindex returns index currently selected item index selected item getselectedindex returns currently selected item selected item getselecteditem 
142	JabRefDesktop.java	GUI	net sf jabref gui desktop io file io ioexception util arraylist util collections util list util optional util regex pattern javax swing joptionpane net sf jabref globals net sf jabref jabrefgui net sf jabref gui clipboardmanager net sf jabref gui icontheme net sf jabref gui jabrefframe net sf jabref gui desktop os defaultdesktop net sf jabref gui desktop os linux net sf jabref gui desktop os nativedesktop net sf jabref gui desktop os osx net sf jabref gui desktop os windows net sf jabref gui externalfiletype externalfiletype net sf jabref gui externalfiletype externalfiletypeentryeditor net sf jabref gui externalfiletype externalfiletypes net sf jabref gui externalfiletype unknownexternalfiletype net sf jabref gui filelist filelistentry net sf jabref gui filelist filelistentryeditor net sf jabref gui filelist filelisttablemodel net sf jabref gui undo undoablefieldchange net sf jabref logic l10n localization net sf jabref logic util doi net sf jabref logic util os net sf jabref logic util io fileutil net sf jabref model database bibdatabasecontext net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref preferences jabrefpreferences org apache commons logging log org apache commons logging logfactory todo: replace http: docs oracle com javase docs api awt desktop html http: stackoverflow com questions desktop api supported current platform jabrefdesktop nativedesktop native desktop getnativedesktop log logger logfactory getlog jabrefdesktop pattern remote link pattern pattern compile [a z] string arxiv lookup prefix http: arxiv org abs open http pdf ps viewer given link string openexternalviewer bibdatabasecontext databasecontext string initiallink string initialfieldname throws ioexception string link initiallink string fieldname initialfieldname fieldname ps equals fieldname fieldname pdf equals fieldname find default directory field type: list<string> dir databasecontext getfiledirectory fieldname globals prefs getfiledirectorypreferences optional<file> file fileutil expandfilename link dir check file exists: file ispresent file get exists throw ioexception file found fieldname link link file get getcanonicalpath use correct viewer even pdf ps mixed up: string[] split file get getname split \\ split length pdf equalsignorecase split[split length 1] fieldname fieldname pdf else ps equalsignorecase split[split length 1] split length ps equalsignorecase split[split length 2] fieldname fieldname ps else fieldname doi equals fieldname optional<doi> doiurl doi build link doiurl ispresent link doiurl get geturiasasciistring opened browser fieldname fieldname url else fieldname eprint equals fieldname fieldname fieldname url check see link field already contains well formated url link startswith http: link arxiv lookup prefix link fieldname url equals fieldname html try openbrowser link catch ioexception logger error error opening file link todo: rethrow exception? basepanel exception catched text output frame throw else fieldname ps equals fieldname try native desktop openfile link fieldname ps catch ioexception logger error error occured command: link else fieldname pdf equals fieldname try native desktop openfile link fieldname pdf catch ioexception logger error error occured command: link else logger info message: currently pdf ps html files opened clicking open external file attempting use correct viewer param databasecontext database file belongs param link filename false link resolved true otherwise boolean openexternalfileanyformat bibdatabasecontext databasecontext string link optional<externalfiletype> type throws ioexception boolean httplink false remote link pattern matcher link tolowercase matches httplink true platforms we'll try find file type: file file file link httplink optional<file> tmp fileutil expandfilename databasecontext link globals prefs getfiledirectorypreferences tmp ispresent file tmp get check arrived file type either http link existing file: httplink file exists type ispresent open file: string filepath httplink link file getpath openexternalfileplatformindependent type filepath true else file matched name know file type false openexternalfileplatformindependent optional<externalfiletype> filetype string filepath throws ioexception filetype ispresent string application filetype get getopenwithapplication application isempty native desktop openfile filepath filetype get getextension else native desktop openfilewithapplication filepath application boolean openexternalfileunknown jabrefframe frame bibentry entry bibdatabasecontext databasecontext string link unknownexternalfiletype filetype throws ioexception string cancelmessage localization lang unable open file string[] options string[] localization lang define 0' filetype getname localization lang change file type localization lang cancel string defoption options[0] answer joptionpane showoptiondialog frame localization lang external link type 0' undefined want do? filetype getname localization lang undefined file type joptionpane yes cancel option joptionpane question message null options defoption answer joptionpane cancel option frame output cancelmessage false else answer joptionpane yes option user wants define file type show dialog: externalfiletype newtype externalfiletype filetype getname icontheme jabreficon file getsmallicon externalfiletypeentryeditor editor externalfiletypeentryeditor frame newtype editor setvisible true editor okpressed get old list types add one update list prefs: list<externalfiletype> filetypes arraylist<> externalfiletypes getinstance getexternalfiletypeselection filetypes add newtype collections sort filetypes externalfiletypes getinstance setexternalfiletypes filetypes finally open file: openexternalfileanyformat databasecontext link optional newtype else canceled: frame output cancelmessage false else user wants change type link first get model file links entry: filelisttablemodel tmodel filelisttablemodel optional<string> oldvalue entry getfield fieldname file oldvalue ifpresent tmodel::setcontent filelistentry flentry null find one looking at: tmodel getrowcount filelistentry ientry tmodel getentry ientry link equals link flentry ientry break flentry null happen i'm sure put here: throw runtimeexception could find file list entry link entry filelistentryeditor editor filelistentryeditor frame flentry false true databasecontext editor setvisible true false editor okpressed store changes add undo edit: string newvalue tmodel getstringrepresentation undoablefieldchange ce undoablefieldchange entry fieldname file oldvalue orelse null newvalue entry setfield fieldname file newvalue frame getcurrentbasepanel getundomanager addedit ce frame getcurrentbasepanel markbasechanged finally open link: openexternalfileanyformat databasecontext flentry link flentry type else canceled: frame output cancelmessage false opens file browser folder given file possible file selected param filelink location file throws ioexception openfolderandselectfile string filelink throws ioexception native desktop openfolderandselectfile filelink opens given url using system browser param url url open throws ioexception openbrowser string url throws ioexception optional<externalfiletype> filetype externalfiletypes getinstance getexternalfiletypebyext html openexternalfileplatformindependent filetype url opens url users standard browser fails popup shown instruct user open link manually link gets copied clipboard param url openbrowsershowpopup string url try openbrowser url catch ioexception exception clipboardmanager setclipboardcontents url logger error could open browser exception string couldnotopenbrowser localization lang could open browser string openmanually localization lang please open manually url string copiedtoclipboard localization lang link copied clipboard jabrefgui getmainframe output couldnotopenbrowser joptionpane showmessagedialog jabrefgui getmainframe couldnotopenbrowser \n openmanually \n copiedtoclipboard couldnotopenbrowser joptionpane error message opens console starting given file location command specified link globals default system console executed param file location console opened openconsole file file throws ioexception file null string absolutepath file topath toabsolutepath getparent tostring boolean usingdefault globals prefs getboolean jabrefpreferences use default console application usingdefault native desktop openconsole absolutepath else string command globals prefs get jabrefpreferences console command command command trim command isempty command command replaceall \\s normalize white spaces string[] subcommands command split replace placeholder used string commandloggingtext command replace dir absolutepath jabrefgui getmainframe output localization lang executing command 0\ commandloggingtext logger info executing command commandloggingtext try processbuilder subcommands start catch ioexception exception logger error open console exception joptionpane showmessagedialog jabrefgui getmainframe localization lang error occured executing command 0\ commandloggingtext localization lang open console localization lang error joptionpane error message jabrefgui getmainframe output null todo: move os nativedesktop getnativedesktop os windows windows else os os osx else os linux linux defaultdesktop 
143	Windows.java	GUI	net sf jabref gui desktop os io file io ioexception nio file paths util optional net sf jabref gui externalfiletype externalfiletype net sf jabref gui externalfiletype externalfiletypes windows nativedesktop string default executable extension exe override openfile string filepath string filetype throws ioexception optional<externalfiletype> type externalfiletypes getinstance getexternalfiletypebyext filetype type ispresent type get getopenwithapplication isempty openfilewithapplication filepath type get getopenwithapplication else quote string explorer handles url query strings correctly string quotepath filepath processbuilder explorer exe quotepath start override string detectprogrampath string programname string directoryname string progfiles system getenv programfiles x86 progfiles null progfiles system getenv programfiles directoryname null directoryname isempty paths get progfiles directoryname programname default executable extension tostring paths get progfiles programname default executable extension tostring override openfilewithapplication string filepath string application throws ioexception processbuilder paths get application tostring paths get filepath tostring start override openfolderandselectfile string filepath throws ioexception processbuilder explorer exe select filepath start override openconsole string absolutepath throws ioexception processbuilder process processbuilder cmd exe start process directory file absolutepath process start 
144	OSX.java	GUI	net sf jabref gui desktop os awt desktop io file io ioexception util optional net sf jabref gui externalfiletype externalfiletype net sf jabref gui externalfiletype externalfiletypes osx nativedesktop override openfile string filepath string filetype throws ioexception optional<externalfiletype> type externalfiletypes getinstance getexternalfiletypebyext filetype type ispresent type get getopenwithapplication isempty openfilewithapplication filepath type get getopenwithapplication else string[] cmd usr bin open filepath runtime getruntime exec cmd override openfilewithapplication string filepath string application throws ioexception use <application> app specified open <filename> otherwise: string[] cmd application null application isempty string[] usr bin open application filepath string[] usr bin open filepath runtime getruntime exec cmd override openfolderandselectfile string filepath throws ioexception file file file filepath desktop getdesktop open file getparentfile override openconsole string absolutepath throws ioexception runtime getruntime exec open terminal absolutepath null file absolutepath override string detectprogrampath string programname string directoryname programname 
145	DefaultDesktop.java	GUI	net sf jabref gui desktop os awt desktop io file io ioexception nio file paths org apache commons logging log org apache commons logging logfactory defaultdesktop nativedesktop log logger logfactory getlog nativedesktop override openfile string filepath string filetype throws ioexception desktop getdesktop open file filepath override openfilewithapplication string filepath string application throws ioexception desktop getdesktop open file filepath override openfolderandselectfile string filepath throws ioexception file file paths get filepath toabsolutepath getparent tofile desktop getdesktop open file override openconsole string absolutepath throws ioexception logger error feature supported operating system override string detectprogrampath string programname string directoryname programname 
146	Linux.java	GUI	net sf jabref gui desktop os io bufferedreader io file io ioexception io inputstreamreader nio file paths util optional net sf jabref gui externalfiletype externalfiletype net sf jabref gui externalfiletype externalfiletypes linux nativedesktop override openfile string filepath string filetype throws ioexception optional<externalfiletype> type externalfiletypes getinstance getexternalfiletypebyext filetype string viewer type ispresent type get getopenwithapplication isempty viewer type get getopenwithapplication else viewer xdg open string[] cmdarray viewer filepath runtime getruntime exec cmdarray override openfilewithapplication string filepath string application throws ioexception use given app specified universal xdg open otherwise: string[] openwith application null application isempty openwith application split else openwith string[] xdg open string[] cmdarray string[openwith length 1] system arraycopy openwith cmdarray openwith length cmdarray[cmdarray length 1] filepath runtime getruntime exec cmdarray override openfolderandselectfile string filepath throws ioexception string desktopsession system getenv desktop session tolowercase string cmd desktopsession contains gnome cmd nautilus filepath else desktopsession contains kde cmd dolphin select filepath else cmd xdg open paths get filepath toabsolutepath getparent tostring runtime getruntime exec cmd override openconsole string absolutepath throws ioexception runtime runtime runtime getruntime process runtime exec readlink etc alternatives terminal emulator bufferedreader reader bufferedreader inputstreamreader getinputstream string emulatorname reader readline emulatorname null emulatorname emulatorname substring emulatorname lastindexof file separator emulatorname contains gnome runtime exec gnome terminal working directory absolutepath else emulatorname contains xfce4 runtime exec xfce4 terminal working directory absolutepath else emulatorname contains konsole runtime exec konsole workdir absolutepath else runtime exec emulatorname null file absolutepath override string detectprogrampath string programname string directoryname programname 
147	NativeDesktop.java	GUI	net sf jabref gui desktop os io ioexception interface nativedesktop openfile string filepath string filetype throws ioexception opens file operating system using given application param filepath filename param application link app opens file throws ioexception openfilewithapplication string filepath string application throws ioexception openfolderandselectfile string filepath throws ioexception openconsole string absolutepath throws ioexception string detectprogrampath string programname string directoryname 
148	WriteXMPEntryEditorAction.java	GUI	net sf jabref gui externalfiles awt event actionevent io file io ioexception util arraylist util list javax swing abstractaction javax swing action javax xml transform transformerexception net sf jabref globals net sf jabref gui basepanel net sf jabref gui icontheme net sf jabref gui entryeditor entryeditor net sf jabref gui filelist filelistentry net sf jabref gui filelist filelisttablemodel net sf jabref gui worker abstractworker net sf jabref logic l10n localization net sf jabref logic util io fileutil net sf jabref logic xmp xmputil net sf jabref model entry bibentry net sf jabref model entry fieldname write xmp action entryeditor toolbar writexmpentryeditoraction abstractaction basepanel panel entryeditor editor string message writexmpentryeditoraction basepanel panel entryeditor editor panel panel editor editor normally next call without localization lang however string write xmp also used non menu places therefore translation must also available localization lang putvalue action name localization lang write xmp putvalue action small icon icontheme jabreficon write xmp geticon putvalue action short description localization lang write bibtexentry xmp metadata pdf override actionperformed actionevent actionevent setenabled false panel output localization lang writing xmp metadata panel frame setprogressbarindeterminate true panel frame setprogressbarvisible true bibentry entry editor getentry make list pdfs linked entry: list<file> files arraylist<> first check legacy pdf field: entry getfield fieldname pdf ifpresent pdf fileutil expandfilename pdf panel getbibdatabasecontext getfiledirectory fieldname pdf globals prefs getfiledirectorypreferences ifpresent files::add check file field: list<string> dirs panel getbibdatabasecontext getfiledirectory globals prefs getfiledirectorypreferences entry hasfield fieldname file filelisttablemodel tm filelisttablemodel entry getfield fieldname file ifpresent tm::setcontent tm getrowcount filelistentry flentry tm getentry flentry type ispresent pdf equalsignorecase flentry type get getname fileutil expandfilename flentry link dirs ifpresent files::add want offload actual work background thread worker thread: abstractworker worker writexmpworker files entry using spin get thread gets synchronously offloaded thread blocking execution method: worker getworker run worker thread finishes unblocked ready print status message: panel output message panel frame setprogressbarvisible false setenabled true writexmpworker abstractworker list<file> files bibentry entry writexmpworker list<file> files bibentry entry files files entry entry override run files isempty message localization lang pdf linked \n else written error file file files file exists files size message localization lang pdf exist error else try xmputil writexmp file entry panel getdatabase globals prefs getxmppreferences files size message localization lang wrote xmp metadata written catch ioexception transformerexception files size message localization lang error writing file getpath error files size stringbuilder sb stringbuilder sb append localization lang finished writing xmp metadata wrote file string valueof written error sb append append localization lang error writing file string valueof error message sb tostring 
149	MoveFileAction.java	GUI	net sf jabref gui externalfiles awt event actionevent io file io ioexception nio file files nio file path nio file paths util list util locale util optional javax swing abstractaction javax swing joptionpane net sf jabref globals net sf jabref gui filedialog net sf jabref gui jabrefframe net sf jabref gui entryeditor entryeditor net sf jabref gui fieldeditors filelisteditor net sf jabref gui filelist filelistentry net sf jabref gui util component checkboxmessage net sf jabref logic l10n localization net sf jabref logic util io fileutil net sf jabref preferences jabrefpreferences org apache commons logging log org apache commons logging logfactory action moving renaming file linked entry jabref movefileaction abstractaction log logger logfactory getlog movefileaction jabrefframe frame entryeditor eeditor filelisteditor editor boolean tofiledir string move rename localization lang move rename file movefileaction jabrefframe frame entryeditor eeditor filelisteditor editor boolean tofiledir frame frame eeditor eeditor editor editor tofiledir tofiledir override actionperformed actionevent event selected editor getselectedrow selected filelistentry entry editor gettablemodel getentry selected check current file exists: string ln entry link boolean httplink ln tolowercase locale english startswith http httplink todo: notify operation cannot done remote links get absolute path representation: list<string> dirs frame getcurrentbasepanel getbibdatabasecontext getfiledirectory globals prefs getfiledirectorypreferences found dirs size file dirs get exists found break found joptionpane showmessagedialog frame localization lang file directory set exist move rename joptionpane error message file file file ln file isabsolute file fileutil expandfilename ln dirs orelse null file null file exists ok found file get name: file newfile null boolean repeat true repeat repeat false string chosenfile tofiledir determine name suggest: string suggname fileutil createfilenamefrompattern eeditor getdatabase eeditor getentry globals prefs get jabrefpreferences filenamepattern globals prefs getlayoutformatterpreferences globals journalabbreviationloader concat entry type ispresent entry type get getextension checkboxmessage cbm checkboxmessage localization lang move file file directory? localization lang rename 0' suggname globals prefs getboolean jabrefpreferences rename move file file dir answer ask renaming file file proper name already: suggname equals file getname answer joptionpane showconfirmdialog frame localization lang move file file directory? move rename joptionpane yes option else answer joptionpane showconfirmdialog frame cbm move rename joptionpane yes option answer joptionpane yes option globals prefs putboolean jabrefpreferences rename move file file dir cbm isselected stringbuilder sb stringbuilder dirs get found dirs get found endswith file separator sb append file separator cbm isselected rename: sb append suggname else rename: sb append file getname chosenfile sb tostring else optional<path> path filedialog frame file getpath savenewfile path ispresent chosenfile path get tostring else newfile file chosenfile newfile null newfile equals file try boolean success file renameto newfile success success fileutil copyfile paths get file touri paths get newfile touri true success remove original file: files deleteifexists file topath relativise path possible string canpath file dirs get found getcanonicalpath newfile getcanonicalpath startswith canpath newfile getcanonicalpath length canpath length newfile getcanonicalpath charat canpath length file separatorchar string newlink newfile getcanonicalpath substring canpath length editor gettablemodel setentry selected filelistentry entry description newlink entry type else string newlink newfile getcanonicalpath substring canpath length editor gettablemodel setentry selected filelistentry entry description newlink entry type else string newlink newfile getcanonicalpath editor gettablemodel setentry selected filelistentry entry description newlink entry type eeditor updatefield editor frame output localization lang file moved else joptionpane showmessagedialog frame localization lang move file failed move rename joptionpane error message catch securityexception ioexception ex logger warn could move file ex joptionpane showmessagedialog frame localization lang could move file 0' file getabsolutepath ex getmessage move rename joptionpane error message else file exist can't move joptionpane showmessagedialog frame localization lang could find file 0' entry link localization lang file found joptionpane error message 
150	TransferableFileLinkSelection.java	GUI	net sf jabref gui externalfiles awt datatransfer dataflavor awt datatransfer transferable awt datatransfer unsupportedflavorexception io file io ioexception util arraylist util list net sf jabref globals net sf jabref gui basepanel net sf jabref gui filelist filelisttablemodel net sf jabref logic util io fileutil net sf jabref model entry bibentry net sf jabref model entry fieldname org apache commons logging log org apache commons logging logfactory transferablefilelinkselection transferable list<file> filelist arraylist<> log logger logfactory getlog transferablefilelinkselection transferablefilelinkselection basepanel panel list<bibentry> selection filelisttablemodel tm filelisttablemodel selection get getfield fieldname file ifpresent tm::setcontent tm getrowcount find default directory field type any: list<string> dirs panel getbibdatabasecontext getfiledirectory globals prefs getfiledirectorypreferences fileutil expandfilename tm getentry link dirs ifpresent filelist::add override dataflavor[] gettransferdataflavors dataflavor[] dataflavor javafilelistflavor dataflavor stringflavor override boolean isdataflavorsupported dataflavor dataflavor logger debug query: dataflavor gethumanpresentablename dataflavor getdefaultrepresentationclass dataflavor getmimetype dataflavor equals dataflavor javafilelistflavor dataflavor equals dataflavor stringflavor override object gettransferdata dataflavor dataflavor throws unsupportedflavorexception ioexception dataflavor equals dataflavor javafilelistflavor filelist else test stringselection ss transferablefilelinkselection basepanel panel bibentry[] selection string selection[0] getfield guiglobals file field filelisttablemodel tm filelisttablemodel null tm setcontent tm getrowcount find default directory field type any: string dir panel metadata getfiledirectory guiglobals file field include standard file directory: string filedir panel metadata getfiledirectory guiglobals file field include directory bib file: string[] dirs panel metadata getdatabasefile null string databasedir panel metadata getdatabasefile getparent dirs string[] dir filedir databasedir else dirs string[] dir filedir system println tm getentry getlink dirs length string dir1 dirs[i] system println dir: dir1 file explink util expandfilename tm getentry getlink dirs try system println explink touri tourl tostring ss stringselection explink touri tourl tostring catch malformedurlexception ex ss stringselection else ss stringselection transferable gettransferable ss 
151	FindFullTextAction.java	GUI	net sf jabref gui externalfiles io ioexception net url util arraylist util list util map util map entry util optional util concurrent concurrenthashmap javax swing joptionpane net sf jabref globals net sf jabref gui basepanel net sf jabref gui filelist filelisttablemodel net sf jabref gui undo undoablefieldchange net sf jabref gui worker abstractworker net sf jabref logic importer fulltextfetchers net sf jabref logic l10n localization net sf jabref model entry bibentry net sf jabref model entry fieldname org apache commons logging log org apache commons logging logfactory try download fulltext pdf selected entry ies following url doi link findfulltextaction abstractworker log logger logfactory getlog findfulltextaction warninglimit minimum number selected entries ask user confirmation basepanel basepanel map<optional<url> bibentry> downloads concurrenthashmap<> findfulltextaction basepanel basepanel basepanel basepanel override init throws exception basepanel output localization lang looking full text document override run basepanel getselectedentries size warninglimit string[] options string[] localization lang look full text documents localization lang cancel answer joptionpane showoptiondialog basepanel frame localization lang look full text documents entries string valueof basepanel getselectedentries size \n localization lang still want continue? localization lang look full text documents joptionpane ok cancel option joptionpane question message null options options[0] answer joptionpane ok option basepanel output localization lang operation canceled bibentry entry basepanel getselectedentries fulltextfetchers fft fulltextfetchers globals prefs getimportformatpreferences downloads put fft findfulltextpdf entry entry override update list<optional<url>> remove arraylist<> entry<optional<url> bibentry> download downloads entryset bibentry entry download getvalue optional<url> result download getkey result ispresent list<string> dirs basepanel getbibdatabasecontext getfiledirectory globals prefs getfiledirectorypreferences dirs isempty joptionpane showmessagedialog basepanel frame localization lang main file directory set localization lang preferences localization lang file localization lang directory found joptionpane error message downloadexternalfile def downloadexternalfile basepanel frame basepanel getbibdatabasecontext entry try def download result get file filelisttablemodel tm filelisttablemodel entry getfield fieldname file ifpresent tm::setcontent tm addentry tm getrowcount file string newvalue tm getstringrepresentation undoablefieldchange edit undoablefieldchange entry fieldname file entry getfield fieldname file orelse null newvalue entry setfield fieldname file newvalue basepanel getundomanager addedit edit basepanel markbasechanged catch ioexception logger warn problem downloading file basepanel output localization lang finished downloading full text document entry entry getcitekeyoptional orelse localization lang undefined else string title localization lang full text document download failed string message localization lang full text document download failed entry entry getcitekeyoptional orelse localization lang undefined basepanel output message joptionpane showmessagedialog basepanel frame message title joptionpane error message remove add result optional<url> result remove downloads remove result 
152	DroppedFileHandler.java	GUI	net sf jabref gui externalfiles awt borderlayout io file io ioexception nio file paths util list util optional javax swing boxlayout javax swing buttongroup javax swing jcheckbox javax swing jlabel javax swing joptionpane javax swing jpanel javax swing jradiobutton javax swing jtextarea javax swing jtextfield javax swing event changeevent javax swing event changelistener net sf jabref globals net sf jabref gui basepanel net sf jabref gui jabrefframe net sf jabref gui externalfiletype externalfiletype net sf jabref gui externalfiletype externalfiletypes net sf jabref gui filelist filelistentry net sf jabref gui filelist filelisttablemodel net sf jabref gui maintable maintable net sf jabref gui undo namedcompound net sf jabref gui undo undoablefieldchange net sf jabref gui undo undoableinsertentry net sf jabref logic l10n localization net sf jabref logic util os net sf jabref logic util io fileutil net sf jabref logic xmp xmputil net sf jabref model database bibdatabase net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model entry idgenerator net sf jabref preferences jabrefpreferences com jgoodies forms builder formbuilder com jgoodies forms layout formlayout org apache commons logging log org apache commons logging logfactory holds functionality autolinking file that's dropped onto entry <p> options handling files are: <p> link file current position disabled file remote <p> copy file ??? directory rename bibtex key extension <p> move file ??? directory rename bibtex key extension droppedfilehandler log logger logfactory getlog droppedfilehandler jabrefframe frame basepanel panel jradiobutton linkinplace jradiobutton jradiobutton copyradiobutton jradiobutton jradiobutton moveradiobutton jradiobutton jlabel destdirlabel jlabel jcheckbox renamecheckbox jcheckbox jtextfield renametotextbox jtextfield jpanel optionspanel jpanel droppedfilehandler jabrefframe frame basepanel panel frame frame panel panel buttongroup grp buttongroup grp add linkinplace grp add copyradiobutton grp add moveradiobutton formlayout layout formlayout left:15dlu pref pref pref bottom:14pt pref pref pref pref layout setrowgroups int[][] formbuilder builder formbuilder create layout layout builder add linkinplace xyw builder add destdirlabel xyw builder add copyradiobutton xyw builder add moveradiobutton xyw builder add renamecheckbox xyw builder add renametotextbox xyw optionspanel add builder getpanel offer copy move linking options dragged external file perform chosen operation param filename name dragged file param filetype filetype associated file param maintable maintable file dragged param droprow row file dropped handledroppedfile string filename externalfiletype filetype maintable maintable droprow bibentry entry maintable getentryat droprow handledroppedfile filename filetype entry param filename name dragged file param filetype filetype associated file param entry target entry drop handledroppedfile string filename externalfiletype filetype bibentry entry namedcompound edits namedcompound localization lang drop filetype getextension tryxmpimport filename filetype edits edits end panel getundomanager addedit edits show dialog showlinkmovecopyrenamedialog filename filetype entry panel getdatabase ok we're ready go see first need file copy linking: boolean success true string destfilename linkinplace isselected destfilename fileutil shortenfilename file filename panel getbibdatabasecontext getfiledirectory globals prefs getfiledirectorypreferences tostring else destfilename renamecheckbox isselected renametotextbox gettext file filename getname copyradiobutton isselected success docopy filename destfilename edits else moveradiobutton isselected success domove filename destfilename edits success dolink entry filetype destfilename false edits panel markbasechanged panel updateentryeditorifshowing edits end panel getundomanager addedit edits done mrdlib linkpdftoentry string filename maintable entrytable droprow bibentry entry entrytable getentryat droprow linkpdftoentry filename entry linkpdftoentry string filename bibentry entry optional<externalfiletype> optfiletype externalfiletypes getinstance getexternalfiletypebyext pdf optfiletype ispresent logger warn file type extension 'pdf' registered externalfiletype filetype optfiletype get show dialog showlinkmovecopyrenamedialog filename filetype entry panel getdatabase ok we're ready go see first need file copy linking: boolean success true string destfilename namedcompound edits namedcompound localization lang drop filetype getextension linkinplace isselected destfilename fileutil shortenfilename file filename panel getbibdatabasecontext getfiledirectory globals prefs getfiledirectorypreferences tostring else destfilename renamecheckbox isselected renametotextbox gettext file filename getname copyradiobutton isselected success docopy filename destfilename edits else moveradiobutton isselected success domove filename destfilename edits success dolink entry filetype destfilename false edits panel markbasechanged edits end panel getundomanager addedit edits done mrdlib boolean tryxmpimport string filename externalfiletype filetype namedcompound edits pdf equals filetype getextension false list<bibentry> xmpentriesinfile try xmpentriesinfile xmputil readxmp filename globals prefs getxmppreferences catch ioexception logger warn problem reading xmp false xmpentriesinfile null xmpentriesinfile isempty false jlabel confirmationmessage jlabel localization lang pdf contains one several bibtex records \n localization lang want entries current database? jpanel entriespanel jpanel entriespanel setlayout boxlayout entriespanel boxlayout axis xmpentriesinfile foreach entry jtextarea entryarea jtextarea entry tostring entryarea seteditable false entriespanel add entryarea jpanel contentpanel jpanel borderlayout contentpanel add confirmationmessage borderlayout north contentpanel add entriespanel borderlayout center reply joptionpane showconfirmdialog frame contentpanel localization lang xmp metadata found pdf: filename joptionpane yes cancel option joptionpane question message reply joptionpane cancel option true user canceled thus done reply joptionpane option false reply joptionpane yes option todo extract functionality importmenuitem could do: importmenuitem importer importmenuitem frame maintable null pdfxmpimporter importer automatedimport string[] filename boolean issingle xmpentriesinfile size bibentry single issingle xmpentriesinfile get null boolean success true string destfilename linkinplace isselected destfilename fileutil shortenfilename file filename panel getbibdatabasecontext getfiledirectory globals prefs getfiledirectorypreferences tostring else renamecheckbox isselected single null destfilename filename else destfilename single getcitekey filetype getextension copyradiobutton isselected success docopy filename destfilename edits else moveradiobutton isselected success domove filename destfilename edits success bibentry axmpentriesinfile xmpentriesinfile axmpentriesinfile setid idgenerator next edits addedit undoableinsertentry panel getdatabase axmpentriesinfile panel panel getdatabase insertentry axmpentriesinfile dolink axmpentriesinfile filetype destfilename true edits panel markbasechanged panel updateentryeditorifshowing true true user pushed ok false otherwise boolean showlinkmovecopyrenamedialog string linkfilename externalfiletype filetype bibentry entry bibdatabase database string dialogtitle localization lang link file linkfilename list<string> dirs panel getbibdatabasecontext getfiledirectory globals prefs getfiledirectorypreferences found dirs size file dirs get exists found break found destdirlabel settext localization lang file directory set exist copyradiobutton setenabled false moveradiobutton setenabled false renametotextbox setenabled false renamecheckbox setenabled false linkinplace setselected true else destdirlabel settext localization lang file directory 0': dirs get found copyradiobutton setenabled true moveradiobutton setenabled true renametotextbox setenabled true renamecheckbox setenabled true changelistener cl arg0 renamecheckbox setenabled linkinplace isselected renametotextbox setenabled linkinplace isselected linkinplace settext localization lang leave file current directory copyradiobutton settext localization lang copy file file directory moveradiobutton settext localization lang move file file directory renamecheckbox settext localization lang rename file concat determine name suggest: string targetname fileutil createfilenamefrompattern database entry globals prefs get jabrefpreferences filenamepattern globals prefs getlayoutformatterpreferences globals journalabbreviationloader renametotextbox settext targetname concat concat filetype getextension linkinplace setselected frame prefs getboolean jabrefpreferences droppedfilehandler leave copyradiobutton setselected frame prefs getboolean jabrefpreferences droppedfilehandler copy moveradiobutton setselected frame prefs getboolean jabrefpreferences droppedfilehandler move renamecheckbox setselected frame prefs getboolean jabrefpreferences droppedfilehandler rename linkinplace addchangelistener cl cl statechanged changeevent linkinplace try object[] messages localization lang would like link 0'? linkfilename optionspanel reply joptionpane showconfirmdialog frame messages dialogtitle joptionpane ok cancel option joptionpane question message reply joptionpane ok option store user's choice frame prefs putboolean jabrefpreferences droppedfilehandler leave linkinplace isselected frame prefs putboolean jabrefpreferences droppedfilehandler copy copyradiobutton isselected frame prefs putboolean jabrefpreferences droppedfilehandler move moveradiobutton isselected frame prefs putboolean jabrefpreferences droppedfilehandler rename renamecheckbox isselected true else false finally linkinplace removechangelistener cl make extension file param entry entry extension param filetype filetype associated file param filename path file param edits namedcompound action action added none given edit added panel's undomanager dolink bibentry entry externalfiletype filetype string filename boolean avoidduplicate namedcompound edits optional<string> oldvalue entry getfield fieldname file filelisttablemodel tm filelisttablemodel oldvalue ifpresent tm::setcontent avoidduplicate true check file already linked: avoidduplicate comparison find absolute filename: list<string> dirs panel getbibdatabasecontext getfiledirectory globals prefs getfiledirectorypreferences string absfilename file filename isabsolute dirs isempty absfilename filename else optional<file> file fileutil expandfilename filename dirs file ispresent absfilename file get getabsolutepath else absfilename happen based old code maybe one set something else? logger debug absfilename: absfilename tm getrowcount filelistentry flentry tm getentry find absolute filename existing link: string absname file flentry link isabsolute dirs isempty absname flentry link else optional<file> file fileutil expandfilename flentry link dirs file ispresent absname file get getabsolutepath else absname null logger debug absname: absname filenames equal need link simply return: absfilename equals absname tm addentry tm getrowcount filelistentry filename filetype string newvalue tm getstringrepresentation undoablefieldchange edit undoablefieldchange entry fieldname file oldvalue orelse null newvalue entry setfield fieldname file newvalue edits null panel getundomanager addedit edit else edits addedit edit move given file base directory file type rename given filename param filename name source file param destfilename destination filename param edits todo able undo action true operation succeeded boolean domove string filename string destfilename namedcompound edits list<string> dirs panel getbibdatabasecontext getfiledirectory globals prefs getfiledirectorypreferences found dirs size file dirs get exists found break found oops know directory put given dir exist happen logger warn cannot determine destination directory destination directory exist false file tofile file dirs get found os file separator destfilename tofile exists answer joptionpane showconfirmdialog frame localization lang 0' exists overwrite file? tofile getabsolutepath localization lang overwrite file? joptionpane yes option answer joptionpane option false file fromfile file filename fromfile renameto tofile true else joptionpane showmessagedialog frame localization lang could move file 0' tofile getabsolutepath localization lang please move file manually link place localization lang move file failed joptionpane error message false copy given file base directory file type give given name param filename name source file param tofile destination filename existing path component removed param edits todo able undo boolean docopy string filename string tofile namedcompound edits list<string> dirs panel getbibdatabasecontext getfiledirectory globals prefs getfiledirectorypreferences found dirs size file dirs get exists found break found oops know directory put given dir exist happen logger warn cannot determine destination directory destination directory exist false string destinationfilename file tofile getname file destfile file dirs get found os file separator destinationfilename destfile equals file filename file already correct position override true destfile exists answer joptionpane showconfirmdialog frame localization lang 0' exists overwrite file? destfile getpath localization lang file exists joptionpane yes option joptionpane question message answer joptionpane option false fileutil copyfile paths get filename destfile topath true true 
153	SynchronizeFileField.java	GUI	net sf jabref gui externalfiles awt borderlayout awt event actionevent io file util arraylist util collection util collections util hashset util list util locale util optional util set javax swing abstractaction javax swing action javax swing actionmap javax swing borderfactory javax swing buttongroup javax swing inputmap javax swing jbutton javax swing jcheckbox javax swing jcomponent javax swing jdialog javax swing jframe javax swing jlabel javax swing joptionpane javax swing jpanel javax swing jradiobutton net sf jabref globals net sf jabref jabrefexecutorservice net sf jabref gui basepanel net sf jabref gui icontheme net sf jabref gui externalfiletype externalfiletype net sf jabref gui externalfiletype externalfiletypeentryeditor net sf jabref gui externalfiletype externalfiletypes net sf jabref gui externalfiletype unknownexternalfiletype net sf jabref gui filelist filelistentry net sf jabref gui filelist filelistentryeditor net sf jabref gui filelist filelisttablemodel net sf jabref gui keyboard keybinding net sf jabref gui undo namedcompound net sf jabref gui undo undoablefieldchange net sf jabref gui worker abstractworker net sf jabref logic l10n localization net sf jabref logic util io fileutil net sf jabref model database bibdatabasecontext net sf jabref model entry bibentry net sf jabref model entry fieldname com jgoodies forms builder buttonbarbuilder com jgoodies forms builder formbuilder com jgoodies forms layout formlayout action goes selected entries basepanel attempts autoset given external file pdf ps based algorithm used auto button entryeditor synchronizefilefield abstractworker basepanel panel list<bibentry> sel synchronizefilefield optionsdialog optdiag entrieschangedcount object[] brokenlinkoptions localization lang ignore localization lang assign file localization lang remove link localization lang remove broken links localization lang quit synchronization boolean goon true boolean autoset true boolean checkexisting true synchronizefilefield basepanel panel panel panel override init collection<bibentry> col panel getdatabase getentries goon true sel arraylist<> col ask rules operation: optdiag null optdiag synchronizefilefield optionsdialog panel frame panel getbibdatabasecontext optdiag setlocationrelativeto panel frame optdiag setvisible true optdiag canceled goon false autoset optdiag isautosetnone checkexisting optdiag ischecklinks panel output localization lang synchronizing file links override run goon panel output localization lang operation requires one entries selected entrieschangedcount panel frame setprogressbarvalue panel frame setprogressbarvisible true weightautoset autoset takes times longer checkexisting progressbarmax autoset weightautoset sel size checkexisting sel size panel frame setprogressbarmaximum progressbarmax progress namedcompound ce namedcompound localization lang automatically set file links set<bibentry> changedentries hashset<> first try autoset fields autoset list<bibentry> entries arraylist<> sel start automatically setting process: runnable autosetlinks autosetlinks entries ce changedentries null panel getbibdatabasecontext null null jabrefexecutorservice instance executeandwait progress sel size weightautoset panel frame setprogressbarvalue progress following loop checks external links already set checkexisting boolean removeallbroken false mainloop: bibentry asel sel panel frame setprogressbarvalue progress optional<string> old asel getfield fieldname file check extension set: old ispresent old get isempty filelisttablemodel tablemodel filelisttablemodel tablemodel setcontentdontguesstypes old get need specify directories search util expandfilename: list<string> dirss panel getbibdatabasecontext getfiledirectory globals prefs getfiledirectorypreferences list<file> dirs arraylist<> string dirs1 dirss dirs add file dirs1 tablemodel getrowcount filelistentry flentry tablemodel getentry see link looks like url: boolean httplink flentry link tolowercase locale english startswith http httplink continue check remote file todo: option check remote links? variable keep track whether link gets deleted: boolean deleted false get absolute path representation: optional<file> file fileutil expandfilename flentry link dirss file ispresent file get exists answer removeallbroken answer delete link else answer joptionpane showoptiondialog panel frame localization lang <html>could find file 0'<br>linked entry 1'< html> flentry link asel getcitekeyoptional orelse localization lang undefined localization lang broken link joptionpane yes cancel option joptionpane question message null brokenlinkoptions brokenlinkoptions[0] switch answer case 1: assign file filelistentryeditor fleditor filelistentryeditor panel frame flentry false true panel getbibdatabasecontext fleditor setvisible true true break case 2: clear field: tablemodel removeentry deleted true make sure investigate link step back iteration removed entry break case 3: clear field: tablemodel removeentry deleted true make sure investigate link step back iteration removed entry removeallbroken true notify cases break default: cancel break mainloop unless deleted link see file type recognized: deleted flentry type ispresent flentry type get instanceof unknownexternalfiletype string[] options string[] localization lang define 0' flentry type get getname localization lang change file type localization lang cancel string defoption options[0] answer joptionpane showoptiondialog panel frame localization lang one file links type 0' undefined want do? flentry type get getname localization lang undefined file type joptionpane yes cancel option joptionpane question message null options defoption answer joptionpane cancel option user want handle unknown link type else answer joptionpane yes option user wants define file type show dialog: externalfiletype newtype externalfiletype flentry type get getname icontheme jabreficon file getsmallicon externalfiletypeentryeditor editor externalfiletypeentryeditor panel frame newtype editor setvisible true editor okpressed get old list types add one update list prefs: list<externalfiletype> filetypes arraylist<> externalfiletypes getinstance getexternalfiletypeselection filetypes add newtype collections sort filetypes externalfiletypes getinstance setexternalfiletypes filetypes panel getmaintable repaint else user wants change type link first get model file links entry: filelistentryeditor editor filelistentryeditor panel frame flentry false true panel getbibdatabasecontext editor setvisible true false tablemodel getstringrepresentation equals old orelse null table modified store change: string toset tablemodel getstringrepresentation toset isempty ce addedit undoablefieldchange asel fieldname file old orelse null null asel clearfield fieldname file else ce addedit undoablefieldchange asel fieldname file old orelse null toset asel setfield fieldname file toset changedentries add asel changedentries isempty add undo edit: ce end panel getundomanager addedit ce panel markbasechanged entrieschangedcount changedentries size override update goon panel output localization lang finished synchronizing file links entries changed: string valueof entrieschangedcount panel frame setprogressbarvisible false entrieschangedcount panel markbasechanged optionsdialog jdialog jbutton ok jbutton localization lang ok jbutton cancel jbutton localization lang cancel boolean canceled true bibdatabasecontext databasecontext jradiobutton autosetunset jradiobutton localization lang automatically set file links localization lang overwrite existing links true jradiobutton autosetall jradiobutton localization lang automatically set file links localization lang allow overwriting existing links false jradiobutton autosetnone jradiobutton localization lang automatically set false jcheckbox checklinks jcheckbox localization lang check existing file links true optionsdialog jframe parent bibdatabasecontext databasecontext super parent localization lang synchronize file links true databasecontext databasecontext ok addactionlistener canceled false dispose action closeaction abstractaction override actionperformed actionevent dispose cancel addactionlistener closeaction inputmap im cancel getinputmap jcomponent focused window actionmap cancel getactionmap im put globals getkeyprefs getkey keybinding close dialog close put close closeaction buttongroup bg buttongroup bg add autosetunset bg add autosetnone bg add autosetall formlayout layout formlayout fill:pref pref 2dlu pref 2dlu pref pref pref 2dlu pref 2dlu pref 2dlu pref 2dlu pref formbuilder builder formbuilder create layout layout jlabel description jlabel <html> localization lang attempt automatically set file links entries automatically setting works file file directory<br>or subdirectory named identically entry's bibtex key plus extension html> builder addseparator localization lang automatically set file links xy builder add description xy builder add autosetunset xy builder add autosetall xy builder add autosetnone xy builder addseparator localization lang check links xy description jlabel <html> localization lang makes jabref look file link check file exists given options<br>to resolve problem html> builder add description xy builder add checklinks xy builder addseparator xy jpanel main builder getpanel main setborder borderfactory createemptyborder buttonbarbuilder bb buttonbarbuilder bb addglue bb addbutton ok bb addbutton cancel bb addglue getcontentpane add main borderlayout center getcontentpane add bb getpanel borderlayout south pack override setvisible boolean visible visible canceled true list<string> dirs databasecontext getfiledirectory globals prefs getfiledirectorypreferences dirs isempty autosetnone setselected true autosetnone setenabled false autosetall setenabled false autosetunset setenabled false else autosetnone setenabled true autosetall setenabled true autosetunset setenabled true ok requestfocus super setvisible visible boolean isautosetnone autosetnone isselected boolean ischecklinks checklinks isselected boolean canceled canceled 
154	DownloadExternalFile.java	GUI	net sf jabref gui externalfiles io file io ioexception net malformedurlexception net url nio file paths util list util optional javax swing joptionpane javax swing swingutilities net sf jabref globals net sf jabref jabrefexecutorservice net sf jabref gui jabrefframe net sf jabref gui externalfiletype externalfiletype net sf jabref gui externalfiletype externalfiletypes net sf jabref gui filelist filelistentry net sf jabref gui filelist filelistentryeditor net sf jabref gui net monitoredurldownload net sf jabref logic l10n localization net sf jabref logic net urldownload net sf jabref logic util os net sf jabref logic util io fileutil net sf jabref model database bibdatabasecontext net sf jabref model entry bibentry net sf jabref preferences jabrefpreferences org apache commons logging log org apache commons logging logfactory handles download external file typically called user clicks download button filelisteditor shown entryeditor <p filelisteditor constructs downloadexternalfile instance calls download method passing reference callback download method asks url starts download download completed calls downloadcompleted method callback filelisteditor needs take care linking file local filename passed argument downloadcompleted method <p download canceled failed user informed callback never called downloadexternalfile log logger logfactory getlog downloadexternalfile jabrefframe frame bibdatabasecontext databasecontext bibentry entry filelistentryeditor editor boolean downloadfinished boolean dontshowdialog downloadexternalfile jabrefframe frame bibdatabasecontext databasecontext bibentry entry frame frame databasecontext databasecontext entry entry start download param callback object filename reported download complete download downloadcallback callback throws ioexception dontshowdialog false string res joptionpane showinputdialog frame localization lang enter url download res null res trim isempty url url try url url res catch malformedurlexception ex1 joptionpane showmessagedialog frame localization lang invalid url localization lang download file joptionpane error message download url callback start download param callback object filename reported download complete download url url downloadcallback callback throws ioexception string res url tostring string mimetype first start download background temporary file: file tmp file createtempfile jabref download tmp tmp deleteonexit urldownload udl monitoredurldownload buildmonitoreddownload frame url try todo: takes long time? todo: stop editor dialog results error: mimetype udl determinemimetype read mime type catch ioexception ex joptionpane showmessagedialog frame localization lang invalid url ex getmessage localization lang download file joptionpane error message logger info error downloading res ex url urlf url urldownload udlf udl jabrefexecutorservice instance execute try udlf downloadtofile tmp catch ioexception e2 dontshowdialog true editor null editor isvisible editor setvisible false false joptionpane showmessagedialog frame localization lang invalid url e2 getmessage localization lang download file joptionpane error message logger info error downloading urlf e2 download finished: call method stops progress bar etc swingutilities invokelater downloadexternalfile this::downloadfinished optional<externalfiletype> suggestedtype optional empty mimetype null logger debug mime type suggested: mimetype suggestedtype externalfiletypes getinstance getexternalfiletypebymimetype mimetype download proceeding let user choose details file: string suffix suggestedtype ispresent suffix suggestedtype get getextension else find file type mime type try based extension: suffix getsuffix res suffix null suffix suggestedtype externalfiletypes getinstance getexternalfiletypebyext suffix string suggestedname getsuggestedfilename suffix list<string> fdirectory databasecontext getfiledirectory globals prefs getfiledirectorypreferences string directory fdirectory isempty directory null else directory fdirectory get string suggestdir directory null system getproperty user home directory file file file file suggestdir suggestedname filelistentry filelistentry filelistentry file getcanonicalpath suggestedtype editor filelistentryeditor frame filelistentry true false databasecontext editor getprogressbar setindeterminate true editor setokenabled false editor setexternalconfirm closeentry file directory null file closeentry link expandfilename directory closeentry link isdirectory joptionpane showmessagedialog frame localization lang target file cannot directory localization lang download file joptionpane error message false exists joptionpane showconfirmdialog frame localization lang 0' exists overwrite file? getname localization lang download file joptionpane ok cancel option joptionpane ok option else true dontshowdialog else editor setvisible true false editor closed go on: editor okpressed file tofile directory null file filelistentry link expandfilename directory filelistentry link string dirprefix directory null dirprefix null else directory endswith os file separator dirprefix directory else dirprefix directory os file separator boolean success fileutil copyfile paths get tmp touri paths get tofile touri true success oops file exists logger error file already exists downloadexternalfile download local file main file directory change path relative: dirprefix null filelistentry link startswith directory filelistentry link length dirprefix length filelistentry filelistentry filelistentry description filelistentry link substring dirprefix length filelistentry type callback downloadcomplete filelistentry tmp delete logger info cannot delete temporary file else canceled delete temp file: downloadfinished tmp delete logger info cannot delete temporary file construct file object pointing file linked whether link absolute relative main directory param directory main directory param link absolute relative link expanded file file expandfilename string directory string link file tofile file link relative link perhaps append directory: string dirprefix directory os file separator tofile isabsolute tofile file dirprefix link tofile called download thread download completed downloadfinished downloadfinished true editor getprogressbar setvisible false editor getprogressbarlabel setvisible false editor setokenabled true editor getprogressbar setvalue editor getprogressbar getmaximum string getsuggestedfilename string suffix string plannedname fileutil createfilenamefrompattern databasecontext getdatabase entry globals prefs get jabrefpreferences filenamepattern globals prefs getlayoutformatterpreferences globals journalabbreviationloader suffix isempty plannedname suffix download pdf produces unsupported filename http: sourceforge net tracker index php?func detail aid group id atid fixme: rework allow alphanumeric stuff so? https: msdn microsoft com en us library windows desktop aa365247 vs aspx#naming conventions http: superuser com questions characters safe cross platform file names linux windows os https: support apple com en us ht202808 os windows plannedname plannedname replaceall \\? \\ \\< \\> \\ \\\ \\: \\ \\[ \\] else os os plannedname plannedname replace plannedname look last link following characters gives extension reasonably named links param link link suffix excluding dot pdf string getsuffix string link string strippedlink link try try strip query string get correct suffix: url url url link url getquery null url getquery length link length strippedlink link substring link length url getquery length catch malformedurlexception report error since getting suffix non critical operation error triggered reported elsewhere first see stripped link gives reasonable suffix: string suffix strippedlinkindex strippedlink lastindexof strippedlinkindex strippedlinkindex strippedlink length suffix null else suffix strippedlink substring strippedlinkindex externalfiletypes getinstance isexternalfiletypebyext suffix suffix seem give reasonable file type try non stripped link: index link lastindexof index index link length occurrence end check path separators suffix definitely proper suffix give up: strippedlink substring strippedlinkindex indexof else suffix first one found anyway else check path separators suffix definitely proper suffix give up: link substring index indexof else link substring index else suffix callback interface users must implement order receive notification download complete functionalinterface interface downloadcallback downloadcomplete filelistentry file 
155	AutoSetLinks.java	GUI	net sf jabref gui externalfiles awt borderlayout awt event actionevent awt event actionlistener io file util arraylist util collection util collections util list util map util map entry util optional util set util stream collectors javax swing borderfactory javax swing jdialog javax swing jlabel javax swing jprogressbar javax swing swingconstants javax swing swingutilities net sf jabref globals net sf jabref gui externalfiletype externalfiletype net sf jabref gui externalfiletype externalfiletypes net sf jabref gui externalfiletype unknownexternalfiletype net sf jabref gui filelist filelistentry net sf jabref gui filelist filelisttablemodel net sf jabref gui undo namedcompound net sf jabref gui undo undoablefieldchange net sf jabref logic l10n localization net sf jabref logic util io fileutil net sf jabref logic util io regexpfilesearch net sf jabref model database bibdatabasecontext net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref preferences jabrefpreferences autosetlinks shortcut method links set without using gui param entries entries links set param databasecontext database links set autosetlinks list<bibentry> entries bibdatabasecontext databasecontext autosetlinks entries null null null databasecontext null null automatically add links set entries based globally stored list external file types entries modified corresponding undoedit elements added namedcompound given argument furthermore entries modified added set entries given argument <p> entries' bibtex keys must set entries lacking key ignored operation done thread returned caller wait needed param entries collection bibentry objects find links param ce namedcompound add undoedit elements param changedentries modified optional set bibentry objects modified entries added used status output debugging param singletablemodel ugly hack table model insert links already existing links duplicated removed parameter null entries count hack introduced bibtexentry yet support function getlisttablemodel filelistentryeditor editor holds instance table model reconstruct search succeeded param databasecontext database providing relevant file directory param callback actionlistener notified event dispatch thread search finished actionevent id links added id one links added parameter null means callback notified param diag instantiated modal jdialog used display progress automatically setting parameter null means progress update shown thread performing automatically setting runnable autosetlinks list<bibentry> entries namedcompound ce set<bibentry> changedentries filelisttablemodel singletablemodel bibdatabasecontext databasecontext actionlistener callback jdialog diag collection<externalfiletype> types externalfiletypes getinstance getexternalfiletypeselection diag null jprogressbar prog jprogressbar swingconstants horizontal types size jlabel label jlabel localization lang searching files prog setindeterminate true prog setborder borderfactory createemptyborder diag settitle localization lang automatically setting file links diag getcontentpane add prog borderlayout center diag getcontentpane add label borderlayout south diag pack diag setlocationrelativeto diag getparent runnable runnable override run determine directories search list<file> dirs arraylist<> list<string> dirss databasecontext getfiledirectory globals prefs getfiledirectorypreferences dirs addall dirss stream map file::new collect collectors tolist determine extensions list<string> extensions arraylist<> externalfiletype type types extensions add type getextension run search operation: map<bibentry list<file>> result globals prefs getboolean jabrefpreferences autolink use reg exp search key string regexp globals prefs get jabrefpreferences reg exp search expression key result regexpfilesearch findfilesforset entries extensions dirs regexp globals prefs getkeyworddelimiter else boolean autolinkexactkeyonly globals prefs getboolean jabrefpreferences autolink exact key result fileutil findassociatedfiles entries extensions dirs autolinkexactkeyonly boolean foundany false iterate entries: entry<bibentry list<file>> entryfilepair result entryset filelisttablemodel tablemodel optional<string> oldval entryfilepair getkey getfield fieldname file singletablemodel null tablemodel filelisttablemodel oldval ifpresent tablemodel::setcontent else assert entries size tablemodel singletablemodel list<file> files entryfilepair getvalue file files fileutil shortenfilename dirss boolean alreadyhas false system println file: getpath tablemodel getrowcount filelistentry existingentry tablemodel getentry system println comp: existingentry getlink file existingentry link equals alreadyhas true foundany true break alreadyhas foundany true optional<externalfiletype> type optional<string> extension fileutil getfileextension extension ispresent type externalfiletypes getinstance getexternalfiletypebyext extension get else type optional unknownexternalfiletype filelistentry flentry filelistentry getname getpath type tablemodel addentry tablemodel getrowcount flentry string newval tablemodel getstringrepresentation newval isempty newval null ce null store undo information undoablefieldchange change undoablefieldchange entryfilepair getkey fieldname file oldval orelse null newval ce addedit change hack: table model given modify entry singletablemodel null entryfilepair getkey setfield fieldname file newval changedentries null changedentries add entryfilepair getkey handle callbacks dialog fixme: id signals action successful id foundany swingutilities invokelater runnable override run diag null diag dispose callback null callback actionperformed actionevent id swingutilities invokelater show dialog hidden task done diag null diag setvisible true automatically add links entry table model given argument based globally stored list external file types entry modified entry's bibtex key must set param entry bibentry find links param singletablemodel table model insert links already existing links duplicated removed param databasecontext database providing relevant file directory param callback actionlistener notified event dispatch thread search finished actionevent id links added id one links added parameter null means callback notified passed actionevent constructed id id something done nothing done param diag instantiated modal jdialog used display progress automatically setting parameter null means progress update shown runnable able perform automatically setting runnable autosetlinks bibentry entry filelisttablemodel singletablemodel bibdatabasecontext databasecontext actionlistener callback jdialog diag autosetlinks collections singletonlist entry null null singletablemodel databasecontext callback diag 
156	WriteXMPAction.java	GUI	net sf jabref gui externalfiles awt borderlayout awt color awt dimension awt event actionevent io file util arraylist util collection util list javax swing abstractaction javax swing actionmap javax swing borderfactory javax swing inputmap javax swing jbutton javax swing jcomponent javax swing jdialog javax swing jframe javax swing joptionpane javax swing jpanel javax swing jscrollpane javax swing jtextarea javax swing scrollpaneconstants javax swing swingutilities net sf jabref globals net sf jabref gui basepanel net sf jabref gui filelist filelistentry net sf jabref gui filelist filelisttablemodel net sf jabref gui keyboard keybinding net sf jabref gui worker abstractworker net sf jabref logic l10n localization net sf jabref logic util io fileutil net sf jabref logic xmp xmputil net sf jabref model database bibdatabase net sf jabref model entry bibentry net sf jabref model entry fieldname com jgoodies forms builder buttonbarbuilder action goes selected entries basepanel attempts write xmp data external pdf writexmpaction abstractworker basepanel panel collection<bibentry> entries bibdatabase database optionsdialog optdiag boolean goon true skipped entrieschanged errors writexmpaction basepanel panel panel panel override init database panel getdatabase get entries check makes sense perform operation entries panel getselectedentries entries isempty entries database getentries entries isempty joptionpane showmessagedialog panel localization lang operation requires one entries selected localization lang write xmp metadata joptionpane error message goon false else response joptionpane showconfirmdialog panel localization lang write xmp metadata pdfs current database? localization lang write xmp metadata joptionpane yes cancel option joptionpane question message response joptionpane yes option goon false errors entrieschanged skipped optdiag null optdiag optionsdialog panel frame optdiag open panel output localization lang writing xmp metadata override run goon bibentry entry entries make list pdfs linked entry: list<file> files arraylist<> first check legacy pdf field: entry getfield fieldname pdf ifpresent pdf fileutil expandfilename pdf panel getbibdatabasecontext getfiledirectory fieldname pdf globals prefs getfiledirectorypreferences ifpresent files::add check file field: list<string> dirs panel getbibdatabasecontext getfiledirectory globals prefs getfiledirectorypreferences entry hasfield fieldname file filelisttablemodel tm filelisttablemodel entry getfield fieldname file ifpresent tm::setcontent tm getrowcount filelistentry flentry tm getentry flentry type ispresent pdf equalsignorecase flentry type get getname fileutil expandfilename flentry link dirs ifpresent files::add swingutilities invokelater optdiag getprogressarea append entry getcitekeyoptional orelse localization lang undefined \n files isempty skipped swingutilities invokelater optdiag getprogressarea append localization lang skipped pdf linked \n else file file files file exists try xmputil writexmp file entry database globals prefs getxmppreferences swingutilities invokelater optdiag getprogressarea append localization lang ok \n entrieschanged catch exception swingutilities invokelater optdiag getprogressarea append localization lang error writing file getpath ':\n optdiag getprogressarea append getlocalizedmessage \n errors else skipped swingutilities invokelater optdiag getprogressarea append localization lang skipped pdf exist :\n optdiag getprogressarea append file getpath \n optdiag iscanceled swingutilities invokelater optdiag getprogressarea append \n localization lang operation canceled \n break swingutilities invokelater optdiag getprogressarea append \n localization lang finished writing xmp file skipped errors string valueof entrieschanged string valueof skipped string valueof errors optdiag done override update goon panel output localization lang finished writing xmp file skipped errors string valueof entrieschanged string valueof skipped string valueof errors optionsdialog jdialog jbutton okbutton jbutton localization lang ok jbutton cancelbutton jbutton localization lang cancel boolean canceled jtextarea progressarea optionsdialog jframe parent super parent localization lang writing xmp metadata selected entries false okbutton setenabled false okbutton addactionlistener dispose abstractaction cancel abstractaction override actionperformed actionevent canceled true cancelbutton addactionlistener cancel inputmap im cancelbutton getinputmap jcomponent focused window actionmap cancelbutton getactionmap im put globals getkeyprefs getkey keybinding close dialog close put close cancel progressarea jtextarea jscrollpane scrollpane jscrollpane progressarea scrollpaneconstants vertical scrollbar always scrollpaneconstants horizontal scrollbar never dimension progressarea getpreferredsize height scrollpane gethorizontalscrollbar getheight width scrollpane getverticalscrollbar getwidth panel setsize progressarea setbackground color white progressarea seteditable false progressarea setborder borderfactory createemptyborder progressarea settext jpanel tmppanel jpanel tmppanel setborder borderfactory createemptyborder tmppanel add scrollpane progressarea setpreferredsize dimension buttonbarbuilder bb buttonbarbuilder bb addglue bb addbutton okbutton bb addrelatedgap bb addbutton cancelbutton bb addglue jpanel bbpanel bb getpanel bbpanel setborder borderfactory createemptyborder getcontentpane add tmppanel borderlayout center getcontentpane add bbpanel borderlayout south pack setresizable false done okbutton setenabled true cancelbutton setenabled false open progressarea settext canceled false optdiag setlocationrelativeto panel frame okbutton setenabled false cancelbutton setenabled true okbutton requestfocus optdiag setvisible true boolean iscanceled canceled jtextarea getprogressarea progressarea 
157	JEditorPaneWithHighlighting.java	GUI	net sf jabref gui util optional util regex matcher util regex pattern javax swing jeditorpane javax swing text badlocationexception javax swing text defaulthighlighter javax swing text document javax swing text highlighter javax swing text layeredhighlighter layerpainter net sf jabref gui fieldeditors jtextareawithhighlighting net sf jabref logic search searchqueryhighlightlistener org apache commons logging log org apache commons logging logfactory jeditorpanewithhighlighting jeditorpane searchqueryhighlightlistener log logger logfactory getlog jtextareawithhighlighting highlightpattern optional<pattern> highlightpattern highlighter highlighter gethighlighter highlighter removeallhighlights highlightpattern null highlightpattern ispresent string text getdocumenttext matcher matcher highlightpattern get matcher text layerpainter painter defaulthighlighter defaultpainter matcher find try highlighter addhighlight matcher start matcher end painter catch badlocationexception ble occur matcher works right logger warn highlighting possible bad location ble string getdocumenttext document doc getdocument string text try text doc gettext doc getlength catch exception logger error error getting document text text text 
158	NewProtectedTermsFileDialog.java	GUI	net sf jabref gui protectedterms awt borderlayout awt event actionevent nio file path util optional javax swing abstractaction javax swing action javax swing borderfactory javax swing jbutton javax swing jcheckbox javax swing jcomponent javax swing jdialog javax swing jframe javax swing jtextfield net sf jabref globals net sf jabref gui filedialog net sf jabref gui jabrefframe net sf jabref gui keyboard keybinding net sf jabref logic l10n localization net sf jabref logic protectedterms protectedtermsloader net sf jabref logic util fileextensions com jgoodies forms builder buttonbarbuilder com jgoodies forms builder formbuilder com jgoodies forms layout formlayout newprotectedtermsfiledialog jdialog jtextfield newfile jtextfield jtextfield newdescription jtextfield jcheckbox enabled jcheckbox localization lang enabled boolean addokpressed protectedtermsloader loader jframe parent newprotectedtermsfiledialog jdialog parent protectedtermsloader loader super parent localization lang terms file true loader loader setupdialog setlocationrelativeto parent newprotectedtermsfiledialog jabrefframe mainframe protectedtermsloader loader super mainframe localization lang terms file true parent mainframe loader loader setupdialog setlocationrelativeto mainframe setupdialog jbutton browse jbutton localization lang browse filedialog dialog filedialog parent withextension fileextensions terms dialog setdefaultextension fileextensions terms browse addactionlistener optional<path> file dialog showdialogandgetselectedfile file ifpresent newfile settext toabsolutepath tostring build content panel formbuilder builder formbuilder create builder layout formlayout left:pref 4dlu fill:100dlu:grow 4dlu pref 4dlu 4dlu builder add localization lang description xy builder add newdescription xyw builder add localization lang file xy builder add newfile xy builder add browse xy builder add enabled xyw enabled setselected true builder padding 10dlu 10dlu 10dlu 10dlu getcontentpane add builder build borderlayout center buttons buttonbarbuilder bb buttonbarbuilder jbutton addokbutton jbutton localization lang ok jbutton addcancelbutton jbutton localization lang cancel bb addglue bb addbutton addokbutton bb addbutton addcancelbutton bb addglue bb getpanel setborder borderfactory createemptyborder getcontentpane add bb getpanel borderlayout south addokbutton addactionlistener addokpressed true loader addnewprotectedtermslist newdescription gettext newfile gettext enabled isselected dispose action cancelaction abstractaction override actionperformed actionevent addokpressed false dispose addcancelbutton addactionlistener cancelaction key bindings: bb getpanel getinputmap jcomponent focused window put globals getkeyprefs getkey keybinding close dialog close bb getpanel getactionmap put close cancelaction pack boolean isokpressed addokpressed 
159	ProtectedTermsDialog.java	GUI	net sf jabref gui protectedterms awt borderlayout awt dimension awt event actionevent awt event actionlistener awt event mouseadapter awt event mouseevent io ioexception nio file path util objects util optional javax swing abstractaction javax swing action javax swing actionmap javax swing borderfactory javax swing inputmap javax swing jbutton javax swing jcheckboxmenuitem javax swing jcomponent javax swing jdialog javax swing jmenuitem javax swing joptionpane javax swing jpopupmenu javax swing jscrollpane javax swing jtable javax swing jtextarea javax swing jtextfield javax swing keystroke javax swing listselectionmodel javax swing event listselectionevent javax swing event listselectionlistener javax swing table defaulttablemodel javax swing table tablecolumnmodel net sf jabref globals net sf jabref gui filedialog net sf jabref gui icontheme net sf jabref gui jabrefframe net sf jabref gui desktop jabrefdesktop net sf jabref gui externalfiletype externalfiletype net sf jabref gui externalfiletype externalfiletypes net sf jabref gui externalfiletype unknownexternalfiletype net sf jabref gui keyboard keybinding net sf jabref gui util guiutil net sf jabref gui util windowlocation net sf jabref logic l10n localization net sf jabref logic protectedterms protectedtermslist net sf jabref logic protectedterms protectedtermsloader net sf jabref logic util fileextensions net sf jabref model database bibdatabasecontext net sf jabref model entry bibentry net sf jabref preferences jabrefpreferences com jgoodies forms builder buttonbarbuilder com jgoodies forms builder formbuilder com jgoodies forms layout formlayout org apache commons logging log org apache commons logging logfactory produces dialog box managing term list files protectedtermsdialog log logger logfactory getlog protectedtermsdialog jabrefframe frame jdialog diag jtable table defaulttablemodel tablemodel jpopupmenu popup jpopupmenu jmenuitem edit jmenuitem localization lang edit jmenuitem show jmenuitem localization lang view jmenuitem remove jmenuitem localization lang remove jmenuitem reload jmenuitem localization lang reload jmenuitem enabled jcheckboxmenuitem localization lang enabled jbutton loadbutton jbutton icontheme jabreficon open geticon jbutton removebutton jbutton icontheme jabreficon delete entry geticon jbutton newbutton jbutton icontheme jabreficon geticon actionlistener removeaction jbutton ok jbutton localization lang ok jbutton cancel jbutton localization lang cancel boolean okpressed protectedtermsloader loader protectedtermsdialog jabrefframe frame protectedtermsloader loader frame objects requirenonnull frame loader objects requirenonnull loader init init setuppopupmenu loadbutton addactionlistener actionevent addfiledialog adddialog addfiledialog adddialog setvisible true adddialog getfilename ifpresent filename loader addprotectedtermslistfromfile filename true tablemodel firetabledatachanged loadbutton settooltiptext localization lang add terms file removebutton addactionlistener removeaction removebutton settooltiptext localization lang remove terms file newbutton addactionlistener actionevent newprotectedtermsfiledialog newdialog newprotectedtermsfiledialog diag loader newdialog setvisible true tablemodel firetabledatachanged newbutton settooltiptext localization lang terms file setuptable build dialog diag jdialog frame localization lang manage terms files true formbuilder builder formbuilder create builder layout formlayout fill:pref:grow 4dlu left:pref 4dlu left:pref 4dlu left:pref 100dlu:grow 4dlu pref builder add jscrollpane table xyw builder add newbutton xy builder add loadbutton xy builder add removebutton xy builder padding 5dlu 5dlu 5dlu 5dlu diag add builder getpanel borderlayout center abstractaction oklistener abstractaction override actionperformed actionevent event write changes preferences storepreferences diag dispose ok addactionlistener oklistener action cancellistener abstractaction override actionperformed actionevent event restore preferences loader update globals prefs getprotectedtermspreferences diag dispose cancel addactionlistener cancellistener buttonbarbuilder bb buttonbarbuilder bb addglue bb addbutton ok bb addbutton cancel bb addglue bb getpanel setborder borderfactory createemptyborder diag add bb getpanel borderlayout south actionmap bb getpanel getactionmap inputmap im bb getpanel getinputmap jcomponent focused window im put globals getkeyprefs getkey keybinding close dialog close put close cancellistener im put keystroke getkeystroke enter enterok put enterok oklistener diag pack windowlocation pw windowlocation diag jabrefpreferences terms pos jabrefpreferences terms pos jabrefpreferences terms size jabrefpreferences terms size pw displaywindowatstoredlocation setuptable tablemodel termtablemodel table jtable tablemodel tablecolumnmodel cm table getcolumnmodel cm getcolumn setminwidth cm getcolumn getpreferredwidth cm getcolumn setmaxwidth cm getcolumn getpreferredwidth cm getcolumn setpreferredwidth cm getcolumn setpreferredwidth guiutil correctrowheight table table setselectionmode listselectionmodel single selection table addmouselistener mouseadapter override mousepressed mouseevent mouseevent mouseevent ispopuptrigger tablepopup mouseevent override mousereleased mouseevent mouseevent mouseevent ispopuptrigger tablepopup mouseevent override mouseclicked mouseevent mouseevent mouseevent getclickcount getselectedtermslist ifpresent list list setenabled list isenabled tablemodel firetabledatachanged table getselectionmodel addlistselectionlistener entryselectionlistener setuppopupmenu popup add edit popup add show popup add remove popup add reload popup addseparator popup add enabled add action listener edit menu item supposed open term file external editor: edit addactionlistener actionevent getselectedtermslist ifpresent term optional<externalfiletype> type externalfiletypes getinstance getexternalfiletypebyext terms string filename term getlocation try type ispresent jabrefdesktop openexternalfileanyformat bibdatabasecontext filename type else fall back txt optional<externalfiletype> txttype externalfiletypes getinstance getexternalfiletypebyext txt txttype ispresent jabrefdesktop openexternalfileanyformat bibdatabasecontext filename txttype else jabrefdesktop openexternalfileunknown frame bibentry bibdatabasecontext filename unknownexternalfiletype terms catch ioexception logger warn problem open terms file editor add action listener show menu item supposed open term file dialog: show addactionlistener actionevent getselectedtermslist ifpresent this::displayterms create action listener removing term file also used remove button removeaction actionevent getselectedtermslist ifpresent list list isinternallist joptionpane showconfirmdialog diag localization lang sure want remove terms file? localization lang remove terms file joptionpane yes option joptionpane yes option loader removeprotectedtermslist list logger info problem removing terms file tablemodel firetabledatachanged add remove menu item remove addactionlistener removeaction add action listener reload menu item supposed reload external term file reload addactionlistener actionevent getselectedtermslist ifpresent loader::reloadprotectedtermslist enabled addactionlistener actionevent getselectedtermslist ifpresent list list setenabled enabled isselected setvisible boolean visible okpressed false diag setvisible visible get currently selected term list selected term list empty term list selected optional<protectedtermslist> getselectedtermslist table getselectedrow optional loader getprotectedtermslists get table getselectedrow optional empty termtablemodel defaulttablemodel override getcolumncount override getrowcount loader getprotectedtermslists size override string getcolumnname switch case 0: localization lang enabled case 1: localization lang description case 2: localization lang file default: override object getvalueat row column switch column case 0: loader getprotectedtermslists get row isenabled case 1: loader getprotectedtermslists get row getdescription case 2: protectedtermslist list loader getprotectedtermslists get row list isinternallist localization lang internal list list getlocation list getlocation default: override boolean iscelleditable row column column override class<?> getcolumnclass column switch column case 0: boolean case 1: string case 2: string default: string override setvalueat object cell row column column protectedtermslist list loader getprotectedtermslists get row list setenabled list isenabled firetablecellupdated row column boolean isokpressed okpressed tablepopup mouseevent popup show getcomponent getx gety displayterms protectedtermslist list make dialog box display contents: jdialog dd jdialog diag list getdescription list getlocation true jtextarea ta jtextarea list gettermlisting ta seteditable false jscrollpane sp jscrollpane ta sp setpreferredsize dimension dd getcontentpane add sp borderlayout center jbutton okbutton jbutton localization lang ok buttonbarbuilder bb buttonbarbuilder bb addglue bb addbutton okbutton bb addglue bb getpanel setborder borderfactory createemptyborder dd getcontentpane add bb getpanel borderlayout south okbutton addactionlistener actionevent dd dispose dd pack dd setlocationrelativeto diag dd setvisible true listener table monitoring current selection entryselectionlistener listselectionlistener override valuechanged listselectionevent listevent getselectedtermslist ifpresent list enable disable popup menu items buttons list isinternallist remove setenabled false edit setenabled false reload setenabled false removebutton setenabled false else remove setenabled true edit setenabled true reload setenabled true removebutton setenabled true enabled setselected list isenabled addfiledialog jdialog jtextfield newfile jtextfield boolean addokpressed addfiledialog super diag localization lang add terms file true jbutton browse jbutton localization lang browse filedialog dialog filedialog frame withextension fileextensions terms dialog setdefaultextension fileextensions terms browse addactionlistener optional<path> file dialog showdialogandgetselectedfile file ifpresent newfile settext toabsolutepath tostring build content panel formbuilder builder formbuilder create builder layout formlayout left:pref 4dlu fill:100dlu:grow 4dlu pref builder add localization lang file xy builder add newfile xy builder add browse xy builder padding 10dlu 10dlu 10dlu 10dlu getcontentpane add builder build borderlayout center buttons buttonbarbuilder bb buttonbarbuilder jbutton addokbutton jbutton localization lang ok jbutton addcancelbutton jbutton localization lang cancel bb addglue bb addbutton addokbutton bb addbutton addcancelbutton bb addglue bb getpanel setborder borderfactory createemptyborder getcontentpane add bb getpanel borderlayout south addokbutton addactionlistener addokpressed true dispose action cancelaction abstractaction override actionperformed actionevent addokpressed false dispose addcancelbutton addactionlistener cancelaction key bindings: bb getpanel getinputmap jcomponent focused window put globals getkeyprefs getkey keybinding close dialog close bb getpanel getactionmap put close cancelaction pack setlocationrelativeto diag optional<string> getfilename addokpressed newfile gettext null newfile gettext isempty optional newfile gettext optional empty storepreferences globals prefs setprotectedtermspreferences loader 
160	CleanupActionsListModel.java	GUI	net sf jabref gui cleanup util arraylist util list util objects javax swing listmodel javax swing event listdataevent javax swing event listdatalistener net sf jabref model cleanup fieldformattercleanup net sf jabref model cleanup fieldformattercleanups cleanupactionslistmodel listmodel<fieldformattercleanup> list<fieldformattercleanup> cleanupactions list<listdatalistener> listeners arraylist<> cleanupactionslistmodel list<fieldformattercleanup> cleanupaction objects requirenonnull cleanupaction cleanupactions cleanupaction addcleanupaction fieldformattercleanup action cleanupactions contains action cleanupactions add action listdatalistener listener listeners listener intervaladded listdataevent action listdataevent interval added cleanupactions size cleanupactions size removes action specified index list removal done index code index code< list size param index index remove removeatindex index index index cleanupactions size fieldformattercleanup action cleanupactions remove index listdatalistener listener listeners listener intervalremoved listdataevent action listdataevent interval removed index index list<fieldformattercleanup> getallactions cleanupactions override getsize cleanupactions size override fieldformattercleanup getelementat index cleanupactions get index override addlistdatalistener listdatalistener listeners add override removelistdatalistener listdatalistener listeners remove reset fieldformattercleanups defaultformatters cleanupactions arraylist<> defaultformatters getconfiguredactions listdatalistener listener listeners listener contentschanged listdataevent listdataevent contents changed cleanupactions size 
161	FieldFormatterCleanupsPanel.java	GUI	net sf jabref gui cleanup awt borderlayout awt component awt event actionevent awt event actionlistener awt event mouseevent awt event mousemotionadapter util arraylist util collections util list util objects util optional util stream collectors javax swing defaultlistcellrenderer javax swing jbutton javax swing jcheckbox javax swing jcombobox javax swing jlist javax swing jpanel javax swing jtextarea javax swing listselectionmodel javax swing uimanager javax swing event listdataevent javax swing event listdatalistener net sf jabref jabrefgui net sf jabref logic cleanup cleanups net sf jabref logic l10n localization net sf jabref model cleanup fieldformattercleanup net sf jabref model cleanup fieldformattercleanups net sf jabref model cleanup formatter net sf jabref model database bibdatabasecontext net sf jabref model entry bibentry net sf jabref model entry internalbibtexfields net sf jabref model metadata metadata com jgoodies forms builder formbuilder com jgoodies forms layout formlayout fieldformattercleanupspanel jpanel string description localization lang description jcheckbox cleanupenabled fieldformattercleanups fieldformattercleanups jlist<?> actionslist jcombobox<?> formatterscombobox jcombobox<string> selectfieldcombobox jbutton addbutton jtextarea descriptionareatext jbutton removebutton jbutton resetbutton jbutton recommendbutton fieldformattercleanups defaultformatters fieldformattercleanupspanel string description fieldformattercleanups defaultformatters defaultformatters objects requirenonnull defaultformatters cleanupenabled jcheckbox description setvalues metadata metadata objects requirenonnull metadata optional<fieldformattercleanups> saveactions metadata getsaveactions setvalues saveactions orelse cleanups default save actions setvalues fieldformattercleanups formattercleanups fieldformattercleanups formattercleanups first clear existing content removeall list<fieldformattercleanup> configuredactions fieldformattercleanups getconfiguredactions copy necessary original list unmodifiable list<fieldformattercleanup> actionstodisplay arraylist<> configuredactions buildlayout actionstodisplay buildlayout list<fieldformattercleanup> actionstodisplay formbuilder builder formbuilder create layout formlayout left:pref 13dlu left:pref:grow 4dlu pref 4dlu pref pref 2dlu pref 2dlu pref 4dlu pref 2dlu pref 2dlu pref 2dlu pref 2dlu pref 2dlu fill:pref:grow 2dlu builder add cleanupenabled xyw actionslist jlist<> cleanupactionslistmodel actionstodisplay actionslist setselectionmode listselectionmodel single selection actionslist addmousemotionlistener mousemotionadapter override mousemoved mouseevent super mousemoved cleanupactionslistmodel cleanupactionslistmodel actionslist getmodel index actionslist locationtoindex getpoint index actionslist settooltiptext getelementat index getformatter getdescription actionslist getmodel addlistdatalistener listdatalistener override intervalremoved listdataevent index0 sufficient singleselection getindex0 item gets deleted next one becomes actionslist setselectedindex getindex0 getindex0 actionslist setselectedindex getindex0 override intervaladded listdataevent empty needed override contentschanged listdataevent empty needed builder add actionslist xyw resetbutton jbutton localization lang reset resetbutton addactionlistener cleanupactionslistmodel actionslist getmodel reset defaultformatters bibdatabasecontext databasecontext jabrefgui getmainframe getcurrentbasepanel getdatabasecontext recommendbutton jbutton localization lang recommended databasecontext getmode getformattedname boolean isbiblatex databasecontext isbiblatexmode recommendbutton addactionlistener isbiblatex cleanupactionslistmodel actionslist getmodel reset cleanups recommend biblatex actions else cleanupactionslistmodel actionslist getmodel reset cleanups recommend bibtex actions removebutton jbutton localization lang remove selected removebutton addactionlistener cleanupactionslistmodel actionslist getmodel removeatindex actionslist getselectedindex builder add removebutton xy builder add resetbutton xy builder add recommendbutton xy builder add getselectorpanel xyw makedescriptiontextarealikejlabel builder add descriptionareatext xyw setlayout borderlayout add builder getpanel borderlayout west updatedescription make sure layout set according checkbox cleanupenabled addactionlistener enablementstatuslistener fieldformattercleanups isenabled cleanupenabled setselected fieldformattercleanups isenabled create textarea looks behaves like jlabel advantage supporting multine wordwrap makedescriptiontextarealikejlabel descriptionareatext jtextarea description descriptionareatext setlinewrap true descriptionareatext setwrapstyleword true descriptionareatext setcolumns descriptionareatext seteditable false descriptionareatext setopaque false descriptionareatext setfocusable false descriptionareatext setcursor null descriptionareatext setfont uimanager getfont label font updatedescription fieldformattercleanup formattercleanup getfieldformattercleanup formattercleanup null descriptionareatext settext description formattercleanup getformatter getdescription else formatter selectedformatter getfieldformatter selectedformatter null descriptionareatext settext description selectedformatter getdescription else descriptionareatext settext description panel contains two comboboxes add button returns created jpanel jpanel getselectorpanel formbuilder builder formbuilder create layout formlayout left:pref:grow 4dlu left:pref:grow 4dlu pref:grow 4dlu right:pref pref 2dlu pref:grow 2dlu list<string> fieldnames internalbibtexfields getallpublicandinteralfieldnames fieldnames add bibentry key field collections sort fieldnames string[] allpluskey fieldnames toarray string[fieldnames size selectfieldcombobox jcombobox<> allpluskey selectfieldcombobox seteditable true builder add selectfieldcombobox xy list<string> formatternames cleanups getavailableformatters stream map formatter::getname collect collectors tolist list<string> formatterdescriptions cleanups getavailableformatters stream map formatter::getdescription collect collectors tolist formatterscombobox jcombobox<> formatternames toarray formatterscombobox setrenderer defaultlistcellrenderer override component getlistcellrenderercomponent jlist<?> list object value index boolean isselected boolean cellhasfocus index index formatterdescriptions size value null settooltiptext formatterdescriptions get index super getlistcellrenderercomponent list value index isselected cellhasfocus formatterscombobox additemlistener updatedescription builder add formatterscombobox xy addbutton jbutton localization lang add addbutton addactionlistener fieldformattercleanup newaction getfieldformattercleanup newaction null cleanupactionslistmodel actionslist getmodel addcleanupaction newaction builder add addbutton xy builder getpanel storesettings metadata metadata objects requirenonnull metadata fieldformattercleanups formattercleanups getformattercleanups actions removed remove save actions metadata formattercleanups getconfiguredactions isempty metadata clearsaveactions metadata setsaveactions formattercleanups fieldformattercleanups getformattercleanups list<fieldformattercleanup> actions cleanupactionslistmodel actionslist getmodel getallactions fieldformattercleanups cleanupenabled isselected actions boolean haschanged fieldformattercleanups equals getformattercleanups boolean isdefaultsaveactions cleanups default save actions equals getformattercleanups fieldformattercleanup getfieldformattercleanup formatter selectedformatter getfieldformatter string fieldkey selectfieldcombobox getselecteditem tostring fieldformattercleanup fieldkey selectedformatter formatter getfieldformatter formatter selectedformatter null string selectedformattername formatterscombobox getselecteditem tostring formatter formatter cleanups getavailableformatters formatter getname equals selectedformattername selectedformatter formatter break selectedformatter enablementstatuslistener actionlistener enablementstatuslistener boolean initialstatus setstatus initialstatus override actionperformed actionevent boolean enablementstatus cleanupenabled isselected setstatus enablementstatus setstatus boolean status actionslist setenabled status selectfieldcombobox setenabled status formatterscombobox setenabled status addbutton setenabled status removebutton setenabled status resetbutton setenabled status recommendbutton setenabled status 
162	CleanupPresetPanel.java	GUI	net sf jabref gui cleanup util enumset util objects util set javax swing jcheckbox javax swing jlabel javax swing jpanel net sf jabref globals net sf jabref logic cleanup cleanuppreset net sf jabref logic cleanup cleanups net sf jabref logic l10n localization net sf jabref model database bibdatabasecontext net sf jabref model entry fieldname net sf jabref preferences jabrefpreferences com jgoodies forms builder formbuilder com jgoodies forms layout formlayout cleanuppresetpanel bibdatabasecontext databasecontext jcheckbox cleanupdoi jcheckbox cleanupissn jcheckbox cleanupmovepdf jcheckbox cleanupmakepathsrelative jcheckbox cleanuprenamepdf jcheckbox cleanuprenamepdfonlyrelativepaths jcheckbox cleanupupgradeexternallinks jcheckbox cleanupbiblatex fieldformattercleanupspanel cleanupformatters jpanel panel cleanuppreset cleanuppreset cleanuppresetpanel bibdatabasecontext databasecontext cleanuppreset cleanuppreset cleanuppreset objects requirenonnull cleanuppreset databasecontext objects requirenonnull databasecontext init init cleanupdoi jcheckbox localization lang move dois note url field doi field remove http prefix cleanupissn jcheckbox localization lang reformat issn databasecontext getmetadata getdefaultfiledirectory ispresent cleanupmovepdf jcheckbox localization lang move linked files default file directory databasecontext getmetadata getdefaultfiledirectory get else cleanupmovepdf jcheckbox localization lang move linked files default file directory cleanupmovepdf setenabled false cleanupmovepdf setselected false cleanupmakepathsrelative jcheckbox localization lang make paths linked files relative possible cleanuprenamepdf jcheckbox localization lang rename pdfs given filename format pattern cleanuprenamepdf addchangelistener event cleanuprenamepdfonlyrelativepaths setenabled cleanuprenamepdf isselected cleanuprenamepdfonlyrelativepaths jcheckbox localization lang rename pdfs relative path cleanupupgradeexternallinks jcheckbox localization lang upgrade external pdf ps links use 0' field fieldname file cleanupbiblatex jcheckbox localization lang convert biblatex format example move value 'journal' field 'journaltitle' cleanupformatters fieldformattercleanupspanel localization lang run field formatter: cleanups default save actions updatedisplay cleanuppreset formlayout layout formlayout left:15dlu pref:grow pref pref pref pref pref pref pref pref pref 190dlu fill:pref:grow formbuilder builder formbuilder create layout layout builder add cleanupdoi xyw builder add cleanupupgradeexternallinks xyw builder add cleanupmovepdf xyw builder add cleanupmakepathsrelative xyw builder add cleanuprenamepdf xyw string currentpattern localization lang filename format pattern concat concat globals prefs get jabrefpreferences filenamepattern builder add jlabel currentpattern xy builder add cleanuprenamepdfonlyrelativepaths xy builder add cleanupbiblatex xyw builder add cleanupissn xyw builder add cleanupformatters xyw panel builder build updatedisplay cleanuppreset preset cleanupdoi setselected preset iscleanupdoi cleanupmovepdf isenabled cleanupmovepdf setselected preset ismovepdf cleanupmakepathsrelative setselected preset ismakepathsrelative cleanuprenamepdf setselected preset isrenamepdf cleanuprenamepdfonlyrelativepaths setselected preset isrenamepdfonlyrelativepaths cleanuprenamepdfonlyrelativepaths setenabled cleanuprenamepdf isselected cleanupupgradeexternallinks setselected preset iscleanupupgradeexternallinks cleanupbiblatex setselected preset isconverttobiblatex cleanupbiblatex setselected preset iscleanupissn cleanupformatters setvalues preset getformattercleanups jpanel getpanel panel cleanuppreset getcleanuppreset set<cleanuppreset cleanupstep> activejobs enumset noneof cleanuppreset cleanupstep cleanupmovepdf isselected activejobs add cleanuppreset cleanupstep move pdf cleanupdoi isselected activejobs add cleanuppreset cleanupstep clean doi cleanupissn isselected activejobs add cleanuppreset cleanupstep clean issn cleanupmakepathsrelative isselected activejobs add cleanuppreset cleanupstep make paths relative cleanuprenamepdf isselected cleanuprenamepdfonlyrelativepaths isselected activejobs add cleanuppreset cleanupstep rename pdf relative paths else activejobs add cleanuppreset cleanupstep rename pdf cleanupupgradeexternallinks isselected activejobs add cleanuppreset cleanupstep clean upgrade external links cleanupbiblatex isselected activejobs add cleanuppreset cleanupstep convert biblatex activejobs add cleanuppreset cleanupstep fix file links cleanuppreset cleanuppreset activejobs cleanupformatters getformattercleanups cleanuppreset 
163	ImportInspectionDialog.java	GUI	net sf jabref gui importer awt borderlayout awt color awt dimension awt rectangle awt event actionevent awt event actionlistener awt event mouseevent awt event mouselistener awt event windowadapter awt event windowevent io ioexception util arraylist util arrays util collection util collections util comparator util hashmap util hashset util list util map util optional util set javax swing abstractaction javax swing action javax swing actionmap javax swing borderfactory javax swing imageicon javax swing inputmap javax swing jbutton javax swing jcheckbox javax swing jcomponent javax swing jdialog javax swing jlabel javax swing jmenu javax swing jmenuitem javax swing joptionpane javax swing jpanel javax swing jpopupmenu javax swing jprogressbar javax swing jscrollpane javax swing jsplitpane javax swing jtable javax swing swingconstants javax swing swingutilities javax swing table tablecellrenderer javax swing table tablecolumnmodel javax swing table tablemodel net sf jabref globals net sf jabref jabrefexecutorservice net sf jabref gui basepanel net sf jabref gui duplicateresolverdialog net sf jabref gui duplicateresolverdialog duplicateresolverresult net sf jabref gui entrymarker net sf jabref gui guiglobals net sf jabref gui icontheme net sf jabref gui jabrefframe net sf jabref gui previewpanel net sf jabref gui desktop jabrefdesktop net sf jabref gui externalfiles autosetlinks net sf jabref gui externalfiles downloadexternalfile net sf jabref gui externalfiletype externalfilemenuitem net sf jabref gui filelist filelistentry net sf jabref gui filelist filelistentryeditor net sf jabref gui filelist filelisttablemodel net sf jabref gui groups grouptreenodeviewmodel net sf jabref gui groups undoablechangeentriesofgroup net sf jabref gui help helpaction net sf jabref gui keyboard keybinding net sf jabref gui renderer generalrenderer net sf jabref gui undo namedcompound net sf jabref gui undo undoableinsertentry net sf jabref gui undo undoableremoveentry net sf jabref gui util guiutil net sf jabref gui util comparator iconcomparator net sf jabref gui util component checkboxmessage net sf jabref logic bibtex comparator fieldcomparator net sf jabref logic bibtexkeypattern bibtexkeypatternutil net sf jabref logic help helpfile net sf jabref logic importer importinspector net sf jabref logic importer outputprinter net sf jabref logic l10n localization net sf jabref logic util updatefield net sf jabref model defaults net sf jabref model duplicatecheck net sf jabref model database bibdatabase net sf jabref model database bibdatabasecontext net sf jabref model database bibdatabasemode net sf jabref model entry authorlist net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model entry fieldproperty net sf jabref model entry idgenerator net sf jabref model entry internalbibtexfields net sf jabref model groups allentriesgroup net sf jabref model groups entriesgroupchange net sf jabref model groups grouptreenode net sf jabref model metadata metadata net sf jabref model strings stringutil net sf jabref preferences jabrefpreferences ca odell glazedlists basiceventlist ca odell glazedlists eventlist ca odell glazedlists sortedlist ca odell glazedlists event listevent ca odell glazedlists event listeventlistener ca odell glazedlists gui abstracttablecomparatorchooser ca odell glazedlists gui tableformat ca odell glazedlists swing defaulteventselectionmodel ca odell glazedlists swing defaulteventtablemodel ca odell glazedlists swing glazedlistsswing ca odell glazedlists swing tablecomparatorchooser com jgoodies forms builder buttonbarbuilder com jgoodies forms builder buttonstackbuilder org apache commons logging log org apache commons logging logfactory dialog allow selection entries part <p> usual way use pass importer following: <ul> <li>register callback get notified user wants stop li> <li>call setvisible true display dialog< li> <li>for entry found call addentry li> <li>call entrylistcomplete entries fetched< li> ul> <p> importer wants cancel call dispose method <p> importer receives stopfetching call stop fetching soon possible really critical good style contribute results via addentry call entrylistcomplete dispose receiving call importinspectiondialog jdialog importinspector outputprinter log logger logfactory getlog importinspectiondialog basepanel panel jabrefframe frame bibdatabasecontext bibdatabasecontext jsplitpane contentpane jsplitpane jsplitpane vertical split jtable gltable tablecomparatorchooser<bibentry> comparatorchooser defaulteventselectionmodel<bibentry> selectionmodel jprogressbar progressbar jprogressbar swingconstants horizontal jbutton ok jbutton localization lang ok jbutton generate jbutton localization lang generate eventlist<bibentry> entries basiceventlist<> sortedlist<bibentry> sortedlist duplicate resolving may require deletion old entries list<bibentry> entriestodelete arraylist<> string undoname list<callback> callbacks arraylist<> boolean newdatabase jpopupmenu popup jpopupmenu jbutton deselectallduplicates jbutton localization lang deselect duplicates jbutton stop jbutton localization lang stop previewpanel preview boolean generatedkeys set true keys generated boolean defaultselected true rectangle torect rectangle map<bibentry set<grouptreenode>> groupadditions hashmap<> jcheckbox autogenerate jcheckbox localization lang generate keys globals prefs getboolean jabrefpreferences generate keys inspection jlabel dupllabel jlabel icontheme jabreficon duplicate getsmallicon jlabel filelabel jlabel icontheme jabreficon file getsmallicon jlabel urllabel jlabel icontheme jabreficon www getsmallicon list<string> inspection fields arrays aslist fieldname author fieldname title fieldname year bibentry key field dupl col file col url col pad creates dialog displays given list fields table dialog allows another process add entries dynamically dialog shown param frame param panel importinspectiondialog jabrefframe frame basepanel panel string undoname boolean newdatabase super frame frame frame panel panel bibdatabasecontext panel null null panel getbibdatabasecontext undoname undoname newdatabase newdatabase seticonimage imageicon icontheme geticonurl jabreficon48 getimage preview previewpanel panel bibdatabasecontext dupllabel settooltiptext localization lang possible duplicate existing entry click resolve sortedlist sortedlist<> entries defaulteventtablemodel<bibentry> tablemodelgl defaulteventtablemodel<bibentry> glazedlistsswing eventtablemodelwiththreadproxylist sortedlist entrytableformat gltable entrytable tablemodelgl generalrenderer renderer generalrenderer color white gltable setdefaultrenderer jlabel renderer gltable setdefaultrenderer string renderer gltable getinputmap put globals getkeyprefs getkey keybinding delete entry delete deletelistener deletelistener deletelistener gltable getactionmap put delete deletelistener selectionmodel defaulteventselectionmodel<bibentry> glazedlistsswing eventselectionmodelwiththreadproxylist sortedlist gltable setselectionmodel selectionmodel selectionmodel getselected addlisteventlistener entryselectionlistener comparatorchooser tablecomparatorchooser install gltable sortedlist abstracttablecomparatorchooser multiple column keyboard setupcomparatorchooser gltable addmouselistener tableclicklistener guiutil correctrowheight gltable setwidths getcontentpane setlayout borderlayout progressbar setindeterminate true jpanel centerpan jpanel centerpan setlayout borderlayout contentpane settopcomponent jscrollpane gltable contentpane setbottomcomponent preview centerpan add contentpane borderlayout center centerpan add progressbar borderlayout south popup add deletelistener popup addseparator newdatabase bibdatabasecontext null grouptreenode node bibdatabasecontext getmetadata getgroups get jmenu groupsadd jmenu localization lang add group groupsadd setenabled false get enabled groups added insertnodes groupsadd node popup add groupsadd add attach file menu choices right click menu: popup add linklocalfile popup add downloadfile popup add internalautosetlinks popup add attachurl getcontentpane add centerpan borderlayout center buttonbarbuilder bb buttonbarbuilder bb addglue bb addbutton ok bb addbutton stop jbutton cancel jbutton localization lang cancel bb addbutton cancel bb addrelatedgap jbutton help helpaction helpfile inspection gethelpbutton bb addbutton help bb addglue bb getpanel setborder borderfactory createemptyborder buttonstackbuilder builder buttonstackbuilder jbutton selectall jbutton localization lang select builder addbutton selectall jbutton deselectall jbutton localization lang deselect builder addbutton deselectall builder addbutton deselectallduplicates builder addrelatedgap jbutton delete jbutton localization lang delete builder addbutton delete builder addrelatedgap builder addfixed autogenerate builder addbutton generate builder getpanel setborder borderfactory createemptyborder centerpan add builder getpanel borderlayout west ok setenabled false generate setenabled false ok addactionlistener oklistener cancel addactionlistener signalstopfetching dispose frame output localization lang canceled user generate addactionlistener generate setenabled false generatedkeys true prevent button getting enabled generatekeys generate keys stop addactionlistener signalstopfetching entrylistcomplete selectall addactionlistener selectionbutton true deselectall addactionlistener selectionbutton false deselectallduplicates addactionlistener gltable getrowcount gltable getvalueat dupl col null gltable setvalueat false gltable repaint deselectallduplicates setenabled false delete addactionlistener deletelistener getcontentpane add bb getpanel borderlayout south remember default last size: setsize dimension globals prefs getint jabrefpreferences inspection dialog width globals prefs getint jabrefpreferences inspection dialog height addwindowlistener windowadapter override windowopened windowevent contentpane setdividerlocation 5f override windowclosed windowevent globals prefs putint jabrefpreferences inspection dialog width getsize width globals prefs putint jabrefpreferences inspection dialog height getsize height key bindings: action closeaction abstractaction override actionperformed actionevent dispose actionmap contentpane getactionmap inputmap im contentpane getinputmap jcomponent focused window im put globals getkeyprefs getkey keybinding close dialog close put close closeaction non javadoc see net sf jabref gui importinspection#setprogress override setprogress current max swingutilities invokelater progressbar setindeterminate false progressbar setminimum progressbar setmaximum max progressbar setvalue current non javadoc see net sf jabref gui importinspection#addentry net sf jabref bibentry override addentry bibentry entry list<bibentry> list arraylist<> list add entry addentries list non javadoc see net sf jabref gui importinspection#addentries util collection addentries collection<bibentry> entriestoadd bibentry entry entriestoadd exploit entry's search status indicating keep status: entry setsearchhit defaultselected exploit entry's group status indicating duplicate status checking duplicates means checking background database applicable entries already table panel null duplicatecheck containsduplicate panel getdatabase entry panel getbibdatabasecontext getmode ispresent internalduplicate entries entry ispresent entry setgrouphit true swingutilities invokelater deselectallduplicates setenabled true entries getreadwritelock writelock lock try entries add entry finally entries getreadwritelock writelock unlock checks duplicates given entry collection report entry duplicate collection param entriesdupe collection bibentry instances param entry entry search duplicates possible duplicate null none found optional<bibentry> internalduplicate collection<bibentry> entriesdupe bibentry entry bibentry othentry entriesdupe othentry equals entry continue compare entry duplicatecheck isduplicate entry othentry panel getbibdatabasecontext getmode optional othentry optional empty non javadoc see net sf jabref gui importinspection#entrylistcomplete entrylistcomplete swingutilities invokelater progressbar setindeterminate false progressbar setvisible false ok setenabled true generatedkeys generate setenabled true stop setenabled false selecting displaying first entry gltable gltable repaint gltable getselectedrowcount gltable getrowcount gltable setrowselectioninterval select first row table generate key entry generatekeyforentry bibentry entry entries getreadwritelock writelock lock try bibdatabase database metadata localmetadata relate existing database any: panel null database bibdatabase localmetadata metadata else database panel getdatabase localmetadata panel getbibdatabasecontext getmetadata entry setid idgenerator next add entry database working with: database insertentry entry generate unique key: bibtexkeypatternutil makelabel localmetadata getcitekeypattern globals prefs getbibtexkeypatternpreferences getkeypattern database entry globals prefs getbibtexkeypatternpreferences remove entry database since added order make sure key unique: database removeentry entry finally entries getreadwritelock writelock unlock gltable repaint generate keys entries keys unique respect one another destined existing database respect existing keys database generatekeys entries getreadwritelock writelock lock try bibdatabase database metadata localmetadata relate existing database any: panel null database bibdatabase localmetadata metadata else database panel getdatabase localmetadata panel getbibdatabasecontext getmetadata list<optional<string>> keys arraylist<> entries size iterate entries add database working generate unique keys: bibentry entry entries entry setid idgenerator next database insertentry entry bibtexkeypatternutil makelabel localmetadata getcitekeypattern globals prefs getbibtexkeypatternpreferences getkeypattern database entry globals prefs getbibtexkeypatternpreferences add generated key list: todo: why?? keys add entry getcitekeyoptional preview update preview repaint remove entries database since supposed added yet needed generated keys keep control key uniqueness bibentry entry entries database removeentry entry finally entries getreadwritelock writelock unlock gltable repaint insertnodes jmenu menu grouptreenode node abstractaction action getaction node node getnumberofchildren menu add action action isenabled menu setenabled true jmenu submenu node getgroup instanceof allentriesgroup grouptreenode child node getchildren insertnodes menu child else submenu jmenu '[' node getname ']' setenabled true done least one menu entry item submenu enabled submenu setenabled action isenabled submenu add action submenu add jpopupmenu separator grouptreenode child node getchildren insertnodes submenu child menu add submenu submenu isenabled menu setenabled true abstractaction getaction grouptreenode node abstractaction action addtogroupaction node action setenabled node supportsaddingentries action stores information selected entries scheduled addition group entries added group time <p synchronizes entries prevent conflict threads modify entry list addtogroupaction abstractaction grouptreenode node addtogroupaction grouptreenode node super node getname node node override actionperformed actionevent event selectionmodel getselected getreadwritelock writelock lock try bibentry entry selectionmodel getselected store groups entry added set map: set<grouptreenode> groups groupadditions get entry groups null previous definitions create set now: groups hashset<> groupadditions put entry groups add group: groups add node finally selectionmodel getselected getreadwritelock writelock unlock addcallback callback cb callbacks add cb oklistener actionlistener override actionperformed actionevent event first check supposed warn duplicates see unresolved duplicates warn yes globals prefs getboolean jabrefpreferences warn duplicates inspection bibentry entry entries check entries imported keep status indicated search hit status entry: entry issearchhit continue check entry suspected unresolved duplicate status indicated entry's group hit status: entry isgrouphit checkboxmessage cbm checkboxmessage localization lang possible duplicates marked icon resolved continue? localization lang disable confirmation dialog false answer joptionpane showconfirmdialog importinspectiondialog cbm localization lang duplicates found joptionpane yes option cbm isselected globals prefs putboolean jabrefpreferences warn duplicates inspection false answer joptionpane option break compund undo action used contain changes made dialog namedcompound ce namedcompound undoname see remove old entries duplicate resolving: entriestodelete isempty removeentriestodelete ce generate keys checked generate keys unless already done: autogenerate isselected generatedkeys generatekeys remember choice next time: globals prefs putboolean jabrefpreferences generate keys inspection autogenerate isselected list<bibentry> selected getselectedentries selected isempty addselectedentries ce selected dispose swingutilities invokelater updategui selected size updategui entrycount newdatabase frame addtab panel true panel markbasechanged entrycount frame output localization lang entries imported else frame output localization lang number entries successfully imported entrycount removeentriestodelete namedcompound ce bibentry entry entriestodelete ce addedit undoableremoveentry panel getdatabase entry panel panel getdatabase removeentry entry addselectedentries namedcompound ce list<bibentry> selected newdatabase create basepanel entries: defaults defaults defaults bibdatabasemode frompreference globals prefs getboolean jabrefpreferences biblatex default mode panel basepanel frame bibdatabasecontext defaults boolean groupingcanceled false set owner timestamp options enabled: updatefield setautomaticfields selected globals prefs getupdatefieldpreferences mark entries entrymarker shouldmarkentries bibentry entry selected entrymarker markentry entry entrymarker mark level false namedcompound check unmark entries adding ones: globals prefs getboolean jabrefpreferences unmark entries importing bibentry entry panel getdatabase getentries entrymarker unmarkentry entry true panel getdatabase ce bibentry entry selected remove settings group search hit status: entry setsearchhit false entry setgrouphit false entry added groups now: set<grouptreenode> groups groupadditions get entry groupingcanceled groups null groupingcanceled addtogroups ce entry groups entry setid idgenerator next panel getdatabase insertentry entry ce addedit undoableinsertentry panel getdatabase entry panel ce end panel getundomanager addedit ce boolean addtogroups namedcompound ce bibentry entry set<grouptreenode> groups boolean groupingcanceled false entry hascitekey entry key can't added group best course action probably ask user key generated immediately answer joptionpane showconfirmdialog importinspectiondialog localization lang cannot add entries group without generating keys generate keys now? localization lang add group joptionpane yes option answer joptionpane yes option generatekeys else groupingcanceled true key existed exists go ahead: entry hascitekey grouptreenode node groups node supportsaddingentries add entry: optional<entriesgroupchange> undo node getgroup add collections singletonlist entry undo ispresent ce addedit undoablechangeentriesofgroup getundoableedit grouptreenodeviewmodel node undo get groupingcanceled method returns list containing entries selected checkbox checked list containing selected entries list<bibentry> getselectedentries list<bibentry> selected arraylist<> bibentry entry entries entry issearchhit selected add entry selected signalstopfetching callbacks foreach callback::stopfetching setwidths tablecolumnmodel cm gltable getcolumnmodel cm getcolumn setpreferredwidth cm getcolumn setminwidth cm getcolumn setmaxwidth pad lock width icon columns cm getcolumn setpreferredwidth guiglobals width icon col cm getcolumn setminwidth guiglobals width icon col cm getcolumn setmaxwidth guiglobals width icon col inspection fields size width internalbibtexfields getfieldlength inspection fields get gltable getcolumnmodel getcolumn pad setpreferredwidth width deletelistener abstractaction deletelistener super localization lang delete icontheme jabreficon delete entry getsmallicon override actionperformed actionevent event removeselectedentries removes selected entries table synchronizes entries prevent conflict addition entries removeselectedentries row gltable getselectedrow list<bibentry> toremove arraylist<> toremove addall selectionmodel getselected entries getreadwritelock writelock lock try bibentry entry toremove entries remove entry finally entries getreadwritelock writelock unlock gltable clearselection row entries isempty row math min entries size row gltable addrowselectioninterval row row selectionbutton actionlistener boolean enable selectionbutton boolean enable enable enable override actionperformed actionevent event gltable getrowcount gltable setvalueat enable gltable repaint entryselectionlistener listeventlistener<bibentry> override listchanged listevent<bibentry> listevent listevent getsourcelist size preview setentry listevent getsourcelist get contentpane setdividerlocation 5f swingutilities invokelater preview scrollrecttovisible torect handles clicks table trigger specific events like opening popup menu tableclicklistener mouselistener boolean isiconcolumn col col file col col url col override mouseclicked mouseevent col gltable columnatpoint getpoint row gltable rowatpoint getpoint isiconcolumn col bibentry entry sortedlist get row col file col entry hasfield fieldname file filelisttablemodel tablemodel filelisttablemodel entry getfield fieldname file ifpresent tablemodel::setcontent tablemodel getrowcount filelistentry fl tablemodel getentry externalfilemenuitem frame entry fl link null panel getbibdatabasecontext fl type actionperformed null else must url col openexternallink fieldname url override mouseentered mouseevent nothing override mouseexited mouseevent nothing show right click menu click happened icon column presents popup menu show otherwise show ordinary popup menu param mouse event triggered popup showpopup mouseevent col gltable columnatpoint getpoint col file col showfilefieldmenu else showordinaryrightclickmenu showordinaryrightclickmenu mouseevent popup show gltable getx gety show popup menu file field param mouse event triggered popup showfilefieldmenu mouseevent row gltable rowatpoint getpoint bibentry entry sortedlist get row jpopupmenu menu jpopupmenu count filelisttablemodel filelist filelisttablemodel entry getfield fieldname file ifpresent filelist::setcontent one links open first one: filelist getrowcount filelistentry flentry filelist getentry string description flentry description description null description trim isempty description flentry link menu add externalfilemenuitem panel frame entry description flentry link flentry type get geticon panel getbibdatabasecontext flentry type count count showordinaryrightclickmenu else menu show gltable getx gety open old style external links user clicks icon param fieldname name bibtex field icon used param mouseevent triggered operation openexternallink string fieldname mouseevent row gltable rowatpoint getpoint bibentry entry sortedlist get row entry getfield fieldname ifpresent link try jabrefdesktop openexternalviewer panel getbibdatabasecontext link fieldname catch ioexception ex logger warn could open link ex override mousereleased mouseevent check user right clicked open right click menu ispopuptrigger showpopup override mousepressed mouseevent check user right clicked open right click menu ispopuptrigger showpopup check action taken: col gltable columnatpoint getpoint row gltable rowatpoint getpoint duplicate icon column icon? col dupl col gltable getvalueat row col null bibentry first sortedlist get row optional<bibentry> duplicatecheck containsduplicate panel getdatabase first panel getbibdatabasecontext getmode ispresent true duplicate existing database duplicateresolverdialog diag duplicateresolverdialog importinspectiondialog get first duplicateresolverdialog duplicateresolvertype inspection diag setlocationrelativeto importinspectiondialog diag setvisible true importinspectiondialog tofront diag getselected duplicateresolverresult keep left remove old entry add list entries deleted delete ok clicked entriestodelete add get clear duplicate icon controlled group hit field entry: entries getreadwritelock writelock lock try first setgrouphit false finally entries getreadwritelock writelock unlock else diag getselected duplicateresolverresult keep right remove entry inspection dialog entries getreadwritelock writelock lock try entries remove first finally entries getreadwritelock writelock unlock else diag getselected duplicateresolverresult keep nothing entries getreadwritelock writelock lock try first setgrouphit false finally entries getreadwritelock writelock unlock else diag getselected duplicateresolverresult keep merge remove old entry add list entries deleted delete ok clicked entriestodelete add get store merged entry later adding clear duplicate icon controlled group hit field entry: entries getreadwritelock writelock lock try diag getmergedentry setgrouphit false diag getmergedentry setsearchhit true entries add diag getmergedentry entries remove first first bibentry reset first next duplicate trigger finally entries getreadwritelock writelock unlock check duplicate another entry import: internalduplicate entries first ispresent duplicateresolverdialog diag duplicateresolverdialog importinspectiondialog first get duplicateresolverdialog duplicateresolvertype duplicate search diag setlocationrelativeto importinspectiondialog diag setvisible true importinspectiondialog tofront duplicateresolverresult answer diag getselected answer duplicateresolverresult keep left entries remove get first setgrouphit false else answer duplicateresolverresult keep right entries remove first else answer duplicateresolverresult keep first setgrouphit false else answer duplicateresolverresult keep merge diag getmergedentry setgrouphit false diag getmergedentry setsearchhit true entries add diag getmergedentry entries remove first entries remove get attachurl jmenuitem actionlistener attachurl super localization lang attach url addactionlistener override actionperformed actionevent event selectionmodel getselected size bibentry entry selectionmodel getselected get string result joptionpane showinputdialog importinspectiondialog localization lang enter url entry getfield fieldname url orelse entries getreadwritelock writelock lock try result null result isempty entry clearfield fieldname url else entry setfield fieldname url result finally entries getreadwritelock writelock unlock gltable repaint downloadfile jmenuitem actionlistener downloadexternalfile downloadcallback bibentry entry downloadfile super localization lang download file addactionlistener override actionperformed actionevent actionevent selectionmodel getselected size entry selectionmodel getselected get entry getcitekeyoptional ispresent answer joptionpane showconfirmdialog frame localization lang entry bibtex key generate key now? localization lang download file joptionpane ok cancel option joptionpane question message answer joptionpane ok option generatekeyforentry entry downloadexternalfile def downloadexternalfile frame bibdatabasecontext entry try def download catch ioexception ex logger warn could download file ex override downloadcomplete filelistentry file importinspectiondialog tofront hack filelisttablemodel localmodel filelisttablemodel entry getfield fieldname file ifpresent localmodel::setcontent localmodel addentry localmodel getrowcount file entries getreadwritelock writelock lock try entry setfield fieldname file localmodel getstringrepresentation finally entries getreadwritelock writelock unlock gltable repaint internalautosetlinks jmenuitem actionlistener internalautosetlinks super localization lang automatically set file links addactionlistener override actionperformed actionevent actionevent selectionmodel getselected size bibentry entry selectionmodel getselected get entry hascitekey answer joptionpane showconfirmdialog frame localization lang entry bibtex key generate key now? localization lang download file joptionpane ok cancel option joptionpane question message answer joptionpane ok option generatekeyforentry entry else can't go without bibtex key filelisttablemodel localmodel filelisttablemodel entry getfield fieldname file ifpresent localmodel::setcontent utility method searching relevant links: jdialog diag jdialog importinspectiondialog true jabrefexecutorservice instance execute autosetlinks autosetlinks entry localmodel bibdatabasecontext getid entries getreadwritelock writelock lock try entry setfield fieldname file localmodel getstringrepresentation finally entries getreadwritelock writelock unlock gltable repaint diag linklocalfile jmenuitem actionlistener downloadexternalfile downloadcallback bibentry entry linklocalfile super localization lang link local file addactionlistener override actionperformed actionevent actionevent selectionmodel getselected size entry selectionmodel getselected get filelistentry flentry filelistentry filelistentryeditor editor filelistentryeditor frame flentry false true bibdatabasecontext editor setvisible true true editor okpressed filelisttablemodel localmodel filelisttablemodel entry getfield fieldname file ifpresent localmodel::setcontent localmodel addentry localmodel getrowcount flentry entries getreadwritelock writelock lock try entry setfield fieldname file localmodel getstringrepresentation finally entries getreadwritelock writelock unlock gltable repaint override downloadcomplete filelistentry file importinspectiondialog tofront hack filelisttablemodel localmodel filelisttablemodel entry getfield fieldname file ifpresent localmodel::setcontent localmodel addentry localmodel getrowcount file entries getreadwritelock writelock lock try entry setfield fieldname file localmodel getstringrepresentation finally entries getreadwritelock writelock unlock gltable repaint setupcomparatorchooser first column: list<comparator> comparators comparatorchooser getcomparatorsforcolumn comparators clear comparators comparatorchooser getcomparatorsforcolumn comparators clear icon columns: pad comparators comparatorchooser getcomparatorsforcolumn comparators clear file col comparators add iconcomparator collections singletonlist fieldname file else url col comparators add iconcomparator collections singletonlist fieldname url remaining columns: pad pad inspection fields size comparators comparatorchooser getcomparatorsforcolumn comparators clear comparators add fieldcomparator inspection fields get pad sortedlist getreadwritelock writelock lock try comparatorchooser appendcomparator pad false finally sortedlist getreadwritelock writelock unlock functionalinterface interface callback method called dialog user canceled signaled stop expected long running fetch operations stop method called stopfetching defaultselected boolean value determines entries added selected value true default param defaultselected desired value setdefaultselected boolean defaultselected defaultselected defaultselected entrytable jtable generalrenderer renderer generalrenderer color white entrytable tablemodel model super model gettableheader setreorderingallowed false override tablecellrenderer getcellrenderer row column column getdefaultrenderer boolean renderer override class<?> getcolumnclass col col boolean else col pad jlabel else string override boolean iscelleditable row column column override setvalueat object value row column column controlled bibentry searchhit editable: entries getreadwritelock writelock lock try bibentry entry sortedlist get row entry setsearchhit boolean value finally entries getreadwritelock writelock unlock entrytableformat tableformat<bibentry> override getcolumncount pad inspection fields size override string getcolumnname localization lang keep pad stringutil capitalizefirst inspection fields get pad override object getcolumnvalue bibentry entry entry issearchhit boolean true boolean false else pad switch case dupl col: entry isgrouphit dupllabel null case file col: entry hasfield fieldname file filelisttablemodel model filelisttablemodel entry getfield fieldname file ifpresent model::setcontent filelabel settooltiptext model gettooltiphtmlrepresentation model getrowcount model getentry type ispresent filelabel seticon model getentry type get geticon filelabel else null case url col: entry hasfield fieldname url urllabel settooltiptext entry getfield fieldname url orelse urllabel else null default: null else string field inspection fields get pad internalbibtexfields getfieldproperties field contains fieldproperty person names entry getfield field map authorlist::fixauthornatbib orelse else entry getfield field orelse null override setstatus string frame setstatus override showmessage string message string title msgtype joptionpane showmessagedialog message title msgtype override showmessage string message joptionpane showmessagedialog message displays dialog tells user error occurred fetching entries showerrormessage string fetchertitle string localizedexception showmessage localization lang error fetching fetchertitle \n localization lang please try later check network connection \n localizedexception localization lang search fetchertitle joptionpane error message jabrefframe getframe frame 
164	EntryFromPDFCreator.java	GUI	net sf jabref gui importer io file io ioexception time localdate time format datetimeformatter util calendar util collections util list util optional net sf jabref globals net sf jabref jabrefgui net sf jabref gui icontheme net sf jabref gui externalfiletype externalfiletype net sf jabref gui externalfiletype externalfiletypes net sf jabref logic xmp xmputil net sf jabref model entry bibentry net sf jabref pdfimport pdfimporter net sf jabref pdfimport pdfimporter importpdffilesresult net sf jabref preferences jabrefpreferences org apache pdfbox pdmodel pddocument org apache pdfbox pdmodel pddocumentinformation uses xmputils get one bibentry pdf file also imports non xmp data pddocument information using xmputil getbibtexentryfromdocumentinformation data one entry read xmputil entys merged one author dan version 22:12:48 entryfrompdfcreator entryfromfilecreator entryfrompdfcreator super entryfrompdfcreator getpdfexternalfiletype externalfiletype getpdfexternalfiletype optional<externalfiletype> pdffiletype externalfiletypes getinstance getexternalfiletypebyext pdf pdffiletype ispresent externalfiletype pdf pdf application pdf evince pdfsmall icontheme jabreficon pdf file getsmallicon pdffiletype get accepts files suffix pdf ignore case mode override boolean accept file null getname touppercase endswith pdf override optional<bibentry> createbibtexentry file pdffile accept pdffile optional empty pdfimporter pi pdfimporter jabrefgui getmainframe jabrefgui getmainframe getcurrentbasepanel jabrefgui getmainframe getcurrentbasepanel getmaintable importpdffilesresult res pi importpdffiles collections singletonlist pdffile tostring res getentries size optional res getentries get else optional empty addentrydatafrompddocumentinformation pdffile entry addentrydatafromxmp pdffile entry entry getfield fieldname title null entry setfield fieldname title pdffile getname entry adds entry data read pddocument information file param pdffile param entry addentrydatafrompddocumentinformation file pdffile bibentry entry try pddocument document pddocument load pdffile getabsolutefile pddocumentinformation pdfdocinfo document getdocumentinformation pdfdocinfo null optional<bibentry> entrydi xmputil getbibtexentryfromdocumentinformation document getdocumentinformation entrydi ispresent addentrydatatoentry entry entrydi get calendar creationdate pdfdocinfo getcreationdate creationdate null default time stamp follows iso reason: https: xkcd com string date localdate calendar year calendar month calendar day month format datetimeformatter iso local date appendtofield entry globals prefs get jabrefpreferences time stamp field date pdfdocinfo getcustommetadatavalue bibtex bibtexkey null entry setid pdfdocinfo getcustommetadatavalue bibtex bibtexkey catch ioexception canceling data added adds data found entries xmp file given entry implemented without much knowledge xmp format param afile param entry addentrydatafromxmp file afile bibentry entry try list<bibentry> entrys xmputil readxmp afile getabsolutefile globals prefs getxmppreferences addentrystoentry entry entrys catch ioexception canceling data added override string getformatname pdf 
165	FetcherPreviewDialog.java	GUI	net sf jabref gui importer awt borderlayout awt component awt dimension awt event actionevent util linkedhashmap util map javax swing abstractaction javax swing action javax swing actionmap javax swing borderfactory javax swing inputmap javax swing jbutton javax swing jcomponent javax swing jdialog javax swing jlabel javax swing joptionpane javax swing jpanel javax swing jscrollpane javax swing jtable javax swing table tablecellrenderer javax swing table tablemodel net sf jabref globals net sf jabref gui jabrefframe net sf jabref gui keyboard keybinding net sf jabref logic importer outputprinter net sf jabref logic l10n localization ca odell glazedlists basiceventlist ca odell glazedlists eventlist ca odell glazedlists gui tableformat ca odell glazedlists swing defaulteventselectionmodel ca odell glazedlists swing defaulteventtablemodel ca odell glazedlists swing glazedlistsswing com jgoodies forms builder buttonbarbuilder com jgoodies forms builder buttonstackbuilder fetcherpreviewdialog jdialog outputprinter eventlist<tableentry> entries basiceventlist<> jtable gltable boolean okpressed jabrefframe frame warninglimit fetcherpreviewdialog jabrefframe frame warninglimit tablerowheight super frame localization lang title true frame frame warninglimit warninglimit jbutton ok jbutton localization lang ok ok addactionlistener verifyselection okpressed true dispose jbutton cancel jbutton localization lang cancel cancel addactionlistener okpressed false dispose jbutton selectall jbutton localization lang select selectall addactionlistener setselectionall true jbutton deselectall jbutton localization lang deselect deselectall addactionlistener setselectionall false defaulteventtablemodel<tableentry> tablemodelgl defaulteventtablemodel<tableentry> glazedlistsswing eventtablemodelwiththreadproxylist entries entrytableformat gltable entrytable tablemodelgl gltable setrowheight tablerowheight gltable getcolumnmodel getcolumn setmaxwidth gltable setpreferredscrollableviewportsize dimension defaulteventselectionmodel<tableentry> selectionmodel defaulteventselectionmodel<tableentry> glazedlistsswing eventselectionmodelwiththreadproxylist entries gltable setselectionmodel selectionmodel buttonstackbuilder builder buttonstackbuilder builder addbutton selectall builder addbutton deselectall builder getpanel setborder borderfactory createemptyborder buttonbarbuilder bb buttonbarbuilder bb addglue bb addbutton ok bb addbutton cancel bb addglue bb getpanel setborder borderfactory createemptyborder jpanel centerpan jpanel centerpan setlayout borderlayout centerpan add jscrollpane gltable borderlayout center centerpan add builder getpanel borderlayout west getcontentpane add centerpan borderlayout center getcontentpane add bb getpanel borderlayout south key bindings: action closeaction abstractaction override actionperformed actionevent dispose actionmap centerpan getactionmap inputmap im centerpan getinputmap jcomponent focused window im put globals getkeyprefs getkey keybinding close dialog close put close closeaction pack check whether large number entries selected ask user whether go true go boolean verifyselection selected tableentry entry entries entry iswanted selected selected warninglimit result joptionpane showconfirmdialog localization lang selected entries download web sites might block make many rapid downloads want continue? string valueof warninglimit localization lang confirm selection joptionpane yes option joptionpane warning message result joptionpane yes option else true map<string boolean> getselection linkedhashmap<string boolean> selection linkedhashmap<> tableentry entries selection put id iswanted selection non javadoc see net sf jabref gui importinspection#addentry net sf jabref bibentry addentry string entryid jlabel preview tableentry entry tableentry entryid preview entries getreadwritelock writelock lock entries add entry entries getreadwritelock writelock unlock gltable repaint setselectionall boolean select gltable getrowcount gltable setvalueat select gltable repaint tableentry string id jlabel preview boolean wanted tableentry string id jlabel preview id id preview preview boolean iswanted wanted setwanted boolean wanted wanted wanted jlabel getpreview preview previewrenderer tablecellrenderer jlabel label jlabel override component gettablecellrenderercomponent jtable table object value boolean isselected boolean hasfocus row column jlabel valuelabel jlabel value label settext valuelabel gettext label entrytable jtable previewrenderer renderer previewrenderer entrytable tablemodel model super model gettableheader setreorderingallowed false override tablecellrenderer getcellrenderer row column column getdefaultrenderer boolean renderer tablecelleditor getcelleditor getdefaulteditor boolean override class<?> getcolumnclass col col boolean else jlabel override boolean iscelleditable row column column override setvalueat object value row column column controlled bibentry searchhit editable: entries getreadwritelock writelock lock tableentry entry entries get row entry setwanted boolean value entries getreadwritelock writelock unlock entrytableformat tableformat<tableentry> override getcolumncount override string getcolumnname localization lang keep else localization lang preview override object getcolumnvalue tableentry entry entry iswanted boolean true boolean false else entry getpreview boolean isokpressed okpressed override setstatus string frame setstatus override showmessage string message string title msgtype joptionpane showmessagedialog message title msgtype override showmessage string message joptionpane showmessagedialog message displays dialog tells user error occurred fetching entries showerrormessage string fetchertitle string localizedmessage showmessage localization lang error fetching fetchertitle \n localization lang please try later check network connection \n localizedmessage localization lang search fetchertitle joptionpane error message 
166	EntryFromFileCreator.java	GUI	net sf jabref gui importer io file io filefilter util list util optional util stringtokenizer net sf jabref globals net sf jabref jabrefgui net sf jabref gui externalfiletype externalfiletype net sf jabref gui externalfiletype externalfiletypes net sf jabref gui filelist filelistentry net sf jabref gui filelist filelisttablemodel net sf jabref logic util io fileutil net sf jabref model entry bibentry net sf jabref model entry fieldname interface entryfromfilecreator twice: <br> one hand defines set files deal hand provides functionality create bibtex entry file interface io filefilter inherit common way defining file sets author dan nosh version 23:39:03 entryfromfilecreator filefilter externalfiletype externalfiletype min path token length constructor <br> forces subclasses provide link externalfiletype instance build param externalfiletype entryfromfilecreator externalfiletype externalfiletype externalfiletype externalfiletype optional<bibentry> createbibtexentry file <p> support platform independence creator must define types files accepts p> <p> basically accepting files end file extension described nested link #externalfiletype would work windows systems also recommended criterion files accepted p> <p> however defining types files creator accepts property <i>entry creators< i> left user p> override boolean accept file name format <p> name must unique p> format name must unique <code>null< code> string getformatname create one bibentry containing information regarding given file param param addpathtokensaskeywords optional<bibentry> createentry file boolean addpathtokensaskeywords null exists optional empty optional<bibentry> newentry createbibtexentry newentry ispresent newentry addpathtokensaskeywords appendtofield newentry get fieldname keywords extractpathestokeywordsfield getabsolutepath newentry get hasfield fieldname title newentry get setfield fieldname title getname addfileinfo newentry get newentry returns externalfiletype imported externalfiletype getexternalfiletype externalfiletype splits path file builds keywords string format used jabref param absolutepath string extractpathestokeywordsfield string absolutepath stringbuilder sb stringbuilder stringtokenizer st stringtokenizer absolutepath string valueof file separatorchar st hasmoretokens string token st nexttoken st hasmoretokens ignore last token filename ist wanted keyword break token length min path token length sb length todo: find jabref constant delimter sb append sb append token sb tostring addfileinfo bibentry entry file file optional<externalfiletype> filetype externalfiletypes getinstance getexternalfiletypebyext externalfiletype getfieldname list<string> possiblefilepaths jabrefgui getmainframe getcurrentbasepanel getbibdatabasecontext getfiledirectory globals prefs getfiledirectorypreferences file shortenedfilename fileutil shortenfilename file possiblefilepaths filelistentry filelistentry filelistentry shortenedfilename getpath filetype filelisttablemodel model filelisttablemodel model addentry filelistentry entry setfield fieldname file model getstringrepresentation appendtofield bibentry entry string field string value value null value isempty optional<string> oval entry getfield field oval ispresent todo: find jabref constant delimter oval get contains value entry setfield field oval get value else entry setfield field value addentrystoentry bibentry entry list<bibentry> entrys entrys null bibentry entrys addentrydatatoentry entry addentrydatatoentry bibentry entry bibentry string field getfieldnames getfield field ifpresent fieldcontent appendtofield entry field fieldcontent override string tostring externalfiletype null undefined externalfiletype getname externalfiletype getextension 
167	ParserResultWarningDialog.java	GUI	net sf jabref gui importer awt dimension util list util objects javax swing joptionpane javax swing jscrollpane javax swing jtextarea net sf jabref gui jabrefframe net sf jabref logic importer parserresult net sf jabref logic l10n localization generating dialog showing warnings parserresult parserresultwarningdialog shows dialog warnings open file param parserresult parserresult current open param jabrefframe jabrefframe showparserresultwarningdialog parserresult parserresult jabrefframe jabrefframe objects requirenonnull parserresult objects requirenonnull jabrefframe showparserresultwarningdialog parserresult jabrefframe shows dialog warnings open file param parserresult parserresult current open param jabrefframe jabrefframe param databasenumber database tab number activate showing warning dialog showparserresultwarningdialog parserresult parserresult jabrefframe jabrefframe databasenumber objects requirenonnull parserresult objects requirenonnull jabrefframe warnings parserresult haswarnings switch tab asked databasenumber jabrefframe showbasepanelat databasenumber generate string warning texts list<string> warnings parserresult warnings stringbuilder dialogcontent stringbuilder warningcount string warning warnings dialogcontent append string format warningcount warning dialogcontent deletecharat dialogcontent length generate dialog title string dialogtitle databasenumber dialogtitle localization lang warnings else dialogtitle localization lang warnings parserresult getfile get getname create jtextarea jscrollpane jtextarea textarea jtextarea dialogcontent tostring jscrollpane scrollpane jscrollpane textarea override dimension getpreferredsize dimension math min math max warnings size guess suitable height show dialog joptionpane showmessagedialog jabrefframe scrollpane dialogtitle joptionpane warning message 
168	ImportMenuItem.java	GUI	net sf jabref gui importer awt event actionevent awt event actionlistener io ioexception nio file path nio file paths util arraylist util collection util list javax swing jmenuitem javax swing joptionpane net sf jabref globals net sf jabref gui basepanel net sf jabref gui entrymarker net sf jabref gui filedialog net sf jabref gui jabrefframe net sf jabref gui undo namedcompound net sf jabref gui worker abstractworker net sf jabref logic importer importexception net sf jabref logic importer importformatreader net sf jabref logic importer importer net sf jabref logic importer parserresult net sf jabref logic l10n localization net sf jabref logic util updatefield net sf jabref model database bibdatabase net sf jabref model database keycollisionexception net sf jabref model entry bibentry net sf jabref model entry bibtexstring net sf jabref preferences jabrefpreferences todo: could separate menu item functionality importing functionality importmenuitem jmenuitem actionlistener jabrefframe frame boolean openinnew importer importer exception importerror importmenuitem jabrefframe frame boolean openinnew frame openinnew null importmenuitem jabrefframe frame boolean openinnew importer importer super importer null localization lang autodetect format importer getname importer importer frame frame openinnew openinnew addactionlistener override actionperformed actionevent myworker worker myworker worker init worker getworker run worker getcallback update automatically imports files given arguments param filenames list files automatedimport list<string> filenames replace work init step: myworker worker myworker worker fileok true worker filenames filenames worker getworker run worker getcallback update myworker abstractworker list<string> filenames parserresult bibtexresult contains merged results boolean fileok override init importerror null filenames filedialog frame updateworkingdirpref showdialogandgetmultiplefiles filenames isempty frame block frame output localization lang starting fileok true globals prefs put jabrefpreferences working directory paths get filenames get getparent tostring override run fileok files collect results: list<importformatreader unknownformatimport> imports arraylist<> string filename filenames path file paths get filename try importer null unknown format: frame output localization lang importing unknown format method never throws ioexception: imports add globals format reader importunknownformat file else frame output localization lang importing format importer getname specific importer: parserresult pr importer importdatabase file globals prefs getdefaultencoding imports add importformatreader unknownformatimport importer getname pr catch importexception ioexception indicates specific importer specified importer thrown ioexception store exception relevant error message displayed importerror ok done try gather found since might found one bibtex results best gather bibdatabase bibtexresult mergeimportresults imports show parserwarnings importformatreader unknownformatimport imports null parserresult pr parserresult parserresultwarningdialog showparserresultwarningdialog pr frame override update fileok bibtexresult null importer null frame output localization lang could find suitable format else specific format specified check stored error information: importerror null joptionpane showmessagedialog frame localization lang entries found please make sure using correct filter localization lang failed joptionpane error message else joptionpane showmessagedialog frame importerror getmessage localization lang failed joptionpane error message else openinnew frame addtab bibtexresult getdatabasecontext true frame output localization lang imported entries bibtexresult getdatabase getentrycount else basepanel panel basepanel frame gettabbedpane getselectedcomponent importinspectiondialog diag importinspectiondialog frame panel localization lang openinnew diag addentries bibtexresult getdatabase getentries diag entrylistcomplete diag setlocationrelativeto frame diag setvisible true diag tofront frame unblock parserresult mergeimportresults list<importformatreader unknownformatimport> imports bibdatabase database bibdatabase parserresult directparserresult null boolean anythinguseful false importformatreader unknownformatimport importresult imports importresult null continue importformatreader bibtex format equals importresult format bibtex result must merge main base parserresult pr importresult parserresult anythinguseful anythinguseful pr getdatabase hasentries pr getdatabase hasnostrings record parserresult long first bibtex result: directparserresult null directparserresult pr merge entries: bibentry entry pr getdatabase getentries database insertentry entry merge strings: bibtexstring bs pr getdatabase getstringvalues try database addstring bibtexstring bs clone catch keycollisionexception todo: means duplicate string name exists exceptional situation maybe give warning else parserresult pr importresult parserresult collection<bibentry> entries pr getdatabase getentries anythinguseful anythinguseful entries isempty set timestamp owner updatefield setautomaticfields entries globals prefs getupdatefieldpreferences set timestamp owner boolean markentries openinnew entrymarker shouldmarkentries bibentry entry entries markentries entrymarker markentry entry entrymarker mark level false namedcompound database insertentry entry anythinguseful null imports size directparserresult null directparserresult else parserresult database 
169	ZipFileChooser.java	GUI	net sf jabref gui importer awt borderlayout awt dimension time zoneid time zoneddatetime time format datetimeformatter time format formatstyle util arraylist util arrays util collections util date util enumeration util list util zip zipentry util zip zipfile javax swing box javax swing jbutton javax swing jdialog javax swing joptionpane javax swing jpanel javax swing jscrollpane javax swing jtable javax swing listselectionmodel javax swing scrollpaneconstants javax swing table abstracttablemodel javax swing table tablecolumnmodel net sf jabref gui util guiutil net sf jabref logic importer fileformat customimporter net sf jabref logic l10n localization org apache commons logging log org apache commons logging logfactory dialog allow users choose file contained zip file author andreas sf rudert home dot de zipfilechooser jdialog log logger logfactory getlog zipfilechooser zip file chooser param owner owner file chooser param zipfile zip fle choose must readable zipfilechooser importcustomizationdialog importcustomizationdialog zipfile zipfile super importcustomizationdialog localization lang select file zip archive false zipfilechoosertablemodel tablemodel zipfilechoosertablemodel zipfile getselectablezipentries zipfile jtable table jtable tablemodel tablecolumnmodel cm table getcolumnmodel cm getcolumn setpreferredwidth cm getcolumn setpreferredwidth cm getcolumn setpreferredwidth jscrollpane sp jscrollpane table scrollpaneconstants vertical scrollbar needed scrollpaneconstants horizontal scrollbar never table setselectionmode listselectionmodel single selection table setpreferredscrollableviewportsize dimension table getrowcount table setrowselectioninterval guiutil correctrowheight table cancel: entry selected jbutton cancelbutton jbutton localization lang cancel cancelbutton addactionlistener dispose ok: get selected check instantiable importer jbutton okbutton jbutton localization lang ok okbutton addactionlistener row table getselectedrow row joptionpane showmessagedialog localization lang please select importer else zipfilechoosertablemodel model zipfilechoosertablemodel table getmodel zipentry tempzipentry model getzipentry row string classname tempzipentry getname substring tempzipentry getname lastindexof replace try customimporter importer customimporter model getzipfile getname classname importcustomizationdialog addorreplaceimporter importer dispose catch classnotfoundexception exc logger warn could instantiate importer: classname exc joptionpane showmessagedialog localization lang could instantiate classname :\n exc getmessage key bindings: jpanel mainpanel jpanel actionmap mainpanel getactionmap inputmap im mainpanel getinputmap jcomponent focused window im put globals getkeyprefs getkey keybinds close dialog close put close closeaction mainpanel setlayout borderlayout mainpanel add sp borderlayout center jpanel optionspanel jpanel optionspanel add okbutton optionspanel add cancelbutton optionspanel add box createhorizontalstrut getcontentpane add mainpanel borderlayout center getcontentpane add optionspanel borderlayout south setsize getsize pack setlocationrelativeto importcustomizationdialog table requestfocus entries selected dialog param zipfile zip file entries selected list<zipentry> getselectablezipentries zipfile zipfile list<zipentry> entries arraylist<> enumeration<? zipentry> zipfile entries zipentry entry collections list entry isdirectory entry getname endswith entries add entry entries non javadoc see awt component#getsize override dimension getsize dimension table model zip archive contents <p>contains one row entry contain rows directory entries p> <p>the columns contain information zip file entries: <ol><li> name link string li><li> time last modification link date li><li> size uncompressed link long li>< ol>< p> zipfilechoosertablemodel abstracttablemodel list<string> columnnames arrays aslist localization lang name localization lang last modified localization lang size list<zipentry> rows zipfile zipfile zipfilechoosertablemodel zipfile zipfile list<zipentry> rows super rows rows zipfile zipfile non javadoc see javax swing table tablemodel#getcolumncount override getcolumncount columnnames size non javadoc see javax swing table tablemodel#getrowcount override getrowcount rows size non javadoc see javax swing table tablemodel#getcolumnname override string getcolumnname col columnnames get col zip file entry given row index param rowindex row index zip file entry zipentry getzipentry rowindex rows get rowindex zip file contains entries model zip file zipfile getzipfile zipfile non javadoc see javax swing table tablemodel#getvalueat override object getvalueat rowindex columnindex object value null zipentry entry getzipentry rowindex columnindex value entry getname else columnindex value zoneddatetime ofinstant date entry gettime toinstant zoneid systemdefault format datetimeformatter oflocalizeddatetime formatstyle medium else columnindex value entry getsize value 
170	IEEEXploreFetcher.java	GUI	net sf jabref gui importer fetcher awt borderlayout io ioexception net cookiehandler net cookiemanager nio charset standardcharsets util arraylist util collection util iterator util list util objects util optional util regex matcher util regex pattern javax swing jcheckbox javax swing joptionpane javax swing jpanel net sf jabref globals net sf jabref gui importer importinspectiondialog net sf jabref logic formatter bibtexfields htmltolatexformatter net sf jabref logic formatter bibtexfields unitstolatexformatter net sf jabref logic formatter casechanger protecttermsformatter net sf jabref logic help helpfile net sf jabref logic importer importinspector net sf jabref logic importer outputprinter net sf jabref logic importer fileformat bibtexparser net sf jabref logic journals journalabbreviationloader net sf jabref logic l10n localization net sf jabref logic net urldownload net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref preferences jabrefpreferences org apache commons logging log org apache commons logging logfactory org json jsonarray org json jsonexception org json jsonobject ieeexplorefetcher entryfetcher log logger logfactory getlog ieeexplorefetcher string url search http: ieeexplore ieee org rest search?reload true string url bibtex start http: ieeexplore ieee org xpl downloadcitations?reload true recordids string url bibtex end download format download bibtex string dialog title localization lang search ieeexplore max fetch pattern publication pattern pattern compile \\d \\ \\s? pattern proceedings pattern pattern compile \\ ?\\s?proceedings\\s? pattern month pattern pattern compile \\d \\s [a z] \\d \\s [a z] pattern preprocessing pattern pattern compile ?< #[x] [0] \\p xdigit pattern sub detection pattern compile sub [^ pattern sub detection pattern compile \\ sub\\ [^ \\ sub\\ string sub text result \\\\textsubscript\\ $1\\ pattern super detection pattern compile sup [^ pattern super detection pattern compile \\ sup\\ [^ \\ sup\\ string super text result \\\\textsuperscript\\ $1\\ protecttermsformatter protecttermsformatter protecttermsformatter unitstolatexformatter unitstolatexformatter unitstolatexformatter htmltolatexformatter htmltolatexformatter htmltolatexformatter jcheckbox abscheckbox jcheckbox localization lang include abstracts false boolean shouldcontinue journalabbreviationloader abbreviationloader ieeexplorefetcher journalabbreviationloader abbreviationloader super abbreviationloader objects requirenonnull abbreviationloader cookiehandler setdefault cookiemanager override jpanel getoptionspanel jpanel pan jpanel pan setlayout borderlayout pan add abscheckbox borderlayout north pan override boolean processquery string query importinspector dialog outputprinter status ieee api seems use qt marker quotes exact phrase searching string terms query replaceall \\ qt\\ shouldcontinue true parsed pagenumber string postdata makesearchpostrequestpayload pagenumber terms try open search url urldownload dl urldownload ieeexplorefetcher url search add request header dl addparameters accept application json dl addparameters content type application json set post data dl setpostdata postdata retrieve search results string page dl downloadtostring standardcharsets utf page blank search work sure exact conditions lead declaring invalid search page isempty status showmessage localization lang entered invalid search 0' query dialog title joptionpane information message false parses json data returned query todo: faster way would parse json tokens one time extract article number seems fast enough jsonobject searchresultsjson jsonobject page hits searchresultsjson getint totalrecords search results found hits status showmessage localization lang entries found search string 0' query dialog title joptionpane information message false max hits exceeded display warning hits ieeexplorefetcher max fetch status showmessage localization lang entries found reduce server load downloaded string valueof hits string valueof ieeexplorefetcher max fetch dialog title joptionpane information message fetch raw bibtex results ieeexplore string bibtexpage urldownload createbibtexqueryurl searchresultsjson downloadtostring globals prefs getdefaultencoding preprocess result eg convert html escaped characters latex formatting performed bibtexparser bibtexpage preprocessbibtexresultspage bibtexpage parse page bibtex entries collection<bibentry> parsedbibtexcollection bibtexparser fromstring bibtexpage globals prefs getimportformatpreferences nentries parsedbibtexcollection size iterator<bibentry> parsedbibtexcollectioniterator parsedbibtexcollection iterator parsedbibtexcollectioniterator hasnext shouldcontinue dialog addentry cleanup parsedbibtexcollectioniterator next dialog setprogress parsed nentries parsed true catch ioexception jsonexception logger error error fetching gettitle importinspectiondialog dialog showerrormessage gettitle getlocalizedmessage false override string gettitle ieeexplore override helpfile gethelppage helpfile fetcher ieeexplore method called dialog user canceled override stopfetching shouldcontinue false string makesearchpostrequestpayload startindex string terms querytext\ jsonobject quote terms refinements\ :[] pagenumber\ :\ startindex searchwithin\ :[] newsearch\ :\ true\ searchfield\ :\ search all\ rowsperpage\ :\ 100\ string createbibtexqueryurl jsonobject searchresultsjson buffer use building url fetching bibtex data ieeexplore stringbuilder bibtexqueryurlstringbuf stringbuilder bibtexqueryurlstringbuf append url bibtex start loop record create comma separate list article numbers used download raw bibtex jsonarray recordsjsonarray searchresultsjson getjsonarray records recordsjsonarray length recordsjsonarray getjsonobject isnull articlenumber bibtexqueryurlstringbuf append recordsjsonarray getjsonobject getstring articlenumber append delete last comma bibtexqueryurlstringbuf deletecharat bibtexqueryurlstringbuf length add setting boolean includeabstract abscheckbox isselected includeabstract bibtexqueryurlstringbuf append citations format citation else bibtexqueryurlstringbuf append citations format citation append remaining url bibtexqueryurlstringbuf append url bibtex end bibtexqueryurlstringbuf tostring string preprocessbibtexresultspage string bibtexpage reason escaped html characters titles format #xnnnn missing ampersand add ampersands back passing html formatter properly converted todo: maybe edit htmlconverter also recognize escaped characters even missing? string result preprocessing pattern matcher bibtexpage replaceall $1 also percent signs escaped ieeexplore bibtex output would appear subsequent processing jabref todo: maybe find better spot applies universally result result replaceall ?< \\\\ \\\\ format bibtexresults using html formatter clears numerical text escaped characters remaining html tags result htmltolatexformatter format result result bibentry cleanup bibentry entry entry null null clean title entry getfield fieldname title ifpresent dirtytitle use alt text replace image links string title dirtytitle replaceall ]?img src [^ alt [^\ >[ ]? \\$$1\\$ try sort spl conversions deal specific nested type first title title replaceall sub spl infin \\$ \\\\infty\\$ title title replaceall sup spl infin \\$\\^\\\\infty\\$ replace general expressions title title replaceall [ss]pl [^ \\$\\\\$1\\$ deal subscripts superscripts title super detection matcher title replaceall super text result title sub detection matcher title replaceall sub text result title super detection matcher title replaceall super text result title sub detection matcher title replaceall sub text result replace \infin \infty title title replaceall \\\\infin \\\\infty unit formatting globals prefs getboolean jabrefpreferences use unit formatter search title unitstolatexformatter format title automatic case keeping globals prefs getboolean jabrefpreferences use case keeper search title protecttermsformatter format title write back entry setfield fieldname title title clean author entry getfield fieldname author ifpresent dirtyauthor string author dirtyauthor replaceall \\s reorder jr sr etc correct ordering string[] authorsplit author split ^\\s \\s \\s and\\s list<string> authorresult arraylist<> string authorsplitpart authorsplit authorresult add authorsplitpart replaceall $1 $3 $2 author string join authorresult author author replace replace replace replace replace replace author author replaceall todo: remove trailing commas entry setfield fieldname author author clean month entry getfield fieldname month filter month month isempty ifpresent dirtymonth string month dirtymonth replace month month tolowercase matcher mm month pattern matcher month stringbuilder date stringbuilder month mm find mm group isempty mm group isempty date stringbuilder append mm group append else date stringbuilder append '#' append mm group substring append '#' mm group isempty date append append mm group append else mm group isempty mm group isempty date append else date stringbuilder append '#' append mm group substring append '#' append mm group append append mm group append else date stringbuilder append '#' append mm group substring append '#' append mm group append append mm group substring append '#' append mm group append entry setfield fieldname month date tostring clean pages entry getfield fieldname pages ifpresent pages string[] pagenumbers pages split pagenumbers length pagenumbers[0] equals pagenumbers[1] single page entry setfield fieldname pages pagenumbers[0] else entry setfield fieldname pages pages replace clean publication field string type entry gettype string sourcefield article equals type sourcefield fieldname journal entry clearfield fieldname booktitle else inproceedings equals type sourcefield fieldname booktitle entry hasfield sourcefield string fullname entry getfield sourcefield get article equals type ind fullname indexof accepted future publication ind fullname fullname substring ind entry setfield fieldname year published entry clearfield fieldname month entry clearfield fieldname pages entry clearfield fieldname number string[] parts fullname split [\\[\\]] [see also [legacy fullname parts[0] parts length fullname parts[2] entry getfield fieldname note filter note early access equals note ifpresent note entry setfield fieldname year published entry clearfield fieldname month entry clearfield fieldname pages entry clearfield fieldname number else fullname fullname replace conference proceedings proceedings replace proceedings proceedings replace proceedings proceedings fullname fullname replace international fullname fullname replace symposium symp fullname fullname replace conference conf fullname fullname replace replace matcher m1 publication pattern matcher fullname string abrvpattern [^ '?\\d \\ m1 find string prefix m1 group trim string postfix m1 group trim string abrv string[] parts prefix split \\ parts length parts[0] matches abrvpattern prefix parts[1] abrv parts[0] else prefix parts[0] abrv parts[1] prefix matches abrvpattern fullname postfix prefix else fullname prefix postfix abrv fullname fullname trim article equals type fullname fullname replace iee proceedings fullname fullname trim globals prefs getboolean jabrefpreferences use ieee abrv fullname abbreviationloader getrepository globals prefs getjournalabbreviationpreferences getmedlineabbreviation fullname orelse fullname inproceedings equals type matcher m2 proceedings pattern matcher fullname m2 find string prefix m2 group string postfix m2 group replaceall \\ prefix matches abrvpattern fullname postfix trim prefix trim else string abrv string[] parts postfix split \\ parts length parts[0] matches abrvpattern postfix parts[1] abrv parts[0] else postfix parts[0] abrv parts[1] fullname prefix trim postfix trim abrv fullname fullname trim fullname fullname replaceall ^[tt]he replaceall ^\\d replaceall ]$ optional<string> year entry getfield fieldname year year ispresent fullname fullname replaceall year get \\ fullname contains fullname contains summaries fullname contains conference record fullname proc fullname entry setfield sourcefield fullname clean entry getfield fieldname ifpresent dirtyabstr try sort spl conversions deal specific nested type first string abstr dirtyabstr replaceall sub spl infin \\$ \\\\infty\\$ abstr abstr replaceall sup spl infin \\$\\^\\\\infty\\$ replace general expressions abstr abstr replaceall [ss]pl [^ \\$\\\\$1\\$ deal subscripts superscripts abstr super detection matcher abstr replaceall super text result abstr sub detection matcher abstr replaceall sub text result abstr super detection matcher abstr replaceall super text result abstr sub detection matcher abstr replaceall sub text result replace \infin \infty abstr abstr replace \\infin \\infty write back entry setfield fieldname abstr clean url entry getfield fieldname url ifpresent url entry setfield fieldname url http: ieeexplore ieee org url replace tp replace keyword separator entry getfield fieldname keywords ifpresent keys entry setfield fieldname keywords keys replace globals prefs get jabrefpreferences keyword separator entry 
171	OAI2Fetcher.java	GUI	net sf jabref gui importer fetcher io ioexception io inputstream io unsupportedencodingexception net httpurlconnection net url net urlencoder nio charset standardcharsets util date util locale javax swing joptionpane javax swing jpanel javax xml parsers parserconfigurationexception javax xml parsers saxparser javax xml parsers saxparserfactory net sf jabref gui importer importinspectiondialog net sf jabref logic help helpfile net sf jabref logic importer importinspector net sf jabref logic importer outputprinter net sf jabref logic importer util oai2handler net sf jabref logic l10n localization net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model entry idgenerator net sf jabref model entry monthutil org apache commons logging log org apache commons logging logfactory org xml sax saxexception org xml sax helpers defaulthandler used access archive offering oai2 interface default access arxiv org see <a href http: arxiv org help oa index >< a> author ulrich st auml rk author christian kopf oai2fetcher entryfetcher log logger logfactory getlog oai2fetcher string oai2 arxiv prefixidentifier oai 3aarxiv org 3a string oai2 arxiv host export arxiv org string oai2 arxiv script oai2 string oai2 arxiv metadataprefix arxiv string oai2 arxiv archivename arxiv org string oai2 identifier field oai2identifier saxparser saxparser string oai2host string oai2script string oai2metadataprefix string oai2prefixidentifier string oai2archivename boolean shouldcontinue true long waittime date lastcall param oai2host host query without leading http: without trailing param oai2script relative location oai2 interface without leading trailing param oai2metadataprefix urlencoded metadataprefix param oai2prefixidentifier urlencoded prefix identifier param waittimems time wait milliseconds query requests oai2fetcher string oai2host string oai2script string oai2metadataprefix string oai2prefixidentifier string oai2archivename long waittimems oai2host oai2host oai2script oai2script oai2metadataprefix oai2metadataprefix oai2prefixidentifier oai2prefixidentifier oai2archivename oai2archivename waittime waittimems try saxparserfactory parserfactory saxparserfactory newinstance saxparser parserfactory newsaxparser catch parserconfigurationexception saxexception logger error error creating saxparser oai2fetcher default constructor archive queried arxiv org oai2fetcher oai2fetcher oai2 arxiv host oai2fetcher oai2 arxiv script oai2fetcher oai2 arxiv metadataprefix oai2fetcher oai2 arxiv prefixidentifier oai2fetcher oai2 arxiv archivename 20000l construct query url param key key oai2 entry url point string denoting query url string constructurl string key string identifier try identifier urlencoder encode key standardcharsets utf name catch unsupportedencodingexception http: oai2host oai2script verb getrecord identifier oai2prefixidentifier identifier metadataprefix oai2metadataprefix archives like arxiv org might expect wait time boolean shouldwait waittime strip subcategories arxiv key param key key fix fixed key string fixkey string key string resultingkey key resultingkey tolowercase locale english startswith arxiv: resultingkey resultingkey substring dot resultingkey indexof slash resultingkey indexof dot dot slash resultingkey resultingkey substring dot resultingkey substring slash resultingkey length resultingkey entry oai2 archive bibentry provided field oai2 identifier field set search string param key oai2 key fetch arxiv imported bibentry null none bibentry importoai2entry string key throws ioexception saxexception fix problem reported mailing list: https: sourceforge net forum message php?msg id string fixedkey oai2fetcher fixkey key string url constructurl fixedkey url oai2url url url httpurlconnection oai2connection httpurlconnection oai2url openconnection oai2connection setrequestproperty user agent jabref create empty bibentry set oai2identifier field bibentry entry bibentry idgenerator next article entry setfield oai2fetcher oai2 identifier field fixedkey defaulthandler handlerbase oai2handler entry try inputstream inputstream oai2connection getinputstream parse result saxparser parse inputstream handlerbase correct line breaks spacing string name entry getfieldnames entry getfield name ifpresent content entry setfield name oai2handler correctlinebreaks content fixedkey matches \\d\\d\\d\\d\\ entry setfield fieldname year fixedkey substring monthnumber integer parseint fixedkey substring monthutil month month monthutil getmonthbynumber monthnumber month isvalid entry setfield fieldname month month bibtexformat entry override helpfile gethelppage helpfile fetcher oai2 arxiv override jpanel getoptionspanel additional options null override string gettitle arxiv org override boolean processquery string query importinspector dialog outputprinter status try shouldcontinue true multiple keys delimited space string[] keys query replace split keys length string key keys[i] archives like arxive org might expect wait time shouldwait lastcall null long elapsed date gettime lastcall gettime elapsed waittime status setstatus localization lang waiting arxiv waittime elapsed thread sleep elapsed date gettime lastcall gettime status setstatus localization lang processing key cancel button hit shouldcontinue break query archive load results bibentry bibentry null try importoai2entry key catch saxexception string url constructurl oai2fetcher fixkey key logger error error fetching gettitle importinspectiondialog dialog showmessage localization lang error fetching gettitle \n localization lang sax exception occurred parsing 0': url localization lang search gettitle joptionpane error message shouldwait lastcall date add entry inspection dialog null dialog addentry update dialogs progress bar dialog setprogress keys length true catch ioexception interruptedexception logger error error fetching gettitle importinspectiondialog dialog showerrormessage gettitle getlocalizedmessage false override stopfetching shouldcontinue false 
172	SpringerFetcher.java	GUI	net sf jabref gui importer fetcher io ioexception net urlencoder javax swing joptionpane javax swing jpanel net sf jabref gui importer importinspectiondialog net sf jabref logic help helpfile net sf jabref logic importer importinspector net sf jabref logic importer outputprinter net sf jabref logic importer util jsonentryparser net sf jabref logic l10n localization net sf jabref model entry bibentry com mashape unirest http httpresponse com mashape unirest http jsonnode com mashape unirest http unirest com mashape unirest http exceptions unirestexception org apache commons logging log org apache commons logging logfactory org json jsonarray org json jsonobject springerfetcher entryfetcher string api url http: api springer com metadata json?q string api key b0c7151179b3d9c1119cf325bca8460d log logger logfactory getlog springerfetcher max per page boolean shouldcontinue override stopfetching shouldcontinue false override boolean processquery string query importinspector inspector outputprinter status shouldcontinue true try status setstatus localization lang searching httpresponse<jsonnode> jsonresponse string encodedquery urlencoder encode query utf jsonresponse unirest get api url encodedquery api key api key header accept application json asjson jsonobject jo jsonresponse getbody getobject numbertofetch jo getjsonarray result getjsonobject getint total numbertofetch numbertofetch max per page boolean numberentered false string strcount joptionpane showinputdialog localization lang references found number references fetch? string valueof numbertofetch strcount null status setstatus localization lang canceled gettitle false try numbertofetch integer parseint strcount trim numberentered true catch numberformatexception ex status showmessage localization lang please enter valid number numberentered fetched keep track number items fetched progress bar startitem startitem numbertofetch startitem max per page shouldcontinue break notofetch math min max per page numbertofetch startitem jsonresponse unirest get api url encodedquery api key api key notofetch startitem header accept application json asjson jo jsonresponse getbody getobject jo records jsonarray results jo getjsonarray records results length jsonobject springerjsonentry results getjsonobject bibentry entry jsonentryparser parsespringerjsontobibtex springerjsonentry inspector addentry entry fetched inspector setprogress fetched numbertofetch true else status showmessage localization lang entries found search string 0' encodedquery localization lang search gettitle joptionpane information message false catch ioexception unirestexception logger error error fetching gettitle importinspectiondialog inspector showerrormessage gettitle getlocalizedmessage false override string gettitle springer override helpfile gethelppage helpfile fetcher springer override jpanel getoptionspanel additional options available null 
173	EntryFetchers.java	GUI	net sf jabref gui importer fetcher util arraylist util collections util linkedlist util list net sf jabref globals net sf jabref logic importer idbasedfetcher net sf jabref logic importer fetcher arxiv net sf jabref logic importer fetcher astrophysicsdatasystem net sf jabref logic importer fetcher dblpfetcher net sf jabref logic importer fetcher diva net sf jabref logic importer fetcher doifetcher net sf jabref logic importer fetcher googlescholar net sf jabref logic importer fetcher gvkfetcher net sf jabref logic importer fetcher isbnfetcher net sf jabref logic importer fetcher mathscinet net sf jabref logic importer fetcher medlinefetcher net sf jabref logic importer fetcher zbmath net sf jabref logic journals journalabbreviationloader entryfetchers list<entryfetcher> entryfetchers linkedlist<> entryfetchers journalabbreviationloader abbreviationloader entryfetchers add citeseerxfetcher entryfetchers add searchbasedentryfetcher dblpfetcher globals prefs getimportformatpreferences entryfetchers add ieeexplorefetcher abbreviationloader entryfetchers add inspirefetcher entryfetchers add oai2fetcher arxiv fetcher place see entryfetchers add sciencedirectfetcher currently working removed see #409 entryfetchers add acmportalfetcher entryfetchers add doajfetcher entryfetchers add springerfetcher entryfetchers add searchbasedentryfetcher arxiv globals prefs getimportformatpreferences entryfetchers add searchbasedentryfetcher gvkfetcher entryfetchers add searchbasedentryfetcher medlinefetcher entryfetchers add searchbasedentryfetcher astrophysicsdatasystem globals prefs getimportformatpreferences entryfetchers add searchbasedentryfetcher mathscinet globals prefs getimportformatpreferences entryfetchers add searchbasedentryfetcher zbmath globals prefs getimportformatpreferences entryfetchers add searchbasedentryfetcher googlescholar globals prefs getimportformatpreferences list<entryfetcher> getentryfetchers collections unmodifiablelist entryfetchers arraylist<idbasedfetcher> getidfetchers arraylist<idbasedfetcher> list arraylist<> list add astrophysicsdatasystem globals prefs getimportformatpreferences list add isbnfetcher globals prefs getimportformatpreferences list add diva globals prefs getimportformatpreferences list add doifetcher globals prefs getimportformatpreferences list add medlinefetcher list sort fetcher1 fetcher2 fetcher1 getname compareto fetcher2 getname list 
174	INSPIREFetcher.java	GUI	net sf jabref gui importer fetcher io ioexception io inputstream io inputstreamreader io unsupportedencodingexception net httpurlconnection net url net urlencoder nio charset standardcharsets javax swing jpanel net sf jabref globals net sf jabref gui importer importinspectiondialog net sf jabref logic help helpfile net sf jabref logic importer importinspector net sf jabref logic importer outputprinter net sf jabref logic importer parserresult net sf jabref logic importer fileformat bibtexparser net sf jabref logic importer util inspirebibtexfilterreader net sf jabref logic l10n localization net sf jabref model database bibdatabase org apache commons logging log org apache commons logging logfactory allows access slac inspire database port original spires fetcher either generalfetcher pose requests database fetch individual entries author fedor bezrukov author sheer el showk version $id$ inspirefetcher entryfetcher string inspire host inspirehep net log logger logfactory getlog inspirefetcher construct query url note: truncate returned entries likely inspire returns fewer anyway problem since users probably specific searches param key key oai2 entry url point string denoting query url string constructurl string key string identifier try identifier urlencoder encode key standardcharsets utf name catch unsupportedencodingexception least characters stringbuilder sb stringbuilder append http: append inspirefetcher inspire host append search?ln en ln en find append identifier append action search search sf rm rg sc hx logger debug inspire url: sb \n sb tostring constructs inspire query url slaccitation field param slaccitation query string string constructurlfromslaccitation string slaccitation string cmd string key slaccitation replaceall citation replaceall key matches ^\\w \\w cmd eprint try key urlencoder encode key utf catch unsupportedencodingexception stringbuffer sb stringbuffer http: append inspire host append sb append spires find hep www append sb append rawcmd find append cmd append sb append key sb tostring construct inspire query url eprint field param eprint query string string constructurlfromeprint string eprint string key eprint replaceall ]$ try key urlencoder encode key utf catch unsupportedencodingexception stringbuffer sb stringbuffer http: append inspire host append sb append spires find hep www append sb append rawcmd find eprint sb append key sb tostring entry oai2 archive bibentry provided field oai2 identifier field set search string param key oai2 key fetch arxiv imported bibentry null none bibdatabase importinspireentries string key outputprinter frame throws ioexception string url constructurl key httpurlconnection conn httpurlconnection url url openconnection conn setrequestproperty user agent jabref inputstream inputstream conn getinputstream try inspirebibtexfilterreader reader inspirebibtexfilterreader inputstreamreader inputstream standardcharsets utf parserresult pr bibtexparser parse reader globals prefs getimportformatpreferences pr getdatabase see net sf jabref imports fetcher entryfetcher override helpfile gethelppage helpfile fetcher inspire override jpanel getoptionspanel additional options null override string gettitle inspire override stopfetching nothing see lang runnable override boolean processquery string query importinspector dialog outputprinter status try status setstatus localization lang fetching entries inspire query archive load results bibentry bibdatabase bd importinspireentries query status status setstatus localization lang adding fetched entries add entry inspection dialog bd getentries foreach dialog::addentry true catch exception logger error error fetching gettitle importinspectiondialog dialog showerrormessage gettitle getlocalizedmessage false 
175	CiteSeerXFetcher.java	GUI	net sf jabref gui importer fetcher io ioexception net urlencoder nio charset standardcharsets util arraylist util list util regex matcher util regex pattern javax swing jpanel net sf jabref globals net sf jabref gui importer importinspectiondialog net sf jabref logic formatter bibtexfields normalizenamesformatter net sf jabref logic help helpfile net sf jabref logic importer importinspector net sf jabref logic importer outputprinter net sf jabref logic net urldownload net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model entry idgenerator org apache commons logging log org apache commons logging logfactory citeseerxfetcher entryfetcher max pages load string query marker query string url start http: citeseer ist psu edu string search url citeseerxfetcher url start search?q citeseerxfetcher query marker submit search sort rlv doc pattern cite link pattern pattern compile <a remove doc details\ href boolean stopfetching string base pattern <meta name citeseerxfetcher query marker content pattern title pattern pattern compile citeseerxfetcher base pattern replace citeseerxfetcher query marker citation title pattern author pattern pattern compile citeseerxfetcher base pattern replace citeseerxfetcher query marker citation authors pattern year pattern pattern compile citeseerxfetcher base pattern replace citeseerxfetcher query marker citation year pattern pattern pattern compile <h3>abstract< h3>\\s <p> p> log logger logfactory getlog citeseerxfetcher override boolean processquery string query importinspector inspector outputprinter status stopfetching false try list<string> citations getcitations query string citation citations stopfetching break bibentry entry getsinglecitation citation entry null inspector addentry entry true catch ioexception logger error error fetching gettitle importinspectiondialog inspector showerrormessage gettitle getlocalizedmessage false override string gettitle citeseerx override helpfile gethelppage helpfile fetcher citeseerx override jpanel getoptionspanel null override stopfetching stopfetching true param query search term query jstor list ids throws io ioexception list<string> getcitations string query throws ioexception string urlquery list<string> ids arraylist<> urlquery citeseerxfetcher search url replace citeseerxfetcher query marker urlencoder encode query standardcharsets utf name count string nextpage nextpage getcitationsfromurl urlquery ids null count citeseerxfetcher max pages load urlquery nextpage count stopfetching break ids string getcitationsfromurl string urlquery list<string> ids throws ioexception string cont urldownload urlquery downloadtostring globals prefs getdefaultencoding matcher citeseerxfetcher cite link pattern matcher cont find ids add citeseerxfetcher url start group null bibentry getsinglecitation string urlstring throws ioexception string cont urldownload urlstring downloadtostring standardcharsets utf find title create entry otherwise assume get entry: matcher citeseerxfetcher title pattern matcher cont find bibentry entry bibentry idgenerator next entry setfield fieldname title group find authors: citeseerxfetcher author pattern matcher cont find string authors group entry setfield fieldname author normalizenamesformatter format authors find year: citeseerxfetcher year pattern matcher cont find entry setfield fieldname year group find abstract: citeseerxfetcher pattern matcher cont find entry setfield fieldname group entry else null 
176	SearchBasedEntryFetcher.java	GUI	net sf jabref gui importer fetcher util list util objects javax swing jpanel net sf jabref gui importer importinspectiondialog net sf jabref logic help helpfile net sf jabref logic importer fetcherexception net sf jabref logic importer importinspector net sf jabref logic importer outputprinter net sf jabref logic importer searchbasedfetcher net sf jabref logic l10n localization net sf jabref model entry bibentry org apache commons logging log org apache commons logging logfactory wrapper around link searchbasedfetcher old link entryfetcher interface searchbasedentryfetcher entryfetcher log logger logfactory getlog searchbasedentryfetcher searchbasedfetcher fetcher searchbasedentryfetcher searchbasedfetcher fetcher fetcher objects requirenonnull fetcher override boolean processquery string query importinspector inspector outputprinter status status setstatus localization lang processing query try list<bibentry> matches fetcher performsearch query matches foreach inspector::addentry matches isempty catch fetcherexception logger error error fetching gettitle importinspectiondialog inspector showerrormessage gettitle getlocalizedmessage false override string gettitle fetcher getname override helpfile gethelppage fetcher gethelppage override jpanel getoptionspanel supported null override stopfetching supported 
177	DOAJFetcher.java	GUI	net sf jabref gui importer fetcher javax swing joptionpane javax swing jpanel net sf jabref globals net sf jabref gui importer importinspectiondialog net sf jabref logic help helpfile net sf jabref logic importer importinspector net sf jabref logic importer outputprinter net sf jabref logic importer util jsonentryparser net sf jabref logic l10n localization net sf jabref model entry bibentry com mashape unirest http httpresponse com mashape unirest http jsonnode com mashape unirest http unirest com mashape unirest http exceptions unirestexception org apache commons logging log org apache commons logging logfactory org json jsonarray org json jsonobject doajfetcher entryfetcher string search url https: doaj org api v1 search articles log logger logfactory getlog doajfetcher max per page boolean shouldcontinue jsonentryparser jsonconverter jsonentryparser override stopfetching shouldcontinue false override boolean processquery string query importinspector inspector outputprinter status shouldcontinue true try status setstatus localization lang searching httpresponse<jsonnode> jsonresponse jsonresponse unirest get search url query ?pagesize header accept application json asjson jsonobject jo jsonresponse getbody getobject numbertofetch jo getint total numbertofetch numbertofetch max per page boolean numberentered false string strcount joptionpane showinputdialog localization lang references found number references fetch? string valueof numbertofetch strcount null status setstatus localization lang canceled gettitle false try numbertofetch integer parseint strcount trim numberentered true catch numberformatexception ex status showmessage localization lang please enter valid number numberentered fetched keep track number items fetched progress bar page page max per page numbertofetch page shouldcontinue break notofetch math min max per page numbertofetch page max per page jsonresponse unirest get search url query ?page page pagesize notofetch header accept application json asjson jo jsonresponse getbody getobject jo results jsonarray results jo getjsonarray results results length jsonobject bibjsonentry results getjsonobject getjsonobject bibjson bibentry entry jsonconverter parsebibjsontobibtex bibjsonentry globals prefs getkeyworddelimiter inspector addentry entry fetched inspector setprogress fetched numbertofetch true else status showmessage localization lang entries found search string 0' query localization lang search gettitle joptionpane information message false catch unirestexception logger error error fetching gettitle importinspectiondialog inspector showerrormessage gettitle getlocalizedmessage false override string gettitle doaj override helpfile gethelppage helpfile fetcher doaj override jpanel getoptionspanel additional options available null 
178	ACMPortalFetcher.java	GUI	net sf jabref gui importer fetcher awt dimension awt gridlayout io bufferedreader io ioexception io inputstreamreader net malformedurlexception net url net urlconnection nio charset standardcharsets util collection util linkedhashmap util map util nosuchelementexception util optional util regex matcher util regex pattern javax swing buttongroup javax swing jcheckbox javax swing jlabel javax swing joptionpane javax swing jpanel javax swing jradiobutton net sf jabref globals net sf jabref gui importer fetcherpreviewdialog net sf jabref logic formatter bibtexfields htmltolatexformatter net sf jabref logic formatter bibtexfields unitstolatexformatter net sf jabref logic formatter casechanger protecttermsformatter net sf jabref logic help helpfile net sf jabref logic importer importinspector net sf jabref logic importer outputprinter net sf jabref logic importer fileformat bibtexparser net sf jabref logic l10n localization net sf jabref logic net urldownload net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref preferences jabrefpreferences org apache commons logging log org apache commons logging logfactory acmportalfetcher previewentryfetcher log logger logfactory getlog acmportalfetcher htmltolatexformatter htmltolatexformatter htmltolatexformatter protecttermsformatter protecttermsformatter protecttermsformatter unitstolatexformatter unitstolatexformatter unitstolatexformatter string terms string start url http: portal acm org string search url part results cfm?query string search url part ii dl string end url coll portal short start string bibtex url exportformats cfm?id string bibtex url end expformat bibtex string url tab cfm?id string next entry pattern <div numbering\ string author marker <div authors\ string source marker <div source\ string end entry pattern <br clear all\ string results found pattern <div id resfound\ string page range pattern <div pagerange\ jradiobutton acmbutton jradiobutton localization lang acm digital library jradiobutton guidebutton jradiobutton localization lang guide computing literature jcheckbox abscheckbox jcheckbox localization lang include abstracts false per page fetch one page otherwise user get blocked acm old setting see bug https: sourceforge net tracker index php?func detail aid group id atid wait time boolean shouldcontinue user settings boolean fetchabstract boolean acmorguide piv pattern hits pattern pattern compile <strong> \\d \\d strong> results found pattern max hits pattern pattern compile result \\d \\d ndash \\d \\d \\d \\d pattern full citation pattern pattern compile <a href citation cfm target pattern id pattern pattern compile citation cfm\\?id \\d patterns used extract information preview: pattern title pattern pattern compile <a href ?\ [^<] a> pattern pattern pattern compile <div ?> div> pattern source pattern pattern compile <span style padding left:10px\ [^<] span> override jpanel getoptionspanel jpanel pan jpanel pan setlayout gridlayout guidebutton setselected true buttongroup group buttongroup group add acmbutton group add guidebutton pan add abscheckbox pan add acmbutton pan add guidebutton pan override boolean processquerygetpreview string query fetcherpreviewdialog preview outputprinter status terms query piv shouldcontinue true acmorguide acmbutton isselected fetchabstract abscheckbox isselected string address makeurl linkedhashmap<string jlabel> previews linkedhashmap<> try urldownload dl urldownload address string page dl downloadtostring globals prefs getdefaultencoding hits getnumberofhits page results found pattern acmportalfetcher hits pattern index page indexof results found pattern index page page substring index results found pattern length hits status showmessage localization lang entries found search string 0' terms localization lang search gettitle joptionpane information message false else hits status showmessage localization lang entries found reduce server load downloaded string valueof hits string valueof per page localization lang search gettitle joptionpane information message hits getnumberofhits page page range pattern acmportalfetcher max hits pattern parse page math min hits per page previews map entry<string jlabel> entry previews entryset preview addentry entry getkey entry getvalue true catch ioexception logger error error fetching gettitle preview showerrormessage gettitle getlocalizedmessage false override getentries map<string boolean> selection importinspector inspector map entry<string boolean> selentry selection entryset shouldcontinue break selentry getvalue downloadentrybibtex selentry getkey fetchabstract ifpresent entry convert html optionally add curly brackets around key words keep case entry getfield fieldname title ifpresent title title title replace \\ replace \\# title converthtmlchars title unit formatting globals prefs getboolean jabrefpreferences use unit formatter search title unitstolatexformatter format title case keeping globals prefs getboolean jabrefpreferences use case keeper search title protecttermsformatter format title entry setfield fieldname title title entry getfield fieldname ifpresent abstr entry setfield fieldname converthtmlchars abstr inspector addentry entry override getwarninglimit override getpreferredpreviewheight override boolean processquery string query importinspector dialog outputprinter status false string makeurl stringbuilder sb stringbuilder acmportalfetcher start url append acmportalfetcher search url part append terms replace append acmportalfetcher search url part ii acmorguide sb append acm else sb append guide sb append acmportalfetcher end url sb tostring parse string text hits map<string jlabel> entries entrynumber getnextentryurl text entrynumber entries entrynumber hits entrynumber string getentrybibtexurl string fullcitation get id matcher idmatcher acmportalfetcher id pattern matcher fullcitation idmatcher find idmatcher group logger info find id in: fullcitation null boolean getnextentryurl string alltext entrynumber map<string jlabel> entries index alltext indexof next entry pattern piv endindex alltext indexof end entry pattern index piv endindex index string text alltext substring index endindex always try ris first matcher fullcitation acmportalfetcher full citation pattern matcher text string item fullcitation find string link getentrybibtexurl fullcitation group endindex stringbuilder sb stringbuilder find authors: authstart text indexof author marker authstart authend text indexof div> authstart author marker length authend sb append <p> append text substring authstart authend append p> find title: matcher titm acmportalfetcher title pattern matcher text titm find sb append <p> append titm group append p> sourcestart text indexof source marker sourcestart sourceend text indexof div> sourcestart source marker length sourceend string sourcetext text substring sourcestart sourceend find source: matcher source acmportalfetcher source pattern matcher sourcetext source find sb append <p> append source group append p> item sb tostring else item link jlabel preview jlabel <html> item html> preview setpreferredsize dimension entries put link preview true logger warn citation unmatched integer tostring entrynumber false false optional<bibentry> downloadentrybibtex string id boolean downloadabstract try url url url acmportalfetcher start url acmportalfetcher bibtex url id acmportalfetcher bibtex url end urlconnection connection url openconnection set user agent avoid blocked crawler connection addrequestproperty user agent mozilla windows nt rv:31 gecko firefox collection<bibentry> items null try bufferedreader bufferedreader inputstreamreader connection getinputstream standardcharsets utf items bibtexparser parse globals prefs getimportformatpreferences getdatabase getentries catch ioexception logger info download bibtex information acm portal failed items null items isempty optional empty bibentry entry items iterator next thread sleep acmportalfetcher wait time wait requests blocked acm get downloadabstract urldownload dl urldownload acmportalfetcher start url acmportalfetcher url id string page dl downloadtostring globals prefs getdefaultencoding matcher absm acmportalfetcher pattern matcher page absm find entry setfield fieldname absm group trim thread sleep acmportalfetcher wait time wait requests blocked acm optional entry catch nosuchelementexception logger info bad bibtex record read at: acmportalfetcher bibtex url id acmportalfetcher bibtex url end catch malformedurlexception logger info malformed url catch ioexception logger info cannot connect catch interruptedexception ignored ignored optional empty method must convert html style char sequences normal characters param text text handle converted text string converthtmlchars string text htmltolatexformatter format text find many hits found param page getnumberofhits string page string marker pattern pattern throws ioexception ind page indexof marker ind string substring page substring ind math min ind page length matcher pattern matcher substring find try string number group number number replace remove integer parseint number catch numberformatexception ex throw ioexception cannot parse number hits logger info unmatched substring throw ioexception cannot parse number hits override string gettitle acm portal override helpfile gethelppage helpfile fetcher acm method called dialog user canceled signaled stop expected long running fetch operations stop method called override stopfetching shouldcontinue false 
179	ScienceDirectFetcher.java	GUI	net sf jabref gui importer fetcher io ioexception net urlencoder nio charset standardcharsets util arraylist util list util regex matcher util regex pattern javax swing joptionpane javax swing jpanel net sf jabref globals net sf jabref gui importer importinspectiondialog net sf jabref logic help helpfile net sf jabref logic importer importinspector net sf jabref logic importer outputprinter net sf jabref logic importer fetcher bibsonomyscraper net sf jabref logic l10n localization net sf jabref logic net urldownload org apache commons logging log org apache commons logging logfactory current sciencedirect fetcher implementation longer work deprecated sciencedirectfetcher entryfetcher string science direct sciencedirect log logger logfactory getlog sciencedirectfetcher max pages load string website url http: www sciencedirect com string search url sciencedirectfetcher website url science quicksearch?query string link prefix http: www sciencedirect com science? ob articleurl pattern link pattern pattern compile <a href sciencedirectfetcher link prefix replaceall \\? \\\\? [^\ boolean stopfetching override helpfile gethelppage helpfile fetcher sciencedirect override jpanel getoptionspanel options panel null override string gettitle sciencedirect override stopfetching stopfetching true override boolean processquery string query importinspector dialog outputprinter status stopfetching false try list<string> citations getcitations query citations null false citations isempty status showmessage localization lang entries found search string 0' query localization lang search science direct joptionpane information message false string cit citations stopfetching break bibsonomyscraper getentry cit globals prefs getimportformatpreferences ifpresent dialog::addentry dialog setprogress citations size true catch ioexception logger warn communcation problems importinspectiondialog dialog showerrormessage gettitle getlocalizedmessage false param query search term query jstor list ids throws io ioexception list<string> getcitations string query throws ioexception string urlquery list<string> ids arraylist<> urlquery sciencedirectfetcher search url urlencoder encode query standardcharsets utf name count string nextpage nextpage getcitationsfromurl urlquery ids null count sciencedirectfetcher max pages load urlquery nextpage count ids string getcitationsfromurl string urlquery list<string> ids throws ioexception string cont urldownload urlquery downloadtostring globals prefs getdefaultencoding matcher sciencedirectfetcher link pattern matcher cont find find ids add sciencedirectfetcher link prefix group cont cont substring end sciencedirectfetcher link pattern matcher cont else null null 
180	PreviewEntryFetcher.java	GUI	net sf jabref gui importer fetcher util map net sf jabref gui importer fetcherpreviewdialog net sf jabref logic importer importinspector net sf jabref logic importer outputprinter interface previewentryfetcher entryfetcher boolean processquerygetpreview string query fetcherpreviewdialog preview outputprinter status getentries map<string boolean> selection importinspector inspector number entries user select download without getting warning message warning limit getwarninglimit preferred table row height previews preferred height getpreferredpreviewheight 
181	EntryFetcher.java	GUI	net sf jabref gui importer fetcher javax swing jpanel net sf jabref gui importer importinspectiondialog net sf jabref logic help helpfile net sf jabref logic importer importinspector net sf jabref logic importer outputprinter deprecated use link searchbasedentryfetcher instead <br> implement interface add another activefetcher something grabs records web jabref look existing implemenations oai2fetcher ieeexplorefetcher jstorfetcher citeseerentryfetcher note: also need implement method stopfetching importinspectiondialog callback fetcher execute gui operations might run headless mode rather use outputprinter talking user deprecated interface entryfetcher importinspectiondialog callback handle query entered user method expected block caller entries reported inspector param query query text param inspector dialog add imported entries param status outputprinter passed activefetcher reporting status fetching true query completed successfully false error occurred boolean processquery string query importinspector inspector outputprinter status title activefetcher displayed menu side pane title string gettitle get name help page activefetcher given question mark displayed side pane leads help page link helpfile enum constant help page helpfile gethelppage activefetcher requires additional options panel setting returned jpanel method jpanel added side pane component automatically options panel activefetcher null activefetcher options jpanel getoptionspanel 
182	IdBasedEntryFetcher.java	GUI	net sf jabref gui importer fetcher util objects util optional javax swing jpanel net sf jabref gui importer importinspectiondialog net sf jabref logic help helpfile net sf jabref logic importer fetcherexception net sf jabref logic importer idbasedfetcher net sf jabref logic importer importinspector net sf jabref logic importer outputprinter net sf jabref logic l10n localization net sf jabref model entry bibentry org apache commons logging log org apache commons logging logfactory idbasedentryfetcher entryfetcher log logger logfactory getlog idbasedentryfetcher idbasedfetcher fetcher idbasedentryfetcher idbasedfetcher fetcher fetcher objects requirenonnull fetcher override boolean processquery string query importinspector inspector outputprinter status status setstatus localization lang processing query try optional<bibentry> match fetcher performsearchbyid query match ifpresent inspector::addentry match ispresent catch fetcherexception logger error error fetching gettitle importinspectiondialog inspector showerrormessage gettitle getlocalizedmessage false override string gettitle fetcher getname override helpfile gethelppage fetcher gethelppage override jpanel getoptionspanel supported null override stopfetching supported 
183	GeneralFetcher.java	GUI	net sf jabref gui importer fetcher awt borderlayout awt cardlayout awt dimension awt gridbagconstraints awt gridbaglayout awt insets awt event actionevent awt event actionlistener util arrays util comparator util list javax swing borderfactory javax swing jbutton javax swing jcombobox javax swing jpanel javax swing jtextfield javax swing swingutilities net sf jabref globals net sf jabref jabrefexecutorservice net sf jabref gui icontheme net sf jabref gui jabrefframe net sf jabref gui sidepanecomponent net sf jabref gui sidepanemanager net sf jabref gui help helpaction net sf jabref gui importer fetcherpreviewdialog net sf jabref gui importer importinspectiondialog net sf jabref gui keyboard keybinding net sf jabref logic l10n localization net sf jabref logic util os net sf jabref preferences jabrefpreferences generalfetcher sidepanecomponent actionlistener jtextfield tf jtextfield cardlayout optionscards cardlayout jpanel optionspanel jpanel optionscards jpanel optpanel jpanel borderlayout toggleaction action jabrefframe frame entryfetcher activefetcher generalfetcher jabrefframe frame sidepanemanager sidepanemanager super sidepanemanager icontheme jabreficon www getsmallicon localization lang web search frame frame list<entryfetcher> fetchers entryfetchers globals journalabbreviationloader getentryfetchers entryfetcher[] fetcherarray fetchers toarray entryfetcher[fetchers size arrays sort fetcherarray entryfetchercomparator jlabel[] choices jlabel[fetchers size string[] choices string[fetcherarray length] fetcherarray length choices[i] fetcherarray[i] gettitle jcombobox<string> fetcherchoice jcombobox<> choices defaultfetcher globals prefs getint jabrefpreferences selected fetcher index defaultfetcher fetcherarray length defaultfetcher activefetcher fetcherarray[defaultfetcher] fetcherchoice setselectedindex defaultfetcher activefetcher getoptionspanel null optpanel add activefetcher getoptionspanel borderlayout center helpaction help helpaction activefetcher gethelppage jbutton helpbut help gethelpbutton helpbut setenabled activefetcher gethelppage null fetcherchoice addactionlistener actionevent activefetcher fetcherarray[fetcherchoice getselectedindex globals prefs putint jabrefpreferences selected fetcher index fetcherchoice getselectedindex activefetcher gethelppage null helpbut setenabled false else help sethelpfile activefetcher gethelppage helpbut setenabled true optionscards show optionspanel string valueof fetcherchoice getselectedindex optpanel removeall activefetcher getoptionspanel null optpanel add activefetcher getoptionspanel borderlayout center revalidate action toggleaction localization lang web search localization lang toggle web search interface globals getkeyprefs getkey keybinding web search icontheme jabreficon www helpbut setmargin insets tf setpreferredsize dimension tf getpreferredsize height os os tf putclientproperty jtextfield variant search tf setname tf add action reset button resets tf requests focus jbutton reset jbutton localization lang reset reset addactionlistener event tf settext tf requestfocus jpanel main jpanel gridbaglayout gbl gridbaglayout main setlayout gbl gridbagconstraints con gridbagconstraints con fill gridbagconstraints con insets insets con gridwidth gridbagconstraints remainder con weightx con weighty con insets insets con fill gridbagconstraints gbl setconstraints fetcherchoice con main add fetcherchoice con insets insets gbl setconstraints tf con main add tf go button con weighty con gridwidth jbutton go jbutton localization lang fetch gbl setconstraints go con main add go reset button reset setname reset gbl setconstraints reset con main add reset help button con gridwidth gridbagconstraints remainder gbl setconstraints helpbut con main add helpbut gbl setconstraints optpanel con main add optpanel main setborder borderfactory createemptyborder add main borderlayout center go addactionlistener tf addactionlistener jtextfield gettextfield tf override toggleaction gettoggleaction action override actionperformed actionevent tf gettext trim isempty frame output localization lang please enter search string frame getcurrentbasepanel null frame output localization lang please open start database searching two categories fetchers one category show previews first ask user ones download: activefetcher instanceof previewentryfetcher frame output localization lang searching frame setprogressbarindeterminate true frame setprogressbarvisible true previewentryfetcher pfetcher previewentryfetcher activefetcher fetcherpreviewdialog dialog fetcherpreviewdialog frame pfetcher getwarninglimit pfetcher getpreferredpreviewheight jabrefexecutorservice instance execute boolean result pfetcher processquerygetpreview tf gettext trim dialog dialog swingutilities invokelater frame setprogressbarvisible false frame output result dialog setlocationrelativeto frame dialog setvisible true dialog isokpressed importinspectiondialog d2 importinspectiondialog frame frame getcurrentbasepanel activefetcher gettitle false d2 addcallback activefetcher d2 setlocationrelativeto frame d2 setvisible true jabrefexecutorservice instance execute pfetcher getentries dialog getselection d2 d2 entrylistcomplete category downloads entries first asks user ones keep: else importinspectiondialog dialog importinspectiondialog frame frame getcurrentbasepanel activefetcher gettitle false dialog addcallback activefetcher dialog setlocationrelativeto frame dialog setvisible true jabrefexecutorservice instance execute activefetcher processquery tf gettext trim dialog dialog dialog entrylistcomplete else dialog dispose override grabfocus gettextfield grabfocus override componentclosing super componentclosing gettoggleaction setselected false globals prefs putboolean jabrefpreferences web search visible boolean false override componentopening super componentopening globals prefs putboolean jabrefpreferences web search visible boolean true override getrescalingweight entryfetchercomparator comparator<entryfetcher> override compare entryfetcher entryfetcher entryfetcher entryfetcher1 entryfetcher gettitle compareto entryfetcher1 gettitle 
184	ImportCustomizationDialog.java	GUI	net sf jabref gui importer awt borderlayout awt dimension awt event actionevent io file io ioexception nio file path util enumset util optional util zip zipfile javax swing abstractaction javax swing action javax swing actionmap javax swing borderfactory javax swing inputmap javax swing jbutton javax swing jcomponent javax swing jdialog javax swing joptionpane javax swing jpanel javax swing jscrollpane javax swing jtable javax swing listselectionmodel javax swing scrollpaneconstants javax swing table abstracttablemodel javax swing table tablecolumnmodel net sf jabref globals net sf jabref gui filedialog net sf jabref gui jabrefframe net sf jabref gui help helpaction net sf jabref gui keyboard keybinding net sf jabref gui util guiutil net sf jabref logic help helpfile net sf jabref logic importer fileformat customimporter net sf jabref logic l10n localization net sf jabref logic util fileextensions com jgoodies forms builder buttonbarbuilder org apache commons logging log org apache commons logging logfactory dialog manage custom importers importcustomizationdialog jdialog log logger logfactory getlog importcustomizationdialog column widths customization dialog table: col width col width col width col width jtable customimportertable importcustomizationdialog jabrefframe frame super frame localization lang manage custom imports false importtablemodel tablemodel importtablemodel customimportertable jtable tablemodel tablecolumnmodel cm customimportertable getcolumnmodel cm getcolumn setpreferredwidth col width cm getcolumn setpreferredwidth col width cm getcolumn setpreferredwidth col width cm getcolumn setpreferredwidth col width jscrollpane sp jscrollpane customimportertable scrollpaneconstants vertical scrollbar needed scrollpaneconstants horizontal scrollbar never customimportertable setselectionmode listselectionmodel single selection customimportertable setpreferredscrollableviewportsize getsize customimportertable getrowcount customimportertable setrowselectioninterval guiutil correctrowheight customimportertable jbutton addfromfolderbutton jbutton localization lang add folder addfromfolderbutton addactionlistener filedialog dialog filedialog frame withextension fileextensions dialog setdefaultextension fileextensions optional<path> selectedfile dialog showdialogandgetselectedfile selectedfile ispresent selectedfile get getparent null string chosenfilestr selectedfile get tostring try string basepath selectedfile get getparent tostring string classname pathtoclass basepath file chosenfilestr customimporter importer customimporter basepath classname addorreplaceimporter importer customimportertable revalidate customimportertable repaint catch exception exc joptionpane showmessagedialog frame localization lang could instantiate chosenfilestr catch noclassdeffounderror exc joptionpane showmessagedialog frame localization lang could instantiate chosen correct path? chosenfilestr addfromfolderbutton settooltiptext localization lang add compiled custom importer path \n localization lang path need classpath jabref jbutton addfromjarbutton jbutton localization lang add jar addfromjarbutton addactionlistener filedialog dialog filedialog frame withextensions enumset fileextensions zip fileextensions jar dialog setdefaultextension fileextensions jar optional<path> jarzipfile dialog showdialogandgetselectedfile jarzipfile ispresent try zipfile zipfile zipfile jarzipfile get tofile zipfile open read zipfilechooser zipfilechooser zipfilechooser zipfile zipfilechooser setvisible true customimportertable revalidate customimportertable repaint catch ioexception exc logger info could open zip archive exc joptionpane showmessagedialog frame localization lang could open jarzipfile get tostring \n localization lang chosen correct path? catch noclassdeffounderror exc logger info could instantiate zip archive reader exc joptionpane showmessagedialog frame localization lang could instantiate jarzipfile get tostring \n localization lang chosen correct path? addfromjarbutton settooltiptext localization lang add compiled custom importer zip archive \n localization lang zip archive need classpath jabref jbutton showdescbutton jbutton localization lang show description showdescbutton addactionlistener row customimportertable getselectedrow row joptionpane showmessagedialog frame localization lang please select importer else customimporter importer importtablemodel customimportertable getmodel getimporter row joptionpane showmessagedialog frame importer getdescription jbutton removebutton jbutton localization lang remove removebutton addactionlistener row customimportertable getselectedrow row joptionpane showmessagedialog frame localization lang please select importer else customimportertable removerowselectioninterval row row globals prefs customimports remove importtablemodel customimportertable getmodel getimporter row globals format reader resetimportformats globals prefs getimportformatpreferences globals prefs getxmppreferences customimportertable revalidate customimportertable repaint action closeaction abstractaction override actionperformed actionevent dispose jbutton closebutton jbutton localization lang close closebutton addactionlistener closeaction jbutton helpbutton helpaction helpfile custom imports gethelpbutton key bindings: jpanel mainpanel jpanel actionmap mainpanel getactionmap inputmap im mainpanel getinputmap jcomponent focused window im put globals getkeyprefs getkey keybinding close dialog close put close closeaction mainpanel setlayout borderlayout mainpanel add sp borderlayout center jpanel buttons jpanel buttonbarbuilder bb buttonbarbuilder buttons buttons setborder borderfactory createemptyborder bb addglue bb addbutton addfromfolderbutton bb addbutton addfromjarbutton bb addbutton showdescbutton bb addbutton removebutton bb addbutton closebutton bb addunrelatedgap bb addbutton helpbutton bb addglue getcontentpane add mainpanel borderlayout center getcontentpane add buttons borderlayout south setsize getsize pack setlocationrelativeto frame customimportertable requestfocus non javadoc see awt component#getsize override dimension getsize width col width col width col width col width dimension width width converts path relative base path name param basepath base path param path path includes base path prefix name string pathtoclass string basepath file path string classname null file actualpath path remove leading basepath path actualpath equals file basepath classname actualpath getname classname null classname actualpath actualpath getparentfile classname null lastdot classname lastindexof lastdot classname classname classname substring lastdot classname adds importer model underlies custom importers param importer importer addorreplaceimporter customimporter importer globals prefs customimports replaceimporter importer globals format reader resetimportformats globals prefs getimportformatpreferences globals prefs getxmppreferences importtablemodel customimportertable getmodel firetabledatachanged table model custom importer table importtablemodel abstracttablemodel string[] columnnames string[] localization lang name localization lang command line id localization lang importer localization lang contained override object getvalueat rowindex columnindex object value null customimporter importer getimporter rowindex columnindex value importer getname else columnindex value importer getname else columnindex value importer getclassname else columnindex value importer getbasepath value override getcolumncount columnnames length override getrowcount globals prefs customimports size override string getcolumnname col columnnames[col] customimporter getimporter rowindex customimporter[] importers globals prefs customimports toarray customimporter[globals prefs customimports size importers[rowindex] 
185	EntryFromExternalFileCreator.java	GUI	net sf jabref gui importer io file util optional net sf jabref gui externalfiletype externalfiletype net sf jabref model entry bibentry entrycreator predefined externalfiletype creator accepts files extension defined externalfiletype entryfromexternalfilecreator entryfromfilecreator entryfromexternalfilecreator externalfiletype externalfiletype super externalfiletype override boolean accept file getname endswith externalfiletype getextension override optional<bibentry> createbibtexentry file file accept file optional empty optional bibentry override string getformatname externalfiletype getname 
186	UnlinkedPDFFileFilter.java	GUI	net sf jabref gui importer io file io filefilter net sf jabref globals net sf jabref logic util io databasefilelookup net sf jabref model database bibdatabase net sf jabref model database bibdatabasecontext net sf jabref model entry bibentry link filefilter implementation allows files linked link bibentry specified link bibdatabase <br> <br> link filefilter sits top another link filefilter implementation first consults major filefilter accepted file implementation verify file author nosh dan version 02:00:15 unlinkedpdffilefilter filefilter databasefilelookup lookup filefilter filefilter unlinkedpdffilefilter filefilter filefilter bibdatabasecontext databasecontext filefilter filefilter lookup databasefilelookup databasecontext globals prefs getfiledirectorypreferences override boolean accept file pathname filefilter accept pathname lookup lookupdatabase pathname 
187	PostOpenAction.java	GUI	net sf jabref gui importer actions net sf jabref gui basepanel net sf jabref logic importer parserresult interface defines potential actions may need taken opening bib file jabref instance file upgrade actions offered due features jabref may depend jabref version file last written interface introduced attempt add functionality flexible manner interface postopenaction method queried order find whether action needs performed param pr result bib parse operation true action called false otherwise boolean isactionnecessary parserresult pr method called database added gui isactionnecessary method returned true note: several methods need called sequentially important implementations method operation finished work needs loaded worker thread use spin synchronously param panel basepanel database shown param pr result bib parse operation performaction basepanel panel parserresult pr 
188	CheckForNewEntryTypesAction.java	GUI	net sf jabref gui importer actions util arrays util iterator javax swing joptionpane net sf jabref globals net sf jabref gui basepanel net sf jabref logic importer parserresult net sf jabref logic l10n localization net sf jabref model defaults net sf jabref model entrytypes net sf jabref model database bibdatabasecontext net sf jabref model database bibdatabasemode net sf jabref model entry customentrytype net sf jabref model entry entrytype net sf jabref preferences jabrefpreferences action checks whether custom entry types loaded bib file offer remember entry types given checkfornewentrytypesaction postopenaction override boolean isactionnecessary parserresult pr defaults defaults defaults bibdatabasemode frompreference globals prefs getboolean jabrefpreferences biblatex default mode bibdatabasemode mode bibdatabasecontext pr getdatabase pr getmetadata defaults getmode see custom entry types imported disregard already know: iterator<string> pr getentrytypes keyset iterator hasnext string typename next tolowercase entrytypes gettype typename mode ispresent remove pr getentrytypes isempty override performaction basepanel panel parserresult pr stringbuilder sb stringbuilder sb append localization lang custom entry types found file append object[] types pr getentrytypes keyset toarray arrays sort types object type types sb append type append string sb tostring answer joptionpane showconfirmdialog panel frame substring length \n localization lang remember entry types? localization lang custom entry types joptionpane yes option joptionpane question message answer joptionpane yes option entrytype typ pr getentrytypes values entrytypes addormodifycustomentrytype customentrytype typ 
189	HandleDuplicateWarnings.java	GUI	net sf jabref gui importer actions javax swing joptionpane net sf jabref gui basepanel net sf jabref gui actions actions net sf jabref logic importer parserresult net sf jabref logic l10n localization postopenaction checks whether warnings duplicate bibtex keys offers start duplicate resolving process handleduplicatewarnings postopenaction override boolean isactionnecessary parserresult pr pr hasduplicatekeys override performaction basepanel panel parserresult pr answer joptionpane showconfirmdialog null <html><p> localization lang database contains one duplicated bibtex keys p><p> localization lang want resolve duplicate keys now? localization lang duplicate bibtex key joptionpane yes option answer joptionpane yes option panel runcommand actions resolve duplicate keys 
190	ConvertLegacyExplicitGroups.java	GUI	net sf jabref gui importer actions util arraylist util list util objects net sf jabref gui basepanel net sf jabref logic importer parserresult net sf jabref model entry bibentry net sf jabref model groups explicitgroup net sf jabref model groups grouptreenode converts legacy explicit groups group contained list assigned entries format entry stores list groups belongs convertlegacyexplicitgroups postopenaction override boolean isactionnecessary parserresult pr pr getmetadata getgroups ispresent getexplicitgroupswithlegacykeys pr getmetadata getgroups orelse null isempty false override performaction basepanel panel parserresult pr objects requirenonnull pr pr getmetadata getgroups ispresent explicitgroup group getexplicitgroupswithlegacykeys pr getmetadata getgroups get string entrykey group getlegacyentrykeys bibentry entry pr getdatabase getentriesbykey entrykey group add entry group clearlegacyentrykeys list<explicitgroup> getexplicitgroupswithlegacykeys grouptreenode node objects requirenonnull node list<explicitgroup> findings arraylist<> node getgroup instanceof explicitgroup explicitgroup group explicitgroup node getgroup group getlegacyentrykeys isempty findings add group node getchildren foreach child findings addall getexplicitgroupswithlegacykeys child findings 
191	OpenDatabaseAction.java	GUI	net sf jabref gui importer actions awt event actionevent io file io ioexception nio file attribute filetime sql sqlexception util arraylist util collections util iterator util list util objects util optional util stream collectors javax swing action javax swing joptionpane javax swing swingutilities net sf jabref globals net sf jabref jabrefexecutorservice net sf jabref gui basepanel net sf jabref gui filedialog net sf jabref gui icontheme net sf jabref gui jabrefframe net sf jabref gui actions mnemonicawareaction net sf jabref gui autosaveandbackup backupuimanager net sf jabref gui importer parserresultwarningdialog net sf jabref gui keyboard keybinding net sf jabref gui shared shareddatabaseuimanager net sf jabref logic autosaveandbackup backupmanager net sf jabref logic importer opendatabase net sf jabref logic importer parserresult net sf jabref logic l10n localization net sf jabref logic util fileextensions net sf jabref logic util io filebasedlock net sf jabref migrations filelinksupgradewarning net sf jabref model database bibdatabase net sf jabref model strings stringutil net sf jabref preferences jabrefpreferences net sf jabref shared exception databasenotsupportedexception net sf jabref shared exception invaliddbmsconnectionpropertiesexception net sf jabref shared exception notashareddatabaseexception org apache commons logging log org apache commons logging logfactory action concerned opening existing database opendatabaseaction mnemonicawareaction log logger logfactory getlog opendatabaseaction boolean showdialog jabrefframe frame list actions may need called opening file upgrade actions etc may depend jabref version wrote file: list<postopenaction> post open actions arraylist<> add action checking custom entry types loaded bib file: post open actions add checkfornewentrytypesaction add action converting legacy entries explicitgroup post open actions add convertlegacyexplicitgroups add action external file handling system version 3: post open actions add filelinksupgradewarning add action warning handling duplicate bibtex keys: post open actions add handleduplicatewarnings opendatabaseaction jabrefframe frame boolean showdialog super icontheme jabreficon open geticon frame frame showdialog showdialog putvalue action name localization menutitle open database putvalue action accelerator key globals getkeyprefs getkey keybinding open database putvalue action short description localization lang open bibtex database override actionperformed actionevent list<file> filestoopen arraylist<> showdialog filedialog dialog filedialog frame withextension fileextensions bibtex db dialog setdefaultextension fileextensions bibtex db list<string> chosenstrings dialog showdialogandgetmultiplefiles filestoopen addall chosenstrings stream map file::new collect collectors tolist else logger info action name getactioncommand filestoopen add file stringutil getcorrectfilename getactioncommand bib openfiles filestoopen true opens given file null nothing happens param file file may null existing openfile file file boolean raisepanel list<file> filestoopen arraylist<> filestoopen add file openfiles filestoopen raisepanel openfilesasstringlist list<string> filenamestoopen boolean raisepanel list<file> filestoopen arraylist<> string filename filenamestoopen filestoopen add file filename openfiles filestoopen raisepanel opens given files one null nothing happens param filestoopen filestoopen may null existing openfiles list<file> filestoopen boolean raisepanel basepanel toraise null initialcount filestoopen size removed check files already open: iterator<file> iterator filestoopen iterator iterator hasnext file file iterator next frame gettabbedpane gettabcount basepanel basepanel frame getbasepanelat basepanel getbibdatabasecontext getdatabasefile ispresent basepanel getbibdatabasecontext getdatabasefile get equals file iterator remove removed see removed one must perhaps raise basepanel question: removed initialcount toraise basepanel bps check found matching one break run actual open thread prevent program locking file loaded filestoopen isempty list<file> thefiles collections unmodifiablelist filestoopen jabrefexecutorservice instance execute file thefile thefiles openthefile thefile raisepanel file thefile thefiles frame getfilehistory newfile thefile getpath files remaining open could mean file already open may raise correct tab: else toraise null frame output localization lang file 0' already open toraise getbibdatabasecontext getdatabasefile get getpath frame gettabbedpane setselectedcomponent toraise frame output localization lang files opened filestoopen size param file file may null existing openthefile file file boolean raisepanel file null file exists file filetoload file frame output localization lang opening file getpath string filename file getpath globals prefs put jabrefpreferences working directory file getparent filebasedlock haslockfile file topath optional<filetime> modificationtime filebasedlock getlockfiletimestamp file topath modificationtime ispresent system currenttimemillis modificationtime get tomillis filebasedlock lockfile critical age lock file fairly old offer steal file: answer joptionpane showconfirmdialog null <html> localization lang error opening file filename localization lang file locked another jabref instance <p> localization lang want override file lock? localization lang file locked joptionpane yes option answer joptionpane yes option filebasedlock deletelockfile file topath else else filebasedlock waitforfilelock file topath joptionpane showmessagedialog null localization lang error opening file filename localization lang file locked another jabref instance localization lang error joptionpane error message backupmanager checkforbackupfile filetoload topath backupuimanager showrestorebackupdialog frame filetoload topath parserresult result try result opendatabase loaddatabase filetoload globals prefs getimportformatpreferences catch ioexception ex logger error error loading database filetoload ex result parserresult getnullresult joptionpane showmessagedialog null localization lang error opening file filename localization lang error joptionpane error message result getdatabase isshared try shareddatabaseuimanager frame openshareddatabasefromparserresult result catch sqlexception databasenotsupportedexception invaliddbmsconnectionpropertiesexception notashareddatabaseexception result getdatabasecontext cleardatabasefile open original file result getdatabase clearshareddatabaseid logger error connection error joptionpane showmessagedialog frame getmessage \n\n localization lang local copy opened localization lang connection error joptionpane warning message basepanel panel addnewdatabase result file raisepanel adding database go list see post open actions need done instance checking found entry types imported checking database contents modified due features version jabref: parserresult finalreferencetoresult result swingutilities invokelater opendatabaseaction performpostopenactions panel finalreferencetoresult true go list post open actions perform need performed param panel basepanel database shown param result result bib file parse operation performpostopenactions basepanel panel parserresult result boolean mustraisepanel postopenaction action opendatabaseaction post open actions action isactionnecessary result mustraisepanel panel frame gettabbedpane setselectedcomponent panel action performaction panel result basepanel addnewdatabase parserresult result file file boolean raisepanel bibdatabase database result getdatabase result haswarnings jabrefexecutorservice instance execute parserresultwarningdialog showparserresultwarningdialog result frame basepanel basepanel basepanel frame result getdatabasecontext file set null inside eventdispatcherthread swingutilities invokelater frame addtab basepanel raisepanel objects nonnull file frame output localization lang opened database file getpath localization lang database getentrycount localization lang entries basepanel 
192	AppendDatabaseAction.java	GUI	net sf jabref gui importer actions io file io ioexception util arraylist util list javax swing joptionpane net sf jabref globals net sf jabref jabrefexecutorservice net sf jabref gui basepanel net sf jabref gui filedialog net sf jabref gui jabrefframe net sf jabref gui mergedialog net sf jabref gui actions baseaction net sf jabref gui undo namedcompound net sf jabref gui undo undoableinsertentry net sf jabref gui undo undoableinsertstring net sf jabref logic importer opendatabase net sf jabref logic importer parserresult net sf jabref logic l10n localization net sf jabref logic util fileextensions net sf jabref logic util updatefield net sf jabref model database bibdatabase net sf jabref model database keycollisionexception net sf jabref model entry bibentry net sf jabref model entry bibtexstring net sf jabref model entry idgenerator net sf jabref model groups allentriesgroup net sf jabref model groups explicitgroup net sf jabref model groups grouphierarchytype net sf jabref model metadata metadata net sf jabref preferences jabrefpreferences org apache commons logging log org apache commons logging logfactory appenddatabaseaction baseaction log logger logfactory getlog appenddatabaseaction jabrefframe frame basepanel panel list<file> filestoopen arraylist<> appenddatabaseaction jabrefframe frame basepanel panel frame frame panel panel override action filestoopen clear mergedialog md mergedialog frame localization lang append database true md setlocationrelativeto panel md setvisible true md isokpressed filedialog dialog filedialog frame withextension fileextensions bibtex db dialog setdefaultextension fileextensions bibtex db list<string> chosen dialog showdialogandgetmultiplefiles chosen isempty string achosen chosen filestoopen add file achosen run actual open thread prevent program locking file loaded jabrefexecutorservice instance execute openit md importentries md importstrings md importgroups openit boolean importentries boolean importstrings boolean importgroups filestoopen isempty file file filestoopen try globals prefs put jabrefpreferences working directory file getparent done know successfully opened? parserresult pr opendatabase loaddatabase file globals prefs getimportformatpreferences appenddatabaseaction mergefrombibtex frame panel pr importentries importstrings importgroups panel output localization lang imported database file getpath catch ioexception keycollisionexception ex logger warn could open database ex joptionpane showmessagedialog panel ex getmessage localization lang open database joptionpane error message mergefrombibtex jabrefframe frame basepanel panel parserresult pr boolean importentries boolean importstrings boolean importgroups throws keycollisionexception bibdatabase fromdatabase pr getdatabase list<bibentry> appendedentries arraylist<> list<bibentry> originalentries arraylist<> bibdatabase database panel getdatabase namedcompound ce namedcompound localization lang append database metadata meta pr getmetadata importentries add entries boolean overwriteowner globals prefs getboolean jabrefpreferences overwrite owner boolean overwritetimestamp globals prefs getboolean jabrefpreferences overwrite time stamp bibentry originalentry fromdatabase getentries bibentry bibentry originalentry clone setid idgenerator next updatefield setautomaticfields overwriteowner overwritetimestamp globals prefs getupdatefieldpreferences database insertentry appendedentries add originalentries add originalentry ce addedit undoableinsertentry database panel importstrings bibtexstring bs fromdatabase getstringvalues database hasstringlabel bs getname database addstring bs ce addedit undoableinsertstring panel database bs importgroups meta getgroups ifpresent newgroups ensure always one allentriesgroup newgroups getgroup instanceof allentriesgroup create dummy group try explicitgroup group explicitgroup imported grouphierarchytype independent globals prefs getkeyworddelimiter newgroups setgroup group group add appendedentries catch illegalargumentexception logger error groupsselector always created even groups defined therefore check null required frame getgroupselector addgroups newgroups ce ce end panel getundomanager addedit ce panel markbasechanged 
193	ImportFileFilter.java	GUI	net sf jabref gui importer io file util collection util list util stream collectors util stream stream javax swing filechooser filefilter javax swing filechooser filenameextensionfilter net sf jabref logic importer importer net sf jabref logic util fileextensions importfilefilter filefilter comparable<importfilefilter> string description filenameextensionfilter filefilter importfilefilter importer format fileextensions extensions format getextensions description extensions getdescription filefilter filenameextensionfilter extensions getdescription extensions getextensions importfilefilter string description collection<importer> formats description description list<fileextensions> extensions formats stream map getextensions collect collectors tolist list<string> flatextensions extensions stream flatmap extlist stream extlist getextensions collect collectors tolist filefilter filenameextensionfilter description flatextensions toarray string[flatextensions size override boolean accept file file file null file isdirectory filefilter accept file override string getdescription description override compareto importfilefilter description compareto description override boolean equals object true instanceof importfilefilter description equals importfilefilter description false override hashcode description hashcode 
194	ImportFormats.java	GUI	net sf jabref gui importer awt event actionevent io file nio file path util collections util list util objects util optional util sortedset util stream collectors javax swing abstractaction javax swing action javax swing joptionpane net sf jabref globals net sf jabref gui filedialog net sf jabref gui jabrefframe net sf jabref gui actions mnemonicawareaction net sf jabref gui keyboard keybinding net sf jabref logic importer importer net sf jabref logic l10n localization net sf jabref logic util fileextensions net sf jabref preferences jabrefpreferences org apache commons logging log org apache commons logging logfactory importformats log logger logfactory getlog importformats create abstractaction performing operation param frame jabrefframe jabref instance param openinnew indicate whether action open database currently open one action abstractaction getimportaction jabrefframe frame boolean openinnew importaction mnemonicawareaction jabrefframe frame boolean newdatabase importaction jabrefframe frame boolean newdatabase frame frame newdatabase newdatabase newdatabase putvalue action name localization menutitle database putvalue action accelerator key globals getkeyprefs getkey keybinding database else putvalue action name localization menutitle current database putvalue action accelerator key globals getkeyprefs getkey keybinding current database override actionperformed actionevent sortedset<importer> importers globals format reader getimportformats list<fileextensions> extensions importers stream map getextensions collect collectors tolist filedialog dialog filedialog frame globals prefs get jabrefpreferences working directory add file filter supported types importfilefilter allimports importfilefilter localization lang available formats importers dialog setfilefilter allimports add filters extensions dialog withextensions extensions optional<path> selectedfile dialog showdialogandgetselectedfile selectedfile ifpresent sel try file file sel tofile file exists joptionpane showmessagedialog frame localization lang file found file getname localization lang joptionpane error message optional<importer> format importers stream filter objects equals getextensions getdescription dialog getfilefilter getdescription findfirst importmenuitem importmenu importmenuitem frame newdatabase format orelse null importmenu automatedimport collections singletonlist file getabsolutepath set last working dir globals prefs put jabrefpreferences working directory file getparent catch exception ex logger warn cannot file ex importaction frame openinnew 
195	EntryFromFileCreatorManager.java	GUI	net sf jabref gui importer io file io filefilter util arraylist util collection util linkedlist util list util optional javax swing event changeevent javax swing event changelistener javax swing undo compoundedit net sf jabref gui basepanel net sf jabref gui externalfiletype externalfiletype net sf jabref gui externalfiletype externalfiletypes net sf jabref gui undo undoableinsertentry net sf jabref logic l10n localization net sf jabref model database bibdatabase net sf jabref model entry bibentry net sf jabref model entry entrytype net sf jabref model entry idgenerator entryfromfilecreatormanager manages entry creators manager knows existing implementations interface entryfromfilecreator given file manager provide creator able create bibtex entry file knowing implementations interface manager also knows set files bibtex entries created gui uses capability offering user files entries could actually created author dan nosh entryfromfilecreatormanager list<entryfromfilecreator> entrycreators entryfromfilecreatormanager entrycreators arraylist<> entrycreators add entryfrompdfcreator add creator externalfiletype specialized creator existing collection<externalfiletype> filetypes externalfiletypes getinstance getexternalfiletypeselection externalfiletype exfiletype filetypes hasspecialisedcreatorforexternalfiletype exfiletype entrycreators add entryfromexternalfilecreator exfiletype boolean hasspecialisedcreatorforexternalfiletype externalfiletype externalfiletype entryfromfilecreator entrycreator entrycreators entrycreator getexternalfiletype null entrycreator getexternalfiletype getextension isempty continue entrycreator getexternalfiletype getextension equals externalfiletype getextension true false returns entryfromfilecreator object capable creating bibentry given file param file pdf file null entryfromfilecreator file entryfromfilecreator getentrycreator file file file null file exists null entryfromfilecreator creator entrycreators creator accept file creator null tries add entry file list param files param database param entrytype list unexpected event messages including failures list<string> addentrysfromfiles list<file> files bibdatabase database entrytype entrytype boolean generatekeywordsfrompathtofile list<string> importguimessages linkedlist<> addentriesfromfiles files database null entrytype generatekeywordsfrompathtofile null importguimessages importguimessages tries add entry file list param files param database param panel param entrytype param generatekeywordsfrompathtofile param changelistener param importguimessages list unexpected event messages including failures returns number entries added addentriesfromfiles list<file> files bibdatabase database basepanel panel entrytype entrytype boolean generatekeywordsfrompathtofile changelistener changelistener list<string> importguimessages count compoundedit ce compoundedit file files entryfromfilecreator creator getentrycreator creator null importguimessages add problem importing getpath unknown filetype else optional<bibentry> entry creator createentry generatekeywordsfrompathtofile entry ispresent importguimessages add problem importing getpath entry could created continue entrytype null entry get settype entrytype entry get getid null entry get setid idgenerator next todo: database insertentry bibentry sensible 'true' mean duplicates 'false' means everything alright database containsentrywithid entry get getid work around side effect creator createentry entryfrompdfcreator also creates entry table therefore insert entry already present database insertentry entry get importguimessages add problem importing getpath insert bibdatabase failed else count panel null ce addedit undoableinsertentry database entry get panel changelistener null changelistener statechanged changeevent count panel null ce end panel getundomanager addedit ce count returns link filefilter instance accept files link entryfromfilecreator exists accepts files <br> <br> link filefilter displayed gui supported files link filefilter accepts files creators exist filefilter getfilefilter filefilter accepts files accepted known creator override boolean accept file file entryfromfilecreator creator entrycreators creator accept file true false override string tostring localization lang external files returns list link filefilter instances link entryfromfilecreator plus file filter comes link #getfilefilter method list known possible file filters list<filefilter> getfilefilterlist list<filefilter> filters arraylist<> filters add getfilefilter filefilter creator entrycreators filters add creator filters 
196	UnlinkedFilesCrawler.java	GUI	net sf jabref gui importer io file io filefilter util arrays util collections util list util concurrent atomic atomicboolean javax swing event changeevent javax swing event changelistener net sf jabref gui findunlinkedfilesdialog checkabletreenode net sf jabref gui findunlinkedfilesdialog filenodewrapper net sf jabref model database bibdatabase net sf jabref model database bibdatabasecontext util searching files file system linked provided link bibdatabase unlinkedfilescrawler file filter accepts directories filefilter directory filter pathname pathname null pathname isdirectory bibdatabasecontext databasecontext unlinkedfilescrawler bibdatabasecontext databasecontext databasecontext databasecontext checkabletreenode searchdirectory file directory filefilter filter unlinkedpdffilefilter ff unlinkedpdffilefilter filter databasecontext searchdirectory directory ff atomicboolean true null searches recursively files specified directory <br> <br> link file match link filefilter comes link entryfromfilecreatormanager taken resulting tree <br> <br> result tree structure nodes type link checkabletreenode <br> <br> user objects attached nodes link filenodewrapper wraps link file object <br> <br> ensuring capability cancel work recursive method first position integer array 'state' must set keep recursion running states value changes method resolve recursion saved far checkabletreenode searchdirectory file directory unlinkedpdffilefilter ff atomicboolean state changelistener changelistener cancelation search outside state null state get null null directory valid directory null directory exists directory isdirectory null file[] filesarray directory listfiles ff list<file> files filesarray null files collections emptylist else files arrays aslist filesarray checkabletreenode root checkabletreenode null filescount filesarray directory listfiles directory filter list<file> subdirectories filesarray null subdirectories collections emptylist else subdirectories arrays aslist filesarray file subdirectory subdirectories checkabletreenode subroot searchdirectory subdirectory ff state changelistener subroot null subroot getchildcount filescount filenodewrapper subroot getuserobject filecount root add subroot root setuserobject filenodewrapper directory files size filescount file file files root add checkabletreenode filenodewrapper file changelistener null changelistener statechanged changeevent root 
197	TransferableBibtexEntry.java	GUI	net sf jabref gui awt datatransfer dataflavor awt datatransfer transferable awt datatransfer unsupportedflavorexception io ioexception io stringwriter util list javax swing joptionpane net sf jabref globals net sf jabref logic bibtex bibentrywriter net sf jabref logic bibtex latexfieldformatter net sf jabref logic l10n localization net sf jabref model database bibdatabasemode net sf jabref model entry bibentry transferable object containing array bibentry objects used copy paste operations transferablebibtexentry transferable list<bibentry> data dataflavor entryflavor dataflavor bibentry jabref entry transferablebibtexentry list<bibentry> bes data bes override dataflavor[] gettransferdataflavors dataflavor[] transferablebibtexentry entryflavor dataflavor stringflavor override boolean isdataflavorsupported dataflavor flavor flavor equals transferablebibtexentry entryflavor flavor equals dataflavor stringflavor override object gettransferdata dataflavor flavor throws unsupportedflavorexception flavor equals transferablebibtexentry entryflavor data else flavor equals dataflavor stringflavor try stringwriter sw stringwriter bibentrywriter bibtexentrywriter bibentrywriter latexfieldformatter globals prefs getlatexfieldformatterpreferences false bibentry entry data bibtexentrywriter write entry sw bibdatabasemode bibtex sw tostring catch ioexception ex joptionpane showmessagedialog null localization lang could paste entry text: \n ex getlocalizedmessage localization lang clipboard joptionpane error message else throw unsupportedflavorexception flavor 
198	IncompleteRenderer.java	GUI	net sf jabref gui renderer net sf jabref globals net sf jabref logic l10n localization net sf jabref preferences jabrefpreferences incompleterenderer generalrenderer incompleterenderer super globals prefs getcolor jabrefpreferences incomplete entry background setnumber number super setvalue string valueof number settooltiptext localization lang entry incomplete override setvalue object value support normal behaviour 
199	CompleteRenderer.java	GUI	net sf jabref gui renderer awt color completerenderer generalrenderer completerenderer color color super color setnumber number super setvalue string valueof number override setvalue object value support normal behaviour 
200	GeneralRenderer.java	GUI	net sf jabref gui renderer awt color awt component javax swing icon javax swing jlabel javax swing jtable javax swing table defaulttablecellrenderer renderer table cells supports icons jlabels plain text generalrenderer defaulttablecellrenderer color rendererbackground color selbackground generalrenderer color super rendererbackground setbackground renderer specified foreground background colors default selected background color param foreground color param fg background color generalrenderer color color fg setforeground fg renderer specified foreground background selected background colors param foreground color param fg unselected background color param sel selected background color generalrenderer color color fg color sel fg selbackground sel override component gettablecellrenderercomponent jtable table object boolean isselected boolean hasfocus row column selbackground null super gettablecellrenderercomponent table isselected hasfocus row column else component super gettablecellrenderercomponent table isselected hasfocus row column isselected setbackground selbackground else setbackground rendererbackground override firepropertychange string propertyname object old object newv disable super firepropertychange enabling renderer handle icons override setvalue object value value instanceof icon seticon icon value settext null else value instanceof jlabel jlabel lab jlabel value seticon lab geticon settooltiptext lab gettooltiptext lab geticon null settext null else plain text seticon null settooltiptext null value null settext null else settext value tostring 
201	NewVersionDialog.java	GUI	net sf jabref gui help awt cursor awt gridbagconstraints awt gridbaglayout awt insets awt event mouseevent javax swing jbutton javax swing jdialog javax swing jframe javax swing jlabel javax swing jpanel javax swing event mouseinputadapter net sf jabref globals net sf jabref gui desktop jabrefdesktop net sf jabref logic l10n localization net sf jabref logic util version net sf jabref preferences versionpreferences newversiondialog jdialog newversiondialog jframe frame version currentversion version latestversion super frame settitle localization lang version available jlabel lbltitle jlabel localization lang version jabref released jlabel lblcurrentversion jlabel localization lang installed version currentversion getfullversion jlabel lbllatestversion jlabel localization lang latest version latestversion getfullversion string localization localization lang see view changelog jlabel lblmoreinformation jlabel <html><a href latestversion getchangelogurl '> localization a>< html> lblmoreinformation setcursor cursor getpredefinedcursor cursor hand cursor lblmoreinformation addmouselistener mouseinputadapter override mouseclicked mouseevent jabrefdesktop openbrowsershowpopup latestversion getchangelogurl jbutton btnignoreupdate jbutton localization lang ignore update btnignoreupdate addactionlistener globals prefs storeversionpreferences versionpreferences latestversion dispose jbutton btndownloadupdate jbutton localization lang download update btndownloadupdate addactionlistener jabrefdesktop openbrowsershowpopup version jabref download url dispose jbutton btnremindmelater jbutton localization lang remind later btnremindmelater addactionlistener dispose jpanel panel jpanel panel setlayout gridbaglayout gridbagconstraints gridbagconstraints gridheight fill gridbagconstraints insets insets gridx gridy gridwidth panel add lbltitle gridy panel add lblcurrentversion gridy panel add lbllatestversion gridy panel add lblmoreinformation gridy gridx gridwidth panel add btndownloadupdate gridx panel add btnignoreupdate gridx panel add btnremindmelater add panel pack setlocationrelativeto frame setmodalitytype modalitytype application modal setvisible true 
202	AboutDialog.java	GUI	net sf jabref gui help awt borderlayout awt color awt cursor awt dimension awt frame util objects javax swing box javax swing boxlayout javax swing jbutton javax swing jdialog javax swing jlabel javax swing jpanel javax swing jscrollpane javax swing jtextpane javax swing swingconstants javax swing border emptyborder javax swing text simpleattributeset javax swing text styleconstants javax swing text styleddocument net sf jabref globals net sf jabref gui actions copyversiontoclipboardaction net sf jabref logic l10n localization aboutdialog jdialog aboutdialog frame owner super objects requirenonnull owner localization lang jabref true setsize dimension setlocationrelativeto owner jpanel panel jpanel panel setlayout borderlayout jpanel headerpanel jpanel headerpanel setlayout borderlayout jtextpane textarea jtextpane jlabel versionlabel jlabel jbutton copyversionbutton jbutton box spaceholder box boxlayout axis textarea seteditable false textarea setcursor null textarea setopaque false textarea setfocusable false center everything styleddocument doc textarea getstyleddocument simpleattributeset center simpleattributeset styleconstants setalignment center styleconstants align center doc setparagraphattributes doc getlength center false panel add headerpanel borderlayout north jscrollpane textareascrollpanel jscrollpane textarea textareascrollpanel setborder emptyborder panel add textareascrollpanel borderlayout center headerpanel setbackground color white headerpanel add spaceholder borderlayout west headerpanel add versionlabel borderlayout center headerpanel add copyversionbutton borderlayout east string version string format jabref globals build info getversion versionlabel settext version versionlabel setopaque false versionlabel sethorizontalalignment swingconstants center stylebuttontohyperlink copyversionbutton copyversionbutton addactionlistener copyversiontoclipboardaction spaceholder setpreferredsize copyversionbutton getpreferredsize string text string format n2003 ndevelopers: nauthors: nexternal libraries: ncode: globals build info getyear https: www jabref org mit license globals build info getdevelopers globals build info getauthors https: github com jabref jabref blob master external libraries txt https: github com jabref jabref textarea settext text getcontentpane add panel stylebuttontohyperlink jbutton copyversionbutton string copy string format <html><font color #000099\ <u> s< u>< font>< html> localization lang copy version clipboard copyversionbutton settext copy copyversionbutton setopaque false copyversionbutton setborder emptyborder copyversionbutton setfocusable false copyversionbutton setcursor cursor getpredefinedcursor cursor hand cursor 
203	HelpAction.java	GUI	net sf jabref gui help awt color awt cursor awt dimension awt event actionevent awt event mouseadapter awt event mouseevent util hashset util set util stream collectors util stream stream javax swing action javax swing icon javax swing jbutton javax swing jlabel javax swing keystroke net sf jabref globals net sf jabref gui icontheme net sf jabref gui actions mnemonicawareaction net sf jabref gui desktop jabrefdesktop net sf jabref logic help helpfile net sf jabref logic l10n localization net sf jabref preferences jabrefpreferences action keeps reference url activated shows help dialog unless already visible shows url helpaction mnemonicawareaction languages help added set<string> avaiablelangfiles stream en de fr ja collect collectors tocollection hashset::new helpfile helppage helpaction string title string tooltip helpfile helppage keystroke key title tooltip helppage icontheme jabreficon help getsmallicon putvalue action accelerator key key helpaction string title string tooltip helpfile helppage icon icon super icon helppage helppage putvalue action name title putvalue action short description tooltip helpaction string tooltip helpfile helppage localization lang help tooltip helppage icontheme jabreficon help getsmallicon helpaction helpfile helppage icon icon localization lang help localization lang help helppage icon helpaction helpfile helppage localization lang help localization lang help helppage icontheme jabreficon help getsmallicon jbutton gethelpbutton jbutton button jbutton button settext null button setpreferredsize dimension button settooltiptext getvalue action short description tostring button jlabel gethelplabel string labeltext jlabel helplabel jlabel <html><u> labeltext u>< html> helplabel setforeground color blue helplabel setcursor cursor cursor hand cursor helplabel addmouselistener mouseadapter override mouseclicked mouseevent openhelppage helplabel sethelpfile helpfile urlpart helppage urlpart override actionperformed actionevent openhelppage openhelppage string lang globals prefs get jabrefpreferences language stringbuilder sb stringbuilder https: help jabref org avaiablelangfiles contains lang sb append lang sb append else sb append en sb append helppage getpagename jabrefdesktop openbrowsershowpopup sb tostring 
204	AboutAction.java	GUI	net sf jabref gui help awt frame awt event actionevent javax swing action javax swing icon net sf jabref gui actions mnemonicawareaction aboutaction mnemonicawareaction frame parentframe aboutaction string title frame parentframe string tooltip icon iconfile super iconfile putvalue action name title putvalue action short description tooltip parentframe parentframe override actionperformed actionevent aboutdialog dialog aboutdialog parentframe dialog setvisible true 
205	EntryEditorTabList.java	GUI	net sf jabref gui entryeditor util arraylist util arrays util list net sf jabref globals net sf jabref preferences jabrefpreferences holding information customizable entry editor tabs entryeditortablist list<list<string>> list list<string> names entryeditortablist init init list arraylist<> names arraylist<> string name globals prefs haskey jabrefpreferences custom tab name user modified default values: globals prefs haskey jabrefpreferences custom tab name name globals prefs get jabrefpreferences custom tab name list<string> entry arrays aslist globals prefs get jabrefpreferences custom tab fields split names add name list add entry else nothing set use default values: globals prefs get jabrefpreferences custom tab name def null name globals prefs get jabrefpreferences custom tab name def list<string> entry arrays aslist globals prefs get jabrefpreferences custom tab fields def split names add name list add entry gettabcount list size string gettabname tab names get tab list<string> gettabfields tab list get tab 
206	EntryEditor.java	GUI	net sf jabref gui entryeditor awt awtkeystroke awt borderlayout awt component awt font awt graphics awt graphics2d awt insets awt keyboardfocusmanager awt renderinghints awt event actionevent awt event focusadapter awt event focusevent awt event mouseadapter awt event mouseevent io ioexception io stringreader io stringwriter util arraylist util hashset util list util map entry util objects util optional util set util stream collectors javax swing abstractaction javax swing action javax swing actionmap javax swing inputmap javax swing jbutton javax swing jcomponent javax swing jlabel javax swing joptionpane javax swing jpanel javax swing jpopupmenu javax swing jscrollpane javax swing jtabbedpane javax swing jtextarea javax swing jtoolbar javax swing keystroke javax swing scrollpaneconstants javax swing swingconstants javax swing swingutilities javax swing event changeevent javax swing event changelistener javax swing text jtextcomponent net sf jabref globals net sf jabref gui basepanel net sf jabref gui entrycontainer net sf jabref gui guiglobals net sf jabref gui icontheme net sf jabref gui jabrefframe net sf jabref gui osxcompatibletoolbar net sf jabref gui actions actions net sf jabref gui externalfiles writexmpentryeditoraction net sf jabref gui fieldeditors fieldeditor net sf jabref gui fieldeditors fieldeditorfocuslistener net sf jabref gui fieldeditors filelisteditor net sf jabref gui fieldeditors jtextareawithhighlighting net sf jabref gui fieldeditors textfield net sf jabref gui help helpaction net sf jabref gui keyboard keybinding net sf jabref gui menus changeentrytypemenu net sf jabref gui specialfields specialfieldupdatelistener net sf jabref gui undo namedcompound net sf jabref gui undo undoablechangetype net sf jabref gui undo undoablefieldchange net sf jabref gui undo undoablekeychange net sf jabref gui undo undoableremoveentry net sf jabref gui util component checkboxmessage net sf jabref gui util component verticallabelui net sf jabref logic typedbibentry net sf jabref logic autocompleter autocompleter net sf jabref logic bibtex bibentrywriter net sf jabref logic bibtex latexfieldformatter net sf jabref logic bibtexkeypattern bibtexkeypatternutil net sf jabref logic help helpfile net sf jabref logic importer parserresult net sf jabref logic importer fileformat bibtexparser net sf jabref logic l10n localization net sf jabref logic search searchqueryhighlightlistener net sf jabref logic util updatefield net sf jabref logic util date easydateformat net sf jabref model entrytypes net sf jabref model fieldchange net sf jabref model database bibdatabase net sf jabref model database bibdatabasemode net sf jabref model entry bibentry net sf jabref model entry entryconverter net sf jabref model entry entrytype net sf jabref model entry fieldname net sf jabref model entry fieldproperty net sf jabref model entry internalbibtexfields net sf jabref model entry event fieldchangedevent net sf jabref preferences jabrefpreferences com google common eventbus subscribe org apache commons logging log org apache commons logging logfactory gui component allows editing fields bibentry one shows click entry table <p> hosts tabs required general optional buttons left <p> entryeditor also registers event bus receiving events whenever field entry changes enabling text fields update change made somewhere else entryeditor jpanel entrycontainer log logger logfactory getlog entryeditor reference entry object works bibentry entry currently displayed type string displayedbibentrytype action concerned closing window closeaction closeaction closeaction action deletes current entry closes editor deleteaction deleteaction deleteaction action switching next entry abstractaction nextentryaction nextentryaction action switching previous entry abstractaction preventryaction preventryaction action concerned storing field value storefieldaction storefieldaction storefieldaction action switching next tab switchleftaction switchleftaction switchleftaction action switching previous tab switchrightaction switchrightaction switchrightaction action generates bibtex key entry generatekeyaction generatekeyaction generatekeyaction ugly hack pointer filelisteditor call autosetlinks filelisteditor filelisteditor autolinkaction autolinkaction autolinkaction abstractaction writexmp savedatabaseaction savedatabaseaction savedatabaseaction jpanel srcpanel jpanel jtextarea source jtabbedpane tabbed jtabbedpane jabrefframe frame basepanel panel set false stop source text area getting updated used cases source parsed user given option edit boolean updatesource true indicates go next previous entry boolean movingtodifferententry boolean validentry true list<object> tabs arraylist<> boolean lastfieldaccepted true indicates whether last attempt parsing source successful used determine whether dialog close stay open user received error message source whatever chose boolean lastsourceaccepted true used prevent updates editing source string lastsourcestringaccepted index source panel tabbed sourceindex helpaction helpaction helpaction helpfile entry editor icontheme jabreficon help geticon undoaction undoaction undoaction redoaction redoaction redoaction tablistener tablistener tablistener list<searchqueryhighlightlistener> searchlisteners arraylist<> entryeditor jabrefframe frame basepanel panel bibentry entry frame frame panel panel entry entry entry registerlistener entry registerlistener specialfieldupdatelistener getinstance displayedbibentrytype entry gettype writexmp writexmpentryeditoraction panel borderlayout borderlayout borderlayout setlayout borderlayout setuptoolbar setupfieldpanels setupsourcepanel add tabbed borderlayout center tabbed addchangelistener tablistener globals prefs getboolean jabrefpreferences default show source tabbed setselectedindex sourceindex updateallfields filelisteditor null filelisteditor adjustcolumnwidth setupfieldpanels tabbed removeall tabs clear entrytype type entrytypes gettypeordefault entry gettype frame getcurrentbasepanel getbibdatabasecontext getmode required fields addrequiredtab type optional fields set<string> deprecatedfields hashset<> entryconverter field aliases tex ltx keyset set<string> usedoptionalfieldsdeprecated hashset<> deprecatedfields type getoptionalfields null type getoptionalfields isempty frame getcurrentbasepanel getbibdatabasecontext isbiblatexmode addoptionaltab type else addoptionaltab type deprecatedfields add fieldname year deprecatedfields add fieldname month list<string> secondaryoptionalfields type getsecondaryoptionalfields list<string> optionalfieldsnotprimaryordeprecated arraylist<> secondaryoptionalfields optionalfieldsnotprimaryordeprecated removeall deprecatedfields get list optional fields entry aliases set<string> optionalfieldsandaliases hashset<> string field type getoptionalfields optionalfieldsandaliases add field entryconverter field aliases ltx tex containskey field optionalfieldsandaliases add entryconverter field aliases ltx tex get field get optional fields deprecated usedoptionalfieldsdeprecated retainall optionalfieldsandaliases get deprecated fields usedoptionalfieldsdeprecated add fieldname month add tabs entryeditortab optpan2 entryeditortab frame panel optionalfieldsnotprimaryordeprecated false true localization lang optional fields optpan2 filelisteditor null filelisteditor optpan2 filelisteditor tabbed addtab localization lang optional fields icontheme jabreficon optional getsmallicon optpan2 getpane localization lang show optional fields tabs add optpan2 usedoptionalfieldsdeprecated isempty entryeditortab optpan3 optpan3 entryeditortab frame panel arraylist<> usedoptionalfieldsdeprecated false true localization lang deprecated fields optpan3 filelisteditor null filelisteditor optpan3 filelisteditor tabbed addtab localization lang deprecated fields icontheme jabreficon optional getsmallicon optpan3 getpane localization lang show deprecated bibtex fields tabs add optpan3 fields list<string> displayedfields type getallfields stream map string::tolowercase collect collectors tolist list<string> otherfields entry getfieldnames stream map string::tolowercase filter displayedfields contains collect collectors tolist usedoptionalfieldsdeprecated isempty otherfields removeall usedoptionalfieldsdeprecated otherfields remove bibentry key field otherfields removeall globals prefs getcustomtabfieldnames otherfields isempty addothertab otherfields general fields preferences addgeneraltabs source tab addsourcetab addgeneraltabs entryeditortablist tablist globals prefs getentryeditortablist tablist gettabcount entryeditortab newtab entryeditortab frame panel tablist gettabfields false false tablist gettabname newtab filelisteditor null filelisteditor newtab filelisteditor tabbed addtab tablist gettabname newtab getpane tabs add newtab addsourcetab string panelname localization lang source panel getbibdatabasecontext getmode getformattedname string tooltip localization lang show edit source panel getbibdatabasecontext getmode getformattedname srcpanel setname panelname tabbed addtab panelname icontheme jabreficon source getsmallicon srcpanel tooltip tabs add srcpanel sourceindex tabs size srcpanel setfocuscycleroot true addothertab list<string> otherfields entryeditortab otherpanel entryeditortab frame panel otherfields false false localization lang fields otherpanel filelisteditor null filelisteditor otherpanel filelisteditor tabbed addtab localization lang fields icontheme jabreficon optional getsmallicon otherpanel getpane localization lang show remaining fields tabs add otherpanel list<string> addrequiredtab entrytype type list<string> requiredfields type getrequiredfieldsflat entryeditortab requiredpanel entryeditortab frame panel requiredfields true false localization lang required fields requiredpanel filelisteditor null filelisteditor requiredpanel filelisteditor tabbed addtab localization lang required fields icontheme jabreficon required getsmallicon requiredpanel getpane localization lang show required fields tabs add requiredpanel requiredfields addoptionaltab entrytype type entryeditortab optionalpanel entryeditortab frame panel type getprimaryoptionalfields false true localization lang optional fields optionalpanel filelisteditor null filelisteditor optionalpanel filelisteditor tabbed addtab localization lang optional fields icontheme jabreficon optional getsmallicon optionalpanel getpane localization lang show optional fields tabs add optionalpanel string getdisplayedbibentrytype displayedbibentrytype reference currently edited entry override bibentry getentry entry bibdatabase getdatabase panel getdatabase setuptoolbar jpanel leftpan jpanel leftpan setlayout borderlayout jtoolbar toolbar osxcompatibletoolbar swingconstants vertical toolbar setborder null toolbar setrollover true toolbar setmargin insets toolbar carries key bindings valid whole window actionmap actionmap toolbar getactionmap inputmap inputmap toolbar getinputmap jcomponent focused window inputmap put globals getkeyprefs getkey keybinding close entry editor close actionmap put close closeaction inputmap put globals getkeyprefs getkey keybinding entry editor store field store actionmap put store getstorefieldaction inputmap put globals getkeyprefs getkey keybinding autogenerate bibtex keys generatekey actionmap put generatekey getgeneratekeyaction inputmap put globals getkeyprefs getkey keybinding automatically link files autolink actionmap put autolink autolinkaction inputmap put globals getkeyprefs getkey keybinding entry editor previous entry prev actionmap put prev getpreventryaction inputmap put globals getkeyprefs getkey keybinding entry editor next entry next actionmap put next getnextentryaction inputmap put globals getkeyprefs getkey keybinding undo undo actionmap put undo undoaction inputmap put globals getkeyprefs getkey keybinding redo redo actionmap put redo redoaction inputmap put globals getkeyprefs getkey keybinding help help actionmap put help gethelpaction toolbar setfloatable false add actions thus buttons jbutton closebut jbutton closeaction closebut settext null closebut setborder null closebut setmargin insets leftpan add closebut borderlayout north create type label typedbibentry typedentry typedbibentry entry panel getbibdatabasecontext getmode leftpan add typelabel typedentry gettypefordisplay borderlayout center typebutton typebutton typebutton toolbar add typebutton toolbar add getgeneratekeyaction toolbar add autolinkaction toolbar add writexmp toolbar addseparator toolbar add deleteaction toolbar add getpreventryaction toolbar add getnextentryaction toolbar addseparator toolbar add gethelpaction component[] comps toolbar getcomponents component comp comps jcomponent comp setopaque false leftpan add toolbar borderlayout south add leftpan borderlayout west getextra checks field name internalbibtexfields getfieldextras name name entry proper component shown created returned otherwise null returned addition listeners added field editor even component returned param editor field editor component show null none optional<jcomponent> getextra fieldeditor editor string fieldname editor getfieldname set<fieldproperty> fieldextras internalbibtexfields getfieldproperties fieldname timestamp field datepicker command globals prefs get jabrefpreferences time stamp field equals fieldname fieldextras contains fieldproperty date click datefield insert current date today fieldextracomponents getdatetimeextracomponent editor fieldextras contains fieldproperty date fieldextras contains fieldproperty iso date else fieldextras contains fieldproperty external fieldextracomponents getexternalextracomponent panel editor else fieldextras contains fieldproperty journal name add controls switching abbreviated full journal names field also fieldcontentselector need combine fieldextracomponents getjournalextracomponent panel editor entry getstorefieldaction else fieldextras contains fieldproperty doi fieldextracomponents getdoiextracomponent panel editor else fieldextras contains fieldproperty eprint fieldextracomponents geteprintextracomponent panel editor else fieldextras contains fieldproperty isbn fieldextracomponents getisbnextracomponent panel editor else fieldextras contains fieldproperty owner fieldextracomponents getsetownerextracomponent editor getstorefieldaction else fieldextras contains fieldproperty yes fieldextracomponents getyesnoextracomponent editor else fieldextras contains fieldproperty month fieldextracomponents getmonthextracomponent editor frame getcurrentbasepanel getbibdatabasecontext getmode else fieldextras contains fieldproperty gender fieldextracomponents getgenderextracomponent editor else fieldextras contains fieldproperty editor type fieldextracomponents geteditortypeextracomponent editor else fieldextras contains fieldproperty pagination fieldextracomponents getpaginationextracomponent editor else fieldextras contains fieldproperty type fieldextracomponents gettypeextracomponent editor patent equalsignorecase entry gettype optional empty setupsourcepanel source jtextareawithhighlighting addsearchlistener searchqueryhighlightlistener source source seteditable true source setlinewrap true source addfocuslistener fieldeditorfocuslistener add global focus listener menu item see field focused action called source addfocuslistener globals getfocuslistener source setfont font monospaced font plain globals prefs getint jabrefpreferences font size setupjtextcomponent source updatesource jscrollpane scrollpane jscrollpane source scrollpaneconstants vertical scrollbar needed scrollpaneconstants horizontal scrollbar never srcpanel setlayout borderlayout srcpanel add scrollpane borderlayout center addsearchlistener searchqueryhighlightlistener listener searchlisteners add listener panel frame getglobalsearchbar getsearchqueryhighlightobservable addsearchlistener listener removesearchlisteners searchqueryhighlightlistener listener searchlisteners panel frame getglobalsearchbar getsearchqueryhighlightobservable removesearchlistener listener updatesource updatesource try string srcstring getsourcestring entry panel getbibdatabasecontext getmode source settext srcstring lastsourcestringaccepted srcstring set current entry selected fixes bug losing selection autogeneration bibtex key panel highlightentry entry catch ioexception ex source settext ex getmessage \n\n localization lang correct entry reopen editor display edit source source seteditable false logger debug incorrect entry ex string getsourcestring bibentry entry bibdatabasemode type throws ioexception stringwriter stringwriter stringwriter latexfieldformatter formatter latexfieldformatter buildignorehashes globals prefs getlatexfieldformatterpreferences bibentrywriter formatter false writewithoutprependednewlines entry stringwriter type stringwriter getbuffer tostring note: method used source panel tabs look entryeditortab setup text components tabs setupjtextcomponent jtextcomponent textcomponent set key bindings focus listener fieldeditor inputmap inputmap textcomponent getinputmap jcomponent focused actionmap actionmap textcomponent getactionmap inputmap put globals getkeyprefs getkey keybinding entry editor store field store actionmap put store getstorefieldaction inputmap put globals getkeyprefs getkey keybinding entry editor next panel right inputmap put globals getkeyprefs getkey keybinding entry editor next panel right actionmap put right getswitchrightaction inputmap put globals getkeyprefs getkey keybinding entry editor previous panel left inputmap put globals getkeyprefs getkey keybinding entry editor previous panel left actionmap put left getswitchleftaction inputmap put globals getkeyprefs getkey keybinding help help actionmap put help gethelpaction inputmap put globals getkeyprefs getkey keybinding next tab nexttab actionmap put nexttab frame nexttab inputmap put globals getkeyprefs getkey keybinding previous tab prevtab actionmap put prevtab frame prevtab set<awtkeystroke> keys hashset<> textcomponent getfocustraversalkeys keyboardfocusmanager forward traversal keys keys clear keys add awtkeystroke getawtkeystroke pressed tab textcomponent setfocustraversalkeys keyboardfocusmanager forward traversal keys keys keys hashset<> textcomponent getfocustraversalkeys keyboardfocusmanager backward traversal keys keys clear keys add keystroke getkeystroke shift pressed tab textcomponent setfocustraversalkeys keyboardfocusmanager backward traversal keys keys textcomponent addfocuslistener fieldlistener override requestfocus activatevisible activatevisible object activetab tabs get tabbed getselectedindex activetab instanceof entryeditortab entryeditortab activetab focus else source requestfocus reports enabled status editor set setenabled override boolean isenabled source isenabled sets enabled status text fields entry editor override setenabled boolean enabled object tab tabs tab instanceof entryeditortab entryeditortab tab setenabled enabled source setenabled enabled makes sure current edit stored storecurrentedit component comp globals getfocuslistener getfocused objects equals comp source comp instanceof fieldeditor isancestorof comp comp instanceof fieldeditor fieldeditor comp clearautocompletesuggestion getstorefieldaction actionperformed actionevent comp returns name currently selected component string getvisiblepanelname tabbed getselectedcomponent getname setvisiblepanel string name tabbed gettabcount tabbed getcomponent getname null tabbed getcomponent getname equals name tabbed setselectedindex tabbed gettabcount tabbed setselectedindex setfocustofield string fieldname object tab tabs tab instanceof entryeditortab entryeditortab tab getfields contains fieldname entryeditortab entryeditortab entryeditortab tab setvisiblepanel entryeditortab gettabtitle entryeditortab setactive fieldname entryeditortab focus boolean storesource bibtexparser bibtexparser bibtexparser globals prefs getimportformatpreferences try parserresult parserresult bibtexparser parse stringreader source gettext bibdatabase database parserresult getdatabase database getentrycount throw illegalstateexception one entry found database hasentries parserresult haswarnings put warning exception text displayed user throw illegalstateexception parserresult warnings get else throw illegalstateexception entries found namedcompound compound namedcompound localization lang source edit bibentry newentry database getentries get string newkey newentry getcitekeyoptional orelse null boolean entrychanged false boolean emptywarning newkey null newkey isempty newkey null entry setcitekey newkey else entry clearcitekey first remove fields user removed entry<string string> field entry getfieldmap entryset string fieldname field getkey string fieldvalue field getvalue internalbibtexfields isdisplayablefield fieldname newentry hasfield fieldname compound addedit undoablefieldchange entry fieldname fieldvalue null entry clearfield fieldname entrychanged true set fields set user entry<string string> field newentry getfieldmap entryset string fieldname field getkey string oldvalue entry getfield fieldname orelse null string newvalue field getvalue objects equals oldvalue newvalue test field legally set latexfieldformatter globals prefs getlatexfieldformatterpreferences format newvalue fieldname compound addedit undoablefieldchange entry fieldname oldvalue newvalue entry setfield fieldname newvalue entrychanged true see user changed entry type: objects equals newentry gettype entry gettype compound addedit undoablechangetype entry entry gettype newentry gettype entry settype newentry gettype entrychanged true compound end entrychanged true panel getundomanager addedit compound panel getdatabase getduplicationchecker isduplicatecitekeyexisting entry warnduplicatebibtexkey else emptywarning warnemptybibtexkey else panel output localization lang stored entry lastsourcestringaccepted source gettext update ui todo: need repaint entryeditor fields displayed added panel updateentryeditorifshowing lastsourceaccepted true updatesource true todo: updating work properly source stored? panel markbasechanged panel highlightentry entry true catch illegalstateexception ioexception ex source parsed user given error message choice keep revert contents source text field updatesource false lastsourceaccepted false tabbed setselectedcomponent srcpanel object[] options localization lang edit localization lang revert original source swingutilities iseventdispatchthread answer joptionpane showoptiondialog frame localization lang error ex getmessage localization lang problem parsing entry joptionpane yes option joptionpane error message null options options[0] answer updatesource true lastsourceaccepted true updatesource logger debug incorrect source ex false setfield string fieldname string newfielddata object tab tabs tab instanceof entryeditortab entryeditortab tab updatefield fieldname newfielddata sets text areas according shown entry updateallfields object tab tabs tab instanceof entryeditortab entryeditortab tab setentry entry update jtextarea field changed subscribe suppresswarnings unused listen fieldchangedevent fieldchangedevent string newvalue fieldchangedevent getnewvalue null fieldchangedevent getnewvalue swingutilities iseventdispatchthread setfield fieldchangedevent getfieldname newvalue else swingutilities invokelater setfield fieldchangedevent getfieldname newvalue updatefield object sourceobject getstorefieldaction actionperformed actionevent sourceobject setmovingtodifferententry movingtodifferententry true unregisterlisteners unregisterlisteners entry unregisterlistener removesearchlisteners typebutton jbutton typebutton super icontheme jabreficon edit geticon settooltiptext localization lang change entry type addactionlistener showchangeentrytypepopupmenu showchangeentrytypepopupmenu jpopupmenu typemenu changeentrytypemenu getchangeentrytypepopupmenu panel typemenu show typelabel jlabel typelabel string type super type setui verticallabelui false setforeground guiglobals entry editor label color sethorizontalalignment swingconstants right setfont font dialog font italic font bold add mouse listener user right click type label change entry type: addmouselistener mouseadapter override mousereleased mouseevent ispopuptrigger getbutton mouseevent button3 handletypechange override mouseclicked mouseevent ispopuptrigger getbutton mouseevent button3 handletypechange handletypechange showchangeentrytypepopupmenu override paintcomponent graphics graphics2d g2 graphics2d g2 setrenderinghint renderinghints key antialiasing renderinghints value antialias super paintcomponent g2 focus listener fires storefieldaction textarea loses focus fieldlistener focusadapter override focuslost focusevent event event istemporary updatefield event getsource tablistener changelistener override statechanged changeevent event tell editor tab update fields makes sure updated even tab left contained one fields one: swingutilities invokelater object activetab tabs get tabbed getselectedindex activetab instanceof entryeditortab entryeditortab activetab updateall activatevisible deleteaction abstractaction deleteaction super localization lang delete icontheme jabreficon delete entry geticon putvalue action short description localization lang delete entry override actionperformed actionevent show confirmation dialog disabled: boolean goon panel showdeleteconfirmationdialog goon panel entryeditorclosing entryeditor panel getdatabase removeentry entry panel markbasechanged panel getundomanager addedit undoableremoveentry panel getdatabase entry panel panel output localization lang deleted entry close tabbed getselectedcomponent srcpanel updatefield source lastsourceaccepted panel entryeditorclosing entryeditor else panel runcommand actions save lastsourceaccepted true else lastfieldaccepted panel entryeditorclosing entryeditor else panel runcommand actions save lastfieldaccepted true closeaction abstractaction closeaction super localization lang close window icontheme jabreficon close getsmallicon putvalue action short description localization lang close window override actionperformed actionevent close storefieldaction abstractaction storefieldaction super store field value putvalue action short description store field value override actionperformed actionevent event boolean movingaway movingtodifferententry movingtodifferententry false event getsource instanceof textfield storage bibtex key field textfield textfield textfield event getsource string oldvalue entry getcitekeyoptional orelse null string newvalue textfield gettext newvalue isempty newvalue null oldvalue null newvalue null objects equals oldvalue newvalue change make sure key legal: string cleaned bibtexkeypatternutil checklegalkey newvalue globals prefs getboolean jabrefpreferences enforce legal bibtex key cleaned null cleaned equals newvalue textfield setvalidbackgroundcolor else lastfieldaccepted false textfield setinvalidbackgroundcolor swingutilities iseventdispatchthread joptionpane showmessagedialog frame localization lang invalid bibtex key localization lang error setting field joptionpane error message requestfocus newvalue null entry clearcitekey warnemptybibtexkey else entry setcitekey newvalue boolean isduplicate panel getdatabase getduplicationchecker isduplicatecitekeyexisting entry isduplicate warnduplicatebibtexkey else panel output localization lang bibtex key unique add undoablekeychange baseframe's undomanager undoablekeychange undoablekeychange undoablekeychange entry oldvalue newvalue updatetimestampisset namedcompound ce namedcompound undoablekeychange getpresentationname ce addedit undoablekeychange doupdatetimestamp ifpresent fieldchange ce addedit undoablefieldchange fieldchange ce end panel getundomanager addedit ce else panel getundomanager addedit undoablekeychange textfield setvalidbackgroundcolor textfield gettextcomponent hasfocus textfield setactivebackgroundcolor updatesource panel markbasechanged else event getsource instanceof fieldeditor string toset null fieldeditor fieldeditor fieldeditor event getsource boolean set trim whitespace value string currenttext fieldeditor gettext trim currenttext isempty toset currenttext check field changed since want mark base changed unless real change toset null set entry hasfield fieldeditor getfieldname else set entry hasfield fieldeditor getfieldname toset equals entry getfield fieldeditor getfieldname orelse null set set field label color fieldeditor setvalidbackgroundcolor else try following statement attempts write contents stringwriter cause ioexception field properly formatted happens field stored textarea turns red toset null latexfieldformatter globals prefs getlatexfieldformatterpreferences format toset fieldeditor getfieldname string oldvalue entry getfield fieldeditor getfieldname orelse null toset null entry clearfield fieldeditor getfieldname else entry setfield fieldeditor getfieldname toset fieldeditor setvalidbackgroundcolor see need update autocompleter instance: autocompleter<string> acomp panel getautocompleters get fieldeditor getfieldname acomp null acomp addbibtexentry entry add undoablefieldchange baseframe's undomanager undoablefieldchange undoablefieldchange undoablefieldchange entry fieldeditor getfieldname oldvalue toset updatetimestampisset namedcompound ce namedcompound undoablefieldchange getpresentationname ce addedit undoablefieldchange doupdatetimestamp ifpresent fieldchange ce addedit undoablefieldchange fieldchange ce end panel getundomanager addedit ce else panel getundomanager addedit undoablefieldchange updatesource panel markbasechanged catch illegalargumentexception ex lastfieldaccepted false fieldeditor setinvalidbackgroundcolor swingutilities iseventdispatchthread joptionpane showmessagedialog frame localization lang error ex getmessage localization lang error setting field joptionpane error message logger debug error setting field ex requestfocus fieldeditor gettextcomponent hasfocus fieldeditor setbackground guiglobals active editor color else source iseditable source gettext equals lastsourcestringaccepted validentry storesource make sure scroll entry moved table done editor currently showing: movingaway isshowing panel highlightentry entry switchleftaction abstractaction switchleftaction super switch panel left override actionperformed actionevent tabbed getselectedindex tabbed setselectedindex tabbed gettabcount activatevisible switchrightaction abstractaction switchrightaction super switch panel right override actionperformed actionevent tabbed getselectedindex tabbed setselectedindex tabbed gettabcount activatevisible nextentryaction abstractaction nextentryaction super localization lang next entry icontheme jabreficon geticon putvalue action short description localization lang next entry override actionperformed actionevent panel selectnextentry preventryaction abstractaction preventryaction super localization lang previous entry icontheme jabreficon geticon putvalue action short description localization lang previous entry override actionperformed actionevent panel selectpreviousentry generatekeyaction abstractaction generatekeyaction super localization lang generate bibtex key icontheme jabreficon make key geticon putvalue action short description localization lang generate bibtex key override actionperformed actionevent get bibentry selected index already update label store current edit case action called editing field: storecurrentedit partial clone net sf jabref gui basepanel setupactions abstractworker run updates table automatically close within tab optional<string> oldvalue entry getcitekeyoptional oldvalue ispresent globals prefs getboolean jabrefpreferences avoid overwriting key panel output localization lang overwriting existing key change setting open options prefererences bibtex key generator else globals prefs getboolean jabrefpreferences warn overwriting key checkboxmessage cbm checkboxmessage localization lang current bibtex key overwritten continue? localization lang disable confirmation dialog false answer joptionpane showconfirmdialog frame cbm localization lang overwrite key joptionpane yes option cbm isselected globals prefs putboolean jabrefpreferences warn overwriting key false answer joptionpane option ok break operation bibtexkeypatternutil makelabel panel getbibdatabasecontext getmetadata getcitekeypattern globals prefs getbibtexkeypatternpreferences getkeypattern panel getdatabase entry globals prefs getbibtexkeypatternpreferences store undo information: panel getundomanager addedit undoablekeychange entry oldvalue orelse null entry getcitekeyoptional get cite key always set update field string bibtexkeydata entry getcitekeyoptional get setfield bibentry key field bibtexkeydata updatesource panel markbasechanged undoaction abstractaction undoaction super undo icontheme jabreficon undo geticon putvalue action short description undo override actionperformed actionevent panel runcommand actions undo redoaction abstractaction redoaction super redo icontheme jabreficon redo geticon putvalue action short description redo override actionperformed actionevent panel runcommand actions redo savedatabaseaction abstractaction savedatabaseaction super save database override actionperformed actionevent object activetab tabs get tabbed getselectedindex activetab instanceof entryeditortab normal panel entryeditortab tab entryeditortab activetab fieldeditor fieldeditor tab getactive fieldeditor clearautocompletesuggestion updatefield fieldeditor else source panel updatefield activetab validentry panel runcommand actions save warnduplicatebibtexkey panel output localization lang duplicate bibtex key localization lang grouping may work entry warnemptybibtexkey panel output localization lang empty bibtex key localization lang grouping may work entry abstractaction getnextentryaction nextentryaction abstractaction getpreventryaction preventryaction switchleftaction getswitchleftaction switchleftaction switchrightaction getswitchrightaction switchrightaction savedatabaseaction getsavedatabaseaction savedatabaseaction helpaction gethelpaction helpaction generatekeyaction getgeneratekeyaction generatekeyaction storefieldaction getstorefieldaction storefieldaction autolinkaction abstractaction autolinkaction putvalue action small icon icontheme jabreficon auto file link geticon putvalue action short description localization lang automatically set file links entry alt override actionperformed actionevent event filelisteditor localfilelisteditor entryeditor filelisteditor localfilelisteditor null logger warn file list editor found else localfilelisteditor autosetlinks boolean updatetimestampisset globals prefs getboolean jabrefpreferences use time stamp globals prefs getboolean jabrefpreferences update timestamp updates timestamp given entry returns fieldchange optional<fieldchange> doupdatetimestamp string timestampfield globals prefs get jabrefpreferences time stamp field string timestampformat globals prefs get jabrefpreferences time stamp format string timestamp easydateformat fromtimestampformat timestampformat getcurrentdate updatefield updatefield entry timestampfield timestamp 
207	EntryEditorTab.java	GUI	net sf jabref gui entryeditor awt awtkeystroke awt borderlayout awt component awt dimension awt keyboardfocusmanager awt event focuslistener util collections util hashmap util hashset util list util map util optional util set javax swing actionmap javax swing inputmap javax swing jcomponent javax swing jpanel javax swing jscrollpane javax swing keystroke javax swing scrollpaneconstants javax swing text jtextcomponent net sf jabref globals net sf jabref gui basepanel net sf jabref gui jabrefframe net sf jabref gui autocompleter autocompletelistener net sf jabref gui fieldeditors entrylinklisteditor net sf jabref gui fieldeditors fieldeditor net sf jabref gui fieldeditors filelisteditor net sf jabref gui fieldeditors textarea net sf jabref gui fieldeditors textfield net sf jabref gui keyboard keybinding net sf jabref gui util guiutil net sf jabref logic autocompleter autocompleter net sf jabref logic l10n localization net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model entry fieldproperty net sf jabref model entry internalbibtexfields com jgoodies forms builder defaultformbuilder com jgoodies forms layout formlayout single tab displayed entryeditor holding several fieldeditors entryeditortab jpanel panel jpanel jscrollpane scrollpane jscrollpane panel scrollpaneconstants vertical scrollbar needed scrollpaneconstants horizontal scrollbar never list<string> fields entryeditor parent map<string fieldeditor> editors hashmap<> fieldeditor activefield ugly hack pointer filelisteditor call autosetlinks filelisteditor filelisteditor bibentry entry focuslistener fieldlistener entryeditortabfocuslistener string tabtitle jabrefframe frame basepanel basepanel boolean updating entryeditortab jabrefframe frame basepanel panel list<string> fields entryeditor parent boolean addkeyfield boolean compressed string tabtitle fields null fields collections emptylist else fields fields parent parent tabtitle tabtitle frame frame basepanel panel setuppanel frame panel addkeyfield compressed tabtitle following line makes sure focus cycles inside tab instead lost parts frame: scrollpane setfocuscycleroot true setuppanel jabrefframe frame basepanel bpanel boolean addkeyfield boolean compressed string title setupkeybindings panel getinputmap jcomponent focused panel getactionmap panel setname title use title scrollpane enables correct execution entryeditor setvisiblepanel string name scrollpane setname title fieldsperrow compressed string colspec compressed fill:pref 1dlu fill:10dlu:grow 1dlu fill:pref 8dlu fill:pref 1dlu fill:10dlu:grow 1dlu fill:pref fill:pref 1dlu fill:pref:grow 1dlu fill:pref stringbuilder stringbuilder stringbuilder rows math ceil fields size fieldsperrow rows stringbuilder append fill:pref:grow addkeyfield stringbuilder append 4dlu fill:pref else stringbuilder length stringbuilder delete stringbuilder length stringbuilder length string rowspec stringbuilder tostring defaultformbuilder builder defaultformbuilder formlayout colspec rowspec panel bibtex edit fields defined fields size string field fields get fieldeditor fieldeditor defaultheight wheight internalbibtexfields getfieldweight field internalbibtexfields getfieldproperties field contains fieldproperty file editor fieldeditor filelisteditor frame bpanel getbibdatabasecontext field null parent filelisteditor filelisteditor fieldeditor guiutil correctrowheight filelisteditor defaultheight else internalbibtexfields getfieldproperties field contains fieldproperty single entry link fieldeditor entrylinklisteditor frame bpanel getbibdatabasecontext field null parent true defaultheight else internalbibtexfields getfieldproperties field contains fieldproperty multiple entry link fieldeditor entrylinklisteditor frame bpanel getbibdatabasecontext field null parent false defaultheight else fieldeditor textarea field null getprompt field parent addsearchlistener textarea fieldeditor defaultheight fieldeditor getpane getpreferredsize height optional<jcomponent> extra parent getextra fieldeditor add autocompleter listener required field: autocompleter<string> autocompleter bpanel getautocompleters get field autocompletelistener autocompletelistener null autocompleter null autocompletelistener autocompletelistener autocompleter setupjtextcomponent fieldeditor gettextcomponent autocompletelistener fieldeditor setautocompletelistener autocompletelistener store editor later reference: editors put field fieldeditor activefield fieldeditor compressed fieldeditor getpane setpreferredsize dimension math max defaultheight wheight builder append fieldeditor getlabel extra ispresent builder append fieldeditor getpane jpanel pan jpanel pan setlayout borderlayout pan add extra get borderlayout north builder append pan else builder append fieldeditor getpane fieldsperrow builder nextline add edit field bibtex key addkeyfield textfield textfield textfield bibentry key field parent getentry getcitekeyoptional orelse true setupjtextcomponent textfield null editors put bibentry key field textfield key field field one editor one set active initially: editors size activefield textfield builder nextline builder append textfield getlabel builder append textfield string getprompt string field set<fieldproperty> fieldproperties internalbibtexfields getfieldproperties field fieldproperties contains fieldproperty person names string format 1$s 1$s others localization lang firstname lastname else fieldproperties contains fieldproperty doi organisation id else fieldproperties contains fieldproperty date yyyy mm dd switch field case fieldname year: yyyy case fieldname month: mm #mmm# case fieldname url: https: bibentry getentry entry boolean isfieldmodified fieldeditor fieldeditor string text fieldeditor gettext trim text isempty getentry hasfield fieldeditor getfieldname else optional text equals getentry getfield fieldeditor getfieldname markifmodified fieldeditor fieldeditor mark changed already field indeed modified updating basepanel ismodified isfieldmodified fieldeditor markbasechanged markbasechanged basepanel markbasechanged sets activefield variable focus <p> want focus call link #focus afterwards param fieldeditor setactive fieldeditor fieldeditor activefield fieldeditor setactive string fieldname editors containskey fieldname activefield editors get fieldname fieldeditor getactive activefield list<string> getfields fields focus activefield null activefield gettextcomponent requestfocus reset fields data bibentry updateall setentry getentry setentry bibentry entry try updating true fieldeditor editor editors values string toset entry getfield editor getfieldname orelse toset equals editor gettext editor settext toset entry entry finally updating false boolean updatefield string field string content editors containskey field false fieldeditor fieldeditor editors get field fieldeditor gettext equals content true trying preserve current edit position fixes sf bug #1285 fieldeditor gettextcomponent instanceof jtextcomponent initialcaretposition jtextcomponent fieldeditor getcaretposition fieldeditor settext content textlength fieldeditor gettext length initialcaretposition<textlength jtextcomponent fieldeditor setcaretposition initialcaretposition else jtextcomponent fieldeditor setcaretposition textlength else fieldeditor settext content true setenabled boolean enabled fieldeditor editor editors values editor setenabled enabled component getpane scrollpane entryeditor getparent parent string gettabtitle tabtitle setupkeybindings inputmap inputmap actionmap actionmap inputmap put globals getkeyprefs getkey keybinding entry editor previous entry prev actionmap put prev parent getpreventryaction inputmap put globals getkeyprefs getkey keybinding entry editor next entry next actionmap put next parent getnextentryaction inputmap put globals getkeyprefs getkey keybinding entry editor store field store actionmap put store parent getstorefieldaction inputmap put globals getkeyprefs getkey keybinding entry editor next panel right inputmap put globals getkeyprefs getkey keybinding entry editor next panel right actionmap put left parent getswitchleftaction inputmap put globals getkeyprefs getkey keybinding entry editor previous panel left inputmap put globals getkeyprefs getkey keybinding entry editor previous panel left actionmap put right parent getswitchrightaction inputmap put globals getkeyprefs getkey keybinding help help actionmap put help parent gethelpaction inputmap put globals getkeyprefs getkey keybinding save database save actionmap put save parent getsavedatabaseaction inputmap put globals getkeyprefs getkey keybinding next tab nexttab actionmap put nexttab frame nexttab inputmap put globals getkeyprefs getkey keybinding previous tab prevtab actionmap put prevtab frame prevtab set key bindings focus listener fieldeditor param component setupjtextcomponent jcomponent component autocompletelistener autocompletelistener add focus listeners component funny code need guarantee autocompletelistener used called fieldlistener focus lost event autocompletelistener responsible removing current suggestion focus lost must done fieldlistener stores current edit swing guarantee order execution event listeners handle adding autocompletelistener telling call fieldlistener afterwards autocompletelistener used add fieldlistener normally autocompletelistener null component addfocuslistener fieldlistener else component addkeylistener autocompletelistener component addfocuslistener autocompletelistener autocompletelistener setnextfocuslistener fieldlistener setupkeybindings component getinputmap jcomponent focused component getactionmap set<awtkeystroke> keys hashset<> component getfocustraversalkeys keyboardfocusmanager forward traversal keys keys clear keys add awtkeystroke getawtkeystroke pressed tab component setfocustraversalkeys keyboardfocusmanager forward traversal keys keys keys hashset<> component getfocustraversalkeys keyboardfocusmanager backward traversal keys keys clear keys add keystroke getkeystroke shift pressed tab component setfocustraversalkeys keyboardfocusmanager backward traversal keys keys 
208	FieldExtraComponents.java	GUI	net sf jabref gui entryeditor awt borderlayout awt event actionevent awt event mouseadapter awt event mouseevent io ioexception util optional javax swing jbutton javax swing jcombobox javax swing jcomponent javax swing jpanel javax swing jtextarea javax swing event documentevent javax swing event documentlistener javax swing text jtextcomponent net sf jabref globals net sf jabref gui basepanel net sf jabref gui date datepickerbutton net sf jabref gui desktop jabrefdesktop net sf jabref gui entryeditor entryeditor storefieldaction net sf jabref gui fieldeditors fieldeditor net sf jabref gui mergeentries fetchandmergeentry net sf jabref gui undo undoablefieldchange net sf jabref logic journals journalabbreviationrepository net sf jabref logic l10n localization net sf jabref logic net urlutil net sf jabref logic util doi net sf jabref logic util isbn net sf jabref logic util date easydateformat net sf jabref model database bibdatabasemode net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model entry monthutil net sf jabref preferences jabrefpreferences fieldextracomponents string abbreviation tooltip text <html> localization lang switches full abbreviated journal name journal name known <br> localization lang set go <b> localization lang options localization lang manage journal abbreviations b>< html> add controls switching abbreviated full journal names field also fieldcontentselector need combine param panel param editor param entry param storefieldaction optional<jcomponent> getjournalextracomponent basepanel panel fieldeditor editor bibentry entry storefieldaction storefieldaction jpanel controls jpanel controls setlayout borderlayout button toggle abbreviated full journal names jbutton button jbutton localization lang toggle abbreviation button settooltiptext abbreviation tooltip text button addactionlistener actionevent string text editor gettext journalabbreviationrepository abbreviationrepository globals journalabbreviationloader getrepository globals prefs getjournalabbreviationpreferences abbreviationrepository isknownname text string abbreviationrepository getnextabbreviation text orelse text null editor settext storefieldaction actionperformed actionevent editor panel getundomanager addedit undoablefieldchange entry editor getfieldname text controls add button borderlayout south optional controls set mouse listener opening external viewer extra external param fieldeditor param panel optional<jcomponent> getexternalextracomponent basepanel panel fieldeditor fieldeditor jpanel controls jpanel controls setlayout borderlayout jbutton button jbutton localization lang open button setenabled false button addactionlistener actionevent try jabrefdesktop openexternalviewer panel getbibdatabasecontext fieldeditor gettext fieldeditor getfieldname catch ioexception ex panel output localization lang unable open link controls add button borderlayout south enable disable button jtextcomponent url jtextcomponent fieldeditor url getdocument adddocumentlistener documentlistener override changedupdate documentevent documentevent checkurl override insertupdate documentevent documentevent checkurl override removeupdate documentevent documentevent checkurl checkurl urlutil isurl url gettext button setenabled true else button setenabled false optional controls set mouse listener opening external viewer fetching doi param fieldeditor param panel optional<jcomponent> getdoiextracomponent basepanel panel entryeditor entryeditor fieldeditor fieldeditor jpanel controls jpanel controls setlayout borderlayout open doi link jbutton button jbutton localization lang open button setenabled false button addactionlistener actionevent try jabrefdesktop openexternalviewer panel getbibdatabasecontext fieldeditor gettext fieldeditor getfieldname catch ioexception ex panel output localization lang unable open link lookup doi jbutton doibutton jbutton localization lang lookup doi doibutton addactionlistener actionevent optional<doi> doi doi frombibentry entryeditor getentry doi ispresent entryeditor getentry setfield fieldname doi doi get getdoi else panel frame setstatus localization lang found fieldname getdisplayname fieldname doi fetch bibtex data jbutton fetchbutton jbutton localization lang get bibtex data fieldname getdisplayname fieldname doi fetchbutton setenabled false fetchbutton addactionlistener actionevent bibentry entry entryeditor getentry fetchandmergeentry entry panel fieldname doi controls add button borderlayout north controls add doibutton borderlayout center controls add fetchbutton borderlayout south enable disable button jtextcomponent doi jtextcomponent fieldeditor doi getdocument adddocumentlistener documentlistener override changedupdate documentevent documentevent checkdoi override insertupdate documentevent documentevent checkdoi override removeupdate documentevent documentevent checkdoi checkdoi optional<doi> doiurl doi build doi gettext doiurl ispresent button setenabled true fetchbutton setenabled true else button setenabled false fetchbutton setenabled false optional controls add button fetching isbn param fieldeditor param panel optional<jcomponent> getisbnextracomponent basepanel panel entryeditor entryeditor fieldeditor fieldeditor fetch bibtex data jbutton fetchbutton jbutton localization lang get bibtex data fieldname getdisplayname fieldname isbn fetchbutton setenabled false fetchbutton addactionlistener actionevent bibentry entry entryeditor getentry fetchandmergeentry entry panel fieldname isbn enable disable button jtextcomponent isbn jtextcomponent fieldeditor isbn getdocument adddocumentlistener documentlistener override changedupdate documentevent documentevent checkisbn override insertupdate documentevent documentevent checkisbn override removeupdate documentevent documentevent checkisbn checkisbn isbn isbnstring isbn isbn gettext isbnstring isvalidformat fetchbutton setenabled true else fetchbutton setenabled false optional fetchbutton add button fetching isbn param fieldeditor param panel optional<jcomponent> geteprintextracomponent basepanel panel entryeditor entryeditor fieldeditor fieldeditor fetch bibtex data jbutton fetchbutton jbutton localization lang get bibtex data fieldname getdisplayname fieldname eprint fetchbutton setenabled false fetchbutton addactionlistener actionevent bibentry entry entryeditor getentry fetchandmergeentry entry panel fieldname eprint enable disable button jtextcomponent eprint jtextcomponent fieldeditor eprint getdocument adddocumentlistener documentlistener override changedupdate documentevent documentevent checkeprint override insertupdate documentevent documentevent checkeprint override removeupdate documentevent documentevent checkeprint checkeprint eprint gettext null eprint gettext trim isempty fetchbutton setenabled false else fetchbutton setenabled true optional fetchbutton dropdown list containing yes fields extra yes param fieldeditor param entryeditor optional<jcomponent> getyesnoextracomponent fieldeditor fieldeditor entryeditor entryeditor string[] options yes jcombobox<string> yesno jcombobox<> options yesno addactionlistener actionevent fieldeditor settext string yesno getselecteditem tolowercase entryeditor updatefield fieldeditor optional yesno dropdown list month names fields extra month param fieldeditor param entryeditor param type optional<jcomponent> getmonthextracomponent fieldeditor fieldeditor entryeditor entryeditor bibdatabasemode type string[] options string[13] options[0] localization lang select options[i] monthutil getmonthbynumber fullname jcombobox<string> month jcombobox<> options month addactionlistener actionevent monthnumber month getselectedindex monthnumber type bibdatabasemode biblatex fieldeditor settext string valueof monthnumber else fieldeditor settext monthutil getmonthbynumber monthnumber bibtexformat else fieldeditor settext entryeditor updatefield fieldeditor month setselectedindex optional month button sets owner field fields extra set owner param fieldeditor param storefieldaction optional<jcomponent> getsetownerextracomponent fieldeditor fieldeditor storefieldaction storefieldaction jbutton button jbutton localization lang auto button addactionlistener actionevent fieldeditor settext globals prefs get jabrefpreferences default owner storefieldaction actionperformed actionevent fieldeditor optional button set field click inserts current date isdatapicker true button data picker returned param editor param isdatepicker optional<jcomponent> getdatetimeextracomponent fieldeditor editor boolean isdatepicker boolean isoformat jtextarea editor addmouselistener mouseadapter override mouseclicked mouseevent getclickcount click string date easydateformat isodateformat getcurrentdate editor settext date insert datepicker extras field contains command isdatepicker datepickerbutton datepicker datepickerbutton editor isoformat optional datepicker getdatepicker else optional empty dropdown list alternatives editor type fields param fieldeditor param entryeditor optional<jcomponent> geteditortypeextracomponent fieldeditor fieldeditor entryeditor entryeditor string[] optionvalues editor compiler founder continuator redactor reviser collaborator string[] optiondescriptions localization lang select localization lang editor localization lang compiler localization lang founder localization lang continuator localization lang redactor localization lang reviser localization lang collaborator jcombobox<string> editortype jcombobox<> optiondescriptions editortype addactionlistener actionevent fieldeditor settext optionvalues[editortype getselectedindex entryeditor updatefield fieldeditor optional editortype dropdown list alternatives pagination type fields param fieldeditor param entryeditor optional<jcomponent> getpaginationextracomponent fieldeditor fieldeditor entryeditor entryeditor string[] optionvalues page column line verse section paragraph none string[] optiondescriptions localization lang select localization lang page localization lang column localization lang line localization lang verse localization lang section localization lang paragraph localization lang none jcombobox<string> pagination jcombobox<> optiondescriptions pagination addactionlistener actionevent fieldeditor settext optionvalues[pagination getselectedindex entryeditor updatefield fieldeditor optional pagination dropdown list alternatives pagination type fields param fieldeditor param entryeditor optional<jcomponent> gettypeextracomponent fieldeditor fieldeditor entryeditor entryeditor boolean ispatent string[] optionvalues string[] optiondescriptions ispatent optionvalues string[] patent patentde patenteu patentfr patentuk patentus patreq patreqde patreqeu patreqfr patrequk patrequs optiondescriptions string[] localization lang select localization lang patent localization lang german patent localization lang european patent localization lang french patent localization lang british patent localization lang patent localization lang patent request localization lang german patent request localization lang european patent request localization lang french patent request localization lang british patent request localization lang patent request else optionvalues string[] mathesis phdthesis candthesis techreport resreport software datacd audiocd optiondescriptions string[] localization lang select localization lang master's thesis localization lang phd thesis localization lang candidate thesis localization lang technical report localization lang research report localization lang software localization lang data cd localization lang audio cd jcombobox<string> type jcombobox<> optiondescriptions type addactionlistener actionevent fieldeditor settext optionvalues[type getselectedindex entryeditor updatefield fieldeditor optional type dropdown list gender alternatives fields gender param fieldeditor param entryeditor optional<jcomponent> getgenderextracomponent fieldeditor fieldeditor entryeditor entryeditor string[] optionvalues sf sm sp pf pm pn pp string[] optiondescriptions localization lang select localization lang female name localization lang male name localization lang neuter name localization lang female names localization lang male names localization lang neuter names localization lang mixed names jcombobox<string> gender jcombobox<> optiondescriptions gender addactionlistener actionevent fieldeditor settext optionvalues[gender getselectedindex entryeditor updatefield fieldeditor optional gender 
209	EntryEditorTabFocusListener.java	GUI	net sf jabref gui entryeditor awt component awt rectangle awt event focusevent awt event focuslistener javax swing jpanel javax swing jscrollpane javax swing event documentevent javax swing event documentlistener javax swing text jtextcomponent net sf jabref gui fieldeditors fieldeditor focus listener fires storefieldaction textarea loses focus entryeditortabfocuslistener focuslistener component documentlistener currently tied jtextcomponent textcomponent listener gets tied textcomponent removed documentlistener documentlistener entryeditortab focuslistener currently tied entryeditortab entryeditortab entryeditortabfocuslistener entryeditortab entryeditortab entryeditortab entryeditortab override focusgained focusevent event synchronized textcomponent null textcomponent getdocument removedocumentlistener documentlistener textcomponent null documentlistener null event getsource instanceof jtextcomponent textcomponent jtextcomponent event getsource documentlistener documentlistener fire textcomponent isfocusowner entryeditortab markifmodified fieldeditor textcomponent override changedupdate documentevent fire override insertupdate documentevent fire override removeupdate documentevent fire textcomponent getdocument adddocumentlistener documentlistener makes vertical scroll panel view follow focus component component textcomponent getparent getparent component instanceof jscrollpane jscrollpane scrollpane jscrollpane component component scrollpaneparent scrollpane getparent scrollpaneparent instanceof jpanel jpanel panel jpanel scrollpaneparent rectangle bounds scrollpane getbounds panel scrollrecttovisible bounds entryeditortab setactive fieldeditor event getsource override focuslost focusevent event synchronized textcomponent null textcomponent getdocument removedocumentlistener documentlistener textcomponent null documentlistener null event istemporary entryeditortab getparent updatefield event getsource 
210	SharedDatabaseUIManager.java	GUI	net sf jabref gui shared sql sqlexception util objects util optional javax swing joptionpane javax swing swingutilities net sf jabref globals net sf jabref jabrefgui net sf jabref gui basepanel net sf jabref gui jabrefframe net sf jabref gui entryeditor entryeditor net sf jabref gui undo undoableremoveentry net sf jabref logic importer parserresult net sf jabref logic l10n localization net sf jabref model defaults net sf jabref model database bibdatabasecontext net sf jabref model database bibdatabasemode net sf jabref model database databaselocation net sf jabref shared dbmsconnectionproperties net sf jabref shared dbmssynchronizer net sf jabref shared event connectionlostevent net sf jabref shared event sharedentrynotpresentevent net sf jabref shared event updaterefusedevent net sf jabref shared exception databasenotsupportedexception net sf jabref shared exception invaliddbmsconnectionpropertiesexception net sf jabref shared exception notashareddatabaseexception net sf jabref shared prefs shareddatabasepreferences com google common eventbus subscribe shareddatabaseuimanager jabrefframe jabrefframe dbmssynchronizer dbmssynchronizer shareddatabaseuimanager jabrefframe jabrefframe jabrefframe jabrefframe subscribe listen connectionlostevent connectionlostevent jabrefframe output localization lang connection lost string[] options localization lang reconnect localization lang work offline localization lang close database answer joptionpane showoptiondialog jabrefframe localization lang connection server terminated \n\n localization lang connection lost joptionpane yes cancel option joptionpane warning message null options options[0] answer jabrefframe closecurrenttab connecttoshareddatabasedialog connecttoshareddatabasedialog connecttoshareddatabasedialog jabrefframe connecttoshareddatabasedialog setvisible true else answer connectionlostevent getbibdatabasecontext converttolocaldatabase jabrefframe refreshtitleandtabs jabrefframe updateenabledstate jabrefframe output localization lang working offline else jabrefframe closecurrenttab subscribe listen updaterefusedevent updaterefusedevent jabrefframe output localization lang update refused mergesharedentrydialog jabrefframe dbmssynchronizer updaterefusedevent getlocalbibentry updaterefusedevent getsharedbibentry updaterefusedevent getbibdatabasecontext getmode showmergedialog subscribe listen sharedentrynotpresentevent event basepanel panel jabrefframe getcurrentbasepanel entryeditor entryeditor panel getcurrenteditor panel getundomanager addedit undoableremoveentry panel getdatabase event getbibentry panel objects nonnull entryeditor entryeditor getentry event getbibentry joptionpane showmessagedialog jabrefframe localization lang bibentry currently work deleted shared side \n localization lang restore entry using undo\ operation localization lang shared entry longer present joptionpane information message swingutilities invokelater panel hidebottomcomponent opens shared database tab given link dbmsconnectionproperties param dbmsconnectionproperties connection data param raisetab <code>true< code> tab gets selected basepanel also used link savedatabaseaction basepanel opennewshareddatabasetab dbmsconnectionproperties dbmsconnectionproperties throws sqlexception databasenotsupportedexception invaliddbmsconnectionpropertiesexception jabrefframe frame jabrefgui getmainframe bibdatabasemode selectedmode globals prefs getdefaultbibdatabasemode bibdatabasecontext bibdatabasecontext bibdatabasecontext defaults selectedmode databaselocation shared globals prefs getkeyworddelimiter globals prefs getkeypattern dbmssynchronizer bibdatabasecontext getdbmssynchronizer dbmssynchronizer openshareddatabase dbmsconnectionproperties dbmssynchronizer registerlistener frame output localization lang connection server established dbmsconnectionproperties gettype tostring frame addtab bibdatabasecontext true openshareddatabasefromparserresult parserresult parserresult throws sqlexception databasenotsupportedexception invaliddbmsconnectionpropertiesexception notashareddatabaseexception optional<string> shareddatabaseidoptional parserresult getdatabase getshareddatabaseid shareddatabaseidoptional ispresent throw notashareddatabaseexception string shareddatabaseid shareddatabaseidoptional get dbmsconnectionproperties dbmsconnectionproperties dbmsconnectionproperties shareddatabasepreferences shareddatabaseid jabrefframe frame jabrefgui getmainframe bibdatabasemode selectedmode globals prefs getdefaultbibdatabasemode bibdatabasecontext bibdatabasecontext bibdatabasecontext defaults selectedmode databaselocation shared globals prefs getkeyworddelimiter globals prefs getkeypattern bibdatabasecontext getdatabase setshareddatabaseid shareddatabaseid bibdatabasecontext setdatabasefile parserresult getdatabasecontext getdatabasefile orelse null dbmssynchronizer bibdatabasecontext getdbmssynchronizer dbmssynchronizer openshareddatabase dbmsconnectionproperties dbmssynchronizer registerlistener parserresult setdatabasecontext bibdatabasecontext frame output localization lang connection server established dbmsconnectionproperties gettype tostring 
211	MigrationHelpDialog.java	GUI	net sf jabref gui shared awt borderlayout awt component awt dimension awt event actionevent awt event keyevent javax swing abstractaction javax swing action javax swing box javax swing boxlayout javax swing jbutton javax swing jcomponent javax swing jdialog javax swing jlabel javax swing jpanel javax swing keystroke javax swing border emptyborder net sf jabref gui help helpaction net sf jabref logic help helpfile net sf jabref logic l10n localization migrationhelpdialog jdialog migrationhelpdialog connecttoshareddatabasedialog openshareddatabasedialog super openshareddatabasedialog localization lang migration help information setmodal true string migrationmessage localization lang entered database obsolete structure longer supported jlabel migrationlabel jlabel migrationmessage migrationlabel setalignmentx component left alignment string helpmessage localization lang click learn migration pre databases jlabel helplabel helpaction helpfile sql database migration gethelplabel helpmessage helplabel setalignmentx component left alignment string informationmessage localization lang however database created alongside pre one jlabel informationlabel jlabel informationmessage informationlabel setalignmentx component left alignment action openaction abstractaction override actionperformed actionevent openshareddatabasedialog openshareddatabase jbutton okbutton jbutton localization lang ok okbutton addactionlistener openaction okbutton setalignmentx component center alignment okbutton getinputmap jcomponent focused window put keystroke getkeystroke keyevent vk enter enter pressed okbutton getactionmap put enter pressed openaction jpanel buttonpanel jpanel buttonpanel add okbutton borderlayout center jpanel contentpanel jpanel contentpanel setborder emptyborder contentpanel setlayout boxlayout contentpanel boxlayout axis contentpanel add migrationlabel contentpanel add box createrigidarea dimension contentpanel add helplabel contentpanel add box createrigidarea dimension contentpanel add informationlabel contentpanel add box createrigidarea dimension contentpanel add buttonpanel add contentpanel setresizable false pack setlocationrelativeto openshareddatabasedialog 
212	MergeSharedEntryDialog.java	GUI	net sf jabref gui shared awt borderlayout awt dimension awt event windowadapter awt event windowevent javax swing jbutton javax swing jdialog javax swing jlabel javax swing joptionpane javax swing jpanel javax swing windowconstants javax swing border emptyborder net sf jabref gui jabrefframe net sf jabref gui mergeentries mergeentries net sf jabref logic l10n localization net sf jabref model database bibdatabasemode net sf jabref model entry bibentry net sf jabref shared dbmssynchronizer mergesharedentrydialog jabrefframe jabrefframe dbmssynchronizer dbmssynchronizer bibentry localbibentry bibentry sharedbibentry jdialog mergedialog mergeentries mergeentries mergesharedentrydialog jabrefframe jabrefframe dbmssynchronizer dbmssynchronizer bibentry localbibentry bibentry sharedbibentry bibdatabasemode bibdatabasemode jabrefframe jabrefframe dbmssynchronizer dbmssynchronizer localbibentry localbibentry sharedbibentry sharedbibentry mergedialog jdialog jabrefframe localization lang update refused true mergeentries mergeentries sharedbibentry localbibentry localization lang shared entry localization lang local entry bibdatabasemode showmergedialog mergedialog setminimumsize dimension stringbuilder message stringbuilder message append <html> message append <b> message append localization lang update could performed due existing change conflicts message append b> message append <br ><br message append localization lang working newest version bibentry message append <br ><br message append localization lang shared version: string valueof sharedbibentry getsharedbibentrydata getversion message append <br message append localization lang local version: string valueof localbibentry getsharedbibentrydata getversion message append <br ><br message append localization lang please merge shared entry press merge entries\ resolve problem message append <br jlabel mergeinnformation jlabel message tostring mergeinnformation setborder emptyborder mergedialog add mergeinnformation borderlayout north mergedialog add mergeentries getmergeentrypanel borderlayout center jbutton mergebutton jbutton localization lang merge entries mergebutton addactionlistener mergeentries jbutton cancelbutton jbutton localization lang cancel cancelbutton addactionlistener showconfirmationdialog jpanel buttonpanel jpanel buttonpanel add mergebutton borderlayout west buttonpanel add cancelbutton borderlayout east mergedialog add buttonpanel borderlayout south mergedialog setdefaultcloseoperation windowconstants nothing close mergedialog addwindowlistener windowadapter override windowclosing windowevent showconfirmationdialog mergedialog setlocationrelativeto jabrefframe mergedialog pack mergedialog setvisible true showconfirmationdialog answer joptionpane showconfirmdialog mergedialog localization lang canceling operation leave changes unsynchronized cancel anyway? localization lang warning joptionpane yes option answer mergedialog dispose mergeentries bibentry mergedbibentry mergeentries getmergeentry mergedbibentry getsharedbibentrydata setsharedid sharedbibentry getsharedbibentrydata getsharedid mergedbibentry getsharedbibentrydata setversion sharedbibentry getsharedbibentrydata getversion mergedialog dispose dispose synchronizing avoid multiple merge windows case conflict dbmssynchronizer synchronizesharedentry mergedbibentry dbmssynchronizer synchronizelocaldatabase 
213	ConnectToSharedDatabaseDialog.java	GUI	net sf jabref gui shared awt flowlayout awt gridbagconstraints awt gridbaglayout awt insets awt event actionevent awt event keyevent io unsupportedencodingexception nio file files nio file path nio file paths security generalsecurityexception sql sqlexception util list util optional util set javax swing abstractaction javax swing action javax swing borderfactory javax swing defaultcomboboxmodel javax swing jbutton javax swing jcheckbox javax swing jcombobox javax swing jcomponent javax swing jdialog javax swing jlabel javax swing joptionpane javax swing jpanel javax swing jpasswordfield javax swing jtextfield javax swing keystroke net sf jabref jabrefexception net sf jabref jabrefgui net sf jabref gui basepanel net sf jabref gui filedialog net sf jabref gui jabrefframe net sf jabref gui exporter savedatabaseaction net sf jabref gui help helpaction net sf jabref logic help helpfile net sf jabref logic l10n localization net sf jabref logic util fileextensions net sf jabref model database bibdatabasecontext net sf jabref model database databaselocation net sf jabref shared dbmsconnection net sf jabref shared dbmsconnectionproperties net sf jabref shared dbmstype net sf jabref shared exception databasenotsupportedexception net sf jabref shared exception invaliddbmsconnectionpropertiesexception net sf jabref shared prefs shareddatabasepreferences net sf jabref shared security password org apache commons logging log org apache commons logging logfactory connecttoshareddatabasedialog jdialog log logger logfactory getlog connecttoshareddatabasedialog jabrefframe frame gridbaglayout gridbaglayout gridbaglayout gridbagconstraints gridbagconstraints gridbagconstraints jpanel connectionpanel jpanel jpanel filepanel jpanel jpanel buttonpanel jpanel jlabel databasetypelabel jlabel localization lang database type jlabel hostportlabel jlabel localization lang host localization lang port jlabel databaselabel jlabel localization lang database jlabel userlabel jlabel localization lang user jlabel passwordlabel jlabel localization lang password jtextfield hostfield jtextfield jtextfield portfield jtextfield jtextfield userfield jtextfield jtextfield databasefield jtextfield jtextfield filelocationfield jtextfield jpasswordfield passwordfield jpasswordfield jcombobox<dbmstype> dbmstypedropdown jcombobox<> jbutton connectbutton jbutton localization lang connect jbutton cancelbutton jbutton localization lang cancel jbutton browsebutton jbutton localization lang browse jbutton helpbutton helpaction helpfile sql database gethelpbutton jcheckbox rememberpassword jcheckbox localization lang remember password? jcheckbox autosavefile jcheckbox localization lang automatically save database shareddatabasepreferences prefs shareddatabasepreferences dbmsconnectionproperties connectionproperties param frame jabref frame connecttoshareddatabasedialog jabrefframe frame super frame localization lang connect shared database frame frame initlayout updateenablestate applypreferences setupactions pack setlocationrelativeto frame openshareddatabase isshareddatabasealreadypresent joptionpane showmessagedialog connecttoshareddatabasedialog localization lang already connected database using entered connection details localization lang warning joptionpane warning message autosavefile isselected path localfilepath paths get filelocationfield gettext files exists localfilepath files isdirectory localfilepath answer joptionpane showconfirmdialog localization lang 0' exists overwrite file? localfilepath getfilename tostring localization lang existing file joptionpane yes option answer joptionpane option filelocationfield requestfocus setloadingconnectbuttontext true try basepanel panel shareddatabaseuimanager frame opennewshareddatabasetab connectionproperties setpreferences dispose filelocationfield gettext isempty try savedatabaseaction panel paths get filelocationfield gettext runcommand catch throwable logger error error saving database setloadingconnectbuttontext false reached regularly catch sqlexception invaliddbmsconnectionpropertiesexception exception joptionpane showmessagedialog connecttoshareddatabasedialog exception getmessage localization lang connection error joptionpane error message catch databasenotsupportedexception exception migrationhelpdialog setvisible true setloadingconnectbuttontext false defines sets different actions setupactions action openaction abstractaction override actionperformed actionevent try checkfields connectionproperties dbmsconnectionproperties connectionproperties settype dbmstype dbmstypedropdown getselecteditem connectionproperties sethost hostfield gettext connectionproperties setport integer parseint portfield gettext connectionproperties setdatabase databasefield gettext connectionproperties setuser userfield gettext connectionproperties setpassword string passwordfield getpassword jpasswordfield getpassword string char array openshareddatabase catch jabrefexception exception joptionpane showmessagedialog connecttoshareddatabasedialog exception getmessage localization lang warning joptionpane warning message connectbutton addactionlistener openaction cancelbutton addactionlistener dispose set listener updates default port number selection dbmstypedropdown changed action dbmstypedropdownaction abstractaction override actionperformed actionevent portfield settext integer tostring dbmstype dbmstypedropdown getselecteditem getdefaultport dbmstypedropdown addactionlistener dbmstypedropdownaction add enter button action listener connectbutton getinputmap jcomponent focused window put keystroke getkeystroke keyevent vk enter enter pressed connectbutton getactionmap put enter pressed openaction browsebutton addactionlistener showfilechooser autosavefile addactionlistener updateenablestate fetches possibly saved data configures control elements respectively applypreferences optional<string> shareddatabasetype prefs gettype optional<string> shareddatabasehost prefs gethost optional<string> shareddatabaseport prefs getport optional<string> shareddatabasename prefs getname optional<string> shareddatabaseuser prefs getuser optional<string> shareddatabasepassword prefs getpassword boolean shareddatabaserememberpassword prefs getrememberpassword shareddatabasetype ispresent optional<dbmstype> dbmstype dbmstype fromstring shareddatabasetype get dbmstype ispresent dbmstypedropdown setselecteditem dbmstype get shareddatabasehost ispresent hostfield settext shareddatabasehost get shareddatabaseport ispresent portfield settext shareddatabaseport get else portfield settext integer tostring dbmstype dbmstypedropdown getselecteditem getdefaultport shareddatabasename ispresent databasefield settext shareddatabasename get shareddatabaseuser ispresent userfield settext shareddatabaseuser get shareddatabasepassword ispresent shareddatabaseuser ispresent try passwordfield settext password shareddatabasepassword get tochararray shareddatabaseuser get decrypt catch generalsecurityexception unsupportedencodingexception logger error could read password due decryption problems rememberpassword setselected shareddatabaserememberpassword set layout position control units right place initlayout setresizable false insets defautinsets insets connectionpanel setborder borderfactory createtitledborder borderfactory createetchedborder localization lang connection connectionpanel setlayout gridbaglayout set<dbmstype> availabledbmstypes dbmsconnection getavailabledbmstypes defaultcomboboxmodel<dbmstype> comboboxmodel defaultcomboboxmodel<> availabledbmstypes toarray dbmstype[availabledbmstypes size dbmstypedropdown setmodel comboboxmodel gridbagconstraints insets defautinsets gridbagconstraints fill gridbagconstraints gridbaglayout setconstraints connectionpanel gridbagconstraints column gridbagconstraints gridx gridbagconstraints gridy connectionpanel add databasetypelabel gridbagconstraints gridbagconstraints gridy connectionpanel add hostportlabel gridbagconstraints gridbagconstraints gridy connectionpanel add databaselabel gridbagconstraints gridbagconstraints gridy connectionpanel add userlabel gridbagconstraints gridbagconstraints gridy connectionpanel add passwordlabel gridbagconstraints column gridbagconstraints gridwidth gridbagconstraints gridx gridbagconstraints gridy connectionpanel add dbmstypedropdown gridbagconstraints gridbagconstraints gridy gridbagconstraints gridwidth hostfield smaller others gridbagconstraints insets insets connectionpanel add hostfield gridbagconstraints gridbagconstraints gridy gridbagconstraints gridwidth gridbagconstraints insets defautinsets connectionpanel add databasefield gridbagconstraints gridbagconstraints gridy connectionpanel add userfield gridbagconstraints gridbagconstraints gridy connectionpanel add passwordfield gridbagconstraints gridbagconstraints gridy connectionpanel add rememberpassword gridbagconstraints column gridbagconstraints gridx gridbagconstraints gridy gridbagconstraints gridwidth gridbagconstraints insets insets connectionpanel add portfield gridbagconstraints help button gridbagconstraints gridx gridbagconstraints gridy gridbagconstraints insets insets jpanel helppanel jpanel flowlayout flowlayout left helppanel add helpbutton add panel getcontentpane setlayout gridbaglayout gridbagconstraints gridx gridbagconstraints gridy gridbagconstraints gridwidth gridbagconstraints insets insets gridbaglayout setconstraints connectionpanel gridbagconstraints getcontentpane add connectionpanel filepanel filepanel setborder borderfactory createtitledborder borderfactory createetchedborder localization lang file filepanel setlayout gridbaglayout gridbagconstraints gridx gridbagconstraints gridy gridbagconstraints gridwidth filepanel add autosavefile gridbagconstraints gridbagconstraints gridx gridbagconstraints gridy gridbagconstraints gridwidth filepanel add filelocationfield gridbagconstraints gridbagconstraints gridx filepanel add browsebutton gridbagconstraints gridbagconstraints gridx gridbagconstraints gridy gridbagconstraints insets insets gridbaglayout setconstraints filepanel gridbagconstraints getcontentpane add filepanel buttonpanel buttonpanel setlayout flowlayout flowlayout center buttonpanel add connectbutton buttonpanel add cancelbutton buttonpanel add helppanel gridbagconstraints gridy gridbagconstraints insets insets gridbaglayout setconstraints buttonpanel gridbagconstraints getcontentpane add buttonpanel setmodal true owner window disabled dialog opened saves data dialog persistently facilitate usage setpreferences prefs settype dbmstypedropdown getselecteditem tostring prefs sethost hostfield gettext prefs setport portfield gettext prefs setname databasefield gettext prefs setuser userfield gettext rememberpassword isselected try prefs setpassword password passwordfield getpassword userfield gettext encrypt catch generalsecurityexception unsupportedencodingexception logger error could store password due encryption problems else prefs clearpassword case password already set prefs setrememberpassword rememberpassword isselected boolean isemptyfield jtextfield field field gettext trim length checks every required text field emptiness checkfields throws jabrefexception isemptyfield hostfield hostfield requestfocus throw jabrefexception localization lang required field 0\ empty localization lang host isemptyfield portfield portfield requestfocus throw jabrefexception localization lang required field 0\ empty localization lang port isemptyfield databasefield databasefield requestfocus throw jabrefexception localization lang required field 0\ empty localization lang database isemptyfield userfield userfield requestfocus throw jabrefexception localization lang required field 0\ empty localization lang user autosavefile isselected isemptyfield filelocationfield filelocationfield requestfocus throw jabrefexception localization lang please enter valid file path sets connectbutton according current connection state setloadingconnectbuttontext boolean isloading connectbutton setenabled isloading isloading connectbutton settext localization lang connecting else connectbutton settext localization lang connect checks whether database given link link dbmsconnectionproperties already opened boolean isshareddatabasealreadypresent list<basepanel> panels jabrefgui getmainframe getbasepanellist panels parallelstream anymatch panel bibdatabasecontext context panel getbibdatabasecontext context getlocation databaselocation shared connectionproperties equals context getdbmssynchronizer getdbprocessor getdbmsconnectionproperties showfilechooser filedialog dialog filedialog dialog withextension fileextensions bibtex db dialog setdefaultextension fileextensions bibtex db optional<path> path dialog showdialogandgetselectedfile path ifpresent filelocationfield settext tostring updateenablestate filelocationfield setenabled autosavefile isselected browsebutton setenabled autosavefile isselected 
214	DatePickerButton.java	GUI	net sf jabref gui date awt borderlayout awt event actionevent awt event actionlistener util date javax swing jcomponent javax swing jpanel net sf jabref globals net sf jabref gui fieldeditors fieldeditor net sf jabref logic util date easydateformat net sf jabref preferences jabrefpreferences com michaelbaranov microba calendar datepicker wrapper service datepicker handling entryeditor datepickerbutton actionlistener datepicker datepicker datepicker jpanel panel jpanel fieldeditor editor boolean isoformat datepickerbutton fieldeditor peditor boolean isoformat isoformat isoformat datepicker showbuttononly true datepicker addactionlistener datepicker setshowtodaybutton true panel setlayout borderlayout panel add datepicker borderlayout west editor peditor override actionperformed actionevent date date datepicker getdate date null isoformat editor settext easydateformat isodateformat getdateat date else editor settext easydateformat fromtimestampformat globals prefs get jabrefpreferences time stamp format getdateat date else case user selected none date picker clear field editor settext set focus editor component changing text: editor gettextcomponent requestfocus jcomponent getdatepicker datepicker panel 
215	FromAuxDialog.java	GUI	net sf jabref gui auximport awt borderlayout awt event actionevent nio file path util optional javax swing abstractaction javax swing actionmap javax swing borderfactory javax swing inputmap javax swing jbutton javax swing jcombobox javax swing jcomponent javax swing jdialog javax swing jlabel javax swing jlist javax swing jpanel javax swing jscrollpane javax swing jtabbedpane javax swing jtextarea javax swing jtextfield net sf jabref globals net sf jabref gui basepanel net sf jabref gui filedialog net sf jabref gui jabrefframe net sf jabref gui keyboard keybinding net sf jabref logic auxparser auxparser net sf jabref logic auxparser auxparserresult net sf jabref logic l10n localization net sf jabref logic util fileextensions net sf jabref model database bibdatabase com jgoodies forms builder buttonbarbuilder com jgoodies forms builder defaultformbuilder com jgoodies forms layout formlayout wizard dialog generating sub database existing tex aux file fromauxdialog jdialog jpanel statuspanel jpanel jpanel buttons jpanel jbutton generatebutton jbutton jbutton cancelbutton jbutton jbutton parsebutton jbutton jcombobox<string> dbchooser jcombobox<> jtextfield auxfilefield jlist<string> notfoundlist jtextarea statusinfos open databases jabrefframe jtabbedpane parenttabbedpane boolean generatepressed auxparser auxparser jabrefframe parentframe fromauxdialog jabrefframe frame string title boolean modal jtabbedpane vieweddbs super frame title modal parenttabbedpane vieweddbs parentframe frame jbinit pack setsize jbinit jpanel panel1 jpanel panel1 setlayout borderlayout generatebutton settext localization lang generate generatebutton setenabled false generatebutton addactionlistener generatepressed true dispose cancelbutton settext localization lang cancel cancelbutton addactionlistener dispose parsebutton settext localization lang parse parsebutton addactionlistener parseactionperformed initpanels insert buttons buttonbarbuilder bb buttonbarbuilder jpanel buttonpanel bb getpanel buttonpanel setborder borderfactory createemptyborder bb addglue bb addbutton parsebutton bb addrelatedgap bb addbutton generatebutton bb addbutton cancelbutton bb addglue setmodal true setresizable true settitle localization lang aux file jlabel desc jlabel <html><h3> localization lang aux file h3><p> localization lang feature generates database based entries needed existing latex document p> <p> localization lang need select one open databases choose entries well aux file produced latex compiling document p>< html> desc setborder borderfactory createemptyborder panel1 add desc borderlayout north jpanel centerpane jpanel borderlayout centerpane add buttons borderlayout north centerpane add statuspanel borderlayout center getcontentpane add panel1 borderlayout north getcontentpane add centerpane borderlayout center getcontentpane add buttonpanel borderlayout south key bindings: actionmap statuspanel getactionmap inputmap im statuspanel getinputmap jcomponent focused window im put globals getkeyprefs getkey keybinding close dialog close put close abstractaction override actionperformed actionevent dispose initpanels collect names open databases len parenttabbedpane gettabcount toselect len dbchooser additem parenttabbedpane gettitleat parentframe getbasepanelat parentframe getcurrentbasepanel toselect toselect dbchooser setselectedindex toselect auxfilefield jtextfield jbutton browseauxfilebutton jbutton localization lang browse filedialog dialog filedialog parentframe withextension fileextensions aux dialog setdefaultextension fileextensions aux browseauxfilebutton addactionlistener optional<path> file dialog showdialogandgetselectedfile file ifpresent auxfilefield settext toabsolutepath tostring notfoundlist jlist<> jscrollpane listscrollpane jscrollpane notfoundlist statusinfos jtextarea jscrollpane statusscrollpane jscrollpane statusinfos statusinfos seteditable false defaultformbuilder defaultformbuilder formlayout left:pref 4dlu fill:pref:grow 4dlu left:pref buttons appendseparator localization lang options append localization lang reference database append dbchooser nextline append localization lang latex aux file append auxfilefield append browseauxfilebutton getpanel setborder borderfactory createemptyborder defaultformbuilder formlayout fill:pref:grow 4dlu fill:pref:grow pref pref fill:pref:grow statuspanel appendseparator localization lang result append localization lang unknown bibtex entries append localization lang messages nextline append listscrollpane append statusscrollpane getpanel setborder borderfactory createemptyborder parseactionperformed parsebutton setenabled false basepanel bp basepanel parenttabbedpane getcomponentat dbchooser getselectedindex notfoundlist removeall statusinfos settext null bibdatabase refbase bp getdatabase string auxname auxfilefield gettext auxname null refbase null auxname isempty auxparser auxparser auxname refbase auxparserresult result auxparser parse notfoundlist setlistdata result getunresolvedkeys toarray string[result getunresolvedkeys size statusinfos append result getinformation false generatebutton setenabled true generated database contains entries active generate button result getgeneratedbibdatabase hasentries statusinfos append \n localization lang empty database generatebutton setenabled false else generatebutton setenabled false parsebutton setenabled true boolean generatepressed generatepressed bibdatabase getgeneratedb auxparser parse getgeneratedbibdatabase 
216	GlobalFocusListener.java	GUI	net sf jabref gui awt component awt event focusevent awt event focuslistener javax swing jcomponent globalfocuslistener focuslistener component focused override focusgained focusevent istemporary focused component getsource override focuslost focusevent nothing jcomponent getfocused jcomponent focused setfocused component focused 
217	MainTable.java	GUI	net sf jabref gui maintable awt color awt dimension awt point awt rectangle awt event actionevent awt event mouseevent util arraylist util comparator util list util optional javax swing abstractaction javax swing actionmap javax swing borderfactory javax swing inputmap javax swing jscrollbar javax swing jscrollpane javax swing jtable javax swing jviewport javax swing transferhandler javax swing plaf tableui javax swing table defaulttablecellrenderer javax swing table tablecellrenderer javax swing table tablecolumnmodel net sf jabref globals net sf jabref gui basepanel net sf jabref gui entrymarker net sf jabref gui guiglobals net sf jabref gui jabrefframe net sf jabref gui groups entrytabletransferhandler net sf jabref gui groups groupmatcher net sf jabref gui keyboard keybinding net sf jabref gui renderer completerenderer net sf jabref gui renderer generalrenderer net sf jabref gui renderer incompleterenderer net sf jabref gui search matchers searchmatcher net sf jabref gui util comparator firstcolumncomparator net sf jabref gui util comparator iconcomparator net sf jabref gui util comparator rankingfieldcomparator net sf jabref logic typedbibentry net sf jabref logic bibtex comparator fieldcomparator net sf jabref model entrytypes net sf jabref model entry bibentry net sf jabref model entry bibtexsinglefield net sf jabref model entry entrytype net sf jabref model entry fieldname net sf jabref model entry specialfields specialfield net sf jabref preferences jabrefpreferences ca odell glazedlists eventlist ca odell glazedlists sortedlist ca odell glazedlists event listeventlistener ca odell glazedlists gui abstracttablecomparatorchooser ca odell glazedlists matchers matcher ca odell glazedlists swing defaulteventselectionmodel ca odell glazedlists swing glazedlistsswing ca odell glazedlists swing tablecomparatorchooser org apache commons logging log org apache commons logging logfactory maintable jtable log logger logfactory getlog maintable maintableformat tableformat basepanel panel boolean tablecolorcodes boolean tableresolvedcolorcodes defaulteventselectionmodel<bibentry> localselectionmodel tablecomparatorchooser<bibentry> comparatorchooser jscrollpane pane needed activate deactivate listener persistencetablecolumnlistener tablecolumnlistener maintabledatamodel model enum used define cell rendered enum cellrenderermode required resolved optional generalrenderer defrenderer generalrenderer reqrenderer generalrenderer optrenderer generalrenderer resolvedrenderer generalrenderer grayedoutrenderer generalrenderer verygrayedoutrenderer list<generalrenderer> markedrenderers incompleterenderer increnderer completerenderer comprenderer completerenderer grayedoutnumberrenderer completerenderer verygrayedoutnumberrenderer list<completerenderer> markednumberrenderers maintable updaterenderers maintable maintableformat tableformat maintabledatamodel model jabrefframe frame basepanel panel super model model addfocuslistener globals getfocuslistener setautoresizemode globals prefs getint jabrefpreferences auto resize mode tableformat tableformat panel panel setmodel glazedlistsswing eventtablemodelwiththreadproxylist model gettablerows tableformat tablecolorcodes globals prefs getboolean jabrefpreferences table color codes tableresolvedcolorcodes globals prefs getboolean jabrefpreferences table resolved color codes localselectionmodel defaulteventselectionmodel<bibentry> glazedlistsswing eventselectionmodelwiththreadproxylist model gettablerows setselectionmodel localselectionmodel pane jscrollpane pane setborder borderfactory createemptyborder pane getviewport setbackground globals prefs getcolor jabrefpreferences table background setgridcolor globals prefs getcolor jabrefpreferences grid color globals prefs getboolean jabrefpreferences table show grid setshowgrid true else setshowgrid false setintercellspacing dimension settableheader preventdraggingjtableheader tableformat comparatorchooser createtablecomparatorchooser model getsortedforuserdefinedtablecolumnsorting abstracttablecomparatorchooser multiple column keyboard tablecolumnlistener persistencetablecolumnlistener set table header render creation comparatorchooser enables sort arrow rendering gettableheader setdefaultrenderer maintableheaderrenderer gettableheader getdefaultrenderer todo: figure whether call needed getselected enable dnd setdragenabled true transferhandler xfer entrytabletransferhandler frame panel settransferhandler xfer pane settransferhandler xfer setupcomparatorchooser model updatemarkingstate globals prefs getboolean jabrefpreferences marked entries setwidths override 'selectnextcolumncell' 'selectpreviouscolumncell' move rows instead cells tab actionmap actionmap getactionmap inputmap inputmap getinputmap actionmap put selectnextcolumncell abstractaction override actionperformed actionevent panel selectnextentry actionmap put selectpreviouscolumncell abstractaction override actionperformed actionevent panel selectpreviousentry actionmap put selectnextrow abstractaction override actionperformed actionevent panel selectnextentry actionmap put selectpreviousrow abstractaction override actionperformed actionevent panel selectpreviousentry string selectfirst selectfirst inputmap put globals getkeyprefs getkey keybinding select first entry selectfirst actionmap put selectfirst abstractaction override actionperformed actionevent event panel selectfirstentry string selectlast selectlast inputmap put globals getkeyprefs getkey keybinding select last entry selectlast actionmap put selectlast abstractaction override actionperformed actionevent event panel selectlastentry addselectionlistener listeventlistener<bibentry> listener getselected addlisteventlistener listener jscrollpane getpane pane maintabledatamodel gettablemodel model override string gettooltiptext mouseevent string tooltiptext super gettooltiptext point getpoint col columnatpoint row rowatpoint rectangle bounds getcellrect row col false dimension preparerenderer getcellrenderer row col row col getpreferredsize content cell bigger cell render tooltip thus throwing original tooltip away null width bounds width getvalueat row col null tooltiptext getvalueat row col tostring tooltiptext override tablecellrenderer getcellrenderer row column score defaulttablecellrenderer renderer maintable defrenderer model getsearchstate maintabledatamodel displayoption matches row searchmatcher instance score model getgroupingstate maintabledatamodel displayoption matches row groupmatcher instance score grayed renderer entries grayed one entries score column maintable verygrayedoutnumberrenderer setnumber row renderer maintable verygrayedoutnumberrenderer else renderer maintable verygrayedoutrenderer else score column maintable grayedoutnumberrenderer setnumber row renderer maintable grayedoutnumberrenderer else renderer maintable grayedoutrenderer else column iscomplete row maintable comprenderer setnumber row marking ismarked row marking marking math min marking entrymarker mark color levels renderer maintable markednumberrenderers get marking maintable markednumberrenderers get marking setnumber row else renderer maintable comprenderer else renderer red background entry incomplete maintable increnderer setnumber row renderer maintable increnderer else tablecolorcodes tableresolvedcolorcodes cellrenderermode status getcellstatus row column tableresolvedcolorcodes status cellrenderermode required renderer maintable reqrenderer else status cellrenderermode optional renderer maintable optrenderer else status cellrenderermode resolved renderer maintable resolvedrenderer marked feature: marking ismarked row column marking marking math min marking entrymarker mark color levels renderer maintable markedrenderers get marking renderer setwidths setting column widths: ncwidth globals prefs getint jabrefpreferences number col width list<string> widthsfrompreferences globals prefs getstringlist jabrefpreferences column widths tablecolumnmodel cm getcolumnmodel cm getcolumn setpreferredwidth ncwidth cm getcolumncount maintablecolumn maintablecolumn tableformat gettablecolumn cm getcolumn getmodelindex specialfield ranking getfieldname equals maintablecolumn getcolumnname cm getcolumn setpreferredwidth guiglobals width icon col ranking cm getcolumn setminwidth guiglobals width icon col ranking cm getcolumn setmaxwidth guiglobals width icon col ranking else maintablecolumn isiconcolumn cm getcolumn setpreferredwidth guiglobals width icon col cm getcolumn setminwidth guiglobals width icon col cm getcolumn setmaxwidth guiglobals width icon col else list<string> allcolumns globals prefs getstringlist jabrefpreferences column names find index current maintablecolumn allcolumns allcolumns size allcolumns get equalsignorecase maintablecolumn getdisplayname try set preferred width using found index width array cm getcolumn setpreferredwidth integer parseint widthsfrompreferences get catch numberformatexception logger info exception setting column widths choosing default cm getcolumn setpreferredwidth bibtexsinglefield default field length break bibentry getentryat row model gettablerows get row value never null list<bibentry> getselectedentries arraylist<> getselected list<boolean> getcurrentsortorder list<boolean> order arraylist<> list<integer> sortcols comparatorchooser getsortingcolumns integer sortcols order add comparatorchooser iscolumnreverse order list<string> getcurrentsortfields list<integer> sortcols comparatorchooser getsortingcolumns list<string> fields arraylist<> integer sortcols todo check whether really works string name tableformat getcolumnname todo old string name tableformat getcolumntype name null fields add name tolowercase fields method sets comparators used various table columns comparatorchooser enables disables comparators user clicks columns comparators defined also comparatorchooser initialized sort order defined preferences setupcomparatorchooser first column: list<comparator> comparators comparatorchooser getcomparatorsforcolumn comparators clear comparators add firstcolumncomparator panel getbibdatabasecontext tableformat getcolumncount maintablecolumn tablecolumn tableformat gettablecolumn comparators comparatorchooser getcomparatorsforcolumn comparators clear specialfield ranking getfieldname equals tablecolumn getcolumnname comparators add rankingfieldcomparator else tablecolumn isiconcolumn comparators add iconcomparator tablecolumn getbibtexfields else comparators comparatorchooser getcomparatorsforcolumn comparators clear comparators add fieldcomparator tableformat getcolumnname tolowercase set initial sort columns: default sort order: string[] sortfields string[] globals prefs get jabrefpreferences table primary sort field globals prefs get jabrefpreferences table secondary sort field globals prefs get jabrefpreferences table tertiary sort field boolean[] sortdirections boolean[] globals prefs getboolean jabrefpreferences table primary sort descending globals prefs getboolean jabrefpreferences table secondary sort descending globals prefs getboolean jabrefpreferences table tertiary sort descending descending model getsortedforuserdefinedtablecolumnsorting getreadwritelock writelock lock try sortfields length index todo prefix set? sortfields[i] startswith maintableformat icon column prefix sortfields[i] startswith iconcol: tableformat getcolumncount sortfields[i] equals tableformat getcolumnname index break else index tableformat getcolumnindex sortfields[i] index comparatorchooser appendcomparator index sortdirections[i] finally model getsortedforuserdefinedtablecolumnsorting getreadwritelock writelock unlock add action listener remember sort order: comparatorchooser addsortactionlistener get information current sort order: list<string> fields getcurrentsortfields list<boolean> order getcurrentsortorder update preferences: count math min fields size order size count globals prefs put jabrefpreferences table primary sort field fields get globals prefs putboolean jabrefpreferences table primary sort descending order get count globals prefs put jabrefpreferences table secondary sort field fields get globals prefs putboolean jabrefpreferences table secondary sort descending order get else globals prefs put jabrefpreferences table secondary sort field globals prefs putboolean jabrefpreferences table secondary sort descending false count globals prefs put jabrefpreferences table tertiary sort field fields get globals prefs putboolean jabrefpreferences table tertiary sort descending order get else globals prefs put jabrefpreferences table tertiary sort field globals prefs putboolean jabrefpreferences table tertiary sort descending false cellrenderermode getcellstatus row col boolean checkresolved try bibentry getentryat row checkresolved tableformat gettablecolumn col isresolved cellrenderermode resolved optional<entrytype> type entrytypes gettype gettype panel getbibdatabasecontext getmode type ispresent string columnname getcolumnname col tolowercase columnname equals bibentry key field type get getrequiredfieldsflat contains columnname cellrenderermode required type get getoptionalfields contains columnname cellrenderermode optional cellrenderermode catch nullpointerexception ex cellrenderermode use caution modify entry table selection changes avoid <code> getselected getreadwritelock writelock lock code> <code> unlock code> eventlist<bibentry> getselected localselectionmodel getselected selects given row param row row select setselected row localselectionmodel setselectioninterval row row findentry bibentry entry eventlist<bibentry> tablerows model gettablerows row row tablerows size row bibentry bibentry tablerows get row entry bibentry nopmd equals recognise duplicates row method check whether maintablecolumn modelindex refers file field either specific file extension filter param modelindex model index column check true column shows file field false otherwise boolean isfilecolumn modelindex tableformat gettablecolumn modelindex null tableformat gettablecolumn modelindex getbibtexfields contains fieldname file boolean matches row matcher<bibentry> optional<bibentry> bibentry getbibentry row bibentry ispresent matches bibentry get matches null boolean iscomplete row optional<bibentry> bibentry getbibentry row bibentry ispresent typedbibentry typedentry typedbibentry bibentry get panel getbibdatabasecontext typedentry hasallrequiredfields true ismarked row optional<bibentry> bibentry getbibentry row bibentry ispresent entrymarker ismarked bibentry get optional<bibentry> getbibentry row try optional model gettablerows get row catch indexoutofboundsexception optional empty scrollto jscrollbar scb pane getverticalscrollbar scb setvalue scb getunitincrement showfloatsearch gettablemodel updatesearchstate maintabledatamodel displayoption scrollto updatefont updatefont setfont guiglobals currentfont setrowheight globals prefs getint jabrefpreferences table row padding guiglobals currentfont getsize ensurevisible row jscrollbar vert pane getverticalscrollbar row getrowheight vert getvalue vert getvalue vert getvisibleamount model getsearchstate maintabledatamodel displayoption scrolltocenter row scrolltocenter rowindex vcolindex getparent instanceof jviewport jviewport viewport jviewport getparent rectangle relative table northwest corner cell always rectangle rect getcellrect rowindex vcolindex true location view relative table rectangle viewrect viewport getviewrect translate cell location relative view assuming northwest corner view rect setlocation rect viewrect rect viewrect calculate location rect center view centerx viewrect width rect width centery viewrect height rect height fake location cell scrollrecttovisible move cell center rect centerx centerx centerx rect centery centery centery rect translate centerx centery scroll area view viewport scrollrecttovisible rect revalidate repaint updaterenderers maintable defrenderer generalrenderer globals prefs getcolor jabrefpreferences table background globals prefs getcolor jabrefpreferences table text color sel maintable defrenderer gettablecellrenderercomponent jtable true false getbackground maintable reqrenderer generalrenderer globals prefs getcolor jabrefpreferences table req field background globals prefs getcolor jabrefpreferences table text maintable optrenderer generalrenderer globals prefs getcolor jabrefpreferences table opt field background globals prefs getcolor jabrefpreferences table text maintable resolvedrenderer generalrenderer globals prefs getcolor jabrefpreferences table resolved field background globals prefs getcolor jabrefpreferences table text maintable increnderer incompleterenderer maintable comprenderer completerenderer globals prefs getcolor jabrefpreferences table background maintable grayedoutnumberrenderer completerenderer globals prefs getcolor jabrefpreferences grayed background maintable verygrayedoutnumberrenderer completerenderer globals prefs getcolor jabrefpreferences grayed background maintable grayedoutrenderer generalrenderer globals prefs getcolor jabrefpreferences grayed background globals prefs getcolor jabrefpreferences grayed text maintable mixcolors globals prefs getcolor jabrefpreferences grayed background sel maintable verygrayedoutrenderer generalrenderer globals prefs getcolor jabrefpreferences grayed background globals prefs getcolor jabrefpreferences grayed text maintable mixcolors globals prefs getcolor jabrefpreferences grayed background sel maintable markedrenderers arraylist<> entrymarker mark color levels maintable markednumberrenderers arraylist<> entrymarker mark color levels entrymarker mark color levels color globals prefs getcolor jabrefpreferences marked entry background maintable markedrenderers add generalrenderer globals prefs getcolor jabrefpreferences table text maintable mixcolors globals prefs getcolor jabrefpreferences marked entry background sel maintable markednumberrenderers add completerenderer color mixcolors color one color two color one getred two getred one getgreen two getgreen one getblue two getblue tablecomparatorchooser<bibentry> createtablecomparatorchooser jtable table sortedlist<bibentry> list object sortingstrategy tablecomparatorchooser install table list sortingstrategy morten alver: override workaround nullpointerexception dragging stuff table found forum idea works param newui override setui tableui newui super setui newui transferhandler handler gettransferhandler settransferhandler null settransferhandler handler find column set sort column param number position sort hierarchy primary secondary etc sort column number getsortingcolumn number list<integer> comparatorchooser getsortingcolumns size number else get number persistencetablecolumnlistener gettablecolumnlistener tablecolumnlistener maintablecolumn getmaintablecolumn modelindex tableformat gettablecolumn modelindex 
218	MainTableHeaderRenderer.java	GUI	net sf jabref gui maintable awt component javax swing icon javax swing jlabel javax swing jtable javax swing table tablecellrenderer maintableheaderrenderer tablecellrenderer tablecellrenderer delegate maintableheaderrenderer tablecellrenderer delegate delegate delegate override component gettablecellrenderercomponent jtable table object value boolean isselected boolean hasfocus row column delegate previously used tablecellrenderer styles component component resultfromdelegate delegate gettablecellrenderercomponent table value isselected hasfocus row column changing style possible value resultfromdelegate jlabels value instanceof jlabel resultfromdelegate instanceof jlabel string text jlabel value gettext icon icon jlabel value geticon icon null jlabel resultfromdelegate settext text else jlabel resultfromdelegate seticon icon jlabel resultfromdelegate settext null resultfromdelegate 
219	MainTableColumn.java	GUI	net sf jabref gui maintable util collections util list util optional util stringjoiner javax swing jlabel net sf jabref logic layout layoutformatter net sf jabref logic layout format latextounicodeformatter net sf jabref model database bibdatabase net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model entry fieldproperty net sf jabref model entry internalbibtexfields maintablecolumn string columnname list<string> bibtexfields boolean isiconcolumn optional<jlabel> iconlabel optional<bibdatabase> database layoutformatter tounicode latextounicodeformatter maintablecolumn string columnname columnname columnname bibtexfields collections emptylist isiconcolumn false iconlabel optional empty database optional empty maintablecolumn string columnname list<string> bibtexfields bibdatabase database columnname columnname bibtexfields collections unmodifiablelist bibtexfields isiconcolumn false iconlabel optional empty database optional database maintablecolumn string columnname list<string> bibtexfields jlabel iconlabel columnname columnname bibtexfields collections unmodifiablelist bibtexfields isiconcolumn true iconlabel optional iconlabel database optional empty get table column name displayed ui name displayed null field empty string getdisplayname bibtexfields isempty null stringjoiner joiner stringjoiner fieldname field separator string field bibtexfields joiner add field joiner tostring string getcolumnname columnname list<string> getbibtexfields bibtexfields boolean isiconcolumn isiconcolumn boolean isfilefilter false overridden specialmaintablecolumns file filter columns object getcolumnvalue bibentry entry bibtexfields isempty null boolean isnamecolumn false optional<string> content optional empty string field bibtexfields content entry getresolvedfieldoralias field database orelse null content ispresent isnamecolumn internalbibtexfields getfieldproperties field contains fieldproperty person names break string result content orelse null isnamecolumn result maintablenameformatter formatname result result null result tounicode format result trim result jlabel getheaderlabel isiconcolumn iconlabel get else jlabel getdisplayname check value returned getcolumnvalue simple check entry's field would give reasons different combinations may also happen entry crossref field content obtained field string getcolumnvalue resolves alias fields example entry date field year field link bibentry#getresolvedfieldoralias string bibdatabase year value date field queried year param entry bibentry true value returned getcolumnvalue resolved outlined boolean isresolved bibentry entry bibtexfields isempty false optional<string> resolvedfieldcontent optional empty optional<string> plainfieldcontent optional empty string field bibtexfields entry type bibtex key never resolved bibentry type header equals field bibentry obsolete type header equals field bibentry key field equals field false else plainfieldcontent entry getfield field resolvedfieldcontent entry getresolvedfieldoralias field database orelse null resolvedfieldcontent ispresent break resolvedfieldcontent equals plainfieldcontent 
220	MainTableDataModel.java	GUI	net sf jabref gui maintable util arrays util comparator util list util objects util stream collectors net sf jabref gui groups groupmatcher net sf jabref gui search hitormisscomparator net sf jabref gui search matchers everythingmatcher net sf jabref gui search matchers searchmatcher net sf jabref gui util comparator ismarkedcomparator net sf jabref model database bibdatabasecontext net sf jabref model entry bibentry ca odell glazedlists basiceventlist ca odell glazedlists eventlist ca odell glazedlists filterlist ca odell glazedlists sortedlist ca odell glazedlists matchers matcher maintabledatamodel listsynchronizer listsynchronizer sortedlist<bibentry> sortedforuserdefinedtablecolumnsorting sortedlist<bibentry> sortedformarkingsearchgrouping startstoplistfilteraction filtersearchtoggle startstoplistfilteraction filtergrouptoggle eventlist<bibentry> finallist filterandsortingstate filterandsortingstate filterandsortingstate maintabledatamodel bibdatabasecontext context list<bibentry> entries context getdatabase getentries eventlist<bibentry> initialeventlist basiceventlist<> initialeventlist addall entries listsynchronizer listsynchronizer initialeventlist sortedlist comparator controlled tablecomparatorchooser going install responds user sorting selections: sortedforuserdefinedtablecolumnsorting sortedlist<> initialeventlist null sortedlist applies afterwards floats marked entries: sortedformarkingsearchgrouping sortedlist<> sortedforuserdefinedtablecolumnsorting null filterlist<bibentry> groupfilterlist filterlist<> sortedformarkingsearchgrouping everythingmatcher instance filtergrouptoggle startstoplistfilteraction groupfilterlist groupmatcher instance everythingmatcher instance filterlist<bibentry> searchfilterlist filterlist<> groupfilterlist everythingmatcher instance filtersearchtoggle startstoplistfilteraction searchfilterlist searchmatcher instance everythingmatcher instance finallist searchfilterlist updatesortorder comparator<bibentry> markingcomparator filterandsortingstate markingstate ismarkedcomparator instance null comparator<bibentry> searchcomparator getsearchstate displayoption hitormisscomparator searchmatcher instance null comparator<bibentry> groupingcomparator getgroupingstate displayoption hitormisscomparator groupmatcher instance null genericcompositecomparator comparator genericcompositecomparator markingcomparator searchcomparator groupingcomparator sortedformarkingsearchgrouping getreadwritelock writelock lock try sortedformarkingsearchgrouping getcomparator comparator sortedformarkingsearchgrouping setcomparator comparator finally sortedformarkingsearchgrouping getreadwritelock writelock unlock updatesearchstate displayoption searchstate objects requirenonnull searchstate fail fast filterandsortingstate searchstate searchstate boolean updatesortorder false filterandsortingstate searchstate displayoption updatesortorder true else filterandsortingstate searchstate displayoption filter filtersearchtoggle stop searchstate displayoption updatesortorder true else searchstate displayoption filter filtersearchtoggle start filterandsortingstate searchstate searchstate updatesortorder updatesortorder updategroupingstate displayoption groupingstate objects requirenonnull groupingstate fail fast filterandsortingstate groupingstate groupingstate boolean updatesortorder false filterandsortingstate groupingstate displayoption updatesortorder true else filterandsortingstate groupingstate displayoption filter filtergrouptoggle stop groupingstate displayoption updatesortorder true else groupingstate displayoption filter filtergrouptoggle start filterandsortingstate groupingstate groupingstate updatesortorder updatesortorder displayoption getsearchstate filterandsortingstate searchstate displayoption getgroupingstate filterandsortingstate groupingstate listsynchronizer getlistsynchronizer listsynchronizer updatemarkingstate boolean floatmarkedentries fail fast filterandsortingstate markingstate floatmarkedentries floatmarkedentries filterandsortingstate markingstate true else filterandsortingstate markingstate false updatesortorder eventlist<bibentry> gettablerows finallist returns list entries sorted user selected term sorting marking search etc applies <p> note: returned list must modified outside sorted list entries sortedlist<bibentry> getsortedforuserdefinedtablecolumnsorting sortedforuserdefinedtablecolumnsorting updategroupfilter getgroupingstate displayoption filter filtergrouptoggle start else filtergrouptoggle stop enum displayoption filter disabled filterandsortingstate beginning everything disabled displayoption searchstate displayoption disabled displayoption groupingstate displayoption disabled boolean markingstate false genericcompositecomparator comparator<bibentry> list<comparator<bibentry>> comparators safevarargs genericcompositecomparator comparator<bibentry> comparators comparators arrays aslist comparators stream filter objects::nonnull collect collectors tolist override compare bibentry lhs bibentry rhs comparator<bibentry> comp comparators result comp compare lhs rhs result result startstoplistfilteraction matcher<bibentry> active matcher<bibentry> inactive filterlist<bibentry> list startstoplistfilteraction filterlist<bibentry> list matcher<bibentry> active matcher<bibentry> inactive list list active active inactive inactive list setmatcher inactive start update active stop update inactive update matcher<bibentry> comparator list getreadwritelock writelock lock try list setmatcher comparator finally list getreadwritelock writelock unlock 
221	MainTableSelectionListener.java	GUI	net sf jabref gui maintable awt event focusevent awt event focuslistener awt event keyevent awt event keylistener awt event mouseevent awt event mouselistener io ioexception util list util objects util optional javax swing icon javax swing jlabel javax swing jpopupmenu javax swing swingutilities javax swing timer net sf jabref globals net sf jabref jabrefexecutorservice net sf jabref jabrefgui net sf jabref gui basepanel net sf jabref gui basepanelmode net sf jabref gui guiglobals net sf jabref gui icontheme net sf jabref gui previewpanel net sf jabref gui actions copydoiurlaction net sf jabref gui desktop jabrefdesktop net sf jabref gui entryeditor entryeditor net sf jabref gui externalfiletype externalfilemenuitem net sf jabref gui externalfiletype externalfiletype net sf jabref gui filelist filelistentry net sf jabref gui filelist filelisttablemodel net sf jabref gui menus rightclickmenu net sf jabref gui specialfields specialfieldmenuaction net sf jabref gui specialfields specialfieldvalueviewmodel net sf jabref gui specialfields specialfieldviewmodel net sf jabref logic l10n localization net sf jabref logic util os net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model entry specialfields specialfield net sf jabref model entry specialfields specialfieldvalue net sf jabref preferences previewpreferences ca odell glazedlists eventlist ca odell glazedlists event listevent ca odell glazedlists event listeventlistener org apache commons logging log org apache commons logging logfactory list event mouse key focus listener main table makes part basepanel single bib database maintableselectionlistener listeventlistener<bibentry> mouselistener keylistener focuslistener maintable table basepanel panel eventlist<bibentry> tablerows previewpanel preview boolean previewactive globals prefs getpreviewpreferences ispreviewpanelenabled boolean workingonpreview boolean enabled true register last character pressed quick jump table together storing last row number jumped used let multiple key strokes cycle entries starting letter: int[] lastpressed int[20] lastpressedcount long lastpressedtime log logger logfactory getlog maintableselectionlistener maintableselectionlistener basepanel panel maintable table table table panel panel tablerows table gettablemodel gettablerows previewpanel previewpanel panel getpreviewpanel previewpanel null preview previewpanel else preview previewpanel panel getbibdatabasecontext null panel panel frame getglobalsearchbar getsearchqueryhighlightobservable addsearchlistener preview setenabled boolean enabled enabled enabled override listchanged listevent<bibentry> enabled eventlist<bibentry> selected getsourcelist selected isempty bibentry newselected selected get panel getmode basepanelmode showing editor panel getmode basepanelmode show editor panel getcurrenteditor null newselected panel getcurrenteditor getentry entry already selected currently editing steal focus selected textfield newselected null basepanelmode mode panel getmode panel already showing? mode basepanelmode show editor mode basepanelmode showing editor entry currently edited entryeditor oldeditor panel getcurrenteditor string visname null oldeditor null visname oldeditor getvisiblepanelname get editor entry edit: entryeditor neweditor panel getentryeditor newselected show editor unless already visible: objects equals neweditor oldeditor mode basepanelmode showing editor visname null neweditor setvisiblepanel visname panel showentryeditor neweditor swingutilities invokelater table ensurevisible table getselectedrow else used destroy entryeditor neweditor setmovingtodifferententry else either nothing preview shown update preview previewactive updatepreview newselected false updatepreview bibentry toshow boolean changedpreview updatepreview toshow changedpreview updatepreview bibentry toshow boolean changedpreview repeats workingonpreview repeats we've already waited give selection timer timer actionevent updatepreview toshow changedpreview setrepeats false start eventlist<bibentry> list table getselected check entry preview still selected: list size list get toshow basepanelmode mode panel getmode workingonpreview true swingutilities invokelater preview setentry toshow nothing already shown set preview move separator: changedpreview mode basepanelmode showing nothing panel showpreview preview panel adjustsplitter workingonpreview false editsignalled table getselected size editsignalled table getselected get editsignalled bibentry entry basepanelmode mode panel getmode mode basepanelmode showing editor panel showentryeditor panel getentryeditor entry panel getcurrenteditor requestfocus override mousereleased mouseevent first find column row user clicked col table columnatpoint getpoint row table rowatpoint getpoint get maintablecolumn currently visible col modelindex table getcolumnmodel getcolumn col getmodelindex maintablecolumn modelcolumn table getmaintablecolumn modelindex check user right clicked open right click menu ispopuptrigger getbutton mouseevent button3 modelcolumn null modelcolumn isiconcolumn show normal right click menu processpopuptrigger row else show right click menu icon columns showiconrightclickmenu row modelcolumn override mousepressed mouseevent handling done mousereleased override mouseclicked mouseevent first find column user clicked row table rowatpoint getpoint click entry open entry's editor getclickcount bibentry toshow tablerows get row editsignalled toshow col table columnatpoint getpoint get maintablecolumn currently visible col modelindex table getcolumnmodel getcolumn col getmodelindex maintablecolumn modelcolumn table getmaintablecolumn modelindex workaround windows right click popup trigger mousepressed mousereleased therefore need avoid taking action point action taken button released: os windows modelcolumn isiconcolumn getbutton mouseevent button1 check clicked colum specialfield column modelcolumn isiconcolumn specialfield isspecialfield modelcolumn getcolumnname handle specialfield handlespecialfieldleftclick modelcolumn getcolumnname else modelcolumn isiconcolumn left click icon field object value table getvalueat row col value null icon nothing bibentry entry tablerows get row list<string> fieldnames modelcolumn getbibtexfields open thread program freeze wait jabrefexecutorservice instance execute panel output localization lang external viewer called check field names whether link present relevant combinations url doi string fieldname fieldnames check field present skip field entry hasfield fieldname string link entry getfield fieldname get see simple file link field file list field specify list links: fieldname equals fieldname file use filelisttablemodel parse field content: filelisttablemodel filelist filelisttablemodel filelist setcontent link filelistentry flentry null one links correct type open first one: modelcolumn isfilefilter filelist getrowcount filelist getentry type tostring equals modelcolumn getcolumnname flentry filelist getentry break else filelist getrowcount file types specified open first file flentry filelist getentry flentry null externalfilemenuitem item externalfilemenuitem panel frame entry flentry link flentry type map externalfiletype::geticon orelse null panel getbibdatabasecontext flentry type boolean success item openlink success panel output localization lang unable open link else try jabrefdesktop openexternalviewer panel getbibdatabasecontext link fieldname catch ioexception ex panel output localization lang unable open link logger info unable open link ex break open first link else modelcolumn getbibtexfields contains fieldname crossref clicking crossref column tablerows get row getfield fieldname crossref ifpresent crossref panel getdatabase getentrybykey crossref ifpresent entry panel highlightentry entry panel frame updateenabledstate method handle single left click one special fields ranking quality shows either popup select clear value simply toggles functionality set unset special field param mouseevent used determine position popups param columnname name specialfield column handlespecialfieldleftclick mouseevent string columnname getclickcount specialfield getspecialfieldinstancefromfieldname columnname ifpresent field special field found field issinglevaluefield directly execute toggle action instead showing menu one action specialfieldviewmodel field getspecialfieldaction field getvalues get panel frame action else jpopupmenu menu jpopupmenu specialfieldvalue val field getvalues menu add specialfieldmenuaction specialfieldvalueviewmodel val panel frame menu show table getx gety process general right click events table show table context menu position user right clicked param mouse event defining popup trigger param row row event occurred processpopuptrigger mouseevent row selrow table getselectedrow selrow table isrowselected table rowatpoint getpoint table setrowselectioninterval row row rightclickmenu rightclickmenu rightclickmenu jabrefgui getmainframe panel rightclickmenu show table getx gety process popup trigger events occurring icon cell table show menu user choose external resource open entry relevant external resources exist let normal popup trigger handler thing instead param mouse event defining popup trigger param row row event occurred param column maintablecolumn associated table cell showiconrightclickmenu mouseevent row maintablecolumn column bibentry entry tablerows get row jpopupmenu menu jpopupmenu boolean showdefaultpopup true see simple file link field file list field specify list links: column getbibtexfields isempty string field column getbibtexfields fieldname file equals field use filelisttablemodel parse field content: filelisttablemodel filelist filelisttablemodel entry getfield field ifpresent filelist::setcontent filelist getrowcount filelistentry flentry filelist getentry column isfilefilter flentry type get getname equalsignorecase column getcolumnname continue string description flentry description description null description trim isempty description flentry link menu add externalfilemenuitem panel frame entry description flentry link flentry type get geticon panel getbibdatabasecontext flentry type showdefaultpopup false else specialfield isspecialfield column getcolumnname full pop shown left click already shows short popup showdefaultpopup true else optional<string> content entry getfield field content ispresent icon icon jlabel iconlabel guiglobals gettableicon field iconlabel null icon icontheme jabreficon file geticon else icon iconlabel geticon menu add externalfilemenuitem panel frame entry content get content get icon panel getbibdatabasecontext field field equals fieldname doi menu add copydoiurlaction content get showdefaultpopup false showdefaultpopup processpopuptrigger row else menu show table getx gety entryeditorclosing entryeditor editor preview setentry editor getentry previewactive panel showpreview preview else panel hidebottomcomponent panel adjustsplitter table requestfocus override mouseentered mouseevent nothing override mouseexited mouseevent nothing setpreviewactive boolean enabled previewactive enabled previewactive table getselected isempty updatepreview table getselected get false else panel hidebottomcomponent nextpreviewstyle cyclepreview globals prefs getpreviewpreferences getpreviewcycleposition previouspreviewstyle cyclepreview globals prefs getpreviewpreferences getpreviewcycleposition cyclepreview newposition previewpreferences previewpreferences globals prefs getpreviewpreferences getbuilder withpreviewcycleposition newposition build globals prefs storepreviewpreferences previewpreferences preview updatelayout preview update panel showpreview preview table getselected isempty updatepreview table getselected get true receive key event main table key letter digit select first entry table starts given letter column table sorted param keyevent override keytyped keyevent isactionkey character isletterordigit getkeychar getmodifiers long time system currenttimemillis long quick jump timeout time lastpressedtime quick jump timeout lastpressedcount reset last pressed character update timestamp: lastpressedtime time add char search array: getkeychar lastpressedcount lastpressed length lastpressed[lastpressedcount] lastpressedcount sortingcolumn table getsortingcolumn sortingcolumn sorting? todo: look author etc todo: following lookup done faster algorithm binary search table may sorted properly due marked entries search etc rules binary search table getrowcount object table getvalueat sortingcolumn null continue string tostring tolowercase length lastpressedcount lastpressedcount charat lastpressed[j] break escape loop immediately find mismatch else lastpressedcount found match: table setrowselectioninterval table ensurevisible else getkeychar keyevent vk escape lastpressedcount panel frame updateenabledstate override keyreleased keyevent nothing override keypressed keyevent nothing override focusgained focusevent nothing override focuslost focusevent lastpressedcount reset quick jump focus lost previewpanel getpreview preview 
222	MainTableNameFormatter.java	GUI	net sf jabref gui maintable net sf jabref globals net sf jabref model entry authorlist net sf jabref preferences jabrefpreferences maintablenameformatter format name field table according user preferences param nametoformat contents name field formatted name field string formatname string nametoformat nametoformat null null read name format options: boolean namesnatbib globals prefs getboolean jabrefpreferences names natbib mk: boolean nameslastonly globals prefs getboolean jabrefpreferences names last boolean namesasis globals prefs getboolean jabrefpreferences names boolean namesff globals prefs getboolean jabrefpreferences names first last boolean abbrauthornames globals prefs getboolean jabrefpreferences abbr author names mk: namesasis nametoformat else namesnatbib authorlist fixauthornatbib nametoformat else nameslastonly authorlist fixauthorlastnameonlycommas nametoformat false else namesff authorlist fixauthorfirstnamefirstcommas nametoformat abbrauthornames false none namesasis namesnatbib namesasis namesff authorlist fixauthorlastnamefirstcommas nametoformat abbrauthornames false 
223	MainTableFormat.java	GUI	net sf jabref gui maintable util arraylist util arrays util collections util list javax swing jlabel net sf jabref globals net sf jabref gui icontheme net sf jabref model database bibdatabase net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref preferences jabrefpreferences ca odell glazedlists gui tableformat defining contents column headers main table maintableformat tableformat<bibentry> values gather iconimages columns values also used put heading table see getcolumnname list<string> url first arrays aslist fieldname url fieldname doi list<string> doi first arrays aslist fieldname doi fieldname url list<string> arxiv collections singletonlist fieldname eprint bibdatabase database list<maintablecolumn> tablecolumns arraylist<> maintableformat bibdatabase database database database override getcolumncount tablecolumns size string put column header null field empty override string getcolumnname col tablecolumns get col getdisplayname maintablecolumn gettablecolumn index tablecolumns get index finds column index given column name param colname column name column index column name getcolumnindex string colname maintablecolumn tablecolumn tablecolumns tablecolumn getcolumnname equalsignorecase colname tablecolumns lastindexof tablecolumn override object getcolumnvalue bibentry col tablecolumns get col getcolumnvalue updatetableformat clear existing column configuration tablecolumns clear specialmaintablecolumnsbuilder builder specialmaintablecolumnsbuilder add numbering column tablecolumns tablecolumns add builder buildnumbercolumn add file based columns globals prefs getboolean jabrefpreferences file column tablecolumns add builder buildfilecolumn globals prefs getboolean jabrefpreferences url column globals prefs getboolean jabrefpreferences prefer url doi tablecolumns add builder createiconcolumn jabrefpreferences url column maintableformat doi first jlabel icontheme jabreficon doi getsmallicon else tablecolumns add builder createiconcolumn jabrefpreferences url column maintableformat url first jlabel icontheme jabreficon www getsmallicon globals prefs getboolean jabrefpreferences arxiv column tablecolumns add builder createiconcolumn jabrefpreferences arxiv column maintableformat arxiv jlabel icontheme jabreficon www getsmallicon globals prefs getboolean jabrefpreferences extra file columns list<string> desiredcolumns globals prefs getstringlist jabrefpreferences list file columns string desiredcolumn desiredcolumns tablecolumns add builder createfileiconcolumn desiredcolumn add 'normal' bibtex fields configured preferences read table columns prefs: list<string> colsettings globals prefs getstringlist jabrefpreferences column names string columnname colsettings stored column name used columnname might one field display author editor date year split maintableformat col definition field separator string[] fields columnname split fieldname field separator tablecolumns add maintablecolumn columnname arrays aslist fields database add special icon columns ranking file enabled preferences globals prefs getboolean jabrefpreferences specialfieldsenabled globals prefs getboolean jabrefpreferences showcolumn ranking tablecolumns add builder buildrankingcolumn globals prefs getboolean jabrefpreferences showcolumn relevance tablecolumns add builder buildrelevancecolumn globals prefs getboolean jabrefpreferences showcolumn quality tablecolumns add builder buildqualitycolumn globals prefs getboolean jabrefpreferences showcolumn priority tablecolumns add builder buildprioritycolumn globals prefs getboolean jabrefpreferences showcolumn printed tablecolumns add builder buildprintedcolumn globals prefs getboolean jabrefpreferences showcolumn read tablecolumns add builder buildreadstatuscolumn 
224	SpecialMainTableColumnsBuilder.java	GUI	net sf jabref gui maintable util collections util list util optional javax swing jlabel net sf jabref gui guiglobals net sf jabref gui icontheme net sf jabref gui externalfiletype externalfiletype net sf jabref gui filelist filelisttablemodel net sf jabref gui specialfields specialfieldvalueviewmodel net sf jabref gui specialfields specialfieldviewmodel net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model entry specialfields specialfield specialmaintablecolumnsbuilder maintablecolumn buildnumbercolumn maintablecolumn fieldname number col override object getcolumnvalue bibentry entry override string getdisplayname maintablecolumn buildrankingcolumn maintablecolumn specialfield ranking getfieldname collections singletonlist specialfield ranking getfieldname jlabel specialfield ranking getfieldname override object getcolumnvalue bibentry entry entry getfield specialfield ranking getfieldname flatmap specialfield ranking::parse map rank specialfieldvalueviewmodel rank createspecialfieldvaluelabel orelse null maintablecolumn buildprioritycolumn maintablecolumn specialfield priority getfieldname collections singletonlist specialfield priority getfieldname jlabel specialfieldviewmodel specialfield priority getrepresentingicon override object getcolumnvalue bibentry entry entry getfield specialfield priority getfieldname flatmap specialfield priority::parse map prio specialfieldvalueviewmodel prio createspecialfieldvaluelabel orelse null maintablecolumn buildreadstatuscolumn maintablecolumn specialfield read status getfieldname collections singletonlist specialfield read status getfieldname jlabel specialfieldviewmodel specialfield read status getrepresentingicon override object getcolumnvalue bibentry entry entry getfield specialfield read status getfieldname flatmap specialfield read status::parse map status specialfieldvalueviewmodel status createspecialfieldvaluelabel orelse null maintablecolumn buildrelevancecolumn createiconcolumn specialfield relevance getfieldname collections singletonlist specialfield relevance getfieldname jlabel specialfieldviewmodel specialfield relevance getrepresentingicon maintablecolumn buildprintedcolumn createiconcolumn specialfield printed getfieldname collections singletonlist specialfield printed getfieldname jlabel specialfieldviewmodel specialfield printed getrepresentingicon maintablecolumn buildqualitycolumn createiconcolumn specialfield quality getfieldname collections singletonlist specialfield quality getfieldname jlabel specialfieldviewmodel specialfield quality getrepresentingicon maintablecolumn buildfilecolumn maintablecolumn fieldname file collections singletonlist fieldname file jlabel icontheme jabreficon file getsmallicon override object getcolumnvalue bibentry entry use filelisttablemodel parse field content: filelisttablemodel filelist filelisttablemodel entry getfield fieldname file ifpresent filelist::setcontent filelist getrowcount jlabel icontheme jabreficon file multiple getsmallicon else filelist getrowcount optional<externalfiletype> type filelist getentry type type ispresent type get geticonlabel else jlabel icontheme jabreficon file getsmallicon null creates maintablecolumn shows icon instead textual content param columnname name column param fields entry fields shown crated maintablecolumn maintablecolumn createiconcolumn string columnname list<string> fields jlabel iconlabel maintablecolumn columnname fields iconlabel override object getcolumnvalue bibentry entry jlabel iconlabel null boolean iconfound false check field whether content available string field fields entry hasfield field iconfound jlabel icontheme jabreficon file multiple getsmallicon else iconlabel guiglobals gettableicon field iconfound true iconlabel create maintablecolumn specific file types <p> shows icon given type file multiple icon param externalfiletypename name externalfiletype created maintablecolumn maintablecolumn createfileiconcolumn string externalfiletypename maintablecolumn externalfiletypename collections singletonlist fieldname file jlabel override boolean isfilefilter true override string getdisplayname externalfiletypename override object getcolumnvalue bibentry entry boolean iconfound false jlabel iconlabel null filelisttablemodel filelist filelisttablemodel entry getfield fieldname file ifpresent filelist::setcontent filelist getrowcount filelist getentry type ispresent externalfiletypename equalsignorecase filelist getentry type get getname iconfound already found another file desired type show file multiple icon jlabel icontheme jabreficon file multiple getsmallicon else iconlabel filelist getentry type get geticonlabel iconfound true iconlabel 
225	ListSynchronizer.java	GUI	net sf jabref gui maintable net sf jabref model database event entryaddedevent net sf jabref model database event entryremovedevent net sf jabref model entry bibentry net sf jabref model entry event entrychangedevent ca odell glazedlists eventlist com google common eventbus subscribe listsynchronizer eventlist<bibentry> list listsynchronizer eventlist<bibentry> list list list subscribe listen entryaddedevent entryaddedevent lock try list add entryaddedevent getbibentry finally unlock subscribe listen entryremovedevent entryremovedevent lock try list remove entryremovedevent getbibentry finally unlock subscribe listen entrychangedevent entrychangedevent lock try cannot use list#indexof distinguish duplicates list size list get entrychangedevent getbibentry list set entrychangedevent getbibentry break finally unlock lock list getreadwritelock writelock lock unlock list getreadwritelock writelock unlock 
226	PersistenceTableColumnListener.java	GUI	net sf jabref gui maintable util arraylist util list javax swing event changeevent javax swing event listselectionevent javax swing event tablecolumnmodelevent javax swing event tablecolumnmodellistener net sf jabref globals net sf jabref model entry fieldname net sf jabref preferences jabrefpreferences listens tablecolumnmodelevents keep track changes made maintable columns like reordering resizing changes columns without name column saved consistent behavior tablecolumnstab author fabian bieker author daniel waeber since persistencetablecolumnlistener tablecolumnmodellistener string simple name persistencetablecolumnlistener getsimplename needed get column names indices mapped view model access table model maintable maintable string received null event received null event param maintable persistencetablecolumnlistener maintable maintable maintable maintable update columns names width store global prefs updatecolumnprefs columncount maintable getcolumncount list<string> storedcolumns arraylist<> columncount list<string> columnswidths arraylist<> columncount ncwidth columncount string name maintable getcolumnname name null name isempty fieldname number col equals name ncwidth maintable getcolumnmodel getcolumn getwidth else storedcolumns add name tolowercase columnswidths add string valueof maintable getcolumnmodel getcolumn getwidth finally store preferences globals prefs putstringlist jabrefpreferences column names storedcolumns globals prefs putstringlist jabrefpreferences column widths columnswidths width number column globals prefs putint jabrefpreferences number col width ncwidth see javax swing event tablecolumnmodellistener#columnadded javax swing event tablecolumnmodelevent override columnadded tablecolumnmodelevent assert null persistencetablecolumnlistener simple name received null event updatecolumnprefs see javax swing event tablecolumnmodellistener#columnmarginchanged javax swing event changeevent override columnmarginchanged changeevent assert null persistencetablecolumnlistener simple name received null event updatecolumnprefs see javax swing event tablecolumnmodellistener#columnmoved javax swing event tablecolumnmodelevent override columnmoved tablecolumnmodelevent assert null persistencetablecolumnlistener simple name received null event really moved ignore getfromindex gettoindex updatecolumnprefs see javax swing event tablecolumnmodellistener#columnremoved javax swing event tablecolumnmodelevent override columnremoved tablecolumnmodelevent assert null persistencetablecolumnlistener simple name received null event updatecolumnprefs see javax swing event tablecolumnmodellistener#columnselectionchanged javax swing event listselectionevent override columnselectionchanged listselectionevent ignore 
227	PreventDraggingJTableHeader.java	GUI	net sf jabref gui maintable awt event mouseevent util collections util enumeration javax swing jtable javax swing table jtableheader javax swing table tablecolumn related <code>maintable< code> <br prevents dragging first header column shows icons table header icon set might best way solve problem overriding <code>getdraggedcolumn< code> produces ugly gui dragging artifacts user attempts drag something first columns author daniel waeber author fabian bieker since preventdraggingjtableheader jtableheader maintableformat tableformat preventdraggingjtableheader jtable table maintableformat tableformat super table getcolumnmodel settable table tableformat tableformat setuptableheadericons setuptableheadericons enumeration<tablecolumn> columns columnmodel getcolumns tablecolumn column collections list columns maintablecolumn maintablecolumn tableformat gettablecolumn column getmodelindex column setheadervalue maintablecolumn getheaderlabel override string gettooltiptext mouseevent event index columnmodel getcolumnindexatx event getx realindex columnmodel getcolumn index getmodelindex maintablecolumn column tableformat gettablecolumn realindex column getdisplayname overridden prevent dragging first column override setdraggedcolumn tablecolumn column column null column getmodelindex super setdraggedcolumn column overridden prevent dragging column first column override tablecolumn getdraggedcolumn tablecolumn column super getdraggedcolumn column null preventdraggingjtableheader preventdragbeforenumbercolumn gettable column getmodelindex column transform model index <code>modelindex< code> view based index prevent dragging model index <code>toindex< code> inclusive preventdragbeforenumbercolumn jtable table modelindex columnindex columnindex table getcolumncount columnindex tablecolumn col table getcolumnmodel getcolumn columnindex found element view check dragged col getmodelindex modelindex columnindex prevent dragging move back table getcolumnmodel movecolumn columnindex done 
228	EntryTypeDialog.java	GUI	net sf jabref gui awt borderlayout awt gridbagconstraints awt gridbaglayout awt insets awt event actionevent awt event actionlistener awt event windowadapter awt event windowevent util collection util optional util concurrent executionexception javax swing abstractaction javax swing borderfactory javax swing jbutton javax swing jcombobox javax swing jcomponent javax swing jdialog javax swing jlabel javax swing joptionpane javax swing jpanel javax swing jtextfield javax swing swingutilities javax swing swingworker net sf jabref globals net sf jabref gui importer fetcher entryfetchers net sf jabref gui keyboard keybinding net sf jabref logic customentrytypesmanager net sf jabref logic importer fetcherexception net sf jabref logic importer idbasedfetcher net sf jabref logic l10n localization net sf jabref model entrytypes net sf jabref model database bibdatabasecontext net sf jabref model entry bibentry net sf jabref model entry bibtexentrytypes net sf jabref model entry entrytype net sf jabref model entry ieeetranentrytypes com jgoodies forms builder buttonbarbuilder org apache commons logging log org apache commons logging logfactory org jdesktop swingx verticallayout dialog prompts user choose type entry returns null canceled entrytypedialog jdialog actionlistener log logger logfactory getlog entrytypedialog entrytype type swingworker<optional<bibentry> void> fetcherworker fetcherworker jbutton generatebutton jtextfield idtextfield jcombobox<string> combobox jabrefframe frame column boolean biblatexmode cancelaction cancelaction cancelaction bibdatabasecontext bibdatabasecontext typebutton jbutton comparable<typebutton> entrytype type typebutton string label entrytype type super label type type override compareto typebutton type getname compareto type getname entrytype gettype type entrytypedialog jabrefframe frame modal dialog super frame true frame frame bibdatabasecontext frame getcurrentbasepanel getbibdatabasecontext biblatexmode bibdatabasecontext isbiblatexmode settitle localization lang select entry type addwindowlistener windowadapter override windowclosing windowevent cancelaction actionperformed null getcontentpane setlayout borderlayout getcontentpane add createcancelbuttonbarpanel borderlayout south getcontentpane add createentrygroupspanel borderlayout center pack setresizable false jpanel createentrygroupspanel jpanel panel jpanel panel setlayout verticallayout biblatexmode panel add createentrygrouppanel biblatex entrytypes getallvalues bibdatabasecontext getmode else panel add createentrygrouppanel bibtex bibtexentrytypes panel add createentrygrouppanel ieeetran ieeetranentrytypes customentrytypesmanager isempty panel add createentrygrouppanel localization lang custom customentrytypesmanager panel add createidfetcherpanel panel jpanel createcancelbuttonbarpanel jbutton cancel jbutton localization lang cancel cancel addactionlistener make esc close dialog equivalent clicking cancel cancel getinputmap jcomponent focused window put globals getkeyprefs getkey keybinding close dialog close cancel getactionmap put close cancelaction jpanel buttons jpanel buttonbarbuilder bb buttonbarbuilder buttons bb addglue bb addbutton cancel bb addglue buttons jpanel createentrygrouppanel string grouptitle collection<entrytype> entries jpanel panel jpanel gridbaglayout baglayout gridbaglayout panel setlayout baglayout gridbagconstraints constraints gridbagconstraints constraints anchor gridbagconstraints west constraints fill gridbagconstraints horizontal constraints insets insets column count col entrytype entrytype entries typebutton entrybutton typebutton entrytype getname entrytype entrybutton addactionlistener check finish row col col entrytypedialog column col constraints gridwidth gridbagconstraints remainder else constraints gridwidth baglayout setconstraints entrybutton constraints panel add entrybutton panel setborder borderfactory createtitledborder borderfactory createetchedborder grouptitle panel jpanel createidfetcherpanel jlabel fetcherlabel jlabel localization lang id type jlabel idlabel jlabel localization lang id generatebutton jbutton localization lang generate idtextfield jtextfield combobox jcombobox<> entryfetchers getidfetchers foreach fetcher combobox additem fetcher getname generatebutton addactionlistener action fetcherworker execute combobox addactionlistener idtextfield requestfocus idtextfield selectall idtextfield addactionlistener event fetcherworker execute jpanel jpanel jpanel gridbagconstraints constraints gridbagconstraints constraints insets insets gridbaglayout layout gridbaglayout jpanel setlayout layout constraints fill gridbagconstraints horizontal constraints gridx constraints gridy constraints weightx jpanel add fetcherlabel constraints constraints gridx constraints gridy constraints weightx jpanel add combobox constraints constraints gridx constraints gridy constraints weightx jpanel add idlabel constraints constraints gridx constraints gridy constraints weightx jpanel add idtextfield constraints constraints gridy constraints gridx constraints gridwidth constraints fill gridbagconstraints none jpanel add generatebutton constraints jpanel setborder borderfactory createtitledborder borderfactory createetchedborder localization lang id based entry generator swingutilities invokelater idtextfield requestfocus jpanel stopfetching fetcherworker getstate swingworker statevalue started fetcherworker cancel true override actionperformed actionevent getsource instanceof typebutton type typebutton getsource gettype stopfetching dispose entrytype getchoice type cancelaction abstractaction cancelaction super cancel override actionperformed actionevent stopfetching dispose fetcherworker swingworker<optional<bibentry> void> boolean fetcherexception false string fetcherexceptionmessage idbasedfetcher fetcher null string searchid override optional<bibentry> doinbackground throws exception optional<bibentry> bibentry optional empty swingutilities invokelater generatebutton setenabled false generatebutton settext localization lang searching searchid idtextfield gettext trim fetcher entryfetchers getidfetchers get combobox getselectedindex searchid isempty try bibentry fetcher performsearchbyid searchid catch fetcherexception logger error getmessage fetcherexception true fetcherexceptionmessage getmessage bibentry override done try optional<bibentry> result get result ispresent frame getcurrentbasepanel insertentry result get dispose else searchid trim isempty joptionpane showmessagedialog frame localization lang given search id empty localization lang empty search id joptionpane warning message else fetcherexception joptionpane showmessagedialog frame localization lang fetcher 0' find entry id 1' fetcher getname searchid \n fetcherexceptionmessage localization lang files found joptionpane warning message else joptionpane showmessagedialog frame localization lang error fetching fetcher getname \n fetcherexceptionmessage localization lang error joptionpane error message fetcherworker fetcherworker swingutilities invokelater idtextfield requestfocus idtextfield selectall generatebutton settext localization lang generate generatebutton setenabled true catch executionexception interruptedexception logger error string format exception fetching using fetcher s' entry id s' searchid fetcher getname 
229	StringDialog.java	GUI	net sf jabref gui awt borderlayout awt component awt container awt gridbagconstraints awt gridbaglayout awt event actionevent awt event windowadapter awt event windowevent io file util arraylist util collections util list javax swing abstractaction javax swing action javax swing actionmap javax swing defaultcelleditor javax swing inputmap javax swing jcomponent javax swing jdialog javax swing joptionpane javax swing jpanel javax swing jscrollpane javax swing jtable javax swing jtextfield javax swing jtoolbar javax swing layoutfocustraversalpolicy javax swing table abstracttablemodel javax swing table tablecolumnmodel javax swing undo compoundedit net sf jabref globals net sf jabref gui actions actions net sf jabref gui help helpaction net sf jabref gui keyboard keybinding net sf jabref gui undo undoableinsertstring net sf jabref gui undo undoableremovestring net sf jabref gui undo undoablestringchange net sf jabref gui util guiutil net sf jabref gui util windowlocation net sf jabref logic bibtex latexfieldformatter net sf jabref logic bibtex comparator bibtexstringcomparator net sf jabref logic help helpfile net sf jabref logic l10n localization net sf jabref model database bibdatabase net sf jabref model database keycollisionexception net sf jabref model entry bibtexstring net sf jabref model entry idgenerator net sf jabref preferences jabrefpreferences stringdialog jdialog reference entry object works bibdatabase base basepanel panel list<bibtexstring> strings stringtable table helpaction helpaction savedatabaseaction saveaction savedatabaseaction action concerned closing window closeaction closeaction closeaction string strings title localization lang strings database stringdialog jabrefframe frame basepanel panel bibdatabase base super frame panel panel base base sortstrings helpaction helpaction localization lang help helpfile string editor addwindowlistener windowadapter override windowclosing windowevent closeaction actionperformed null replace default focustraversalpolicy subclass allows stringtable gain keyboard focus setfocustraversalpolicy layoutfocustraversalpolicy override boolean accept component super accept instanceof stringtable jpanel pan jpanel gridbaglayout gbl gridbaglayout pan setlayout gbl gridbagconstraints con gridbagconstraints con fill gridbagconstraints con weighty con weightx stringtablemodel stm stringtablemodel base table stringtable stm base hasnostrings table setrowselectioninterval guiutil correctrowheight table gbl setconstraints table getpane con pan add table getpane jtoolbar tlb osxcompatibletoolbar inputmap im tlb getinputmap jcomponent focused window actionmap tlb getactionmap im put globals getkeyprefs getkey keybinding string dialog add string add newstringaction newstringaction newstringaction put add newstringaction im put globals getkeyprefs getkey keybinding string dialog remove string remove removestringaction removestringaction removestringaction put remove removestringaction im put globals getkeyprefs getkey keybinding save database save put save saveaction im put globals getkeyprefs getkey keybinding close dialog close put close closeaction im put globals getkeyprefs getkey keybinding help help put help helpaction im put globals getkeyprefs getkey keybinding undo undo undoaction undoaction undoaction put undo undoaction im put globals getkeyprefs getkey keybinding redo redo redoaction redoaction redoaction put redo redoaction tlb add newstringaction tlb add removestringaction tlb addseparator tlb add helpaction container conpane getcontentpane conpane add tlb borderlayout north conpane add pan borderlayout center settitle strings title panel getbibdatabasecontext getdatabasefile map file::getname orelse guiglobals untitled title windowlocation pw windowlocation jabrefpreferences strings pos jabrefpreferences strings pos jabrefpreferences strings size jabrefpreferences strings size pw displaywindowatstoredlocation stringtable jtable jscrollpane sp jscrollpane stringtable stringtablemodel stm super stm setshowverticallines true setshowhorizontallines true setcolumnselectionallowed true defaultcelleditor dce defaultcelleditor jtextfield dce setclickcounttostart setdefaulteditor string dce tablecolumnmodel cm getcolumnmodel cm getcolumn setpreferredwidth cm getcolumn setpreferredwidth sp getviewport setbackground globals prefs getcolor jabrefpreferences table background getinputmap put globals getkeyprefs getkey keybinding close dialog close getactionmap put close closeaction getinputmap put globals getkeyprefs getkey keybinding help help getactionmap put help helpaction jcomponent getpane sp sortstrings rebuild sorted set strings: strings arraylist<> string base getstringkeyset strings add base getstring collections sort strings bibtexstringcomparator false refreshtable sortstrings table revalidate table clearselection table repaint savedatabase panel runcommand actions save stringtablemodel abstracttablemodel bibdatabase tbase stringdialog parent stringtablemodel stringdialog parent bibdatabase base parent parent tbase base override object getvalueat row col col strings get row getname strings get row getcontent override setvalueat object value row col col change name string value equals strings get row getname tbase hasstringlabel string value joptionpane showmessagedialog parent localization lang string label already exists localization lang label joptionpane error message else string value contains joptionpane showmessagedialog parent localization lang label string cannot contain spaces localization lang label joptionpane error message else string value contains joptionpane showmessagedialog parent localization lang label string cannot contain '#' character localization lang label joptionpane error message else isnumber string value joptionpane showmessagedialog parent localization lang label string cannot number localization lang label joptionpane error message else store undo information bibtexstring subject strings get row panel getundomanager addedit undoablestringchange panel subject true subject getname string value subject setname string value panel markbasechanged refreshtable else change content string bibtexstring subject strings get row value equals subject getcontent try latexfieldformatter globals prefs getlatexfieldformatterpreferences format string value dummy catch illegalargumentexception ex store undo information panel getundomanager addedit undoablestringchange panel subject false subject getcontent string value subject setcontent string value panel markbasechanged override getcolumncount override getrowcount strings size override string getcolumnname col col localization lang label localization lang content override boolean iscelleditable row col true boolean isnumber string name pure integer number cannot used string label since bibtex read number try integer parseint name true catch numberformatexception ex false assurenotediting table isediting col table geteditingcolumn row table geteditingrow table getcelleditor row col stopcellediting closeaction abstractaction closeaction super close window putvalue action short description localization lang close dialog override actionperformed actionevent panel stringsclosing dispose newstringaction abstractaction stringdialog parent newstringaction stringdialog parent super string icontheme jabreficon add geticon putvalue action short description localization lang string parent parent override actionperformed actionevent string name joptionpane showinputdialog parent localization lang please enter string's label name null isnumber name joptionpane showmessagedialog parent localization lang label string cannot number localization lang label joptionpane error message name contains joptionpane showmessagedialog parent localization lang label string cannot contain '#' character localization lang label joptionpane error message name contains joptionpane showmessagedialog parent localization lang label string cannot contain spaces localization lang label joptionpane error message try string newid idgenerator next bibtexstring bs bibtexstring newid name store undo information: panel getundomanager addedit undoableinsertstring panel panel getdatabase bs base addstring bs refreshtable panel markbasechanged catch keycollisionexception ex joptionpane showmessagedialog parent localization lang string label already exists localization lang label joptionpane error message savedatabaseaction abstractaction stringdialog parent savedatabaseaction stringdialog parent super save database icontheme jabreficon save geticon putvalue action short description localization lang save database parent parent override actionperformed actionevent parent savedatabase removestringaction abstractaction stringdialog parent removestringaction stringdialog parent super remove selected strings icontheme jabreficon remove geticon putvalue action short description localization lang remove selected strings parent parent override actionperformed actionevent int[] sel table getselectedrows sel length make sure cell edited caused keystroke makes content hang screen assurenotediting string msg sel length localization lang really delete selected entries? integer tostring sel length localization lang really delete selected entry? answer joptionpane showconfirmdialog parent msg localization lang delete strings joptionpane yes option joptionpane question message answer joptionpane yes option compoundedit ce compoundedit sel length delete strings backwards avoid moving indexes bibtexstring subject strings get sel[i] store undo information: ce addedit undoableremovestring panel base subject base removestring subject getid ce end panel getundomanager addedit ce refreshtable base hasnostrings table setrowselectioninterval undoaction abstractaction undoaction super undo icontheme jabreficon undo geticon putvalue action short description localization lang undo override actionperformed actionevent panel runcommand actions undo redoaction abstractaction redoaction super redo icontheme jabreficon redo geticon putvalue action short description localization lang redo override actionperformed actionevent panel runcommand actions redo 
230	ReplaceStringDialog.java	GUI	net sf jabref gui awt borderlayout awt gridbagconstraints awt gridbaglayout awt insets awt event actionevent awt event actionlistener javax swing abstractaction javax swing actionmap javax swing borderfactory javax swing buttongroup javax swing inputmap javax swing jbutton javax swing jcheckbox javax swing jcomponent javax swing jdialog javax swing jlabel javax swing jpanel javax swing jradiobutton javax swing jtextfield net sf jabref globals net sf jabref gui keyboard keybinding net sf jabref gui undo namedcompound net sf jabref gui undo undoablefieldchange net sf jabref logic l10n localization net sf jabref model entry bibentry dialog replacing strings replacestringdialog jdialog jtextfield fieldsfield jtextfield jtextfield fromfield jtextfield jtextfield tofield jtextfield jcheckbox selonly jcheckbox localization lang limit selected entries false jradiobutton allfi jradiobutton localization lang fields true jradiobutton field jradiobutton localization lang limit fields false boolean okpressed string[] fieldstrings string fromstring string tostring replacestringdialog jabrefframe parent super parent localization lang replace string true buttongroup bg buttongroup bg add allfi bg add field actionlistener oklistener fromstring fromfield gettext tostring tofield gettext equals fromstring okpressed true fieldstrings fieldsfield gettext tolowercase split dispose jbutton ok jbutton localization lang ok ok addactionlistener oklistener tofield addactionlistener oklistener fieldsfield addactionlistener oklistener abstractaction cancelaction abstractaction override actionperformed actionevent dispose jbutton cancel jbutton localization lang cancel cancel addactionlistener cancelaction key bindings: jpanel settings jpanel actionmap settings getactionmap inputmap im settings getinputmap jcomponent focused window im put globals getkeyprefs getkey keybinding close dialog close put close cancelaction layout starts gridbaglayout gbl gridbaglayout settings setlayout gbl jpanel opt jpanel opt setlayout gbl jpanel main jpanel main setlayout gbl settings setborder borderfactory createtitledborder borderfactory createetchedborder localization lang replace string main setborder borderfactory createtitledborder borderfactory createetchedborder localization lang strings settings panel: gridbagconstraints con gridbagconstraints con fill gridbagconstraints horizontal con gridwidth con weightx con anchor gridbagconstraints west con gridy con gridx con insets insets gbl setconstraints selonly con settings add selonly con gridy con insets insets gbl setconstraints allfi con settings add allfi con gridwidth con gridy con gridx con insets insets gbl setconstraints field con settings add field con gridx con weightx gbl setconstraints fieldsfield con settings add fieldsfield con weightx con gridx con gridy jlabel fl jlabel localization lang search gbl setconstraints fl con main add fl con gridy jlabel tl jlabel localization lang replace gbl setconstraints tl con main add tl con weightx con gridx con gridy gbl setconstraints fromfield con main add fromfield con gridy gbl setconstraints tofield con main add tofield option buttons: con gridx gridbagconstraints relative con gridy gridbagconstraints relative con weightx con gridwidth con anchor gridbagconstraints east con fill gridbagconstraints none gbl setconstraints ok con opt add ok con anchor gridbagconstraints west con gridwidth gridbagconstraints remainder gbl setconstraints cancel con opt add cancel getcontentpane add main borderlayout north getcontentpane add settings borderlayout center getcontentpane add opt borderlayout south pack setlocationrelativeto parent boolean okpressed okpressed boolean allfields allfi isselected boolean selonly selonly isselected actual operation bibtex entry based settings specified dialog returns number occurences replaced replace bibentry namedcompound ce counter allfields string getfieldnames equals bibentry key field counter replacefield ce else string fld fieldstrings fld equals bibentry key field counter replacefield fld ce counter replacefield bibentry string fieldname namedcompound ce hasfield fieldname string txt getfield fieldname get stringbuilder sb stringbuilder ind piv counter len1 fromstring length ind txt indexof fromstring piv counter sb append txt substring piv ind text leading s1 sb append tostring insert s2 piv ind len1 sb append txt substring piv string newstr sb tostring setfield fieldname newstr ce addedit undoablefieldchange fieldname txt newstr counter 
231	ChangeEntryTypeMenu.java	GUI	net sf jabref gui menus awt font util hashmap util map javax swing jmenu javax swing jmenuitem javax swing jpopupmenu javax swing keystroke net sf jabref globals net sf jabref gui basepanel net sf jabref gui actions changetypeaction net sf jabref gui keyboard keybinding net sf jabref logic customentrytypesmanager net sf jabref logic l10n localization net sf jabref model entrytypes net sf jabref model database bibdatabasemode net sf jabref model entry bibtexentrytypes net sf jabref model entry entrytype net sf jabref model entry ieeetranentrytypes changeentrytypemenu map<string keystroke> entryshortcuts hashmap<> changeentrytypemenu entryshortcuts put bibtexentrytypes article getname globals getkeyprefs getkey keybinding article entryshortcuts put bibtexentrytypes book getname globals getkeyprefs getkey keybinding book entryshortcuts put bibtexentrytypes phdthesis getname globals getkeyprefs getkey keybinding phdthesis entryshortcuts put bibtexentrytypes inbook getname globals getkeyprefs getkey keybinding mastersthesis entryshortcuts put bibtexentrytypes inbook getname globals getkeyprefs getkey keybinding inbook entryshortcuts put bibtexentrytypes proceedings getname globals getkeyprefs getkey keybinding proceedings entryshortcuts put bibtexentrytypes unpublished getname globals getkeyprefs getkey keybinding unpublished entryshortcuts put bibtexentrytypes techreport getname globals getkeyprefs getkey keybinding techreport jmenu getchangeentrytypemenu basepanel panel jmenu menu jmenu localization lang change entry type populatechangeentrytypemenu menu panel menu jpopupmenu getchangeentrytypepopupmenu basepanel panel jmenu menu getchangeentrytypemenu panel menu getpopupmenu remove types menu cycle available types add populatechangeentrytypemenu jmenu menu basepanel panel menu removeall biblatex? panel getbibdatabasecontext isbiblatexmode entrytype type entrytypes getallvalues bibdatabasemode biblatex menu add changetypeaction type panel else bibtex createentrytypesection panel menu bibtex entries bibtexentrytypes menu addseparator ieeetran createentrytypesection panel menu ieeetran entries ieeetranentrytypes menu addseparator custom types createentrytypesection panel menu custom entries customentrytypesmanager createentrytypesection basepanel panel jmenu menu string title util list<entrytype> types bibtex jmenuitem header jmenuitem title font font font menu getfont getname font italic menu getfont getsize header setfont font header setenabled false types isempty menu add header entrytype type types menu add changetypeaction type panel 
232	FileHistoryMenu.java	GUI	net sf jabref gui menus awt event actionevent awt event actionlistener io file javax swing jmenu javax swing jmenuitem javax swing joptionpane net sf jabref jabrefexecutorservice net sf jabref gui jabrefframe net sf jabref logic l10n localization net sf jabref logic util io filehistory net sf jabref preferences jabrefpreferences filehistorymenu jmenu actionlistener filehistory history jabrefframe frame jabrefpreferences prefs filehistorymenu jabrefpreferences prefs jabrefframe frame string name localization menutitle recent databases name indexof settext name substring name substring char mnemonic character touppercase name charat setmnemonic mnemonic else settext name frame frame prefs prefs history prefs getfilehistory history isempty setenabled false else setitems adds filename top menu already menu merely moved top param filename <code>string< code> value newfile string filename history newfile filename setitems isenabled setenabled true setitems removeall count count history size count additem history getfilename count count additem string filename num string number integer tostring num jmenuitem item jmenuitem number filename char mnemonic character touppercase number charat item setmnemonic mnemonic item addactionlistener add item history addfirst item storehistory prefs storefilehistory history override actionperformed actionevent string name jmenuitem getsource gettext pos name indexof name name substring pos file filetoopen file name existence check done open openit call removeitem file exist filetoopen exists joptionpane showmessagedialog frame localization lang file found filetoopen getname localization lang error joptionpane error message history removeitem name setitems jabrefexecutorservice instance execute frame getopendatabaseaction openfile filetoopen true 
233	RightClickMenu.java	GUI	net sf jabref gui menus awt event actionevent util arrays util collections util list util optional javax swing abstractaction javax swing action javax swing icon javax swing jlabel javax swing jmenu javax swing jmenuitem javax swing jpopupmenu javax swing event popupmenuevent javax swing event popupmenulistener net sf jabref globals net sf jabref gui basepanel net sf jabref gui entrymarker net sf jabref gui icontheme net sf jabref gui jabrefframe net sf jabref gui actions actions net sf jabref gui filelist filelisttablemodel net sf jabref gui keyboard keybinding net sf jabref gui mergeentries fetchandmergeentry net sf jabref gui specialfields specialfieldmenuaction net sf jabref gui specialfields specialfieldvalueviewmodel net sf jabref gui specialfields specialfieldviewmodel net sf jabref gui worker markentriesaction net sf jabref logic l10n localization net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model entry specialfields specialfield net sf jabref model entry specialfields specialfieldvalue net sf jabref preferences jabrefpreferences org apache commons logging log org apache commons logging logfactory rightclickmenu jpopupmenu popupmenulistener log logger logfactory getlog rightclickmenu basepanel panel jmenuitem groupadd jmenuitem groupremove jmenuitem groupmoveto rightclickmenu jabrefframe frame basepanel panel panel panel jmenu typemenu changeentrytypemenu getchangeentrytypemenu panel multiple entries selected? boolean multiple aremultipleentriesselected one entry selected get reference adapting menu bibentry null panel getmaintable getselectedrowcount panel getmaintable getselected get addpopupmenulistener jmenu copyspecialmenu jmenu localization lang copy copyspecialmenu add generalaction actions copy key localization lang copy bibtex key keybinding copy bibtex key copyspecialmenu add generalaction actions copy cite key localization lang copy \\cite bibtex key keybinding copy cite bibtex key copyspecialmenu add generalaction actions copy key title localization lang copy bibtex key title keybinding copy bibtex key title copyspecialmenu add generalaction actions copy key link localization lang copy bibtex key link keybinding copy bibtex key link copyspecialmenu add generalaction actions export clipboard localization lang export clipboard icontheme jabreficon export clipboard getsmallicon add generalaction actions copy localization lang copy icontheme jabreficon copy getsmallicon keybinding copy add copyspecialmenu add generalaction actions paste localization lang paste icontheme jabreficon paste getsmallicon keybinding paste add generalaction actions cut localization lang cut icontheme jabreficon cut getsmallicon keybinding cut add generalaction actions delete localization lang delete icontheme jabreficon delete entry getsmallicon keybinding delete entry generalaction printpreviewaction generalaction actions print preview localization lang print entry preview icontheme jabreficon printed getsmallicon printpreviewaction setenabled multiple add printpreviewaction addseparator add generalaction actions send email localization lang send email icontheme jabreficon email getsmallicon addseparator jmenu markspecific jabrefframe submenu localization menutitle mark specific color markspecific seticon icontheme jabreficon mark entries getsmallicon entrymarker max marking level markspecific add markentriesaction frame getmenuitem multiple add generalaction actions mark entries localization lang mark entries icontheme jabreficon mark entries getsmallicon keybinding mark entries add markspecific add generalaction actions unmark entries localization lang unmark entries icontheme jabreficon unmark entries getsmallicon keybinding unmark entries else null optional<string> marked getfield fieldname marked internal check marked field may empty marked ispresent marked get isempty add generalaction actions mark entries localization lang mark entry icontheme jabreficon mark entries getsmallicon keybinding mark entries add markspecific else add markspecific add generalaction actions unmark entries localization lang unmark entry icontheme jabreficon unmark entries getsmallicon keybinding unmark entries globals prefs getboolean jabrefpreferences specialfieldsenabled globals prefs getboolean jabrefpreferences showcolumn ranking jmenu rankingmenu jmenu rightclickmenu populatespecialfieldmenu rankingmenu specialfield ranking frame add rankingmenu todo: multiple handling relevance quality assurance multiple values selected multiple two options set clear offered one value selected either set clear offered globals prefs getboolean jabrefpreferences showcolumn relevance add specialfieldmenuaction specialfieldvalueviewmodel specialfield relevance getvalues get frame globals prefs getboolean jabrefpreferences showcolumn quality add specialfieldmenuaction specialfieldvalueviewmodel specialfield quality getvalues get frame globals prefs getboolean jabrefpreferences showcolumn printed add specialfieldmenuaction specialfieldvalueviewmodel specialfield printed getvalues get frame globals prefs getboolean jabrefpreferences showcolumn priority jmenu prioritymenu jmenu rightclickmenu populatespecialfieldmenu prioritymenu specialfield priority frame add prioritymenu globals prefs getboolean jabrefpreferences showcolumn read jmenu readstatusmenu jmenu rightclickmenu populatespecialfieldmenu readstatusmenu specialfield read status frame add readstatusmenu addseparator generalaction openfolderaction generalaction actions open folder localization lang open folder keybinding open folder openfolderaction setenabled isfieldsetforselectedentry fieldname file add openfolderaction generalaction openfileaction generalaction actions open external file localization lang open file getfileiconforselectedentry keybinding open file openfileaction setenabled isfieldsetforselectedentry fieldname file add openfileaction generalaction openurlaction generalaction actions open url localization lang open url doi icontheme jabreficon www getsmallicon keybinding open url doi openurlaction setenabled isfieldsetforselectedentry fieldname url isfieldsetforselectedentry fieldname doi add openurlaction addseparator add typemenu generalaction mergefetchedentryaction generalaction actions merge fetched entry localization lang get bibtex data fetchandmergeentry getdisplaynameofsupportedfields mergefetchedentryaction setenabled isanyfieldsetforselectedentry fetchandmergeentry supported fields add mergefetchedentryaction add frame getmasssetfield generalaction attachfileaction generalaction actions add file link localization lang attach file icontheme jabreficon attach file getsmallicon attachfileaction setenabled multiple add attachfileaction add frame getmanagekeywords generalaction mergeentriesaction generalaction actions merge entries localization lang merge entries icontheme jabreficon merge entries getsmallicon mergeentriesaction setenabled areexactlytwoentriesselected add mergeentriesaction addseparator add move remove group entries appended groupadd jmenuitem generalaction actions add group localization lang add group add groupadd groupremove jmenuitem generalaction actions remove group localization lang remove group add groupremove groupmoveto add generalaction actions move group localization lang move group add groupmoveto create disabledicons menu entries frame createdisablediconsformenuentries boolean aremultipleentriesselected panel getmaintable getselectedrowcount boolean areexactlytwoentriesselected panel getmaintable getselectedrowcount remove types menu cycle available values add populatespecialfieldmenu jmenu menu specialfield field jabrefframe frame specialfieldviewmodel viewmodel specialfieldviewmodel field menu settext viewmodel getlocalization menu seticon viewmodel getrepresentingicon specialfieldvalue val field getvalues menu add specialfieldmenuaction specialfieldvalueviewmodel val frame set dynamic contents add group submenu override popupmenuwillbecomevisible popupmenuevent panel storecurrentedit boolean groupspresent panel getbibdatabasecontext getmetadata getgroups ispresent groupadd setenabled groupspresent groupremove setenabled groupspresent groupmoveto setenabled groupspresent override popupmenuwillbecomeinvisible popupmenuevent nothing override popupmenucanceled popupmenuevent nothing boolean isfieldsetforselectedentry string fieldname isanyfieldsetforselectedentry arrays aslist fieldname boolean isanyfieldsetforselectedentry list<string> fieldnames panel getmaintable getselectedrowcount bibentry entry panel getmaintable getselected get collections disjoint fieldnames entry getfieldnames false icon getfileiconforselectedentry panel getmaintable getselectedrowcount bibentry entry panel getmaintable getselected get entry hasfield fieldname file jlabel label filelisttablemodel getfirstlabel entry getfield fieldname file get label null label geticon icontheme jabreficon file getsmallicon generalaction abstractaction string command generalaction string command string name super name command command generalaction string command string name icon icon super name icon command command generalaction string command string name keybinding key super name command command putvalue action accelerator key globals getkeyprefs getkey key generalaction string command string name icon icon keybinding key super name icon command command putvalue action accelerator key globals getkeyprefs getkey key override actionperformed actionevent try panel runcommand command catch throwable ex logger debug cannot execute command command ex 
234	EntryContainer.java	GUI	net sf jabref gui net sf jabref model entry bibentry entry containers work single entry asked functionalinterface interface entrycontainer bibentry getentry 
235	JTextFieldChangeListenerUtil.java	GUI	net sf jabref gui search beans propertychangeevent beans propertychangelistener util objects javax swing jtextarea javax swing jtextfield javax swing swingutilities javax swing event changeevent javax swing event changelistener javax swing event documentevent javax swing event documentlistener javax swing text document javax swing text jtextcomponent taken http: stackoverflow com questions value change listener jtextfield jtextfieldchangelistenerutil installs listener receive notification text code jtextcomponent changed internally installs link documentlistener text component's link document link propertychangelistener text component detect code document replaced taken param text text component link jtextfield link jtextarea param changelistener listener receive link changeevent text changed source object events text component throws nullpointerexception either parameter null addchangelistener jtextcomponent text changelistener changelistener objects requirenonnull text objects requirenonnull changelistener documentlistener dl documentlistener lastchange lastnotifiedchange override insertupdate documentevent changedupdate override removeupdate documentevent changedupdate override changedupdate documentevent lastchange swingutilities invokelater lastnotifiedchange lastchange lastnotifiedchange lastchange changelistener statechanged changeevent text text addpropertychangelistener document propertychangeevent document d1 document getoldvalue document d2 document getnewvalue d1 null d1 removedocumentlistener dl d2 null d2 adddocumentlistener dl dl changedupdate null document text getdocument null adddocumentlistener dl 
236	SearchWorker.java	GUI	net sf jabref gui search util list util objects util concurrent executionexception util stream collectors javax swing swingworker net sf jabref jabrefgui net sf jabref gui basepanel net sf jabref gui basepanelmode net sf jabref gui maintable maintabledatamodel net sf jabref logic search searchquery net sf jabref model database bibdatabase net sf jabref model entry bibentry org apache commons logging log org apache commons logging logfactory reusable always create instance search searchworker swingworker<list<bibentry> void> log logger logfactory getlog searchworker basepanel basepanel bibdatabase database searchquery searchquery searchdisplaymode searchdisplaymode searchworker basepanel basepanel searchquery searchquery searchdisplaymode searchdisplaymode basepanel objects requirenonnull basepanel database objects requirenonnull basepanel getdatabase searchquery objects requirenonnull searchquery searchdisplaymode objects requirenonnull searchdisplaymode logger debug search searchdisplaymode getdisplayname searchquery override list<bibentry> doinbackground throws exception database getentries parallelstream filter searchquery::ismatch collect collectors tolist override done iscancelled try updateuiwithsearchresult get catch interruptedexception executionexception logger error something went wrong search updateuiwithsearchresult list<bibentry> matchedentries globalsearchbar globalsearchbar jabrefgui getmainframe getglobalsearchbar check still current query globalsearchbar isstillvalidquery searchquery update another search already issued clear bibentry entry basepanel getdatabase getentries entry setsearchhit false mark bibentry entry matchedentries entry setsearchhit true basepanel getmaintable gettablemodel updatesearchstate maintabledatamodel displayoption disabled show result chosen way: switch searchdisplaymode case float: basepanel getmaintable gettablemodel updatesearchstate maintabledatamodel displayoption break case filter: basepanel getmaintable gettablemodel updatesearchstate maintabledatamodel displayoption filter break default: logger error following searchdisplaymode defined: searchdisplaymode break selects first match selected entries hits entry selected editor open avoid jumping around editing entry basepanel getmode basepanelmode showing editor basepanel getmode basepanelmode show editor list<bibentry> selectedentries basepanel getselectedentries boolean ishitselected selectedentries stream anymatch bibentry::issearchhit ishitselected matchedentries isempty basepanel getmaintable getrowcount bibentry entry basepanel getmaintable getentryat entry issearchhit basepanel getmaintable setselected break globalsearchbar updateresults matchedentries size searchquery getdescription searchquery isgrammarbasedsearch globalsearchbar getsearchqueryhighlightobservable firesearchlistenerevent searchquery 
237	SearchDisplayMode.java	GUI	net sf jabref gui search net sf jabref logic l10n localization collects possible search modes enum searchdisplaymode localization lang localization lang gray non hits filter localization lang filter localization lang hide non hits string displayname string tooltiptext searchdisplaymode string displayname string tooltiptext displayname displayname tooltiptext tooltiptext string getdisplayname displayname string gettooltiptext tooltiptext 
238	HitOrMissComparator.java	GUI	net sf jabref gui search util comparator util objects net sf jabref model entry bibentry ca odell glazedlists matchers matcher comparator compares two objects based whether none one match given matcher used group search hits main table hitormisscomparator comparator<bibentry> matcher<bibentry> hitormiss hitormisscomparator matcher<bibentry> hitormiss hitormiss objects requirenonnull hitormiss override compare bibentry o1 bibentry o2 hitormiss null boolean compare hitormiss matches o2 hitormiss matches o1 
239	EverythingMatcher.java	GUI	net sf jabref gui search matchers net sf jabref model entry bibentry ca odell glazedlists matchers matcher matcher accepts entries used filtering search active everythingmatcher matcher<bibentry> matcher<bibentry> instance everythingmatcher override boolean matches bibentry object true 
240	SearchMatcher.java	GUI	net sf jabref gui search matchers net sf jabref model entry bibentry ca odell glazedlists matchers matcher matcher filtering sorting table according whether entries tagged search matches searchmatcher matcher<bibentry> matcher<bibentry> instance searchmatcher override boolean matches bibentry entry entry issearchhit 
241	GlobalSearchBar.java	GUI	net sf jabref gui search awt color awt dimension awt flowlayout awt font awt event actionevent io file util list util objects util stream collectors javax swing abstractaction javax swing jbutton javax swing jcomponent javax swing jlabel javax swing jpanel javax swing jtogglebutton javax swing jtoolbar javax swing swingutilities net sf jabref globals net sf jabref gui basepanel net sf jabref gui guiglobals net sf jabref gui icontheme net sf jabref gui jabrefframe net sf jabref gui osxcompatibletoolbar net sf jabref gui autocompleter autocompletesupport net sf jabref gui help helpaction net sf jabref gui keyboard keybinding net sf jabref gui maintable maintable net sf jabref gui maintable maintabledatamodel net sf jabref gui util component jtextfieldwithplaceholder net sf jabref logic autocompleter autocompleter net sf jabref logic help helpfile net sf jabref logic l10n localization net sf jabref logic search searchquery net sf jabref logic search searchqueryhighlightobservable net sf jabref logic util os net sf jabref model entry bibentry net sf jabref preferences searchpreferences globalsearchbar jpanel color neutral color color white color results color color color results found color color color advanced search color color jabrefframe frame jlabel searchicon jlabel icontheme jabreficon search getsmallicon jtextfieldwithplaceholder searchfield jtextfieldwithplaceholder localization lang search jbutton opencurrentresultsindialog jbutton icontheme jabreficon open window getsmallicon jtogglebutton casesensitive jtogglebutton regularexp jbutton searchmodebutton jbutton jlabel currentresults jlabel autocompletesupport<string> autocompletesupport autocompletesupport<> searchfield searchqueryhighlightobservable searchqueryhighlightobservable searchqueryhighlightobservable searchworker searchworker globalsearchworker globalsearchworker searchresultframe searchresultframe searchdisplaymode searchdisplaymode flag set searchbar selected next search boolean dontselectsearchbar globalsearchbar jabrefframe frame super frame objects requirenonnull frame searchpreferences searchpreferences searchpreferences globals prefs searchdisplaymode searchpreferences getsearchmode fits standard found entries message thus hinders searchbar jump around searching frame width small currentresults setpreferredsize dimension currentresults setfont currentresults getfont derivefont font bold searchfield setcolumns jtogglebutton globalsearch jtogglebutton icontheme jabreficon global search getsmallicon searchpreferences isglobalsearch globalsearch settooltiptext localization lang search open databases default action performed toggling globalsearch abstractaction globalsearchstandardaction abstractaction override actionperformed actionevent searchpreferences setglobalsearch globalsearch isselected updateopencurrentresultstooltip globalsearch isselected additional action global search shortcut abstractaction globalsearchshortcutaction abstractaction override actionperformed actionevent globalsearch setselected true globalsearchstandardaction actionperformed actionevent fire standard action focus string searchglobalbykey searchglobalbykey globalsearch getinputmap jcomponent focused window put globals getkeyprefs getkey keybinding global search searchglobalbykey globalsearch getactionmap put searchglobalbykey globalsearchshortcutaction globalsearch addactionlistener globalsearchstandardaction opencurrentresultsindialog setdisabledicon icontheme jabreficon open window getsmallicon createdisabledicon opencurrentresultsindialog addactionlistener event globalsearch isselected performglobalsearch else openlocalfindingsinexternalpanel opencurrentresultsindialog setenabled false updateopencurrentresultstooltip globalsearch isselected regularexp jtogglebutton icontheme jabreficon reg ex getsmallicon searchpreferences isregularexpression regularexp settooltiptext localization lang regular expression regularexp addactionlistener event searchpreferences setregularexpression regularexp isselected performsearch casesensitive jtogglebutton icontheme jabreficon case sensitive getsmallicon searchpreferences iscasesensitive casesensitive settooltiptext localization lang case sensitive casesensitive addactionlistener event searchpreferences setcasesensitive casesensitive isselected performsearch updatesearchmodebuttontext searchmodebutton addactionlistener event togglesearchmodeandsearch jbutton clearsearchbutton jbutton icontheme jabreficon close getsmallicon clearsearchbutton settooltiptext localization lang clear clearsearchbutton addactionlistener event endsearch searchfield addfocuslistener globals getfocuslistener searchfield addactionlistener event performsearch jtextfieldchangelistenerutil addchangelistener searchfield performsearch string endsearch endsearch searchfield getinputmap put globals getkeyprefs getkey keybinding clear search endsearch searchfield getactionmap put endsearch abstractaction override actionperformed actionevent event autocompletesupport isvisible autocompletesupport setvisible false else endsearch autocompletesupport install string acceptsearch acceptsearch searchfield getinputmap put globals getkeyprefs getkey keybinding accept acceptsearch searchfield getactionmap put acceptsearch abstractaction override actionperformed actionevent autocompletesupport setvisible false basepanel currentbasepanel frame getcurrentbasepanel globals getfocuslistener setfocused currentbasepanel getmaintable currentbasepanel getmaintable requestfocus setlayout flowlayout flowlayout right jtoolbar toolbar osxcompatibletoolbar toolbar setfloatable false os os searchfield putclientproperty jtextfield variant search toolbar add searchfield else toolbar add searchicon toolbar add searchfield toolbar add clearsearchbutton toolbar addseparator toolbar add opencurrentresultsindialog toolbar addseparator toolbar add globalsearch toolbar add regularexp toolbar add casesensitive toolbar add searchmodebutton toolbar addseparator toolbar add helpaction helpfile search toolbar addseparator toolbar add currentresults add toolbar performglobalsearch basepanel currentbasepanel frame getcurrentbasepanel currentbasepanel null validatesearchresultframe true globalsearchworker null globalsearchworker cancel true searchfield gettext isempty focus globalsearchworker globalsearchworker currentbasepanel frame getsearchquery globalsearchworker execute openlocalfindingsinexternalpanel basepanel currentbasepanel frame getcurrentbasepanel currentbasepanel null validatesearchresultframe false searchfield gettext isempty focus searchresultframe searchdialog searchresultframe currentbasepanel frame localization lang search results database currentbasepanel getbibdatabasecontext getdatabasefile map file::getname orelse guiglobals untitled title getsearchquery localize getsearchquery false list<bibentry> entries currentbasepanel getdatabase getentries stream filter bibentry::issearchhit collect collectors tolist searchdialog addentries entries currentbasepanel searchdialog selectfirstentry searchdialog setvisible true boolean validatesearchresultframe boolean globalsearch searchresultframe null searchresultframe isglobalsearch globalsearch isstillvalidquery searchresultframe getsearchquery searchresultframe focus true else searchresultframe dispose false false togglesearchmodeandsearch nextsearchmode searchdisplaymode ordinal searchdisplaymode values length searchdisplaymode searchdisplaymode values [nextsearchmode] searchpreferences globals prefs setsearchmode searchdisplaymode updatesearchmodebuttontext performsearch updatesearchmodebuttontext searchmodebutton settext searchdisplaymode getdisplayname searchmodebutton settooltiptext searchdisplaymode gettooltiptext endsearch basepanel currentbasepanel frame getcurrentbasepanel currentbasepanel null clearsearch currentbasepanel maintable maintable frame getcurrentbasepanel getmaintable globals getfocuslistener setfocused maintable maintable requestfocus swingutilities invokelater maintable ensurevisible maintable getselectedrow focuses search field focused focus searchfield hasfocus searchfield requestfocus searchfield selectall clearsearch basepanel currentbasepanel currentresults settext searchfield settext searchfield setbackground neutral color searchicon seticon icontheme jabreficon search getsmallicon searchqueryhighlightobservable reset opencurrentresultsindialog setenabled false currentbasepanel null currentbasepanel getmaintable gettablemodel updatesearchstate maintabledatamodel displayoption disabled dontselectsearchbar dontselectsearchbar false focus performsearch basepanel currentbasepanel frame getcurrentbasepanel currentbasepanel null searchworker null searchworker cancel true empty search field cause search cleared searchfield gettext isempty clearsearch currentbasepanel searchquery searchquery getsearchquery searchquery isvalid informuseraboutinvalidsearchquery searchworker searchworker currentbasepanel searchquery searchdisplaymode searchworker execute informuseraboutinvalidsearchquery searchfield setbackground results color searchqueryhighlightobservable reset basepanel currentbasepanel frame getcurrentbasepanel currentbasepanel getmaintable gettablemodel updatesearchstate maintabledatamodel displayoption disabled searchicon seticon icontheme jabreficon search getsmallicon createwithnewcolor results color string illegalsearch localization lang search failed: illegal search expression searchicon settooltiptext illegalsearch currentresults settext illegalsearch opencurrentresultsindialog setenabled false setautocompleter autocompleter<string> searchcompleter autocompletesupport setautocompleter searchcompleter searchqueryhighlightobservable getsearchqueryhighlightobservable searchqueryhighlightobservable boolean isstillvalidquery searchquery query query getquery equals searchfield gettext query isregularexpression regularexp isselected query iscasesensitive casesensitive isselected searchquery getsearchquery searchquery searchquery searchquery searchfield gettext casesensitive isselected regularexp isselected frame getcurrentbasepanel setcurrentsearchquery searchquery searchquery updateresults matched string description boolean grammarbasedsearch matched currentresults settext localization lang results found searchfield setbackground results color else currentresults settext localization lang found results string valueof matched searchfield setbackground results found color searchfield settooltiptext <html> description html> grammarbasedsearch searchicon seticon icontheme jabreficon search getsmallicon createwithnewcolor advanced search color searchicon settooltiptext localization lang advanced search active else searchicon seticon icontheme jabreficon search getsmallicon searchicon settooltiptext localization lang normal search active opencurrentresultsindialog setenabled true setsearchresultframe searchresultframe searchresultframe searchresultframe searchresultframe setsearchterm string searchterm boolean dontselectsearchbar searchterm equals searchfield gettext setdontselectsearchbar dontselectsearchbar searchfield settext searchterm hinder autocomplete window popup autocompletesupport setvisible false setdontselectsearchbar boolean dontselectsearchbar dontselectsearchbar dontselectsearchbar updateopencurrentresultstooltip boolean globalsearchenabled globalsearchenabled opencurrentresultsindialog settooltiptext localization lang show global search results window else opencurrentresultsindialog settooltiptext localization lang show search results window 
242	GlobalSearchWorker.java	GUI	net sf jabref gui search util hashmap util list util map util objects util concurrent executionexception util stream collectors javax swing swingworker net sf jabref gui basepanel net sf jabref gui jabrefframe net sf jabref logic l10n localization net sf jabref logic search searchquery net sf jabref model entry bibentry org apache commons logging log org apache commons logging logfactory globalsearchworker swingworker<map<basepanel list<bibentry>> void> log logger logfactory getlog globalsearchworker jabrefframe frame searchquery searchquery searchresultframe dialog globalsearchworker jabrefframe frame searchquery query frame objects requirenonnull frame searchquery objects requirenonnull query dialog searchresultframe frame localization lang search results databases searchquery localize searchquery true frame getglobalsearchbar setsearchresultframe dialog override map<basepanel list<bibentry>> doinbackground throws exception map<basepanel list<bibentry>> matches hashmap<> basepanel basepanel frame getbasepanellist matches put basepanel basepanel getdatabase getentries parallelstream filter searchquery::ismatch collect collectors tolist matches override done iscancelled try map entry<basepanel list<bibentry>> match get entryset dialog addentries match getvalue match getkey dialog selectfirstentry dialog setvisible true catch interruptedexception executionexception logger error something went wrong search 
243	SearchResultFrame.java	GUI	net sf jabref gui search awt borderlayout awt color awt rectangle awt toolkit awt event actionevent awt event componentadapter awt event componentevent awt event keyevent awt event mouseadapter awt event mouseevent awt event windowadapter awt event windowevent io ioexception util collections util comparator util hashmap util list util map util objects util optional javax swing abstractaction javax swing actionmap javax swing inputmap javax swing jcomponent javax swing jframe javax swing jlabel javax swing jpopupmenu javax swing jscrollpane javax swing jsplitpane javax swing jtable javax swing keystroke javax swing swingutilities javax swing table tablecolumnmodel net sf jabref globals net sf jabref gui basepanel net sf jabref gui guiglobals net sf jabref gui icontheme net sf jabref gui jabrefframe net sf jabref gui previewpanel net sf jabref gui transferablebibtexentry net sf jabref gui desktop jabrefdesktop net sf jabref gui externalfiletype externalfilemenuitem net sf jabref gui filelist filelistentry net sf jabref gui filelist filelisttablemodel net sf jabref gui keyboard keybinding net sf jabref gui maintable maintablenameformatter net sf jabref gui renderer generalrenderer net sf jabref gui util guiutil net sf jabref gui util comparator iconcomparator net sf jabref logic bibtex comparator entrycomparator net sf jabref logic bibtex comparator fieldcomparator net sf jabref logic l10n localization net sf jabref logic search searchquery net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model entry fieldproperty net sf jabref model entry internalbibtexfields net sf jabref model strings stringutil net sf jabref preferences searchpreferences ca odell glazedlists basiceventlist ca odell glazedlists eventlist ca odell glazedlists sortedlist ca odell glazedlists event listevent ca odell glazedlists event listeventlistener ca odell glazedlists gui abstracttablecomparatorchooser ca odell glazedlists gui advancedtableformat ca odell glazedlists swing defaulteventselectionmodel ca odell glazedlists swing defaulteventtablemodel ca odell glazedlists swing glazedlistsswing ca odell glazedlists swing tablecomparatorchooser org apache commons logging log org apache commons logging logfactory dialog display search results potentially one basepanel possibility preview locate entry main window searchresultframe log logger logfactory getlog searchresultframe jabrefframe frame jframe searchresultframe string[] fields string[] fieldname author fieldname title fieldname year fieldname journal database col file col url col pad jlabel filelabel jlabel icontheme jabreficon file getsmallicon jlabel urllabel jlabel icontheme jabreficon www getsmallicon jsplitpane contentpane jsplitpane jsplitpane vertical split rectangle torect rectangle eventlist<bibentry> entries basiceventlist<> map<bibentry basepanel> entryhome hashmap<> defaulteventtablemodel<bibentry> model sortedlist<bibentry> sortedentries jtable entrytable previewpanel preview searchquery searchquery boolean globalsearch searchresultframe jabrefframe frame string title searchquery searchquery boolean globalsearch frame objects requirenonnull frame searchquery searchquery globalsearch globalsearch frame getglobalsearchbar setsearchresultframe init objects requirenonnull title init string title searchresultframe jframe searchresultframe settitle title searchresultframe seticonimage icontheme getimage jabreficon48 getimage preview previewpanel null null sortedentries sortedlist<> entries entrycomparator false true fieldname author model defaulteventtablemodel<bibentry> glazedlistsswing eventtablemodelwiththreadproxylist sortedentries entrytableformat entrytable jtable model guiutil correctrowheight entrytable generalrenderer renderer generalrenderer color white entrytable setdefaultrenderer jlabel renderer entrytable setdefaultrenderer string renderer setwidths tablecomparatorchooser<bibentry> tablesorter tablecomparatorchooser install entrytable sortedentries abstracttablecomparatorchooser multiple column keyboard setupcomparatorchooser tablesorter jscrollpane sp jscrollpane entrytable defaulteventselectionmodel<bibentry> selectionmodel defaulteventselectionmodel<bibentry> glazedlistsswing eventselectionmodelwiththreadproxylist sortedentries entrytable setselectionmodel selectionmodel selectionmodel getselected addlisteventlistener entryselectionlistener entrytable addmouselistener tableclicklistener contentpane settopcomponent sp contentpane setbottomcomponent preview key bindings: abstractaction closeaction abstractaction override actionperformed actionevent dispose actionmap actionmap contentpane getactionmap inputmap inputmap contentpane getinputmap jcomponent focused window inputmap put globals getkeyprefs getkey keybinding close dialog close inputmap put globals getkeyprefs getkey keybinding close database close actionmap put close closeaction actionmap entrytable getactionmap inputmap entrytable getinputmap override 'selectnextcolumncell' 'selectpreviouscolumncell' move rows instead cells tab actionmap put selectnextcolumncell abstractaction override actionperformed actionevent selectnextentry actionmap put selectpreviouscolumncell abstractaction override actionperformed actionevent selectpreviousentry actionmap put selectnextrow abstractaction override actionperformed actionevent selectnextentry actionmap put selectpreviousrow abstractaction override actionperformed actionevent selectpreviousentry string selectfirst selectfirst inputmap put globals getkeyprefs getkey keybinding select first entry selectfirst actionmap put selectfirst abstractaction override actionperformed actionevent event selectfirstentry string selectlast selectlast inputmap put globals getkeyprefs getkey keybinding select last entry selectlast actionmap put selectlast abstractaction override actionperformed actionevent event selectlastentry actionmap put copy abstractaction override actionperformed actionevent selectionmodel getselected isempty list<bibentry> bes selectionmodel getselected transferablebibtexentry trbe transferablebibtexentry bes look clipboardmanager toolkit getdefaulttoolkit getsystemclipboard setcontents trbe frame getcurrentbasepanel frame output localization lang copied bes size bes size localization lang entries localization lang entry override standard enter action enter opens selected entry entrytable getinputmap jcomponent ancestor focused component put keystroke getkeystroke keyevent vk enter enter actionmap put enter abstractaction override actionperformed actionevent ae bibentry entry sortedentries get entrytable getselectedrow selectentryinbasepanel entry searchresultframe addwindowlistener windowadapter override windowopened windowevent contentpane setdividerlocation 5f override windowclosing windowevent event dispose searchresultframe getcontentpane add contentpane borderlayout center remember default last size: searchpreferences searchpreferences searchpreferences globals prefs searchresultframe setsize searchpreferences getseachdialogwidth searchpreferences getseachdialogheight searchresultframe setlocation searchpreferences getsearchdialogposx searchpreferences getsearchdialogposy searchresultframe addcomponentlistener componentadapter override componentresized componentevent searchpreferences globals prefs setsearchdialogwidth searchresultframe getsize width setsearchdialogheight searchresultframe getsize height override componentmoved componentevent searchpreferences globals prefs setsearchdialogposx searchresultframe getlocation setsearchdialogposy searchresultframe getlocation control visibility dialog param visible true show dialog false hide setvisible boolean visible searchresultframe setvisible visible selectfirstentry selectentry selectlastentry selectentry entrytable getrowcount selectpreviousentry selectentry entrytable getselectedrow entrytable getrowcount entrytable getrowcount selectnextentry selectentry entrytable getselectedrow entrytable getrowcount selectentry index index index entrytable getrowcount entrytable changeselection index false false else contentpane setdividerlocation 0f set comparators column user modify sort order clicking column labels param comparatorchooser comparator chooser controlling sort order setupcomparatorchooser tablecomparatorchooser<bibentry> comparatorchooser list<comparator> comparators icon columns: pad comparators comparatorchooser getcomparatorsforcolumn comparators clear file col comparators add iconcomparator collections singletonlist fieldname file else url col comparators add iconcomparator collections singletonlist fieldname url else database col comparators add entry1 entry2 string databasetitle1 entryhome get entry1 gettabtitle string databasetitle2 entryhome get entry2 gettabtitle databasetitle1 compareto databasetitle2 remaining columns: pad pad fields length comparators comparatorchooser getcomparatorsforcolumn comparators clear comparators add fieldcomparator fields[i pad] sortedentries getreadwritelock writelock lock comparatorchooser appendcomparator pad false sortedentries getreadwritelock writelock unlock set column widths according field shown lock icon columns suitable width setwidths tablecolumnmodel cm entrytable getcolumnmodel pad fields length switch case file col: case url col: cm getcolumn setpreferredwidth guiglobals width icon col cm getcolumn setminwidth guiglobals width icon col cm getcolumn setmaxwidth guiglobals width icon col break case database col: width internalbibtexfields getfieldlength fieldname author cm getcolumn setpreferredwidth width break default: width internalbibtexfields getfieldlength fields[i pad] cm getcolumn setpreferredwidth width break add list entries table param newentries list entries param panel reference basepanel entries belong addentries list<bibentry> newentries basepanel panel bibentry entry newentries addentry entry panel add single entry table param entry entry add param panel reference basepanel entry belongs addentry bibentry entry basepanel panel entries add entry entryhome put entry panel preview getentry null preview getbasepanel ispresent preview setentry entry preview setbasepanel panel preview setdatabasecontext panel getbibdatabasecontext selectentryinbasepanel bibentry entry basepanel basepanel entryhome get entry frame showbasepanel basepanel basepanel requestfocus basepanel highlightentry entry dispose frame getglobalsearchbar setsearchresultframe null searchresultframe dispose frame getglobalsearchbar focus focus entrytable requestfocus searchquery getsearchquery searchquery boolean isglobalsearch globalsearch mouse listener entry table processes icon clicks open external files urls well opening context menu tableclicklistener mouseadapter override mousereleased mouseevent ispopuptrigger processpopuptrigger override mousepressed mouseevent ispopuptrigger processpopuptrigger first find row user clicked row entrytable rowatpoint getpoint click entry highlight entry basepanel: getclickcount selectentryinbasepanel model getelementat row override mouseclicked mouseevent ispopuptrigger processpopuptrigger col entrytable columnatpoint getpoint row entrytable rowatpoint getpoint col pad bibentry entry sortedentries get row basepanel entryhome get entry switch col case file col: entry hasfield fieldname file filelisttablemodel tablemodel filelisttablemodel entry getfield fieldname file ifpresent tablemodel::setcontent tablemodel getrowcount filelistentry fl tablemodel getentry externalfilemenuitem frame entry fl link null getbibdatabasecontext fl type actionperformed null break case url col: entry getfield fieldname url ifpresent link try jabrefdesktop openexternalviewer getbibdatabasecontext link fieldname url catch ioexception ex logger warn could open viewer ex break default: break user signalled opening context menu event gets redirected method open file link menu user pointing file link icon otherwise general context menu shown param triggering mouse event processpopuptrigger mouseevent bibentry entry sortedentries get entrytable rowatpoint getpoint basepanel entryhome get entry col entrytable columnatpoint getpoint jpopupmenu menu jpopupmenu count col file col use filelisttablemodel parse field content: filelisttablemodel filelist filelisttablemodel entry getfield fieldname file ifpresent filelist::setcontent one links open first one: filelist getrowcount filelistentry flentry filelist getentry string description flentry description description null description trim isempty description flentry link menu add externalfilemenuitem frame entry description flentry link flentry type get geticon getbibdatabasecontext flentry type count count menu show entrytable getx gety listener glazed list monitoring current selection selection changes need update preview panel entryselectionlistener listeventlistener<bibentry> override listchanged listevent<bibentry> listevent listevent getsourcelist size bibentry entry listevent getsourcelist get find basepanel selected entry belongs to: basepanel basepanel entryhome get entry update preview's database context: preview setdatabasecontext basepanel getbibdatabasecontext update preview's entry: preview setentry entry preview setbasepanel entryhome get entry preview setdatabasecontext entryhome get entry getbibdatabasecontext contentpane setdividerlocation 5f swingutilities invokelater preview scrollrecttovisible torect tableformat table shown dialog handles display entry fields icons linked files urls entrytableformat advancedtableformat<bibentry> override getcolumncount pad fields length override string getcolumnname column column pad stringutil capitalizefirst fields[column pad] else column database col localization lang database else override object getcolumnvalue bibentry entry column column pad switch column case database col: entryhome get entry gettabtitle case file col: entry hasfield fieldname file filelisttablemodel tmpmodel filelisttablemodel entry getfield fieldname file ifpresent tmpmodel::setcontent filelabel settooltiptext tmpmodel gettooltiphtmlrepresentation tmpmodel getrowcount tmpmodel getentry type ispresent filelabel seticon tmpmodel getentry type get geticon else filelabel seticon icontheme jabreficon file getsmallicon filelabel else null case url col: optional<string> urlfield entry getfield fieldname url urlfield ispresent urllabel settooltiptext urlfield get urllabel null default: null else string field fields[column pad] string fieldcontent entry getlatexfreefield field orelse internalbibtexfields getfieldproperties field contains fieldproperty person names name fields tap maintableformat instance use name formatting used entry table: maintablenameformatter formatname fieldcontent fieldcontent override class<?> getcolumnclass switch case file col: case url col: jlabel default: string override comparator<?> getcolumncomparator null 
244	BasePanelMode.java	GUI	net sf jabref gui defines different modes basepanel operate enum basepanelmode showing nothing showing preview showing editor show editor 
245	ClipBoardManager.java	GUI	net sf jabref gui awt toolkit awt datatransfer clipboard awt datatransfer clipboardowner awt datatransfer dataflavor awt datatransfer stringselection awt datatransfer transferable awt datatransfer unsupportedflavorexception io ioexception io stringreader util arraylist util list util optional net sf jabref globals net sf jabref logic importer fetcherexception net sf jabref logic importer fetcher doifetcher net sf jabref logic importer fileformat bibtexparser net sf jabref logic util doi net sf jabref model database bibdatabase net sf jabref model entry bibentry org apache commons logging log org apache commons logging logfactory clipboardmanager clipboardowner log logger logfactory getlog clipboardmanager clipboard clipboard toolkit getdefaulttoolkit getsystemclipboard empty implementation clipboardowner interface override lostownership clipboard aclipboard transferable acontents nothing place string clipboard make owner clipboard's contents setclipboardcontents string astring stringselection stringselection stringselection astring clipboard setcontents stringselection get string residing clipboard text found clipboard none found empty string string getclipboardcontents string result odd: object param getcontents currently used transferable contents clipboard getcontents null contents null contents isdataflavorsupported dataflavor stringflavor try result string contents gettransferdata dataflavor stringflavor catch unsupportedflavorexception ioexception highly unlikely since using standard dataflavor logger info problem getting clipboard contents result list<bibentry> extractbibentriesfromclipboard get clipboard contents see transferablebibtexentry among content flavors offered transferable content clipboard getcontents null list<bibentry> result arraylist<> content isdataflavorsupported transferablebibtexentry entryflavor determined clipboard data set entries try suppresswarnings unchecked list<bibentry> contents list<bibentry> content gettransferdata transferablebibtexentry entryflavor result contents catch unsupportedflavorexception classcastexception ex logger warn could paste type ex catch ioexception ex logger warn could paste ex else content isdataflavorsupported dataflavor stringflavor try string data string content gettransferdata dataflavor stringflavor fetch doi doi build data ispresent logger info found doi clipboard optional<bibentry> entry doifetcher globals prefs getimportformatpreferences performsearchbyid doi data getdoi entry ifpresent result::add else parse bibtex string bibtexparser bp bibtexparser globals prefs getimportformatpreferences bibdatabase db bp parse stringreader data getdatabase logger info parsed db getentrycount entries clipboard text db hasentries result db getentries catch unsupportedflavorexception ex logger warn could parse type ex catch ioexception ex logger warn data longer available requested flavor ex catch fetcherexception ex logger error error fetching ex result 
246	SpecialFieldDatabaseChangeListener.java	GUI	net sf jabref gui specialfields util list net sf jabref globals net sf jabref gui undo namedcompound net sf jabref gui undo undoablefieldchange net sf jabref logic l10n localization net sf jabref logic specialfields specialfieldsutils net sf jabref model fieldchange net sf jabref model database event entryaddedevent net sf jabref model entry bibentry com google common eventbus subscribe specialfielddatabasechangelistener specialfielddatabasechangelistener instance specialfielddatabasechangelistener getinstance specialfielddatabasechangelistener instance null specialfielddatabasechangelistener instance specialfielddatabasechangelistener specialfielddatabasechangelistener instance subscribe listen entryaddedevent event globals prefs iskeywordsyncenabled bibentry entry event getbibentry namedcompount code similar specialfieldupdatelistener namedcompound nc namedcompound localization lang synchronized special fields based keywords list<fieldchange> changes specialfieldsutils syncspecialfieldsfromkeywords entry globals prefs getkeyworddelimiter fieldchange change: changes nc addedit undoablefieldchange change insert compound undomanager would added component undoes insertion entry creates heavy problems prohibits undo deleting multiple entries 
247	SpecialFieldMenuAction.java	GUI	net sf jabref gui specialfields awt event actionevent javax swing abstractaction net sf jabref gui jabrefframe specialfieldmenuaction abstractaction jabrefframe frame string actionname specialfieldmenuaction specialfieldvalueviewmodel val jabrefframe frame super val getmenustring val getspecialfieldvalueicon frame frame actionname val getactionname override actionperformed actionevent evt frame getcurrentbasepanel null frame getcurrentbasepanel runcommand actionname 
248	SpecialFieldValueViewModel.java	GUI	net sf jabref gui specialfields util objects javax swing icon javax swing jlabel net sf jabref gui icontheme net sf jabref logic l10n localization net sf jabref model entry specialfields specialfieldvalue specialfieldvalueviewmodel specialfieldvalue value specialfieldvalueviewmodel specialfieldvalue value objects requirenonnull value value value icon getspecialfieldvalueicon switch value case printed: icontheme jabreficon printed getsmallicon case clear priority: null case priority high: icontheme jabreficon priority high getsmallicon case priority medium: icontheme jabreficon priority medium getsmallicon case priority low: icontheme jabreficon priority low getsmallicon case quality assured: icontheme jabreficon quality assured getsmallicon case clear rank: null case rank 1: icontheme jabreficon rank1 getsmallicon case rank 2: icontheme jabreficon rank2 getsmallicon case rank 3: icontheme jabreficon rank3 getsmallicon case rank 4: icontheme jabreficon rank4 getsmallicon case rank 5: icontheme jabreficon rank5 getsmallicon case clear read status: null case read: icontheme jabreficon read status read getsmallicon case skimmed: icontheme jabreficon read status skimmed getsmallicon case relevant: icontheme jabreficon relevance getsmallicon default: throw illegalargumentexception icon mapping special field value value jlabel createspecialfieldvaluelabel jlabel label jlabel getspecialfieldvalueicon label settooltiptext gettooltiptext label string getmenustring switch value case printed: localization lang toggle print status case clear priority: localization lang clear priority case priority high: localization lang set priority high case priority medium: localization lang set priority medium case priority low: localization lang set priority low case quality assured: localization lang toggle quality assured case clear rank: localization lang clear rank case rank 1: case rank 2: case rank 3: case rank 4: case rank 5: case clear read status: localization lang clear read status case read: localization lang set read status read case skimmed: localization lang set read status skimmed case relevant: localization lang toggle relevance default: throw illegalargumentexception tooltip localization special field value value string gettooltiptext switch value case printed: localization lang toggle print status case clear priority: localization lang priority information case priority high: localization lang priority high case priority medium: localization lang priority medium case priority low: localization lang priority low case quality assured: localization lang toggle quality assured case clear rank: localization lang rank information case rank 1: localization lang one star case rank 2: localization lang two stars case rank 3: localization lang three stars case rank 4: localization lang four stars case rank 5: localization lang five stars case clear read status: localization lang read status information case read: localization lang read status read case skimmed: localization lang read status skimmed case relevant: localization lang toggle relevance default: throw illegalargumentexception tooltip localization special field value value string getactionname switch value case printed: toggleprinted case clear priority: clearpriority case priority high: setpriority1 case priority medium: setpriority2 case priority low: setpriority3 case quality assured: togglequalityassured case clear rank: clearrank case rank 1: setrank1 case rank 2: setrank2 case rank 3: setrank3 case rank 4: setrank4 case rank 5: setrank5 case clear read status: clearreadstatus case read: setreadstatustoread case skimmed: setreadstatustoskimmed case relevant: togglerelevance default: throw illegalargumentexception action name special field value value 
249	SpecialFieldUpdateListener.java	GUI	net sf jabref gui specialfields javax swing swingutilities net sf jabref globals net sf jabref jabrefgui net sf jabref logic specialfields specialfieldsutils net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model entry event fieldchangedevent net sf jabref model entry specialfields specialfield com google common eventbus subscribe listener triggering update keywords special field updated update special fields keywords updated specialfieldupdatelistener specialfieldupdatelistener instance subscribe listen fieldchangedevent fieldchangedevent bibentry entry fieldchangedevent getbibentry string fieldname fieldchangedevent getfieldname source editor cycles entries immediately updated fields entry editor would detect subsequent change user change fire event keyword prio1 priority prio2 change keyword prio3 would succeed swingutilities invokelater fieldname keywords equals fieldname specialfieldsutils syncspecialfieldsfromkeywords entry globals prefs getkeyworddelimiter swingutilities invokelater jabrefgui getmainframe getcurrentbasepanel updateentryeditorifshowing else specialfield isspecialfield fieldname specialfieldsutils synckeywordsfromspecialfields entry globals prefs iskeywordsyncenabled globals prefs getkeyworddelimiter swingutilities invokelater jabrefgui getmainframe getcurrentbasepanel updateentryeditorifshowing specialfieldupdatelistener getinstance specialfieldupdatelistener instance null specialfieldupdatelistener instance specialfieldupdatelistener specialfieldupdatelistener instance 
250	SpecialFieldAction.java	GUI	net sf jabref gui specialfields util list util objects net sf jabref globals net sf jabref gui jabrefframe net sf jabref gui actions baseaction net sf jabref gui undo namedcompound net sf jabref gui undo undoablefieldchange net sf jabref logic l10n localization net sf jabref logic specialfields specialfieldsutils net sf jabref model fieldchange net sf jabref model entry bibentry net sf jabref model entry specialfields specialfield org apache commons logging log org apache commons logging logfactory specialfieldaction baseaction jabrefframe frame specialfield specialfield string value boolean nullfieldifvalueisthesame string undotext log logger logfactory getlog specialfieldaction param nullfieldifvalueisthesame false also causes donetextpattern two place holders value sum entries specialfieldaction jabrefframe frame specialfield specialfield string value boolean nullfieldifvalueisthesame string undotext frame frame specialfield specialfield value value nullfieldifvalueisthesame nullfieldifvalueisthesame undotext undotext override action try list<bibentry> bes frame getcurrentbasepanel getselectedentries bes null bes isempty namedcompound ce namedcompound undotext bibentry bes value null call nullfield omitted updatefield also handles value null list<fieldchange> changes specialfieldsutils updatefield specialfield value nullfieldifvalueisthesame globals prefs iskeywordsyncenabled globals prefs getkeyworddelimiter fieldchange change: changes ce addedit undoablefieldchange change ce end ce hasedits frame getcurrentbasepanel getundomanager addedit ce frame getcurrentbasepanel markbasechanged frame getcurrentbasepanel updateentryeditorifshowing string outtext nullfieldifvalueisthesame value null outtext gettextdone specialfield integer tostring bes size else outtext gettextdone specialfield value integer tostring bes size frame output outtext else user change anything action anything either even output message catch throwable ex logger error problem setting special fields ex string gettextdone specialfield field string params objects requirenonnull params specialfieldviewmodel viewmodel specialfieldviewmodel field field issinglevaluefield params length params[0] null single value fields toggled localization lang toggled 0' entries viewmodel getlocalization params[0] else field issinglevaluefield params length params[0] null params[1] null setting multi value special field setted value displayed string[] allparams viewmodel getlocalization params[0] params[1] localization lang set 0' 1' entries allparams else field issinglevaluefield params length params[0] null clearing multi value specialfield localization lang cleared 0' entries viewmodel getlocalization params[0] else invalid usage logger info creation special field status change message failed: illegal argument combination 
251	SpecialFieldDropDown.java	GUI	net sf jabref gui specialfields awt dimension awt insets awt event actionevent awt event actionlistener javax swing jbutton javax swing jmenuitem javax swing jpopupmenu net sf jabref gui basepanel net sf jabref gui jabrefframe net sf jabref logic util os net sf jabref model entry specialfields specialfield net sf jabref model entry specialfields specialfieldvalue com jgoodies looks headerstyle com jgoodies looks options specialfielddropdown jbutton generatespecialfieldbuttonwithdropdown specialfield field jabrefframe frame dimension buttondim dimension specialfieldviewmodel viewmodel specialfieldviewmodel field jbutton button jbutton viewmodel getrepresentingicon button settooltiptext viewmodel getlocalization button setpreferredsize buttondim os os button setmargin insets button setborder null button setborderpainted false button setrolloverenabled true button setopaque false button setbounds buttondim width buttondim height button setsize buttondim button setminimumsize buttondim button setmaximumsize buttondim button putclientproperty options header style key headerstyle button addactionlistener menubuttonactionlistener field frame button buttondim button menubuttonactionlistener actionlistener jpopupmenu popup dimension dim jabrefframe frame specialfield field jbutton button menubuttonactionlistener specialfield field jabrefframe frame jbutton button dimension dim field field dim dim frame frame button button override actionperformed actionevent popup null popup jpopupmenu specialfieldvalue val field getvalues specialfieldvalueviewmodel viewmodel specialfieldvalueviewmodel val jmenuitem item jmenuitem viewmodel getspecialfieldvalueicon item settext viewmodel getmenustring item settooltiptext viewmodel gettooltiptext item addactionlistener popupitemactionlistener frame getcurrentbasepanel specialfieldvalueviewmodel val getactionname item setmargin insets popup add item popup show button dim height popupitemactionlistener actionlistener basepanel panel string actionname popupitemactionlistener basepanel panel string actionname panel panel actionname actionname override actionperformed actionevent panel runcommand actionname popup setvisible false 
252	SpecialFieldViewModel.java	GUI	net sf jabref gui specialfields util objects javax swing icon net sf jabref gui icontheme net sf jabref gui jabrefframe net sf jabref logic l10n localization net sf jabref model entry specialfields specialfield net sf jabref model entry specialfields specialfieldvalue specialfieldviewmodel specialfield field specialfieldviewmodel specialfield field objects requirenonnull field field field specialfieldaction getspecialfieldaction specialfieldvalue value jabrefframe frame specialfieldaction frame field value getfieldvalue orelse null field contains one value nulled otherwise another setting empty field field getvalues size getlocalization icon getrepresentingicon switch field case printed: icontheme jabreficon printed getsmallicon case priority: icontheme jabreficon priority getsmallicon case quality: icontheme jabreficon quality getsmallicon case ranking: icontheme jabreficon ranking geticon case read status: icontheme jabreficon read status getsmallicon case relevance: icontheme jabreficon relevance getsmallicon default: throw illegalargumentexception icon mapping special field field string getlocalization switch field case printed: localization lang printed case priority: localization lang priority case quality: localization lang quality case ranking: localization lang rank case read status: localization lang read status case relevance: localization lang relevance default: throw illegalargumentexception icon mapping special field field 
253	ExternalFileMenuItem.java	GUI	net sf jabref gui externalfiletype awt event actionevent awt event actionlistener io file io ioexception util optional javax swing icon javax swing jmenuitem javax swing joptionpane net sf jabref gui jabrefframe net sf jabref gui desktop jabrefdesktop net sf jabref logic l10n localization net sf jabref model database bibdatabasecontext net sf jabref model entry bibentry org apache commons logging log org apache commons logging logfactory menu item used popup menu opening external resources associated entry shows resource name icon given adds action listener process request user clicks menu item externalfilemenuitem jmenuitem actionlistener log logger logfactory getlog externalfilemenuitem bibentry entry string link bibdatabasecontext databasecontext optional<externalfiletype> filetype jabrefframe frame string fieldname externalfilemenuitem jabrefframe frame bibentry entry string name string link icon icon bibdatabasecontext databasecontext optional<externalfiletype> filetype super name icon frame frame entry entry link link databasecontext databasecontext filetype filetype addactionlistener externalfilemenuitem jabrefframe frame bibentry entry string name string link icon icon bibdatabasecontext databasecontext string fieldname frame entry name link icon databasecontext optional empty fieldname fieldname override actionperformed actionevent boolean success openlink success frame output localization lang unable open link boolean openlink frame output localization lang external viewer called try optional<externalfiletype> type filetype filetype ispresent fieldname null already know file type try deduce extension: file file file link try check extension file: string name file getname pos name indexof string extension pos pos name length name substring pos trim tolowercase null know extension check one know about: type externalfiletypes getinstance getexternalfiletypebyext extension filetype type else jabrefdesktop openexternalviewer databasecontext link fieldname true type ispresent type get instanceof unknownexternalfiletype jabrefdesktop openexternalfileunknown frame entry databasecontext link unknownexternalfiletype type get else jabrefdesktop openexternalfileanyformat databasecontext link type catch ioexception e1 see show error message concerning application open link check file type set file type non empty application link link referred error message assume problem open application setting: filetype ispresent filetype get getopenwithapplication isempty e1 getmessage contains filetype get getopenwithapplication joptionpane showmessagedialog frame localization lang unable open link application 0' associated file type 1' could called filetype get getopenwithapplication filetype get getname localization lang could open link joptionpane error message false logger warn unable open link e1 false 
254	ExternalFileType.java	GUI	net sf jabref gui externalfiletype util objects javax swing icon javax swing jlabel net sf jabref gui icontheme defines type external files linked jabref contains enough information provide icon standard extension link application handles files type externalfiletype comparable<externalfiletype> string name string extension string openwith string iconname string mimetype icon icon jlabel label jlabel externalfiletype string name string extension string mimetype string openwith string iconname icon icon label settext null name name label settooltiptext name extension extension mimetype mimetype openwith openwith seticonname iconname seticon icon construct externalfiletype string array used reading file type definitions preferences available data types limited assume array contains values main constructor order param val arguments externalfiletype buildfromargs string[] val val null val length val length throw illegalargumentexception cannot construct externalfiletype without four elements string[] argument string name val[0] string extension val[1] string openwith string mimetype string iconname icon icon val length version 4b mime type included: mimetype openwith val[2] iconname val[3] else mime type included array length 5: mimetype val[2] openwith val[3] iconname val[4] set icon default first icon icontheme jabreficon file getsmallicon check whether another icon defined file type externalfiletype filetype externalfiletypes getdefaultexternalfiletypes filetype getname equals name icon filetype icon break externalfiletype name extension mimetype openwith iconname icon string array representing file type used storage preferences array used construct file type later using string[] constructor string[] containing information file type string[] getstringarrayrepresentation string[] name extension mimetype openwith iconname string getname name setname string name name name label settooltiptext name string getextension extension null extension setextension string extension extension extension string getmimetype mimetype null mimetype setmimetype string mimetype mimetype mimetype get bibtex field name used extension file type currently assume field name equals filename extension field name string getfieldname extension string getopenwithapplication openwith null openwith setopenwith string openwith openwith openwith set string associated file type's icon param name icon name use seticonname string name iconname name obtain jlabel instance set file type's icon jlabel returned call method label jlabel geticonlabel label get string associated file type's icon icon name string geticonname iconname icon geticon icon seticon icon icon icon icon label seticon icon override string tostring getname override compareto externalfiletype getname compareto getname externalfiletype copy externalfiletype name extension mimetype openwith iconname icon override hashcode objects hash name extension mimetype openwith iconname define two file type objects equal name extension openwith iconname equal param object file type compare true file types equal override boolean equals object object object true object instanceof externalfiletype externalfiletype externalfiletype object objects equals name name objects equals extension extension objects equals mimetype mimetype objects equals openwith openwith objects equals iconname iconname false 
255	ExternalFileTypeEditor.java	GUI	net sf jabref gui externalfiletype awt borderlayout awt component awt event actionevent awt event actionlistener awt event mouseadapter awt event mouseevent util arraylist util collection util collections util list javax swing abstractaction javax swing action javax swing actionmap javax swing borderfactory javax swing icon javax swing imageicon javax swing inputmap javax swing jbutton javax swing jcomponent javax swing jdialog javax swing jframe javax swing jlabel javax swing jpanel javax swing jscrollpane javax swing jtable javax swing table abstracttablemodel javax swing table tablecellrenderer net sf jabref globals net sf jabref gui icontheme net sf jabref gui jabrefframe net sf jabref gui actions mnemonicawareaction net sf jabref gui keyboard keybinding net sf jabref gui util guiutil net sf jabref logic l10n localization com jgoodies forms builder buttonbarbuilder com jgoodies forms builder buttonstackbuilder editor external file types externalfiletypeeditor jdialog jframe frame jdialog dialog list<externalfiletype> filetypes jtable table externalfiletypeentryeditor entryeditor filetypetablemodel tablemodel jbutton ok jbutton localization lang ok jbutton cancel jbutton localization lang cancel jbutton add jbutton icontheme jabreficon add nobox geticon jbutton remove jbutton icontheme jabreficon remove nobox geticon jbutton edit jbutton icontheme jabreficon edit geticon jbutton todefaults jbutton localization lang default editlistener editlistener editlistener externalfiletypeeditor jframe frame super frame localization lang manage external file types true frame frame init externalfiletypeeditor jdialog dialog super dialog localization lang manage external file types true dialog dialog init update editor show current settings preferences setvalues filetypes clear collection<externalfiletype> types externalfiletypes getinstance getexternalfiletypeselection externalfiletype type types filetypes add type copy collections sort filetypes store list external entry types preferences storesettings externalfiletypes getinstance setexternalfiletypes filetypes init ok addactionlistener storesettings dispose action cancelaction abstractaction override actionperformed actionevent dispose cancel addactionlistener cancelaction todefaults resets entire list default values todefaults addactionlistener reply joptionpane showconfirmdialog externalfiletypeeditor globals lang custom file types lost proceed? globals lang reset file type definitions joptionpane yes option joptionpane question message reply joptionpane yes option list<externalfiletype> list externalfiletypes getdefaultexternalfiletypes filetypes clear filetypes addall list collections sort filetypes globals prefs resetexternalfiletypestodefault setvalues tablemodel firetabledatachanged add addactionlistener generate file type: externalfiletype type externalfiletype icontheme jabreficon file getsmallicon show file type editor: geteditor type setvisible true entryeditor okpressed ok pressed add file type update table: filetypes add type tablemodel firetabledatachanged remove addactionlistener int[] rows table getselectedrows rows length rows length filetypes remove rows[i] tablemodel firetabledatachanged filetypes isempty row math min rows[0] filetypes size table setrowselectioninterval row row edit addactionlistener editlistener filetypes arraylist<> setvalues tablemodel filetypetablemodel table jtable tablemodel table setdefaultrenderer imageicon iconrenderer table addmouselistener tableclicklistener table getcolumnmodel getcolumn setmaxwidth table getcolumnmodel getcolumn setminwidth table getcolumnmodel getcolumn setminwidth table getcolumnmodel getcolumn setminwidth table getcolumnmodel getcolumn setminwidth table getcolumnmodel getcolumn setresizable false guiutil correctrowheight table jscrollpane sp jscrollpane table jpanel upper jpanel upper setlayout borderlayout upper setborder borderfactory createemptyborder upper add sp borderlayout center getcontentpane add upper borderlayout center buttonstackbuilder bs buttonstackbuilder bs addbutton add bs addbutton remove bs addbutton edit bs addrelatedgap bs addbutton todefaults upper add bs getpanel borderlayout east buttonbarbuilder bb buttonbarbuilder bb addglue bb addbutton ok bb addbutton cancel bb addglue bb getpanel setborder borderfactory createemptyborder getcontentpane add bb getpanel borderlayout south pack key bindings: actionmap upper getactionmap inputmap im upper getinputmap jcomponent focused window im put globals getkeyprefs getkey keybinding close dialog close put close cancelaction bb getpanel getactionmap im bb getpanel getinputmap jcomponent focused window im put globals getkeyprefs getkey keybinding close dialog close put close cancelaction frame null setlocationrelativeto dialog else setlocationrelativeto frame externalfiletypeentryeditor geteditor externalfiletype type entryeditor null entryeditor externalfiletypeentryeditor externalfiletypeeditor type else entryeditor setentry type entryeditor get abstractaction opening external file types editor param frame jframe used parent window dialog action opening editor abstractaction getaction jabrefframe frame editexternalfiletypesaction frame get abstractaction opening external file types editor param dialog jdialog used parent window dialog action opening editor abstractaction getaction jdialog dialog editexternalfiletypesaction dialog editlistener actionlistener override actionperformed actionevent int[] rows table getselectedrows rows length geteditor filetypes get rows[0] setvisible true entryeditor okpressed tablemodel firetabledatachanged iconrenderer tablecellrenderer jlabel lab jlabel override component gettablecellrenderercomponent jtable tab object value boolean isselected boolean hasfocus row column lab settext null lab seticon icon value lab filetypetablemodel abstracttablemodel override getcolumncount override getrowcount filetypes size override string getcolumnname column switch column case 0: case 1: localization lang name case 2: localization lang extension case 3: localization lang mime type default: five columns localization lang application override class<?> getcolumnclass columnindex columnindex imageicon else string override object getvalueat rowindex columnindex externalfiletype type filetypes get rowindex switch columnindex case 0: type geticon case 1: type getname case 2: type getextension case 3: type getmimetype default: type getopenwithapplication tableclicklistener mouseadapter handleclick mouseevent getclickcount editlistener actionperformed null override mouseclicked mouseevent handleclick override mousepressed mouseevent handleclick override mousereleased mouseevent handleclick editexternalfiletypesaction mnemonicawareaction jabrefframe frame jdialog dialog externalfiletypeeditor editor editexternalfiletypesaction jabrefframe frame super putvalue action name localization menutitle manage external file types frame frame editexternalfiletypesaction jdialog dialog super putvalue action name localization menutitle manage external file types dialog dialog override actionperformed actionevent editor null frame null editor externalfiletypeeditor dialog else editor externalfiletypeeditor frame editor setvalues editor setvisible true frame null frame getcurrentbasepanel null frame getcurrentbasepanel getmaintable repaint 
256	UnknownExternalFileType.java	GUI	net sf jabref gui externalfiletype net sf jabref gui icontheme subclass externalfiletype used mark types unknown case database loaded contains links files type defined jabref instance unknownexternalfiletype externalfiletype unknownexternalfiletype string name super name unknown icontheme jabreficon file getsmallicon 
257	ExternalFileTypeEntryEditor.java	GUI	net sf jabref gui externalfiletype awt borderlayout awt dimension awt event actionlistener nio file path util optional javax swing borderfactory javax swing buttongroup javax swing jbutton javax swing jdialog javax swing jframe javax swing jlabel javax swing jpanel javax swing jradiobutton javax swing jtextfield javax swing event documentevent javax swing event documentlistener net sf jabref globals net sf jabref gui filedialog net sf jabref gui icontheme net sf jabref logic l10n localization net sf jabref logic util os net sf jabref preferences jabrefpreferences com jgoodies forms builder buttonbarbuilder com jgoodies forms builder formbuilder com jgoodies forms layout formlayout produces dialog box editing external file type externalfiletypeentryeditor jframe fparent jdialog dparent jdialog diag jtextfield extension jtextfield jtextfield name jtextfield jtextfield mimetype jtextfield jtextfield application jtextfield jlabel icon jlabel icontheme jabreficon file getsmallicon jbutton ok jbutton localization lang ok jbutton cancel jbutton localization lang cancel jradiobutton usedefault jradiobutton localization lang default jradiobutton jradiobutton string editfiletitle localization lang edit file type string newfiletitle localization lang add file type externalfiletype entry boolean okpressed actionlistener browsepressed string appdir application gettext trim appdir isempty appdir globals prefs get jabrefpreferences working directory optional<path> path filedialog fparent appdir showdialogandgetselectedfile path ifpresent applicationdir applicationdir getparent null globals prefs put jabrefpreferences working directory applicationdir getparent tostring application settext applicationdir tostring externalfiletypeentryeditor jframe parent externalfiletype entry fparent parent init entry externalfiletypeentryeditor jdialog parent externalfiletype entry dparent parent init entry init externalfiletype inentry entry inentry icon settext null buttongroup bg buttongroup bg add usedefault bg add formbuilder builder formbuilder create builder layout formlayout left:pref 4dlu fill:150dlu 4dlu fill:pref 2dlu 2dlu 2dlu 2dlu 2dlu builder add localization lang icon xy builder add icon xy builder add localization lang name xy builder add name xy builder add localization lang extension xy builder add extension xy builder add localization lang mime type xy builder add mimetype xy builder getpanel setborder borderfactory createemptyborder builder add localization lang application xy jbutton browsebut jbutton localization lang browse os windows builder add usedefault xy builder appendrows 2dlu jpanel p1 jpanel builder add p1 xy jpanel p2 jpanel application setpreferredsize dimension application getpreferredsize height borderlayout bl borderlayout bl sethgap p2 setlayout bl p2 add borderlayout west p2 add application borderlayout center builder add p2 xy builder add browsebut xy else builder add application xy builder add browsebut xy buttonbarbuilder bb buttonbarbuilder bb addglue bb addbutton ok bb addbutton cancel bb addglue ok addactionlistener okpressed true storesettings externalfiletypeentryeditor entry diag dispose cancel addactionlistener diag dispose os windows application getdocument adddocumentlistener documentlistener handle application gettext isempty usedefault setselected true else setselected true override insertupdate documentevent documentevent handle override removeupdate documentevent documentevent handle override changedupdate documentevent documentevent handle string title editfiletitle entry getname isempty title newfiletitle dparent null diag jdialog fparent title true else diag jdialog dparent title true diag getcontentpane add builder getpanel borderlayout center diag getcontentpane add bb getpanel borderlayout south diag pack browsebut addactionlistener browsepressed dparent null diag setlocationrelativeto fparent else diag setlocationrelativeto dparent setvalues entry setentry externalfiletype entry entry entry entry getname isempty diag settitle newfiletitle else diag settitle editfiletitle setvalues entry setvisible boolean visible visible okpressed false diag setvisible visible setvalues externalfiletype entry name settext entry getname extension settext entry getextension mimetype settext entry getmimetype application settext entry getopenwithapplication icon seticon entry geticon application gettext isempty usedefault setselected true else setselected true storesettings externalfiletype filetypeentry filetypeentry setname name gettext trim filetypeentry setmimetype mimetype gettext trim set extension remove initial dot user added that: string ext extension gettext trim ext isempty ext charat filetypeentry setextension ext substring else filetypeentry setextension ext os windows windows store application empty default option selected application name empty: usedefault isselected application gettext trim isempty filetypeentry setopenwith else filetypeentry setopenwith application gettext trim else filetypeentry setopenwith application gettext trim boolean okpressed okpressed 
258	ExternalFileTypes.java	GUI	net sf jabref gui externalfiletype util arraylist util list util optional util set util treeset net sf jabref globals net sf jabref gui icontheme net sf jabref logic l10n localization net sf jabref model entry filefield net sf jabref model strings stringutil net sf jabref preferences jabrefpreferences externalfiletypes string used encoded list prefs external file type modifications order indicate removed default file type: string file type removed flag removed map containing registered external file types: set<externalfiletype> externalfiletypes treeset<> externalfiletype html fallback type externalfiletype url html text html www icontheme jabreficon www getsmallicon instance class: externalfiletypes singleton externalfiletypes getinstance externalfiletypes singleton null externalfiletypes singleton externalfiletypes externalfiletypes singleton externalfiletypes updateexternalfiletypes list<externalfiletype> getdefaultexternalfiletypes list<externalfiletype> list arraylist<> list add externalfiletype pdf pdf application pdf evince pdfsmall icontheme jabreficon pdf file getsmallicon list add externalfiletype postscript ps application postscript evince pssmall icontheme jabreficon file getsmallicon list add externalfiletype word doc application msword oowriter openoffice icontheme jabreficon file word getsmallicon list add externalfiletype word docx application vnd openxmlformats officedocument wordprocessingml document oowriter openoffice icontheme jabreficon file word getsmallicon list add externalfiletype localization lang opendocument text odt application vnd oasis opendocument text oowriter openoffice icontheme getimage openoffice list add externalfiletype excel xls application excel oocalc openoffice icontheme jabreficon file excel getsmallicon list add externalfiletype excel xlsx application vnd openxmlformats officedocument spreadsheetml sheet oocalc openoffice icontheme jabreficon file excel getsmallicon list add externalfiletype localization lang opendocument spreadsheet ods application vnd oasis opendocument spreadsheet oocalc openoffice icontheme getimage openoffice list add externalfiletype powerpoint ppt application vnd ms powerpoint ooimpress openoffice icontheme jabreficon file powerpoint getsmallicon list add externalfiletype powerpoint pptx application vnd openxmlformats officedocument presentationml presentation ooimpress openoffice icontheme jabreficon file powerpoint getsmallicon list add externalfiletype localization lang opendocument presentation odp application vnd oasis opendocument presentation ooimpress openoffice icontheme getimage openoffice list add externalfiletype rich text format rtf application rtf oowriter openoffice icontheme jabreficon file text getsmallicon list add externalfiletype localization lang image png png image png gimp picture icontheme jabreficon picture getsmallicon list add externalfiletype localization lang image gif gif image gif gimp picture icontheme jabreficon picture getsmallicon list add externalfiletype localization lang image jpg jpg image jpeg gimp picture icontheme jabreficon picture getsmallicon list add externalfiletype djvu djvu image vnd djvu evince pssmall icontheme jabreficon file getsmallicon list add externalfiletype text txt text plain emacs emacs icontheme jabreficon file text getsmallicon list add externalfiletype latex tex application latex emacs emacs icontheme jabreficon file text getsmallicon list add externalfiletype chm chm application mshelp gnochm www icontheme jabreficon www getsmallicon list add externalfiletype localization lang image tiff tiff image tiff gimp picture icontheme jabreficon picture getsmallicon list add externalfiletype url html text html firefox www icontheme jabreficon www getsmallicon list add externalfiletype mht mht multipart related firefox www icontheme jabreficon www getsmallicon list add externalfiletype epub epub application epub zip firefox www icontheme jabreficon www getsmallicon oses generic application available handle file opening need default application settings anymore: externalfiletype type list type setopenwith list set<externalfiletype> getexternalfiletypeselection externalfiletypes look external file type registered name param name file type name externalfiletype registered null none optional<externalfiletype> getexternalfiletypebyname string name externalfiletype type externalfiletypes type getname equals name optional type instance signifies unknown file type: optional unknownexternalfiletype name look external file type registered extension param extension file extension externalfiletype registered null none optional<externalfiletype> getexternalfiletypebyext string extension externalfiletype type externalfiletypes type getextension equalsignorecase extension optional type optional empty returns true external file type registered extension param extension file extension true externalfiletype extension exists false otherwise boolean isexternalfiletypebyext string extension externalfiletype type externalfiletypes type getextension equalsignorecase extension true false look external file type name registered extension param extension file extension name externalfiletype registered null none string getexternalfiletypenamebyext string extension externalfiletype type externalfiletypes type getextension equalsignorecase extension type getname look external file type registered filename param filename name file whose type look externalfiletype registered null none optional<externalfiletype> getexternalfiletypeforname string filename longestfound externalfiletype foundtype null externalfiletype type externalfiletypes type getextension isempty filename tolowercase endswith type getextension tolowercase type getextension length longestfound longestfound type getextension length foundtype type optional ofnullable foundtype look external file type registered mime type param mimetype mime type externalfiletype registered null none mime type text html valid file type guaranteed returned optional<externalfiletype> getexternalfiletypebymimetype string mimetype externalfiletype type externalfiletypes type getmimetype equalsignorecase mimetype optional type text html equalsignorecase mimetype optional html fallback type else optional empty reset list external file types user customization param types list external file types complete list entries setexternalfiletypes list<externalfiletype> types first find list default types: list<externalfiletype> deftypes getdefaultexternalfiletypes make list types unchanged: list<externalfiletype> unchanged arraylist<> externalfiletypes clear externalfiletype type types externalfiletypes add type see find type matching name default type list: externalfiletype found null externalfiletype deftype deftypes deftype getname equals type getname found deftype break found null found check exact match customized: found equals type unchanged add type else modified remove entry defaults list since type removed: deftypes remove found go unchanged types remove ones stored list defaults since need mention prefs: externalfiletype type unchanged deftypes remove type types remove type set array write prefs containing types modified types flag denoting default type removed: string[][] array string[types size deftypes size ][] externalfiletype type types array[i] type getstringarrayrepresentation externalfiletype type deftypes array[i] string[] type getname file type removed flag globals prefs put jabrefpreferences external file types filefield encodestringarray array set list external file types either default values values recorded preferences updateexternalfiletypes first get list default file types starting point: list<externalfiletype> types getdefaultexternalfiletypes changes stored simply use defaults: globals prefs get jabrefpreferences external file types null null externalfiletypes clear externalfiletypes addall types read prefs information file types: string[][] vals stringutil decodestringdoublearray globals prefs get jabrefpreferences external file types string[] val vals val length val[1] equals file type removed flag entry indicates default entry type removed: externalfiletype toremove null externalfiletype type types type getname equals val[0] toremove type break found remove type list: toremove null types remove toremove else modified entry type construct string array: externalfiletype type externalfiletype buildfromargs val check default type name modification type remove default one: externalfiletype toremove null externalfiletype deftype types type getname equals deftype getname toremove deftype break found remove type list: toremove null types remove toremove add one: types add type finally build list types based modified defaults list: externalfiletypes addall types 
259	DuplicateSearch.java	GUI	net sf jabref gui util arraylist util arrays util list javax swing swingutilities net sf jabref jabrefexecutorservice net sf jabref jabrefgui net sf jabref gui duplicateresolverdialog duplicateresolverresult net sf jabref gui duplicateresolverdialog duplicateresolvertype net sf jabref gui undo namedcompound net sf jabref gui undo undoableinsertentry net sf jabref gui undo undoableremoveentry net sf jabref gui worker callback net sf jabref logic l10n localization net sf jabref model duplicatecheck net sf jabref model entry bibentry spin spin duplicatesearch runnable basepanel panel list<bibentry> bes list<list<bibentry>> duplicates arraylist<> duplicatesearch basepanel bp panel bp override run panel output localization lang searching duplicates bes panel getdatabase getentries bes size searcherrunnable st searcherrunnable jabrefexecutorservice instance executewithlowpriorityinownthread st searcher current list<bibentry> toremove arraylist<> list<bibentry> toadd arraylist<> duplicatecounter boolean autoremoveexactduplicates false synchronized duplicates st finished current duplicates size current duplicates size wait search thread puts something duplicates vector finish work try duplicates wait catch interruptedexception ignored ignore else duplicates found list<bibentry> duplicates get current current toremove contains get toremove contains get check exact duplicates: boolean askaboutexact false duplicatecheck compareentriesstrictly get get autoremoveexactduplicates toremove add get duplicatecounter continue askaboutexact true duplicatecallback cb duplicatecallback jabrefgui getmainframe get get askaboutexact duplicateresolvertype duplicate search exact duplicateresolvertype duplicate search callback spin cb update duplicatecounter duplicateresolverresult answer cb getselected answer duplicateresolverresult keep left answer duplicateresolverresult autoremove exact toremove add get answer duplicateresolverresult autoremove exact autoremoveexactduplicates true remember choice else answer duplicateresolverresult keep right toremove add get else answer duplicateresolverresult break st setfinished thread killing current integer max value duplicatecounter correct counter else answer duplicateresolverresult keep merge toremove addall toadd add cb getmergedentry namedcompound ce namedcompound localization lang duplicate removal duplic duplicatecounter swingutilities invokelater runnable override run actual removal: toremove isempty bibentry entry toremove panel getdatabase removeentry entry ce addedit undoableremoveentry panel getdatabase entry panel panel markbasechanged adding merged entries: toadd isempty bibentry entry toadd panel getdatabase insertentry entry ce addedit undoableinsertentry panel getdatabase entry panel panel markbasechanged synchronized duplicates panel output localization lang duplicates found duplicates size localization lang pairs processed duplic ce end panel getundomanager addedit ce searcherrunnable runnable volatile boolean finished override run bes size finished bes size finished bibentry first bes get bibentry second bes get boolean eq duplicatecheck isduplicate first second panel getbibdatabasecontext getmode suspected duplicates add duplicates vector eq synchronized duplicates duplicates add arrays aslist first second duplicates notifyall send wake finished true duplicates found graphical thread never wake synchronized duplicates duplicates notifyall boolean finished finished thread cancel option synchronized used really critical situations expected setfinished finished true duplicatecallback callback duplicateresolverresult reply duplicateresolverresult chosen jabrefframe frame bibentry one bibentry two duplicateresolvertype dialogtype bibentry merged duplicatecallback jabrefframe frame bibentry one bibentry two duplicateresolvertype dialogtype frame frame one one two two dialogtype dialogtype duplicateresolverresult getselected reply bibentry getmergedentry merged override update duplicateresolverdialog diag duplicateresolverdialog frame one two dialogtype diag setvisible true diag dispose reply diag getselected merged diag getmergedentry 
260	MonitoredURLDownload.java	GUI	net sf jabref gui net awt component io inputstream net url javax swing progressmonitorinputstream net sf jabref logic net urldownload monitoredurldownload urldownload buildmonitoreddownload component component url source urldownload source override inputstream monitorinputstream inputstream progressmonitorinputstream component downloading getsource 
261	PreambleEditor.java	GUI	net sf jabref gui awt borderlayout awt component awt container awt gridbagconstraints awt gridbaglayout awt insets awt event actionevent awt event focusadapter awt event focusevent awt event windowadapter awt event windowevent javax swing abstractaction javax swing action javax swing jdialog javax swing jpanel javax swing layoutfocustraversalpolicy javax swing text jtextcomponent net sf jabref globals net sf jabref gui actions actions net sf jabref gui fieldeditors fieldeditor net sf jabref gui fieldeditors textarea net sf jabref gui keyboard keybinding net sf jabref gui undo undoablepreamblechange net sf jabref gui util windowlocation net sf jabref logic l10n localization net sf jabref model database bibdatabase net sf jabref preferences jabrefpreferences preambleeditor jdialog reference entry object works bibdatabase database basepanel panel fieldeditor editor undoaction undoaction undoaction storefieldaction storefieldaction storefieldaction redoaction redoaction redoaction action concerned closing window closeaction closeaction closeaction preambleeditor jabrefframe baseframe basepanel panel bibdatabase database super baseframe panel panel database database addwindowlistener windowadapter override windowclosing windowevent closeaction actionperformed null override windowopened windowevent editor requestfocus setfocustraversalpolicy layoutfocustraversalpolicy override boolean accept component super accept instanceof fieldeditor jpanel pan jpanel gridbaglayout gbl gridbaglayout pan setlayout gbl gridbagconstraints con gridbagconstraints con fill gridbagconstraints con weighty con insets insets editor textarea localization lang preamble database getpreamble orelse setupjtextcomponent textarea editor gbl setconstraints editor getlabel con pan add editor getlabel con weightx gbl setconstraints editor getpane con pan add editor getpane container conpane getcontentpane conpane add pan borderlayout center settitle localization lang edit preamble windowlocation pw windowlocation jabrefpreferences preamble pos jabrefpreferences preamble pos jabrefpreferences preamble size jabrefpreferences preamble size pw displaywindowatstoredlocation setupjtextcomponent jtextcomponent ta set key bindings focus listener fieldeditor ta getinputmap put globals getkeyprefs getkey keybinding close dialog close ta getactionmap put close closeaction ta getinputmap put globals getkeyprefs getkey keybinding preamble editor store changes store ta getactionmap put store storefieldaction ta getinputmap put globals getkeyprefs getkey keybinding undo undo ta getactionmap put actions undo undoaction ta getinputmap put globals getkeyprefs getkey keybinding redo redo ta getactionmap put actions redo redoaction ta addfocuslistener fieldlistener updatepreamble editor settext database getpreamble orelse fieldlistener focusadapter focus listener fires storefieldaction textarea loses focus override focuslost focusevent istemporary storefieldaction actionperformed actionevent getsource storefieldaction abstractaction storefieldaction super store field value putvalue action short description store field value override actionperformed actionevent string toset editor gettext check field changed since want mark base changed unless real change database getpreamble orelse equals toset panel getundomanager addedit undoablepreamblechange database panel database getpreamble orelse null toset database setpreamble toset toset null toset isempty editor setlabelcolor guiglobals null field color else editor setlabelcolor guiglobals entry editor label color editor setvalidbackgroundcolor editor gettextcomponent hasfocus editor setactivebackgroundcolor panel markbasechanged undoaction abstractaction undoaction super undo icontheme jabreficon undo geticon putvalue action short description undo override actionperformed actionevent panel runcommand actions undo redoaction abstractaction redoaction super redo icontheme jabreficon redo geticon putvalue action short description redo override actionperformed actionevent panel runcommand actions redo closeaction abstractaction closeaction super localization lang close window override actionperformed actionevent storefieldaction actionperformed null panel preambleeditorclosing dispose fieldeditor getfieldeditor editor storecurrentedit storefieldaction actionperformed null 
262	DuplicateResolverDialog.java	GUI	net sf jabref gui awt borderlayout awt event windowadapter awt event windowevent javax swing box javax swing jbutton javax swing jdialog javax swing jpanel net sf jabref gui help helpaction net sf jabref gui importer importinspectiondialog net sf jabref gui mergeentries mergeentries net sf jabref gui util windowlocation net sf jabref logic help helpfile net sf jabref logic l10n localization net sf jabref model entry bibentry net sf jabref preferences jabrefpreferences duplicateresolverdialog jdialog enum duplicateresolvertype duplicate search check inspection duplicate search exact enum duplicateresolverresult chosen keep keep left keep right autoremove exact keep merge break jbutton cancel jbutton localization lang cancel jbutton merge jbutton localization lang keep merged entry jbutton helpbutton helpaction localization lang help helpfile find duplicates gethelpbutton jabrefframe frame jpanel options jpanel duplicateresolverresult status duplicateresolverresult chosen mergeentries duplicateresolverdialog jabrefframe frame bibentry one bibentry two duplicateresolvertype type super frame localization lang possible duplicate entries true frame frame init one two type duplicateresolverdialog importinspectiondialog dialog bibentry one bibentry two duplicateresolvertype type super dialog localization lang possible duplicate entries true frame dialog getframe init one two type init bibentry one bibentry two duplicateresolvertype type jbutton jbutton second jbutton first jbutton removeexact null switch type case duplicate search: first jbutton localization lang keep left second jbutton localization lang keep right jbutton localization lang keep mergeentries one two frame getcurrentbasepanel getbibdatabasecontext getmode break case inspection: first jbutton localization lang remove old entry second jbutton localization lang remove entry jbutton localization lang keep mergeentries one two localization lang old entry localization lang frame getcurrentbasepanel getbibdatabasecontext getmode break case duplicate search exact: first jbutton localization lang keep left second jbutton localization lang keep right jbutton localization lang keep removeexact jbutton localization lang automatically remove exact duplicates mergeentries one two frame getcurrentbasepanel getbibdatabasecontext getmode break default: first jbutton localization lang remove old entry second jbutton localization lang entry jbutton localization lang keep old entry mergeentries one two localization lang old entry localization lang frame getcurrentbasepanel getbibdatabasecontext getmode break removeexact null options add removeexact options add first options add second options add options add merge options add box createhorizontalstrut options add cancel options add helpbutton first addactionlistener buttonpressed duplicateresolverresult keep left second addactionlistener buttonpressed duplicateresolverresult keep right addactionlistener buttonpressed duplicateresolverresult keep merge addactionlistener buttonpressed duplicateresolverresult keep merge removeexact null removeexact addactionlistener buttonpressed duplicateresolverresult autoremove exact cancel addactionlistener buttonpressed duplicateresolverresult break addwindowlistener windowadapter override windowclosing windowevent buttonpressed duplicateresolverresult break getcontentpane add getmergeentrypanel getcontentpane add options borderlayout south pack windowlocation pw windowlocation jabrefpreferences duplicates pos jabrefpreferences duplicates pos jabrefpreferences duplicates size jabrefpreferences duplicates size pw displaywindowatstoredlocation requestfocus buttonpressed duplicateresolverresult result status result dispose duplicateresolverresult getselected status bibentry getmergedentry getmergeentry 
263	CopyBibTeXKeyAndLinkAction.java	GUI	net sf jabref gui actions util list util stream collectors net sf jabref jabrefgui net sf jabref gui clipboardmanager net sf jabref gui maintable maintable net sf jabref logic l10n localization net sf jabref logic util os net sf jabref model entry bibentry net sf jabref model entry fieldname copy selected entry's bibtex key hyperlink url clipboard case entry bibtex key copied case entry url copy bibtex key copybibtexkeyandlinkaction baseaction maintable maintable copybibtexkeyandlinkaction maintable maintable maintable maintable override action throws exception list<bibentry> entries maintable getselectedentries entries isempty stringbuilder sb stringbuilder list<bibentry> entrieswithkey entries stream filter bibentry::hascitekey collect collectors tolist entrieswithkey isempty jabrefgui getmainframe output localization lang none selected entries bibtex keys bibentry entry entrieswithkey string key entry getcitekeyoptional get string url entry getfield fieldname url orelse sb append url isempty key string format <a href s\ s< a> url key sb append os newline clipboardmanager clipboard clipboardmanager clipboard setclipboardcontents sb tostring copied entrieswithkey size tocopy entries size copied tocopy entries keys jabrefgui getmainframe output entries size localization lang copied keys localization lang copied key else jabrefgui getmainframe output localization lang warning: entries undefined bibtex key long tostring tocopy copied integer tostring tocopy 
264	ErrorConsoleAction.java	GUI	net sf jabref gui actions awt dimension awt event actionevent javax swing abstractaction javax swing action javax swing jframe javax swing joptionpane javax swing jscrollpane javax swing jtabbedpane javax swing jtextarea net sf jabref logic error streameavesdropper net sf jabref logic l10n localization net sf jabref logic logging cache error console useful getting complete bug reports especially windows users without asking users run jabref command window catch error info <p offers separate tab log output errorconsoleaction abstractaction jframe frame streameavesdropper streameavesdropper cache cache errorconsoleaction jframe frame streameavesdropper streameavesdropper cache cache super localization menutitle show error console streameavesdropper streameavesdropper cache cache putvalue action short description localization lang display error messages frame frame override actionperformed actionevent displayerrorconsole frame displayerrorconsole jframe parent jtabbedpane tabbed jtabbedpane addtextarea tabbed localization lang log cache get addtextarea tabbed localization lang exceptions streameavesdropper geterrormessages localization lang exceptions occurred addtextarea tabbed localization lang output streameavesdropper getoutput tabbed setpreferredsize dimension joptionpane showmessagedialog parent tabbed localization lang program output joptionpane error message param tabbed tabbed pane add tab param output text display tab param ifempty text output textbox emtpy may null addtextarea jtabbedpane tabbed string title string output string ifempty jtextarea ta jtextarea output ta seteditable false ifempty null ta gettext isempty ta settext ifempty jscrollpane sp jscrollpane ta tabbed addtab title sp param tabbed tabbed pane add tab param output text display tab addtextarea jtabbedpane tabbed string title string output addtextarea tabbed title output null 
265	Actions.java	GUI	net sf jabref gui actions global string constants gui actions actions string abbreviate iso abbreviateiso string abbreviate medline abbreviatemedline string add file link addfilelink string add group addtogroup string auto set file autosetfile string back back string cleanup cleanup string copy copy string copy key copykey string copy cite key copycitekey string copy key title copykeyandtitle string copy key link copykeyandlink string cut cut string db connect dbconnect string delete delete string download full text downloadfulltext string dupli check duplicheck string edit edit string edit preamble editpreamble string edit strings editstrings string export clipboard exporttoclipboard string focus table focustable string forward forward string make key makekey string mark entries markentries string merge database mergedatabase string merge entries mergeentries string merge fetched entry mergewithfetchedentry string next preview style nextpreviewstyle string move group movetogroup string open console openconsole string open external file openexternalfile string open folder openfolder string open url openurl string paste paste string plain text plaintextimport string previous preview style previouspreviewstyle string pull changes shared database pullchangesfromshareddatabase string redo redo string remove group removefromgroup string replace replaceall string resolve duplicate keys resolveduplicatekeys string save save string save saveas string save selected saveselectedas string save selected plain saveselectedasplain string search search string global search globalsearch string select selectall string send email sendasemail string toggle highlights groups matching togglehighlightgroupsmatchingall string toggle highlights groups matching togglehighlightgroupsmatchingany string toggle highlights groups matching disable togglehighlightgroupsmatchingdisable string toggle groups togglegroups string toggle preview togglepreview string unabbreviate unabbreviate string undo undo string unmark unmarkall string unmark entries unmarkentries string write xmp writexmp string print preview printpreview 
266	PasteAction.java	GUI	net sf jabref gui actions awt component awt event actionevent javax swing abstractaction javax swing action javax swing text jtextcomponent net sf jabref gui clipboardmanager net sf jabref gui icontheme net sf jabref logic l10n localization net sf jabref logic net urlutil pasteaction abstractaction component target pasteaction component target target target putvalue action name localization lang paste clipboard putvalue action short description localization lang paste clipboard putvalue action small icon icontheme jabreficon paste getsmallicon putvalue action large icon key icontheme jabreficon paste geticon override actionperformed actionevent evt string data clipboardmanager getclipboardcontents data isempty auto corrections clean google search urls data urlutil cleangooglesearchurl data caller target instanceof jtextcomponent jtextcomponent textfield jtextcomponent target replace text selection textfield replaceselection data 
267	CleanupAction.java	GUI	net sf jabref gui actions util list util objects javax swing joptionpane net sf jabref globals net sf jabref gui basepanel net sf jabref gui jabrefframe net sf jabref gui cleanup cleanuppresetpanel net sf jabref gui undo namedcompound net sf jabref gui undo undoablefieldchange net sf jabref gui util component checkboxmessage net sf jabref gui worker abstractworker net sf jabref logic cleanup cleanuppreset net sf jabref logic cleanup cleanupworker net sf jabref logic l10n localization net sf jabref model fieldchange net sf jabref model entry bibentry net sf jabref preferences jabrefpreferences cleanupaction abstractworker basepanel panel jabrefframe frame global variable count unsuccessful renames unsuccessfulrenames boolean canceled modifiedentriescount jabrefpreferences preferences cleanupaction basepanel panel jabrefpreferences preferences panel panel frame panel frame preferences objects requirenonnull preferences override init canceled false modifiedentriescount panel getselectedentries isempty none selected inform user select entries first joptionpane showmessagedialog frame localization lang first select entries clean localization lang cleanup entry joptionpane information message canceled true frame block panel output localization lang cleanup entries integer tostring panel getselectedentries size override run canceled cleanuppresetpanel presetpanel cleanuppresetpanel panel getbibdatabasecontext cleanuppreset loadfrompreferences preferences choice showdialog presetpanel choice joptionpane ok option canceled true cleanuppreset cleanuppreset presetpanel getcleanuppreset cleanuppreset storeinpreferences preferences cleanuppreset isrenamepdf globals prefs getboolean jabrefpreferences ask auto naming pdfs checkboxmessage cbm checkboxmessage localization lang auto generating pdf names support undo continue? localization lang disable confirmation dialog false answer joptionpane showconfirmdialog frame cbm localization lang autogenerate pdf names joptionpane yes option cbm isselected globals prefs putboolean jabrefpreferences ask auto naming pdfs false answer joptionpane option canceled true bibentry entry panel getselectedentries undo granularity entry level namedcompound ce namedcompound localization lang cleanup entry docleanup cleanuppreset entry ce ce end ce hasedits modifiedentriescount panel getundomanager addedit ce override update canceled frame unblock unsuccessfulrenames rename failed least one entry joptionpane showmessagedialog frame localization lang file rename failed entries integer tostring unsuccessfulrenames localization lang autogenerate pdf names joptionpane information message modifiedentriescount panel updateentryeditorifshowing panel markbasechanged string message switch modifiedentriescount case 0: message localization lang entry needed clean break case 1: message localization lang one entry needed clean break default: message localization lang entries needed clean integer tostring modifiedentriescount break panel output message frame unblock showdialog cleanuppresetpanel presetpanel string dialogtitle localization lang cleanup entries object[] messages localization lang would like clean up? presetpanel getpanel joptionpane showconfirmdialog frame messages dialogtitle joptionpane ok cancel option joptionpane question message runs cleanup entry records change docleanup cleanuppreset preset bibentry entry namedcompound ce create run cleaner cleanupworker cleaner cleanupworker panel getbibdatabasecontext preferences getcleanuppreferences globals journalabbreviationloader list<fieldchange> changes cleaner cleanup preset entry unsuccessfulrenames cleaner getunsuccessfulrenames changes isempty register undo action fieldchange change changes ce addedit undoablefieldchange change 
268	NewDatabaseAction.java	GUI	net sf jabref gui actions awt event actionevent javax swing action net sf jabref gui icontheme net sf jabref gui jabrefframe net sf jabref logic l10n localization net sf jabref model defaults net sf jabref model database bibdatabasecontext net sf jabref model database bibdatabasemode action concerned opening database newdatabaseaction mnemonicawareaction jabrefframe jabrefframe bibdatabasemode mode newdatabaseaction jabrefframe jabrefframe bibdatabasemode mode super icontheme jabreficon geticon jabrefframe jabrefframe mode mode putvalue action name localization menutitle database mode getformattedname putvalue action short description localization lang database mode getformattedname override actionperformed actionevent create empty database bibdatabasecontext bibdatabasecontext bibdatabasecontext defaults bibdatabasemode bibtex bibdatabasecontext setmode mode jabrefframe addtab bibdatabasecontext true jabrefframe output localization lang database created mode getformattedname 
269	BaseAction.java	GUI	net sf jabref gui actions baseaction used define actions called base frame runcommand runcommand finds appropriate baseaction object runs action method functionalinterface interface baseaction action throws exception 
270	SearchForUpdateAction.java	GUI	net sf jabref gui actions awt event actionevent javax swing abstractaction net sf jabref jabrefgui net sf jabref logic l10n localization searchforupdateaction abstractaction searchforupdateaction super localization lang check updates override actionperformed actionevent jabrefgui checkfornewversion true 
271	ConnectToSharedDatabaseAction.java	GUI	net sf jabref gui actions awt event actionevent javax swing action net sf jabref gui jabrefframe net sf jabref gui shared connecttoshareddatabasedialog net sf jabref logic l10n localization action concerned opening shared database connecttoshareddatabaseaction mnemonicawareaction jabrefframe jabrefframe connecttoshareddatabaseaction jabrefframe jabrefframe super jabrefframe jabrefframe putvalue action name localization menutitle connect shared database putvalue action short description localization lang connect shared database override actionperformed actionevent connecttoshareddatabasedialog connecttoshareddatabasedialog connecttoshareddatabasedialog jabrefframe connecttoshareddatabasedialog setvisible true 
272	CopyVersionToClipboardAction.java	GUI	net sf jabref gui actions awt event actionevent javax swing abstractaction net sf jabref globals net sf jabref jabrefgui net sf jabref gui clipboardmanager net sf jabref logic l10n localization net sf jabref logic util buildinfo copyversiontoclipboardaction abstractaction override actionperformed actionevent string info string format jabref njava globals build info getversion buildinfo os buildinfo os version buildinfo os arch buildinfo version clipboardmanager setclipboardcontents info jabrefgui getmainframe output localization lang copied version clipboard 
273	CopyDoiUrlAction.java	GUI	net sf jabref gui actions awt event actionevent util optional javax swing abstractaction javax swing text jtextcomponent net sf jabref jabrefgui net sf jabref gui clipboardmanager net sf jabref logic l10n localization net sf jabref logic util doi copies doi url clipboard copydoiurlaction abstractaction jtextcomponent component null string identifier copydoiurlaction string identifier super localization menutitle copy doi url identifier identifier copydoiurlaction jtextcomponent component component gettext component component override actionperformed actionevent identifier component null identifier component gettext optional<string> urloptional doi build identifier map doi::geturiasasciistring urloptional ispresent clipboardmanager clipboard clipboardmanager clipboard setclipboardcontents urloptional get jabrefgui getmainframe output localization lang link copied clipboard else jabrefgui getmainframe output localization lang invalid doi: 0' identifier 
274	MnemonicAwareAction.java	GUI	net sf jabref gui actions javax swing abstractaction javax swing action javax swing icon net sf jabref gui icontheme link abstractaction ability set mnemonic key based character inserted front desired mnemonic letter done setting action's name using putvalue name actionname facilitates localized mnemonics mnemonicawareaction abstractaction mnemonicawareaction mnemonicawareaction icon icon icon instanceof icontheme fontbasedicon putvalue action small icon icontheme fontbasedicon icon createsmallicon putvalue action large icon key icon else putvalue action small icon icon override putvalue string key object value key equals action name string name value tostring name indexof char mnemonic character touppercase name charat putvalue action mnemonic key mnemonic value name substring name substring else value name super putvalue key value 
275	NewSubDatabaseAction.java	GUI	net sf jabref gui actions awt event actionevent javax swing action net sf jabref globals net sf jabref gui basepanel net sf jabref gui icontheme net sf jabref gui jabrefframe net sf jabref gui auximport fromauxdialog net sf jabref logic l10n localization net sf jabref model defaults net sf jabref model database bibdatabasecontext net sf jabref model database bibdatabasemode net sf jabref preferences jabrefpreferences action concerned generate sub database latex aux file newsubdatabaseaction mnemonicawareaction jabrefframe jabrefframe newsubdatabaseaction jabrefframe jabrefframe super icontheme jabreficon geticon jabrefframe jabrefframe putvalue action name localization menutitle subdatabase based aux file putvalue action short description localization lang bibtex subdatabase override actionperformed actionevent create empty database fromauxdialog dialog fromauxdialog jabrefframe true jabrefframe gettabbedpane dialog setlocationrelativeto jabrefframe dialog setvisible true dialog generatepressed defaults defaults defaults bibdatabasemode frompreference globals prefs getboolean jabrefpreferences biblatex default mode basepanel bp basepanel jabrefframe bibdatabasecontext dialog getgeneratedb defaults jabrefframe addtab bp true jabrefframe output localization lang database created 
276	OpenBrowserAction.java	GUI	net sf jabref gui actions awt event actionevent javax swing abstractaction javax swing action javax swing icon net sf jabref gui desktop jabrefdesktop openbrowseraction abstractaction string urltoopen openbrowseraction without icons used menus param urltoopen url string url shown default web browser param menutitle title menu entry already localized param description description shown tooltip hovering menu icon bar entry already localized openbrowseraction string urltoopen string menutitle string description super menutitle urltoopen urltoopen putvalue action short description description openbrowseraction icons param urltoopen url string url shown default web browser param menutitle title menu entry already localized param description description shown tooltip hovering menu icon bar entry already localized param smallicon smallicon shown menus param largeicon larger icon shown icon bar openbrowseraction string urltoopen string menutitle string description icon smallicon icon largeicon super menutitle smallicon urltoopen urltoopen putvalue action short description description putvalue action large icon key largeicon override actionperformed actionevent jabrefdesktop openbrowsershowpopup urltoopen 
277	NewEntryAction.java	GUI	net sf jabref gui actions awt event actionevent javax swing action javax swing keystroke net sf jabref gui entrytypedialog net sf jabref gui icontheme net sf jabref gui jabrefframe net sf jabref logic l10n localization net sf jabref model entrytypes net sf jabref model entry entrytype net sf jabref model strings stringutil org apache commons logging log org apache commons logging logfactory newentryaction mnemonicawareaction log logger logfactory getlog newentryaction jabrefframe jabrefframe string type type item create newentryaction jabrefframe jabrefframe keystroke key action leads dialog asking entry type super icontheme jabreficon add entry geticon jabrefframe jabrefframe putvalue action name localization menutitle entry putvalue action accelerator key key putvalue action short description localization lang bibtex entry newentryaction jabrefframe jabrefframe string type jabrefframe jabrefframe action leads creation specific entry putvalue action name stringutil capitalizefirst type type type newentryaction jabrefframe jabrefframe string type keystroke key jabrefframe jabrefframe action leads creation specific entry putvalue action name stringutil capitalizefirst type putvalue action accelerator key key type type override actionperformed actionevent string thistype type thistype null entrytypedialog etd entrytypedialog jabrefframe etd setlocationrelativeto jabrefframe etd setvisible true entrytype tp etd getchoice tp null thistype tp getname jabrefframe getbasepanelcount jabrefframe getcurrentbasepanel newentry entrytypes gettype thistype jabrefframe getcurrentbasepanel getbibdatabasecontext getmode get else logger info action 'new entry' must disabled database open 
278	MassSetFieldAction.java	GUI	net sf jabref gui actions awt borderlayout awt event actionevent util collection util list util optional util set javax swing abstractaction javax swing action javax swing actionmap javax swing borderfactory javax swing buttongroup javax swing inputmap javax swing jbutton javax swing jcheckbox javax swing jcombobox javax swing jcomponent javax swing jdialog javax swing joptionpane javax swing jradiobutton javax swing jtextfield javax swing undo undoableedit net sf jabref globals net sf jabref gui basepanel net sf jabref gui jabrefframe net sf jabref gui keyboard keybinding net sf jabref gui undo namedcompound net sf jabref gui undo undoablefieldchange net sf jabref logic l10n localization net sf jabref model entry bibentry com jgoodies forms builder buttonbarbuilder com jgoodies forms builder formbuilder com jgoodies forms layout formlayout action launching mass field functionality: defaults selected entries entries none selected input field name either set field clear field masssetfieldaction mnemonicawareaction jabrefframe frame jdialog diag jradiobutton jradiobutton selected jradiobutton clear jradiobutton set jradiobutton rename jcombobox<string> field jtextfield text jtextfield renameto boolean canceled true jcheckbox overwrite masssetfieldaction jabrefframe frame putvalue action name localization menutitle set clear rename fields frame frame createdialog diag jdialog frame localization lang set clear rename fields true field jcombobox<> field seteditable true text jtextfield text setenabled false renameto jtextfield renameto setenabled false jbutton ok jbutton localization lang ok jbutton cancel jbutton localization lang cancel jradiobutton localization lang entries selected jradiobutton localization lang selected entries clear jradiobutton localization lang clear fields set jradiobutton localization lang set fields rename jradiobutton localization lang rename field rename settooltiptext localization lang move contents field field different name set<string> allfields frame getcurrentbasepanel getdatabase getallvisiblefields string allfields field additem set addchangelistener entering text relevant setting clearing: text setenabled set isselected clear addchangelistener overwrite protection makes sense clearing field: overwrite setenabled clear isselected rename addchangelistener entering text relevant renaming renameto setenabled rename isselected overwrite jcheckbox localization lang overwrite existing field values true buttongroup bg buttongroup bg add bg add selected bg buttongroup bg add clear bg add set bg add rename formbuilder builder formbuilder create layout formlayout left:pref 4dlu fill:100dlu:grow pref 2dlu pref 2dlu pref 2dlu pref 2dlu pref 2dlu pref 2dlu pref 2dlu pref 2dlu pref 2dlu pref builder addseparator localization lang field name xyw builder add localization lang field name xy builder add field xy builder addseparator localization lang include entries xyw builder add xyw builder add selected xyw builder addseparator localization lang field value xyw builder add set xy builder add text xy builder add clear xyw builder add rename xy builder add renameto xy builder add overwrite xyw buttonbarbuilder bb buttonbarbuilder bb addglue bb addbutton ok bb addbutton cancel bb addglue builder getpanel setborder borderfactory createemptyborder bb getpanel setborder borderfactory createemptyborder diag getcontentpane add builder getpanel borderlayout center diag getcontentpane add bb getpanel borderlayout south diag pack ok addactionlistener check field name set string fieldtext string field getselecteditem fieldtext null fieldtext trim isempty joptionpane showmessagedialog diag localization lang must enter least one field name joptionpane error message close dialog check user tries rename multiple fields: rename isselected string[] fields getfieldnames fieldtext fields length joptionpane showmessagedialog diag localization lang rename one field time joptionpane error message close dialog canceled false diag dispose action cancelaction abstractaction override actionperformed actionevent canceled true diag dispose cancel addactionlistener cancelaction key bindings: actionmap builder getpanel getactionmap inputmap im builder getpanel getinputmap jcomponent focused window im put globals getkeyprefs getkey keybinding close dialog close put close cancelaction preparedialog boolean selection selected setenabled selection selection selected setselected true else setselected true make sure one following ones selected: set isselected clear isselected rename isselected set setselected true override actionperformed actionevent basepanel bp frame getcurrentbasepanel bp null list<bibentry> entries bp getselectedentries lazy creation dialog: diag null createdialog canceled true preparedialog entries isempty diag null diag setlocationrelativeto frame diag setvisible true canceled collection<bibentry> entrylist entries treated change entries array: isselected entrylist bp getdatabase getentries else entrylist entries string toset text gettext toset isempty toset null string[] fields getfieldnames string field getselecteditem trim tolowercase namedcompound ce namedcompound localization lang set field rename isselected fields length joptionpane showmessagedialog diag localization lang rename one field time joptionpane error message close dialog else ce addedit masssetfieldaction massrenamefield entrylist fields[0] renameto gettext overwrite isselected else string field1 fields ce addedit masssetfieldaction masssetfield entrylist field1 set isselected toset null overwrite isselected ce end bp getundomanager addedit ce bp markbasechanged set given field given value entries collection method update undomanager returns relevant compoundedit registered caller param entries entries set field param field name field set param text value set value null indicating field cleared param overwritevalues indicate whether value set even entry already field set compoundedit entire operation undoableedit masssetfield collection<bibentry> entries string field string text boolean overwritevalues namedcompound ce namedcompound localization lang set field bibentry entry entries optional<string> oldval entry getfield field allowed overwrite values check nonempty value already entry: overwritevalues oldval ispresent oldval get isempty continue text null entry clearfield field else entry setfield field text ce addedit undoablefieldchange entry field oldval orelse null text ce end ce move contents one field another collection entries param entries entries operation param field field move contents param newfield field move contents param overwritevalues true overwrites existing values field false makes change entries existing value field compoundedit entire operation undoableedit massrenamefield collection<bibentry> entries string field string newfield boolean overwritevalues namedcompound ce namedcompound localization lang rename field bibentry entry entries optional<string> valtomove entry getfield field value nothing: valtomove ispresent valtomove get isempty continue allowed overwrite values check non empty value already entry field: optional<string> valinnewfield entry getfield newfield overwritevalues valinnewfield ispresent valinnewfield get isempty continue entry setfield newfield valtomove get ce addedit undoablefieldchange entry newfield valinnewfield orelse null valtomove get entry clearfield field ce addedit undoablefieldchange entry field valtomove get null ce end ce string[] getfieldnames string split [\\s 
279	ChangeTypeAction.java	GUI	net sf jabref gui actions awt event actionevent javax swing abstractaction net sf jabref gui basepanel net sf jabref model entry entrytype changetypeaction abstractaction string type basepanel panel changetypeaction entrytype type basepanel bp super type getname type type getname panel bp override actionperformed actionevent evt panel changetypeofselectedentries type 
280	ManageKeywordsAction.java	GUI	net sf jabref gui actions awt borderlayout awt event actionevent awt event actionlistener awt event keyevent awt event keylistener util enumeration util list util optional javax swing abstractaction javax swing action javax swing actionmap javax swing borderfactory javax swing buttongroup javax swing defaultlistmodel javax swing inputmap javax swing jbutton javax swing jcomponent javax swing jdialog javax swing jlist javax swing jradiobutton javax swing jscrollpane javax swing jtextfield net sf jabref globals net sf jabref jabrefgui net sf jabref gui basepanel net sf jabref gui jabrefframe net sf jabref gui autocompleter autocompletelistener net sf jabref gui keyboard keybinding net sf jabref gui undo namedcompound net sf jabref gui undo undoablefieldchange net sf jabref logic autocompleter autocompleter net sf jabref logic l10n localization net sf jabref logic specialfields specialfieldsutils net sf jabref model fieldchange net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model entry keyword net sf jabref model entry keywordlist net sf jabref model strings stringutil com jgoodies forms builder buttonbarbuilder com jgoodies forms builder formbuilder com jgoodies forms layout formlayout action launching keyword managing dialog managekeywordsaction mnemonicawareaction jabrefframe frame jdialog diag defaultlistmodel<keyword> keywordlistmodel jradiobutton intersectkeywords jradiobutton mergekeywords boolean canceled keywordlist sortedkeywordsofallentriesbeforeupdatebyuser keywordlist managekeywordsaction jabrefframe frame putvalue action name localization menutitle manage keywords frame frame createdialog diag null keyword add jtextfield keyword jtextfield keywordlistmodel defaultlistmodel<> jlist<keyword> keywordlist jlist<> keywordlistmodel keywordlist setvisiblerowcount jscrollpane kpane jscrollpane keywordlist diag jdialog frame localization lang manage keywords true jbutton ok jbutton localization lang ok jbutton cancel jbutton localization lang cancel jbutton add jbutton localization lang add jbutton remove jbutton localization lang remove keywordlist setvisiblerowcount intersectkeywords jradiobutton localization lang display keywords appearing entries mergekeywords jradiobutton localization lang display keywords appearing entry buttongroup group buttongroup group add intersectkeywords group add mergekeywords actionlistener statechanged fillkeywordlist intersectkeywords addactionlistener statechanged mergekeywords addactionlistener statechanged intersectkeywords setselected true formbuilder builder formbuilder create layout formlayout fill:200dlu:grow 4dlu fill:pref pref 2dlu pref 1dlu pref 2dlu fill:100dlu:grow 4dlu pref 4dlu pref builder addseparator localization lang keywords selected entries xyw builder add intersectkeywords xyw builder add mergekeywords xyw builder add kpane xywh builder add remove xy builder add keyword xy builder add add xy buttonbarbuilder bb buttonbarbuilder bb addglue bb addbutton ok bb addbutton cancel bb addglue builder getpanel setborder borderfactory createemptyborder bb getpanel setborder borderfactory createemptyborder ok addactionlistener canceled false diag dispose action cancelaction abstractaction override actionperformed actionevent canceled true diag dispose cancel addactionlistener cancelaction actionlistener addactionlistener arg0 addbuttonactionlistener keyword add addactionlistener addactionlistener actionlistener removeactionlistenter arg0 keywordlist getselectedindices work therefore operate values list<keyword> values keywordlist getselectedvalueslist keyword val values keywordlistmodel removeelement val remove addactionlistener removeactionlistenter keywordlist addkeylistener keylistener override keytyped keyevent arg0 nothing override keyreleased keyevent arg0 nothing override keypressed keyevent arg0 arg0 getkeycode keyevent vk delete removeactionlistenter actionperformed null autocompleter<string> autocomp jabrefgui getmainframe getcurrentbasepanel getautocompleters get fieldname keywords autocompletelistener acl autocompletelistener autocomp keyword addkeylistener acl keyword addfocuslistener acl keyword addkeylistener keylistener override keytyped keyevent nothing override keyreleased keyevent nothing override keypressed keyevent getkeycode keyevent vk enter addactionlistener actionperformed null key bindings: actionmap builder getpanel getactionmap inputmap im builder getpanel getinputmap jcomponent focused window im put globals getkeyprefs getkey keybinding close dialog close put close cancelaction diag getcontentpane add builder getpanel borderlayout center diag getcontentpane add bb getpanel borderlayout south addbuttonactionlistener jtextfield keywordtextfield stringutil isblank keywordtextfield gettext nothing add keyword newkeyword keyword keywordtextfield gettext trim keywordlistmodel isempty keywordlistmodel addelement newkeyword else idx keyword element keywordlistmodel getelementat idx idx keywordlistmodel size element compareto newkeyword idx idx keywordlistmodel size list empty word greater last word list keywordlistmodel addelement newkeyword else element compareto newkeyword nothing word already table else keywordlistmodel add idx newkeyword keywordtextfield settext null keywordtextfield requestfocusinwindow override actionperformed actionevent basepanel bp frame getcurrentbasepanel bp null bp getselectedentries isempty bp output localization lang select least one entry manage keywords lazy creation dialog: createdialog canceled true fillkeywordlist diag pack diag setlocationrelativeto frame diag setvisible true canceled keywordlist keywordstoadd keywordlist keywordlist userselectedkeywords keywordlist build keywordstoadd userselectedkeywords parallel enumeration<keyword> keywords keywordlistmodel elements keywords hasmoreelements keyword keyword keywords nextelement userselectedkeywords add keyword sortedkeywordsofallentriesbeforeupdatebyuser contains keyword keywordstoadd add keyword keywordlist keywordstoremove keywordlist keyword kword sortedkeywordsofallentriesbeforeupdatebyuser userselectedkeywords contains kword keywordstoremove add kword keywordstoadd isempty keywordstoremove isempty nothing done nothing nothing obsolete globals prefs iskeywordsyncenabled keywordstoadd isempty specialfieldsutils synchronizespecialfields keywordstoadd keywordstoremove namedcompound ce updatekeywords bp getselectedentries keywordstoadd keywordstoremove bp getundomanager addedit ce bp markbasechanged namedcompound updatekeywords list<bibentry> entries keywordlist keywordstoadd keywordlist keywordstoremove namedcompound ce namedcompound localization lang update keywords bibentry entry entries keywordlist keywords entry getkeywords globals prefs getkeyworddelimiter update keywords keywords removeall keywordstoremove keywords addall keywordstoadd put keywords back optional<fieldchange> change entry putkeywords keywords globals prefs getkeyworddelimiter change ispresent ce addedit undoablefieldchange change get globals prefs iskeywordsyncenabled specialfieldsutils syncspecialfieldsfromkeywords entry globals prefs getkeyworddelimiter ce end ce fillkeywordlist basepanel bp frame getcurrentbasepanel list<bibentry> entries bp getselectedentries fill dialog values keywordlistmodel clear sortedkeywordsofallentriesbeforeupdatebyuser clear mergekeywords isselected bibentry entry entries keywordlist separatedkeywords entry getkeywords globals prefs getkeyworddelimiter sortedkeywordsofallentriesbeforeupdatebyuser addall separatedkeywords else assert intersectkeywords isselected keywords first entry added bibentry firstentry entries get keywordlist separatedkeywords firstentry getkeywords globals prefs getkeyworddelimiter sortedkeywordsofallentriesbeforeupdatebyuser addall separatedkeywords remaining entries intersection used approach ensures one empty keyword list leads empty set common keywords entries size bibentry entry entries get separatedkeywords entry getkeywords globals prefs getkeyworddelimiter sortedkeywordsofallentriesbeforeupdatebyuser retainall separatedkeywords keyword keyword sortedkeywordsofallentriesbeforeupdatebyuser keywordlistmodel addelement keyword 
281	CopyAction.java	GUI	net sf jabref gui actions awt event actionevent javax swing abstractaction javax swing action javax swing text jtextcomponent net sf jabref gui clipboardmanager net sf jabref gui icontheme net sf jabref logic l10n localization copyaction abstractaction jtextcomponent field copyaction jtextcomponent field field field putvalue action name localization lang copy clipboard putvalue action short description localization lang copy clipboard putvalue action small icon icontheme jabreficon copy getsmallicon putvalue action large icon key icontheme jabreficon copy geticon override actionperformed actionevent field null clipboardmanager clipboard clipboardmanager string selectedtext field getselectedtext string alltext field gettext selectedtext null selectedtext isempty clipboard setclipboardcontents selectedtext else alltext null alltext isempty clipboard setclipboardcontents alltext 
282	SortTabsAction.java	GUI	net sf jabref gui actions awt event actionevent util comparator util map util treemap javax swing action net sf jabref gui basepanel net sf jabref gui jabrefframe net sf jabref logic l10n localization action rearranges tabs main tabbed pane given jabrefframe alphabetical order sorttabsaction mnemonicawareaction comparator<string> jabrefframe frame sorttabsaction jabrefframe frame putvalue action name localization menutitle sort tabs putvalue action short description localization lang rearrange tabs alphabetically title frame frame override actionperformed actionevent make sorted map compares case insensitively: map<string basepanel> map treemap<> basepanel panel frame getbasepanellist map put panel gettabtitle panel frame gettabbedpane removeall map entry<string basepanel> entry map entryset frame addtab entry getvalue false override compare string o1 string o2 o1 tolowercase compareto o2 tolowercase 
283	IntegrityCheckAction.java	GUI	net sf jabref gui actions awt event actionevent util hashmap util list util map javax swing action javax swing jbutton javax swing jcheckboxmenuitem javax swing jdialog javax swing joptionpane javax swing jpopupmenu javax swing jscrollpane javax swing jtable javax swing listselectionmodel javax swing rowfilter javax swing table abstracttablemodel javax swing table tablemodel javax swing table tablerowsorter net sf jabref globals net sf jabref gui jabrefframe net sf jabref gui keyboard keybinding net sf jabref gui util guiutil net sf jabref logic integrity integritycheck net sf jabref logic integrity integritymessage net sf jabref logic l10n localization com jgoodies forms builder formbuilder com jgoodies forms layout formlayout integritycheckaction mnemonicawareaction string ellipses jabrefframe frame integritycheckaction jabrefframe frame frame frame putvalue action name localization menutitle check integrity ellipses putvalue action accelerator key globals getkeyprefs getkey keybinding check integrity override actionperformed actionevent integritycheck check integritycheck frame getcurrentbasepanel getbibdatabasecontext globals prefs getfiledirectorypreferences list<integritymessage> messages check checkbibtexdatabase messages isempty joptionpane showmessagedialog frame getcurrentbasepanel localization lang problems found else map<string boolean> showmessage hashmap<> prepare data model object[][] model object[messages size ][3] integritymessage message messages model[i][0] message getentry getcitekeyoptional orelse model[i][1] message getfieldname model[i][2] message getmessage showmessage put message getmessage true construct view jtable table jtable model object[] localization lang bibtex key localization lang field localization lang message rowfilter<object object> filter rowfilter<object object> override boolean include entry<? ?> entry showmessage get entry getstringvalue tablerowsorter<tablemodel> sorter tablerowsorter<> table getmodel sorter setrowfilter filter table setrowsorter sorter table setselectionmode listselectionmodel single selection table setdefaulteditor object null listselectionmodel selectionmodel table getselectionmodel selectionmodel addlistselectionlistener event event getvalueisadjusting try string citekey string model[table convertrowindextomodel table getselectedrow ][0] string fieldname string model[table convertrowindextomodel table getselectedrow ][1] frame getcurrentbasepanel editentrybykeyandfocusfield citekey fieldname catch arrayindexoutofboundsexception exception ignore likely caused filtering earlier selected row guiutil correctrowheight table table getcolumnmodel getcolumn setpreferredwidth table getcolumnmodel getcolumn setpreferredwidth table getcolumnmodel getcolumn setpreferredwidth table setautoresizemode jtable auto resize last column jscrollpane scrollpane jscrollpane table string title localization lang problem found string valueof messages size jdialog dialog jdialog frame title false jpopupmenu menu jpopupmenu string messagestring showmessage keyset jcheckboxmenuitem menuitem jcheckboxmenuitem messagestring true menuitem addactionlistener event showmessage put messagestring menuitem isselected abstracttablemodel table getmodel firetabledatachanged menu add menuitem jbutton menubutton jbutton localization lang filter menubutton addactionlistener entry menu show menubutton menubutton getheight formbuilder builder formbuilder create layout formlayout fill:pref:grow fill:pref:grow 2dlu pref builder add scrollpane xy builder add menubutton xy dialog add builder getpanel dialog setsize show view dialog setvisible true 
284	AutoLinkFilesAction.java	GUI	net sf jabref gui actions awt event actionevent util list javax swing abstractaction javax swing action javax swing jdialog net sf jabref globals net sf jabref jabrefexecutorservice net sf jabref jabrefgui net sf jabref gui icontheme net sf jabref gui externalfiles autosetlinks net sf jabref gui keyboard keybinding net sf jabref gui undo namedcompound net sf jabref logic l10n localization net sf jabref model entry bibentry action may used menu button never entry editor filelisteditor entryeditor ways update file links autolinkfilesaction abstractaction autolinkfilesaction putvalue action small icon icontheme jabreficon auto file link getsmallicon putvalue action large icon key icontheme jabreficon auto file link geticon putvalue action name localization lang automatically set file links putvalue action accelerator key globals getkeyprefs getkey keybinding automatically link files override actionperformed actionevent event list<bibentry> entries jabrefgui getmainframe getcurrentbasepanel getselectedentries entries isempty jabrefgui getmainframe getcurrentbasepanel output localization lang operation requires one entries selected jdialog diag jdialog jabrefgui getmainframe true namedcompound nc namedcompound localization lang automatically set file links runnable runnable autosetlinks autosetlinks entries nc null null jabrefgui getmainframe getcurrentbasepanel getbibdatabasecontext getid entry updated util autosetlinks treat nc status message nc hasedits nc end jabrefgui getmainframe getcurrentbasepanel getundomanager addedit nc jabrefgui getmainframe getcurrentbasepanel markbasechanged jabrefgui getmainframe output localization lang finished automatically setting external links else jabrefgui getmainframe output localization lang finished automatically setting external links localization lang files found diag jabrefexecutorservice instance execute runnable 
285	GroupTreeCellRenderer.java	GUI	net sf jabref gui groups awt color awt component util arraylist util list util objects javax swing borderfactory javax swing icon javax swing jlabel javax swing jtree javax swing border border javax swing tree defaulttreecellrenderer net sf jabref model groups grouptreenode net sf jabref model strings stringutil renders grouptreenode using group's getname method rather tostring method author jzieren grouptreecellrenderer defaulttreecellrenderer cell user currently dragging object highlight1cell list<grouptreenode> overlappinggroups arraylist<> list<grouptreenode> matchinggroups arraylist<> object highlightbordercell override component gettreecellrenderercomponent jtree tree object value boolean sel boolean expanded boolean leaf row boolean tmphasfocus show selected selected objects equals highlight1cell value sel component super gettreecellrenderercomponent tree value selected expanded leaf row tmphasfocus sometimes called deep within somewhere dummy value probably layout etc we've got check value instanceof grouptreenodeviewmodel instanceof jlabel sanity check grouptreenodeviewmodel viewmodel grouptreenodeviewmodel value jlabel label jlabel border border objects equals highlightbordercell value border borderfactory createlineborder color black else border borderfactory createemptyborder label getborder border label setborder border boolean red printinred viewmodel selected print currently selected node red boolean underlined printunderlined viewmodel stringbuilder sb stringbuilder sb append <html> red sb append <font color #ff0000\ underlined sb append <u> viewmodel printinitalics sb append <i> sb append stringutil quoteforhtml viewmodel gettext viewmodel printinitalics sb append i> underlined sb append u> red sb append font> sb append html> string text sb tostring label gettext equals text label settext text label settooltiptext viewmodel getdescription icon icon viewmodel geticon label geticon icon label seticon icon boolean printinred grouptreenodeviewmodel viewmodel viewmodel isallentriesgroup print entries group red false overlappinggroups contains viewmodel getnode boolean printunderlined grouptreenodeviewmodel viewmodel viewmodel isallentriesgroup underline entries group false matchinggroups contains viewmodel getnode use dragging: specified cell always rendered selected param cell cell user currently dragging sethighlight1cell object cell highlight1cell cell highlights specified groups red setoverlappinggroups list<grouptreenode> nodes objects requirenonnull nodes overlappinggroups nodes highlights specified groups underlining setmatchinggroups list<grouptreenode> nodes objects requirenonnull nodes matchinggroups nodes highlights specified cells drawing border around disables highlight highlightbordercell null sethighlightbordercell object highlightbordercell highlightbordercell highlightbordercell 
286	UndoableMoveGroup.java	GUI	net sf jabref gui groups util list util objects net sf jabref gui undo abstractundoablejabrefedit net sf jabref logic l10n localization net sf jabref model groups grouptreenode net sf jabref model groups movegroupchange author jzieren undoablemovegroup abstractundoablejabrefedit grouptreenodeviewmodel root list<integer> pathtonewparent newchildindex list<integer> pathtooldparent oldchildindex undoablemovegroup grouptreenodeviewmodel root movegroupchange movechange root objects requirenonnull root objects requirenonnull movechange pathtooldparent movechange getoldparent getindexedpathfromroot pathtonewparent movechange getnewparent getindexedpathfromroot oldchildindex movechange getoldchildindex newchildindex movechange getnewchildindex override string getpresentationname localization lang move group override undo super undo grouptreenode newparent root getnode getdescendant pathtonewparent get todo: null grouptreenode node newparent getchildat newchildindex get todo: null todo: null node moveto root getnode getdescendant pathtooldparent get oldchildindex override redo super redo grouptreenode oldparent root getnode getdescendant pathtooldparent get todo: null grouptreenode node oldparent getchildat oldchildindex get todo:null todo: null node moveto root getnode getdescendant pathtonewparent get newchildindex 
287	WarnAssignmentSideEffects.java	GUI	net sf jabref gui groups awt component util arraylist util collections util list javax swing joptionpane net sf jabref logic l10n localization net sf jabref model entry fieldname net sf jabref model entry internalbibtexfields net sf jabref model groups abstractgroup net sf jabref model groups keywordgroup warnassignmentsideeffects warns user undesired side effects explicit assignment removal entries group currently four types groups: allentriesgroup searchgroup support explicit assignment explicitgroup keywordgroup modifies entries upon assignment removal modifications acceptable unless affect standard field author besides keywords groups' field param parent component used parent displaying confirmation dialog true assignment undesired side effects user chose perform anyway false otherwise indicates user aborted assignment boolean warnassignmentsideeffects list<abstractgroup> groups component parent list<string> affectedfields arraylist<> abstractgroup group groups group instanceof keywordgroup keywordgroup keywordgroup keywordgroup group string field keywordgroup getsearchfield tolowercase fieldname keywords equals field fieldname groups equals field continue undesired string fieldname internalbibtexfields getallpublicfieldnames field equals fieldname affectedfields add field break affectedfields isempty true side effects show warning stringbuilder message stringbuilder localization lang action modify following field least one entry each: append '\n' string affectedfield affectedfields message append affectedfield append '\n' message append localization lang could cause undesired changes entries append '\n' append recommended change grouping field group definition keywords\ non standard name append \n\n append localization lang still want continue? choice joptionpane showconfirmdialog parent message localization lang warning joptionpane yes option joptionpane warning message choice joptionpane option groups instanceof keywordgroup keywordgroup kg keywordgroup groups string field kg getsearchfield tolowercase field equals keywords true undesired guiglobals fields length field equals guiglobals fields[i] show warning string message globals lang action modify 0\ field entries \nthis could cause undesired changes entries is\nrecommended change grouping field group\ndefinition keywords\ non standard name \n\ndo still want continue? field choice joptionpane showconfirmdialog parent message globals lang warning joptionpane yes option joptionpane warning message choice joptionpane option true found side effects boolean warnassignmentsideeffects abstractgroup group component parent warnassignmentsideeffects collections singletonlist group parent 
288	AutoGroupDialog.java	GUI	net sf jabref gui groups awt borderlayout awt event actionevent awt event actionlistener util arraylist util list util set javax swing abstractaction javax swing actionmap javax swing borderfactory javax swing buttongroup javax swing inputmap javax swing jbutton javax swing jcheckbox javax swing jcomponent javax swing jdialog javax swing jpanel javax swing jradiobutton javax swing jtextfield javax swing event caretevent javax swing event caretlistener net sf jabref globals net sf jabref gui basepanel net sf jabref gui jabrefframe net sf jabref gui keyboard keybinding net sf jabref gui undo namedcompound net sf jabref logic l10n localization net sf jabref logic layout format latextounicodeformatter net sf jabref model entry fieldname net sf jabref model groups explicitgroup net sf jabref model groups grouphierarchytype net sf jabref model groups grouptreenode net sf jabref model groups groupsutil net sf jabref model groups keywordgroup com jgoodies forms builder buttonbarbuilder com jgoodies forms builder formbuilder com jgoodies forms layout formlayout dialog creating modifying groups operates directly vector containing group information autogroupdialog jdialog caretlistener jtextfield remove jtextfield jtextfield field jtextfield jtextfield deliminator jtextfield jradiobutton keywords jradiobutton localization lang generate groups keywords bibtex field jradiobutton authors jradiobutton localization lang generate groups author last names jradiobutton editors jradiobutton localization lang generate groups editor last names jcheckbox usecustomdelimiter jcheckbox localization lang use following delimiter character jbutton ok jbutton localization lang ok grouptreenodeviewmodel groupsroot jabrefframe frame basepanel panel param groupsroot original set groups required undo information groups cleared autogroupdialog jabrefframe jabrefframe basepanel basepanel grouptreenodeviewmodel groupsroot string defaultfield string defaultremove string defaultdeliminator super jabrefframe localization lang automatically create groups true frame jabrefframe panel basepanel groupsroot groupsroot field settext defaultfield remove settext defaultremove deliminator settext defaultdeliminator usecustomdelimiter setselected true actionlistener oklistener dispose try grouptreenode autogroupsroot grouptreenode fromgroup explicitgroup localization lang automatically created groups grouphierarchytype including globals prefs getkeyworddelimiter set<string> keywords string fieldtext field gettext tolowercase trim keywords isselected usecustomdelimiter isselected keywords groupsutil finddeliminatedwordsinfield panel getdatabase fieldtext deliminator gettext else keywords groupsutil findallwordsinfield panel getdatabase fieldtext remove gettext else authors isselected list<string> fields arraylist<> fields add fieldname author keywords groupsutil findauthorlastnames panel getdatabase fields fieldtext fieldname author else editors isselected radio button group list<string> fields arraylist<> fields add fieldname editor keywords groupsutil findauthorlastnames panel getdatabase fields fieldtext fieldname editor latextounicodeformatter formatter latextounicodeformatter string keyword keywords keywordgroup group keywordgroup formatter format keyword fieldtext keyword false false grouphierarchytype independent globals prefs getkeyworddelimiter autogroupsroot addchild grouptreenode fromgroup group autogroupsroot moveto groupsroot getnode namedcompound ce namedcompound localization lang automatically create groups undoableaddorremovegroup undo undoableaddorremovegroup groupsroot grouptreenodeviewmodel autogroupsroot undoableaddorremovegroup add node ce addedit undo panel markbasechanged change always occurs frame output localization lang created groups ce end panel getundomanager addedit ce catch illegalargumentexception exception frame showmessage exception getlocalizedmessage remove addactionlistener oklistener field addactionlistener oklistener field addcaretlistener abstractaction cancelaction abstractaction override actionperformed actionevent dispose jbutton cancel jbutton localization lang cancel cancel addactionlistener cancelaction ok addactionlistener oklistener key bindings: jpanel main jpanel actionmap main getactionmap inputmap im main getinputmap jcomponent focused window im put globals getkeyprefs getkey keybinding close dialog close put close cancelaction buttongroup bg buttongroup bg add keywords bg add authors bg add editors keywords setselected true formbuilder formbuilder create layout formlayout left:20dlu 4dlu left:pref 4dlu fill:60dlu 2dlu 2dlu 2dlu 2dlu 2dlu add keywords xyw add localization lang field group xy add field xy add localization lang characters ignore xy add remove xy add usecustomdelimiter xy add deliminator xy add authors xyw add editors xyw build border borderfactory createemptyborder jpanel opt jpanel buttonbarbuilder bb buttonbarbuilder opt bb addglue bb addbutton ok bb addbutton cancel bb addglue main setborder borderfactory createemptyborder opt setborder borderfactory createemptyborder getcontentpane add main borderlayout center getcontentpane add getpanel borderlayout center getcontentpane add opt borderlayout south updatecomponents pack setlocationrelativeto frame override caretupdate caretevent updatecomponents updatecomponents string groupfield field gettext trim ok setenabled groupfield matches \\w 
289	RemoveFromGroupAction.java	GUI	net sf jabref gui groups awt event actionevent util optional javax swing abstractaction net sf jabref gui basepanel net sf jabref logic l10n localization net sf jabref model groups entriesgroupchange removefromgroupaction abstractaction grouptreenodeviewmodel mnode basepanel mpanel removefromgroupaction grouptreenodeviewmodel node basepanel panel super node getnode getgroup getname mnode node mpanel panel removefromgroupaction super localization lang remove entry selection group setnode grouptreenodeviewmodel node mnode node setbasepanel basepanel panel mpanel panel override actionperformed actionevent evt warn assignment undesired side effects modifies field keywords warnassignmentsideeffects warnassignmentsideeffects mnode getnode getgroup mpanel frame user aborted operation optional<entriesgroupchange> undo mnode removeentriesfromgroup mpanel getselectedentries undo ispresent changed made mpanel getundomanager addedit undoablechangeentriesofgroup getundoableedit mnode undo get mpanel markbasechanged mpanel updateentryeditorifshowing mpanel getgroupselector valuechanged null 
290	UndoableChangeAssignment.java	GUI	net sf jabref gui groups util arraylist util list util optional util set net sf jabref gui undo abstractundoablejabrefedit net sf jabref logic l10n localization net sf jabref model entry bibentry net sf jabref model groups grouptreenode author jzieren undoablechangeassignment abstractundoablejabrefedit list<bibentry> previousassignments list<bibentry> newassignments path edited node list<integer> pathtonode root global groups tree grouptreenode root param node node whose assignments edited undoablechangeassignment grouptreenodeviewmodel node set<bibentry> previousassignments set<bibentry> newassignments previousassignments arraylist<> previousassignments newassignments arraylist<> newassignments root node getnode getroot pathtonode node getnode getindexedpathfromroot override string getpresentationname localization lang change assignment entries override undo super undo optional<grouptreenode> node root getdescendant pathtonode node ispresent node get getgroup add previousassignments override redo super redo optional<grouptreenode> node root getdescendant pathtonode node ispresent node get getgroup add newassignments 
291	GroupDialog.java	GUI	net sf jabref gui groups awt borderlayout awt cardlayout awt container awt dimension awt font awt event actionevent awt event itemlistener util regex pattern util regex patternsyntaxexception javax swing abstractaction javax swing action javax swing borderfactory javax swing buttongroup javax swing jbutton javax swing jcheckbox javax swing jcomponent javax swing jdialog javax swing jlabel javax swing jpanel javax swing jradiobutton javax swing jscrollpane javax swing jtextfield javax swing scrollpaneconstants javax swing swingconstants javax swing event caretlistener net sf jabref globals net sf jabref gui jabrefframe net sf jabref gui fieldeditors textfield net sf jabref gui keyboard keybinding net sf jabref logic groups groupdescriptions net sf jabref logic l10n localization net sf jabref logic search searchquery net sf jabref model entry fieldname net sf jabref model groups abstractgroup net sf jabref model groups explicitgroup net sf jabref model groups grouphierarchytype net sf jabref model groups keywordgroup net sf jabref model groups searchgroup net sf jabref model strings stringutil net sf jabref preferences jabrefpreferences com jgoodies forms builder buttonbarbuilder com jgoodies forms builder defaultformbuilder com jgoodies forms layout formlayout dialog creating modifying groups operates directly vector containing group information groupdialog jdialog index explicit group index keyword group index search group textfield length types jtextfield namefield jtextfield groupdialog textfield length jradiobutton explicitradiobutton jradiobutton localization lang statically group entries manual assignment jradiobutton keywordsradiobutton jradiobutton localization lang dynamically group entries searching field keyword jradiobutton searchradiobutton jradiobutton localization lang dynamically group entries free form search expression jradiobutton independentbutton jradiobutton localization lang independent group: selected view group's entries jradiobutton intersectionbutton jradiobutton localization lang refine supergroup: selected view entries contained group supergroup jradiobutton unionbutton jradiobutton localization lang include subgroups: selected view entries contained group subgroups keywordgroup jtextfield keywordgroupsearchfield jtextfield groupdialog textfield length textfield keywordgroupsearchterm textfield fieldname keywords false jcheckbox keywordgroupcasesensitive jcheckbox localization lang case sensitive jcheckbox keywordgroupregexp jcheckbox localization lang regular expression searchgroup jtextfield searchgroupsearchexpression jtextfield groupdialog textfield length jcheckbox searchgroupcasesensitive jcheckbox localization lang case sensitive jcheckbox searchgroupregexp jcheckbox localization lang regular expression types jbutton okbutton jbutton localization lang ok jpanel optionspanel jpanel jlabel descriptionlabel jlabel override dimension getpreferredsize dimension super getpreferredsize width must smaller width enclosing jscrollpane prevent horizontal scroll bar width boolean isokpressed abstractgroup resultinggroup cardlayout optionslayout cardlayout shows group add edit dialog param jabrefframe parent frame param basepanel default grouping field param editedgroup group edited null group created groupdialog jabrefframe jabrefframe abstractgroup editedgroup super jabrefframe localization lang edit group true set default values overwritten editedgroup null keywordgroupsearchfield settext jabrefframe prefs get jabrefpreferences groups default field configure elements buttongroup grouptype buttongroup grouptype add explicitradiobutton grouptype add keywordsradiobutton grouptype add searchradiobutton buttongroup grouphierarchy buttongroup grouphierarchy add independentbutton grouphierarchy add intersectionbutton grouphierarchy add unionbutton descriptionlabel setverticalalignment swingconstants top getrootpane setdefaultbutton okbutton build individual layout cards group optionspanel setlayout optionslayout explicit group optionspanel add jpanel string valueof groupdialog index explicit group keyword group formlayout layoutkg formlayout right:pref 4dlu fill:1dlu:grow 2dlu left:pref defaultformbuilder builderkg defaultformbuilder layoutkg builderkg append localization lang field builderkg append keywordgroupsearchfield builderkg nextline builderkg append localization lang keyword builderkg append keywordgroupsearchterm builderkg nextline builderkg append keywordgroupcasesensitive builderkg nextline builderkg append keywordgroupregexp optionspanel add builderkg getpanel string valueof groupdialog index keyword group search group formlayout layoutsg formlayout right:pref 4dlu fill:1dlu:grow defaultformbuilder buildersg defaultformbuilder layoutsg buildersg append localization lang search expression buildersg append searchgroupsearchexpression buildersg nextline buildersg append searchgroupcasesensitive buildersg nextline buildersg append searchgroupregexp optionspanel add buildersg getpanel string valueof groupdialog index search group buttons panel formlayout layoutbp formlayout pref 4dlu pref layoutbp setcolumngroups int[][] buttonbarbuilder builderbp buttonbarbuilder builderbp addglue builderbp addbutton okbutton jbutton mcancel jbutton localization lang cancel builderbp addbutton mcancel builderbp addglue builderbp getpanel setborder borderfactory createemptyborder create layout formlayout layoutall formlayout right:pref 4dlu fill:600px 4dlu fill:pref 3dlu 3dlu 0dlu 0dlu 3dlu 3dlu 0dlu 0dlu 3dlu 3dlu 3dlu 3dlu top:80dlu 9dlu 9dlu defaultformbuilder builderall defaultformbuilder layoutall builderall appendseparator localization lang general builderall nextline builderall nextline builderall append localization lang name builderall append namefield builderall nextline builderall nextline builderall append explicitradiobutton builderall nextline builderall nextline builderall append keywordsradiobutton builderall nextline builderall nextline builderall append searchradiobutton builderall nextline builderall nextline builderall appendseparator localization lang hierarchical context builderall nextline builderall nextline builderall append independentbutton builderall nextline builderall nextline builderall append intersectionbutton builderall nextline builderall nextline builderall append unionbutton builderall nextline builderall nextline builderall appendseparator localization lang options builderall nextline builderall nextline builderall append optionspanel builderall nextline builderall nextline builderall appendseparator localization lang description builderall nextline builderall nextline jscrollpane sp jscrollpane descriptionlabel scrollpaneconstants vertical scrollbar needed scrollpaneconstants horizontal scrollbar needed override dimension getpreferredsize getmaximumsize builderall append sp builderall nextline builderall nextline builderall appendseparator builderall nextline builderall nextline container cp getcontentpane cp add builderall getpanel borderlayout center cp add builderbp getpanel borderlayout south pack setresizable false updatecomponents setlayoutforselectedgroup setlocationrelativeto jabrefframe add listeners itemlistener radiobuttonitemlistener setlayoutforselectedgroup updatecomponents explicitradiobutton additemlistener radiobuttonitemlistener keywordsradiobutton additemlistener radiobuttonitemlistener searchradiobutton additemlistener radiobuttonitemlistener action cancelaction abstractaction override actionperformed actionevent dispose mcancel addactionlistener cancelaction builderall getpanel getinputmap jcomponent focused window put globals getkeyprefs getkey keybinding close dialog close builderall getpanel getactionmap put close cancelaction okbutton addactionlistener isokpressed true try explicitradiobutton isselected resultinggroup explicitgroup namefield gettext trim getcontext globals prefs getkeyworddelimiter else keywordsradiobutton isselected regex correct otherwise ok would disabled therefore catch anything resultinggroup keywordgroup namefield gettext trim keywordgroupsearchfield gettext trim keywordgroupsearchterm gettext trim keywordgroupcasesensitive isselected keywordgroupregexp isselected getcontext globals prefs getkeyworddelimiter else searchradiobutton isselected try regex correct otherwise ok would disabled therefore catch anything resultinggroup searchgroup namefield gettext trim searchgroupsearchexpression gettext trim iscasesensitive isregex getcontext catch exception e1 never happen dispose catch illegalargumentexception exception jabrefframe showmessage exception getlocalizedmessage caretlistener caretlistener updatecomponents itemlistener itemlistener updatecomponents namefield addcaretlistener caretlistener keywordgroupsearchfield addcaretlistener caretlistener keywordgroupsearchterm addcaretlistener caretlistener keywordgroupcasesensitive additemlistener itemlistener keywordgroupregexp additemlistener itemlistener searchgroupsearchexpression addcaretlistener caretlistener searchgroupregexp additemlistener itemlistener searchgroupcasesensitive additemlistener itemlistener configure current type editedgroup null editedgroup getclass keywordgroup keywordgroup group keywordgroup editedgroup namefield settext group getname keywordgroupsearchfield settext group getsearchfield keywordgroupsearchterm settext group getsearchexpression keywordgroupcasesensitive setselected group iscasesensitive keywordgroupregexp setselected group isregexp keywordsradiobutton setselected true setcontext editedgroup gethierarchicalcontext else editedgroup null editedgroup getclass searchgroup searchgroup group searchgroup editedgroup namefield settext group getname searchgroupsearchexpression settext group getsearchexpression searchgroupcasesensitive setselected group iscasesensitive searchgroupregexp setselected group isregexp searchradiobutton setselected true setcontext editedgroup gethierarchicalcontext else editedgroup null editedgroup getclass explicitgroup namefield settext editedgroup getname explicitradiobutton setselected true setcontext editedgroup gethierarchicalcontext else creating group defaults explicitradiobutton setselected true setcontext grouphierarchytype independent boolean okpressed isokpressed abstractgroup getresultinggroup resultinggroup setlayoutforselectedgroup explicitradiobutton isselected optionslayout show optionspanel string valueof groupdialog index explicit group else keywordsradiobutton isselected optionslayout show optionspanel string valueof groupdialog index keyword group else searchradiobutton isselected optionslayout show optionspanel string valueof groupdialog index search group updatecomponents groups need name boolean okenabled namefield gettext trim isempty okenabled setdescription localization lang please enter name group okbutton setenabled false string s1 string s2 keywordsradiobutton isselected s1 keywordgroupsearchfield gettext trim okenabled okenabled s1 matches \\w s2 keywordgroupsearchterm gettext trim okenabled okenabled s2 isempty okenabled keywordgroupregexp isselected try pattern compile s2 setdescription groupdescriptions getdescriptionforpreview s1 s2 keywordgroupcasesensitive isselected keywordgroupregexp isselected catch patternsyntaxexception okenabled false setdescription formatregexexception s2 else setdescription groupdescriptions getdescriptionforpreview s1 s2 keywordgroupcasesensitive isselected keywordgroupregexp isselected else setdescription localization lang please enter field search <b>keywords< b> keyword search <b>electrical< b> setnamefontitalic true else searchradiobutton isselected s1 searchgroupsearchexpression gettext trim okenabled okenabled s1 isempty okenabled setdescription searchquery s1 iscasesensitive isregex getdescription isregex try pattern compile s1 catch patternsyntaxexception okenabled false setdescription formatregexexception s1 else setdescription localization lang please enter search term example search fields <b>smith< b> enter:<p> <tt>smith< tt><p> search field <b>author< b> <b>smith< b> field <b>title< b> <b>electrical< b> enter:<p> <tt>author smith title electrical< tt> setnamefontitalic true else explicitradiobutton isselected setdescription groupdescriptions getdescriptionforpreview setnamefontitalic false okbutton setenabled okenabled boolean isregex searchgroupregexp isselected boolean iscasesensitive searchgroupcasesensitive isselected setdescription string description descriptionlabel settext <html> description html> string formatregexexception string regexp exception string[] sa getmessage split \\n stringbuilder sb stringbuilder sa length sb append <br> sb append stringutil quoteforhtml sa[i] string localization lang regular expression <b> 0< b> invalid: stringutil quoteforhtml regexp <p><tt> sb tt> instanceof patternsyntaxexception lastnewline lastindexof <br> hat lastindexof '^' lastnewline hat hat lastnewline substring lastnewline substring lastnewline replace nbsp sets font name entry field setnamefontitalic boolean italic font namefield getfont isitalic italic derivefont italic font italic font plain namefield setfont returns representing selected hierarchical group context grouphierarchytype getcontext independentbutton isselected grouphierarchytype independent intersectionbutton isselected grouphierarchytype refining unionbutton isselected grouphierarchytype including grouphierarchytype independent default setcontext grouphierarchytype context context grouphierarchytype refining intersectionbutton setselected true else context grouphierarchytype including unionbutton setselected true else independentbutton setselected true 
292	GroupSelector.java	GUI	net sf jabref gui groups awt borderlayout awt color awt dimension awt font awt gridbagconstraints awt gridbaglayout awt insets awt event actionevent awt event inputevent awt event keyevent awt event mouseadapter awt event mouseevent util arraylist util collections util enumeration util list util optional javax swing abstractaction javax swing action javax swing borderfactory javax swing buttongroup javax swing jbutton javax swing jcheckboxmenuitem javax swing jmenu javax swing joptionpane javax swing jpanel javax swing jpopupmenu javax swing jradiobuttonmenuitem javax swing jscrollpane javax swing keystroke javax swing scrollpaneconstants javax swing swingutilities javax swing border titledborder javax swing event changeevent javax swing event changelistener javax swing event popupmenuevent javax swing event popupmenulistener javax swing event treeselectionevent javax swing event treeselectionlistener javax swing tree defaulttreemodel javax swing tree treepath javax swing undo abstractundoableedit javax swing undo compoundedit net sf jabref globals net sf jabref gui basepanel net sf jabref gui icontheme net sf jabref gui jabrefframe net sf jabref gui sidepanecomponent net sf jabref gui sidepanemanager net sf jabref gui help helpaction net sf jabref gui keyboard keybinding net sf jabref gui maintable maintabledatamodel net sf jabref gui undo namedcompound net sf jabref gui worker abstractworker net sf jabref logic help helpfile net sf jabref logic l10n localization net sf jabref model entry bibentry net sf jabref model groups abstractgroup net sf jabref model groups allentriesgroup net sf jabref model groups entriesgroupchange net sf jabref model groups grouptreenode net sf jabref model groups movegroupchange net sf jabref model groups event groupupdatedevent net sf jabref model metadata metadata net sf jabref model search searchmatcher net sf jabref model search matchers matcherset net sf jabref model search matchers matchersets net sf jabref model search matchers notmatcher net sf jabref preferences jabrefpreferences com google common eventbus subscribe org apache commons logging log org apache commons logging logfactory whole ui component holding groups tree buttons groupselector sidepanecomponent treeselectionlistener log logger logfactory getlog groupselector groupstree groupstree defaulttreemodel groupstreemodel grouptreenodeviewmodel groupsroot jabrefframe frame jpopupmenu groupscontextmenu jpopupmenu jpopupmenu settings jpopupmenu jradiobuttonmenuitem hidenonhits jradiobuttonmenuitem grayout jradiobuttonmenuitem andcb jradiobuttonmenuitem localization lang intersection true jradiobuttonmenuitem floatcb jradiobuttonmenuitem localization lang true jcheckboxmenuitem invcb jcheckboxmenuitem localization lang inverted false jcheckboxmenuitem showoverlappinggroups jcheckboxmenuitem localization lang highlight overlapping groups jcheckboxmenuitem shownumberofelements jcheckboxmenuitem localization lang show number elements contained group jcheckboxmenuitem autoassigngroup jcheckboxmenuitem localization lang automatically assign entry selected groups jcheckboxmenuitem editmodecb jcheckboxmenuitem localization lang edit group membership false boolean editmodeindicator string move one group localization lang please select exactly one group move jmenu movesubmenu jmenu localization lang move jmenu sortsubmenu jmenu localization lang sort alphabetically abstractaction editgroupaction editgroupaction nodeaction editgrouppopupaction editgroupaction nodeaction addgrouppopupaction addgroupaction nodeaction addsubgrouppopupaction addsubgroupaction nodeaction removegroupandsubgroupspopupaction removegroupandsubgroupsaction nodeaction removesubgroupspopupaction removesubgroupsaction nodeaction removegroupkeepsubgroupspopupaction removegroupkeepsubgroupsaction nodeaction movenodeuppopupaction movenodeupaction nodeaction movenodedownpopupaction movenodedownaction nodeaction movenodeleftpopupaction movenodeleftaction nodeaction movenoderightpopupaction movenoderightaction nodeaction expandsubtreepopupaction expandsubtreeaction nodeaction collapsesubtreepopupaction collapsesubtreeaction nodeaction sortdirectsubgroupspopupaction sortdirectsubgroupsaction nodeaction sortallsubgroupspopupaction sortallsubgroupsaction addtogroupaction addtogroup addtogroupaction false addtogroupaction movetogroup addtogroupaction true removefromgroupaction removefromgroup removefromgroupaction toggleaction toggleaction first element group defines field use quicksearch next two define name regexp group groupselector jabrefframe frame sidepanemanager manager super manager icontheme jabreficon toggle groups geticon localization lang groups toggleaction toggleaction localization menutitle toggle groups interface localization lang toggle groups interface globals getkeyprefs getkey keybinding toggle groups interface icontheme jabreficon toggle groups frame frame hidenonhits jradiobuttonmenuitem localization lang hide non hits globals prefs getboolean jabrefpreferences gray non hits grayout jradiobuttonmenuitem localization lang gray non hits globals prefs getboolean jabrefpreferences gray non hits buttongroup nonhits buttongroup nonhits add hidenonhits nonhits add grayout floatcb addchangelistener event globals prefs putboolean jabrefpreferences group selections floatcb isselected andcb addchangelistener event globals prefs putboolean jabrefpreferences group intersect selections andcb isselected invcb addchangelistener event globals prefs putboolean jabrefpreferences group invert selections invcb isselected showoverlappinggroups addchangelistener changelistener override statechanged changeevent event globals prefs putboolean jabrefpreferences group show overlapping showoverlappinggroups isselected showoverlappinggroups isselected groupstree setoverlappinggroups collections emptylist grayout addchangelistener event globals prefs putboolean jabrefpreferences gray non hits grayout isselected jradiobuttonmenuitem highlcb jradiobuttonmenuitem localization lang highlight false globals prefs getboolean jabrefpreferences group selections floatcb setselected true highlcb setselected false else highlcb setselected true floatcb setselected false jradiobuttonmenuitem orcb jradiobuttonmenuitem localization lang union false globals prefs getboolean jabrefpreferences group intersect selections andcb setselected true orcb setselected false else orcb setselected true andcb setselected false shownumberofelements addchangelistener changelistener override statechanged changeevent globals prefs putboolean jabrefpreferences group show number elements shownumberofelements isselected groupstree null groupstree invalidate groupstree repaint autoassigngroup addchangelistener event globals prefs putboolean jabrefpreferences auto assign group autoassigngroup isselected invcb setselected globals prefs getboolean jabrefpreferences group invert selections showoverlappinggroups setselected globals prefs getboolean jabrefpreferences group show overlapping editmodeindicator globals prefs getboolean jabrefpreferences edit group membership mode editmodecb setselected editmodeindicator shownumberofelements setselected globals prefs getboolean jabrefpreferences group show number elements autoassigngroup setselected globals prefs getboolean jabrefpreferences auto assign group jbutton opensettings jbutton icontheme jabreficon preferences getsmallicon settings add andcb settings add orcb settings addseparator settings add invcb settings addseparator settings add editmodecb settings addseparator settings add grayout settings add hidenonhits settings addseparator settings add showoverlappinggroups settings addseparator settings add shownumberofelements settings add autoassigngroup opensettings addactionlistener settings isvisible jbutton src jbutton getsource shownumberofelements setselected globals prefs getboolean jabrefpreferences group show number elements autoassigngroup setselected globals prefs getboolean jabrefpreferences auto assign group settings show src opensettings getheight editmodecb addactionlistener seteditmode editmodecb getstate jbutton newbutton jbutton icontheme jabreficon add nobox getsmallicon butsize newbutton geticon geticonheight dimension butdim dimension butsize butsize newbutton setpreferredsize butdim newbutton setminimumsize butdim jbutton helpbutton helpaction localization lang help groups helpfile group gethelpbutton helpbutton setpreferredsize butdim helpbutton setminimumsize butdim jbutton autogroup jbutton icontheme jabreficon auto group getsmallicon autogroup setpreferredsize butdim autogroup setminimumsize butdim opensettings setpreferredsize butdim opensettings setminimumsize butdim insets butins insets helpbutton setmargin butins opensettings setmargin butins newbutton addactionlistener groupdialog gd groupdialog frame null gd setvisible true gd okpressed abstractgroup newgroup gd getresultinggroup groupsroot addnewgroup newgroup panel getundomanager panel markbasechanged frame output localization lang created group 0\ newgroup getname andcb addactionlistener valuechanged null orcb addactionlistener valuechanged null invcb addactionlistener valuechanged null showoverlappinggroups addactionlistener valuechanged null autogroup addactionlistener autogroupdialog gd autogroupdialog frame panel groupsroot globals prefs get jabrefpreferences groups default field globals prefs get jabrefpreferences keyword separator gd setvisible true gd operation floatcb addactionlistener valuechanged null highlcb addactionlistener valuechanged null hidenonhits addactionlistener valuechanged null grayout addactionlistener valuechanged null newbutton settooltiptext localization lang group andcb settooltiptext localization lang display entries belonging selected groups orcb settooltiptext localization lang display entries belonging one selected groups autogroup settooltiptext localization lang automatically create groups database opensettings settooltiptext localization lang settings invcb settooltiptext <html> localization lang show entries <b>not< b> group selection html> showoverlappinggroups settooltiptext localization lang highlight groups contain entries contained currently selected group floatcb settooltiptext localization lang move entries group selection top highlcb settooltiptext localization lang gray entries group selection editmodecb settooltiptext localization lang click group toggle membership selected entries buttongroup bgr buttongroup bgr add andcb bgr add orcb buttongroup vismode buttongroup vismode add floatcb vismode add highlcb jpanel rootpanel jpanel gridbaglayout gbl gridbaglayout rootpanel setlayout gbl gridbagconstraints con gridbagconstraints con fill gridbagconstraints con weightx con gridwidth con gridy con gridx gbl setconstraints newbutton con rootpanel add newbutton con gridx gbl setconstraints autogroup con rootpanel add autogroup con gridx gbl setconstraints opensettings con rootpanel add opensettings con gridx con gridwidth gridbagconstraints remainder gbl setconstraints helpbutton con rootpanel add helpbutton groupstree groupstree groupstree addtreeselectionlistener jscrollpane groupstreepane jscrollpane groupstree scrollpaneconstants vertical scrollbar needed scrollpaneconstants horizontal scrollbar needed groupstreepane setborder borderfactory createemptyborder con gridwidth gridbagconstraints remainder con weighty con gridx con gridwidth con gridy gbl setconstraints groupstreepane con rootpanel add groupstreepane add rootpanel borderlayout center seteditmode editmodeindicator definepopup nodeaction movenodeupaction movenodeupaction movenodeupaction putvalue action accelerator key keystroke getkeystroke keyevent vk inputevent ctrl mask nodeaction movenodedownaction movenodedownaction movenodedownaction putvalue action accelerator key keystroke getkeystroke keyevent vk inputevent ctrl mask nodeaction movenodeleftaction movenodeleftaction movenodeleftaction putvalue action accelerator key keystroke getkeystroke keyevent vk left inputevent ctrl mask nodeaction movenoderightaction movenoderightaction movenoderightaction putvalue action accelerator key keystroke getkeystroke keyevent vk right inputevent ctrl mask setgroups grouptreenode fromgroup allentriesgroup localization lang entries definepopup key bindings shortcuts displayed popup menu actual keystroke processing basepanel entrytable addkeylistener groupscontextmenu add editgrouppopupaction groupscontextmenu add addgrouppopupaction groupscontextmenu add addsubgrouppopupaction groupscontextmenu addseparator groupscontextmenu add removegroupandsubgroupspopupaction groupscontextmenu add removegroupkeepsubgroupspopupaction groupscontextmenu add removesubgroupspopupaction groupscontextmenu addseparator groupscontextmenu add expandsubtreepopupaction groupscontextmenu add collapsesubtreepopupaction groupscontextmenu addseparator groupscontextmenu add movesubmenu sortsubmenu add sortdirectsubgroupspopupaction sortsubmenu add sortallsubgroupspopupaction groupscontextmenu add sortsubmenu movesubmenu add movenodeuppopupaction movesubmenu add movenodedownpopupaction movesubmenu add movenodeleftpopupaction movesubmenu add movenoderightpopupaction groupscontextmenu addseparator groupscontextmenu add addtogroup groupscontextmenu add movetogroup groupscontextmenu add removefromgroup groupstree addmouselistener mouseadapter override mousepressed mouseevent ispopuptrigger showpopup override mousereleased mouseevent ispopuptrigger showpopup override mouseclicked mouseevent treepath path groupstree getpathforlocation getpoint getpoint path null grouptreenodeviewmodel node grouptreenodeviewmodel path getlastpathcomponent root node allentries cannot edited node getnode isroot getclickcount getbutton mouseevent button1 edit editgroupaction actionperformed null dummy event else getclickcount getbutton mouseevent button1 annotationevent node sure remove possible border highlight popup menu disappears groupscontextmenu addpopupmenulistener popupmenulistener override popupmenuwillbecomevisible popupmenuevent nothing override popupmenuwillbecomeinvisible popupmenuevent groupstree sethighlightbordercell null override popupmenucanceled popupmenuevent groupstree sethighlightbordercell null showpopup mouseevent treepath path groupstree getpathforlocation getpoint getpoint addgrouppopupaction setenabled true addsubgrouppopupaction setenabled path null editgrouppopupaction setenabled path null removegroupandsubgroupspopupaction setenabled path null removegroupkeepsubgroupspopupaction setenabled path null movesubmenu setenabled path null expandsubtreepopupaction setenabled path null collapsesubtreepopupaction setenabled path null removesubgroupspopupaction setenabled path null sortsubmenu setenabled path null addtogroup setenabled false movetogroup setenabled false removefromgroup setenabled false path null path dependent enabling disabling grouptreenodeviewmodel node grouptreenodeviewmodel path getlastpathcomponent editgrouppopupaction setnode node addsubgrouppopupaction setnode node removegroupandsubgroupspopupaction setnode node removesubgroupspopupaction setnode node removegroupkeepsubgroupspopupaction setnode node expandsubtreepopupaction setnode node collapsesubtreepopupaction setnode node sortdirectsubgroupspopupaction setnode node sortallsubgroupspopupaction setnode node groupstree sethighlightbordercell node node canbeedited editgrouppopupaction setenabled false addgrouppopupaction setenabled false removegroupandsubgroupspopupaction setenabled false removegroupkeepsubgroupspopupaction setenabled false else editgrouppopupaction setenabled true addgrouppopupaction setenabled true addgrouppopupaction setnode node removegroupandsubgroupspopupaction setenabled true removegroupkeepsubgroupspopupaction setenabled true expandsubtreepopupaction setenabled groupstree iscollapsed path groupstree hascollapseddescendant path collapsesubtreepopupaction setenabled groupstree isexpanded path groupstree hasexpandeddescendant path sortsubmenu setenabled node isleaf removesubgroupspopupaction setenabled node isleaf movenodeuppopupaction setenabled node canmoveup movenodedownpopupaction setenabled node canmovedown movenodeleftpopupaction setenabled node canmoveleft movenoderightpopupaction setenabled node canmoveright movesubmenu setenabled movenodeuppopupaction isenabled movenodedownpopupaction isenabled movenodeleftpopupaction isenabled movenoderightpopupaction isenabled movenodeuppopupaction setnode node movenodedownpopupaction setnode node movenodeleftpopupaction setnode node movenoderightpopupaction setnode node add remove entries group list<bibentry> selection frame getcurrentbasepanel getselectedentries selection isempty node canaddentries selection addtogroup setnode node addtogroup setbasepanel panel addtogroup setenabled true movetogroup setnode node movetogroup setbasepanel panel movetogroup setenabled true node canremoveentries selection removefromgroup setnode node removefromgroup setbasepanel panel removefromgroup setenabled true else editgrouppopupaction setnode null addgrouppopupaction setnode null addsubgrouppopupaction setnode null removegroupandsubgroupspopupaction setnode null removesubgroupspopupaction setnode null removegroupkeepsubgroupspopupaction setnode null movenodeuppopupaction setnode null movenodedownpopupaction setnode null movenodeleftpopupaction setnode null movenoderightpopupaction setnode null expandsubtreepopupaction setnode null collapsesubtreepopupaction setnode null sortdirectsubgroupspopupaction setnode null sortallsubgroupspopupaction setnode null groupscontextmenu show groupstree getpoint getpoint seteditmode boolean editmode globals prefs putboolean jabrefpreferences edit group membership mode editmodeindicator editmodeindicator editmode editmode groupstree setborder borderfactory createtitledborder borderfactory creatematteborder color red edit mode titledborder right titledborder top font getfont default color red settitle <html><font color 'red'>groups edit mode< font>< html> else groupstree setborder borderfactory createemptyborder settitle localization lang groups groupstree revalidate groupstree repaint annotationevent grouptreenodeviewmodel node editmodeindicator logger info performing annotation node getname list<bibentry> entries panel getselectedentries node changeentriesto entries panel getundomanager panel markbasechanged panel updateentryeditorifshowing updateshownentriesaccordingtoselectedgroups override valuechanged treeselectionevent panel null ignore event happens example file closed getleafsofselection stream allmatch grouptreenodeviewmodel::isallentriesgroup panel getmaintable gettablemodel updategroupingstate maintabledatamodel displayoption disabled showoverlappinggroups isselected groupstree setoverlappinggroups collections emptylist frame output localization lang displaying groups editmodeindicator updateshownentriesaccordingtoselectedgroups updateshownentriesaccordingtoselectedgroups matcherset searchrules matchersets build andcb isselected matchersets matchertype matchersets matchertype grouptreenodeviewmodel node getleafsofselection searchmatcher searchrule node getnode getsearchrule searchrules addrule searchrule searchmatcher searchrule invcb isselected notmatcher searchrules searchrules groupingworker worker groupingworker searchrule worker getworker run worker getcallback update list<grouptreenodeviewmodel> getleafsofselection treepath[] selection groupstree getselectionpaths selection null selection length arraylist<> list<grouptreenodeviewmodel> selectedleafs arraylist<> selection length treepath path selection selectedleafs add grouptreenodeviewmodel path getlastpathcomponent selectedleafs grouptreenodeviewmodel getfirstselectednode treepath path groupstree getselectionpath path null grouptreenodeviewmodel path getlastpathcomponent null groupingworker abstractworker searchmatcher matcher list<bibentry> matches arraylist<> boolean showoverlappinggroupsp groupingworker searchmatcher matcher matcher matcher showoverlappinggroupsp showoverlappinggroups isselected override run bibentry entry panel getdatabase getentries boolean hit matcher ismatch entry entry setgrouphit hit hit showoverlappinggroupsp matches add entry override update show result chosen way: hidenonhits isselected panel getmaintable gettablemodel updategroupingstate maintabledatamodel displayoption filter else grayout isselected panel getmaintable gettablemodel updategroupingstate maintabledatamodel displayoption panel getmaintable gettablemodel updatesortorder panel getmaintable gettablemodel updategroupfilter panel getmaintable scrollto showoverlappinggroupsp showoverlappinggroups matches frame output localization lang updated group selection revalidate groups tree data stored model changed maintain current selection expansion state revalidategroups swingutilities iseventdispatchthread revalidategroups null else swingutilities invokelater revalidategroups null revalidate groups tree data stored model changed maintain current selection expansion state param node non null view scrolled make visible revalidategroups grouptreenodeviewmodel node revalidategroups groupstree getselectionpaths getexpandedpaths node revalidate groups tree data stored model changed set specified selection expansion state revalidategroups treepath[] selectionpaths enumeration<treepath> expandednodes revalidategroups selectionpaths expandednodes null revalidate groups tree data stored model changed set specified selection expansion state param node non null view scrolled make visible revalidategroups treepath[] selectionpaths enumeration<treepath> expandednodes grouptreenodeviewmodel node groupstree clearselection selectionpaths null groupstree setselectionpaths selectionpaths tree completely collapsed expandednodes null expandednodes hasmoreelements groupstree expandpath expandednodes nextelement groupstree revalidate node null groupstree scrollpathtovisible node gettreepath override componentopening valuechanged null globals prefs putboolean jabrefpreferences group sidepane visible boolean true override getrescalingweight override componentclosing panel null panel may null file open panel getmaintable gettablemodel updategroupingstate maintabledatamodel displayoption disabled gettoggleaction setselected false globals prefs putboolean jabrefpreferences group sidepane visible boolean false setgroups grouptreenode groupsroot groupsroot grouptreenodeviewmodel groupsroot groupstreemodel defaulttreemodel groupsroot groupsroot subscribetodescendantchanged groupstreemodel::nodestructurechanged groupstree setmodel groupstreemodel globals prefs getboolean jabrefpreferences group expand tree groupsroot expandsubtree groupstree adds specified node child current root group contained <b>newgroups b> must type allentriesgroup since every tree exactly one allentriesgroup root <b>newgroups b> inserted directly deepcopy 'd addgroups grouptreenode newgroups compoundedit ce todo: method groupselector paranoia: ensure never two instances allentriesgroup newgroups getgroup instanceof allentriesgroup impossible anyway newgroups moveto groupsroot getnode undoableaddorremovegroup undo undoableaddorremovegroup groupsroot grouptreenodeviewmodel newgroups undoableaddorremovegroup add node ce addedit undo nodeaction abstractaction grouptreenodeviewmodel node nodeaction string super setnode grouptreenodeviewmodel node node node returns node use action node set explicitly via setnode returned otherwise first node current selection returned fails null returned grouptreenodeviewmodel getnodetouse node null node getfirstselectednode editgroupaction nodeaction editgroupaction super localization lang edit group override actionperformed actionevent grouptreenodeviewmodel node getnodetouse abstractgroup oldgroup node getnode getgroup groupdialog gd groupdialog frame oldgroup gd setvisible true gd okpressed abstractgroup newgroup gd getresultinggroup joptionpane showconfirmdialog panel frame localization lang assign original group's entries group? localization lang change grouping method joptionpane yes option joptionpane question message boolean keeppreviousassignments joptionpane yes option warnassignmentsideeffects warnassignmentsideeffects newgroup panel frame abstractundoableedit undoaddpreviousentries null undoablemodifygroup undo undoablemodifygroup groupselector groupsroot node newgroup optional<entriesgroupchange> addchange node getnode setgroup newgroup keeppreviousassignments panel getdatabase getentries addchange ispresent undoaddpreviousentries undoablechangeentriesofgroup getundoableedit null addchange get groupstreemodel reload revalidategroups node store undo information undoaddpreviousentries null panel getundomanager addedit undo else namedcompound nc namedcompound modify group nc addedit undo nc addedit undoaddpreviousentries nc end panel getundomanager addedit nc panel markbasechanged frame output localization lang modified group 0\ newgroup getname addgroupaction nodeaction addgroupaction super localization lang add group override actionperformed actionevent groupdialog gd groupdialog frame null gd setvisible true gd okpressed ignore abstractgroup newgroup gd getresultinggroup grouptreenode newnode grouptreenode fromgroup newgroup grouptreenodeviewmodel node getnodetouse node null groupsroot getnode addchild newnode else grouptreenodeviewmodel node getparent getnode addchild newnode node getnode getpositioninparent undoableaddorremovegroup undo undoableaddorremovegroup groupsroot grouptreenodeviewmodel newnode undoableaddorremovegroup add node groupstree expandpath node null groupsroot node gettreepath store undo information panel getundomanager addedit undo panel markbasechanged frame output localization lang added group 0\ newgroup getname addsubgroupaction nodeaction addsubgroupaction super localization lang add subgroup override actionperformed actionevent groupdialog gd groupdialog frame null gd setvisible true gd okpressed ignore abstractgroup newgroup gd getresultinggroup grouptreenode newnode grouptreenode fromgroup newgroup grouptreenodeviewmodel node getnodetouse node getnode addchild newnode undoableaddorremovegroup undo undoableaddorremovegroup groupsroot grouptreenodeviewmodel newnode undoableaddorremovegroup add node groupstree expandpath node gettreepath store undo information panel getundomanager addedit undo panel markbasechanged frame output localization lang added group 0\ newgroup getname removegroupandsubgroupsaction nodeaction removegroupandsubgroupsaction super localization lang remove group subgroups override actionperformed actionevent grouptreenodeviewmodel node getnodetouse abstractgroup group node getnode getgroup conf joptionpane showconfirmdialog frame localization lang remove group 0\ subgroups? group getname localization lang remove group subgroups joptionpane yes option conf joptionpane yes option undoableaddorremovegroup undo undoableaddorremovegroup groupsroot node undoableaddorremovegroup remove node children node getnode removefromparent store undo information panel getundomanager addedit undo panel markbasechanged frame output localization lang removed group 0\ subgroups group getname removesubgroupsaction nodeaction removesubgroupsaction super localization lang remove subgroups override actionperformed actionevent grouptreenodeviewmodel node getnodetouse conf joptionpane showconfirmdialog frame localization lang remove subgroups 0\ node getname localization lang remove subgroups joptionpane yes option conf joptionpane yes option undoablemodifysubtree undo undoablemodifysubtree getgrouptreeroot node remove subgroups node getnode removeallchildren revalidategroups store undo information panel getundomanager addedit undo panel markbasechanged frame output localization lang removed subgroups group 0\ node getname removegroupkeepsubgroupsaction nodeaction removegroupkeepsubgroupsaction super localization lang remove group keep subgroups override actionperformed actionevent grouptreenodeviewmodel node getnodetouse abstractgroup group node getnode getgroup conf joptionpane showconfirmdialog frame localization lang remove group 0\ group getname localization lang remove group joptionpane yes option conf joptionpane yes option undoableaddorremovegroup undo undoableaddorremovegroup groupsroot node undoableaddorremovegroup remove node keep children grouptreenodeviewmodel parent grouptreenodeviewmodel node getparent node getnode removefromparent node getnode moveallchildrento parent getnode parent getindex node store undo information panel getundomanager addedit undo panel markbasechanged frame output localization lang removed group 0\ group getname treepath getselectionpath groupstree getselectionpath sortdirectsubgroupsaction nodeaction sortdirectsubgroupsaction super localization lang immediate subgroups override actionperformed actionevent ae grouptreenodeviewmodel node getnodetouse undoablemodifysubtree undo undoablemodifysubtree getgrouptreeroot node localization lang sort subgroups groupstree sort node false panel getundomanager addedit undo panel markbasechanged frame output localization lang sorted immediate subgroups sortallsubgroupsaction nodeaction sortallsubgroupsaction super localization lang subgroups recursively override actionperformed actionevent ae grouptreenodeviewmodel node getnodetouse undoablemodifysubtree undo undoablemodifysubtree getgrouptreeroot node localization lang sort subgroups groupstree sort node true panel getundomanager addedit undo panel markbasechanged frame output localization lang sorted subgroups recursively expandsubtreeaction nodeaction expandsubtreeaction super localization lang expand subtree override actionperformed actionevent ae getnodetouse expandsubtree groupstree revalidategroups collapsesubtreeaction nodeaction collapsesubtreeaction super localization lang collapse subtree override actionperformed actionevent ae getnodetouse collapsesubtree groupstree revalidategroups movenodeupaction nodeaction movenodeupaction super localization lang override actionperformed actionevent grouptreenodeviewmodel node getnodetouse movenodeup node false movenodedownaction nodeaction movenodedownaction super localization lang override actionperformed actionevent grouptreenodeviewmodel node getnodetouse movenodedown node false movenodeleftaction nodeaction movenodeleftaction super localization lang left override actionperformed actionevent grouptreenodeviewmodel node getnodetouse movenodeleft node false movenoderightaction nodeaction movenoderightaction super localization lang right override actionperformed actionevent grouptreenodeviewmodel node getnodetouse movenoderight node false param node node move true move successful false boolean movenodeup grouptreenodeviewmodel node boolean checksingleselection checksingleselection groupstree getselectioncount frame output move one group false possible optional<movegroupchange> movechange node canmoveup movechange node moveup ispresent frame output localization lang cannot move group 0\ node getnode getgroup getname false possible update selection expansion state really needed moving among siblings i'm paranoid revalidategroups groupstree refreshpaths groupstree getselectionpaths groupstree refreshpaths getexpandedpaths concludemovegroup movechange get node true param node node move true move successful false boolean movenodedown grouptreenodeviewmodel node boolean checksingleselection checksingleselection groupstree getselectioncount frame output move one group false possible optional<movegroupchange> movechange node canmovedown movechange node movedown ispresent frame output localization lang cannot move group 0\ node getnode getgroup getname false possible update selection expansion state really needed moving among siblings i'm paranoid revalidategroups groupstree refreshpaths groupstree getselectionpaths groupstree refreshpaths getexpandedpaths concludemovegroup movechange get node true param node node move true move successful false boolean movenodeleft grouptreenodeviewmodel node boolean checksingleselection checksingleselection groupstree getselectioncount frame output move one group false possible optional<movegroupchange> movechange node canmoveleft movechange node moveleft ispresent frame output localization lang cannot move group 0\ left node getnode getgroup getname false possible update selection expansion state revalidategroups groupstree refreshpaths groupstree getselectionpaths groupstree refreshpaths getexpandedpaths concludemovegroup movechange get node true param node node move true move successful false boolean movenoderight grouptreenodeviewmodel node boolean checksingleselection checksingleselection groupstree getselectioncount frame output move one group false possible optional<movegroupchange> movechange node canmoveright movechange node moveright ispresent frame output localization lang cannot move group 0\ right node getnode getgroup getname false possible update selection expansion state revalidategroups groupstree refreshpaths groupstree getselectionpaths groupstree refreshpaths getexpandedpaths concludemovegroup movechange get node true concludes moving group tree node storing specified undo information marking change setting status line param movechange undo information move operation param node node moved concludemovegroup movegroupchange movechange grouptreenodeviewmodel node panel getundomanager addedit undoablemovegroup groupsroot movechange panel markbasechanged frame output localization lang moved group 0\ node getnode getgroup getname concludeassignment abstractundoableedit undo grouptreenode node assignedentries undo null frame output localization lang group 0\ already contains selection node getgroup getname panel getundomanager addedit undo panel markbasechanged panel updateentryeditorifshowing string groupname node getgroup getname assignedentries frame output localization lang assigned entry group 0\ groupname else frame output localization lang assigned entries group 1\ string valueof assignedentries groupname grouptreenodeviewmodel getgrouptreeroot groupsroot enumeration<treepath> getexpandedpaths groupstree getexpandeddescendants groupsroot gettreepath panel may null indicate file currently open override setactivebasepanel basepanel panel super setactivebasepanel panel panel null hide groups frame getsidepanemanager hide groupselector metadata metadata panel getbibdatabasecontext getmetadata metadata getgroups ispresent setgroups metadata getgroups get else grouptreenode newgroupsroot grouptreenode fromgroup allentriesgroup localization lang entries metadata setgroups newgroupsroot setgroups newgroupsroot metadata registerlistener synchronized gettreelock validatetree highlight groups contain specified entries entries null zero length highlight cleared showmatchinggroups list<bibentry> list boolean requireall list null list isempty nothing selected groupstree setmatchinggroups collections emptylist groupstree revalidate list<grouptreenode> nodelist groupsroot getnode getcontaininggroups list requireall groupstree setmatchinggroups nodelist ensure highlighted nodes visible grouptreenode node nodelist node getparent ifpresent parentnode groupstree expandpath grouptreenodeviewmodel parentnode gettreepath groupstree revalidate show groups selected would show least one entries specified list showoverlappinggroups list<bibentry> matches list<grouptreenode> nodes groupsroot getnode getmatchinggroups matches groupstree setoverlappinggroups nodes groupstree getgroupstree groupstree subscribe listen groupupdatedevent updateevent setgroups updateevent getmetadata getgroups orelse null override grabfocus groupstree grabfocus override toggleaction gettoggleaction toggleaction 
293	UndoableModifyGroup.java	GUI	net sf jabref gui groups util list net sf jabref gui undo abstractundoablejabrefedit net sf jabref logic l10n localization net sf jabref model groups abstractgroup net sf jabref model groups grouptreenode undoablemodifygroup abstractundoablejabrefedit groupselector groupselector abstractgroup oldgroupbackup abstractgroup newgroupbackup grouptreenode groupsroothandle list<integer> pathtonode param node node still contains old group param newgroup group replace one currently stored <b>node b> undoablemodifygroup groupselector gs grouptreenodeviewmodel groupsroot grouptreenodeviewmodel node abstractgroup newgroup groupselector gs oldgroupbackup node getnode getgroup deepcopy newgroupbackup newgroup deepcopy pathtonode node getnode getindexedpathfromroot groupsroothandle groupsroot getnode override string getpresentationname localization lang modify group override undo super undo todo: null groupsroothandle getdescendant pathtonode get setgroup oldgroupbackup deepcopy groupselector revalidategroups override redo super redo groupsroothandle getdescendant pathtonode get setgroup newgroupbackup deepcopy groupselector revalidategroups 
294	GroupsTree.java	GUI	net sf jabref gui groups awt cursor awt point awt rectangle awt datatransfer transferable awt datatransfer unsupportedflavorexception awt dnd dndconstants awt dnd draggestureevent awt dnd draggesturelistener awt dnd draggesturerecognizer awt dnd dragsource awt dnd dragsourcedragevent awt dnd dragsourcedropevent awt dnd dragsourceevent awt dnd dragsourcelistener awt dnd droptarget awt dnd droptargetdragevent awt dnd droptargetdropevent awt dnd droptargetevent awt dnd droptargetlistener awt event inputevent io ioexception util enumeration util list util objects util optional util vector javax swing jtree javax swing swingutilities javax swing tooltipmanager javax swing tree treepath javax swing tree treeselectionmodel net sf jabref gui util guiutil net sf jabref model entry bibentry net sf jabref model groups abstractgroup net sf jabref model groups entriesgroupchange net sf jabref model groups grouptreenode net sf jabref model groups movegroupchange groupstree jtree dragsourcelistener droptargetlistener draggesturelistener distance component borders autoscrolling starts drag scroll activation margin number pixels scroll time handler called drag scroll distance time last autoscroll event limiting speed long lastdragautoscroll minimum interval two autoscroll events limiting speed long min autoscroll interval 50l point cursor currently idling drag operation point idlepoint time since cursor idling long idlestarttime max distance cursor may move direction idling idle margin idle time node expanded long idle time expand node 1000l groupselector groupselector grouptreenodeviewmodel dragnode grouptreecellrenderer localcellrenderer grouptreecellrenderer param groupselector parent ui component groupstree groupselector groupselector guiutil correctrowheight groupselector groupselector draggesturerecognizer dgr dragsource getdefaultdragsource createdefaultdraggesturerecognizer dndconstants action move dgr null eliminates right mouse clicks valid actions dgr setsourceactions dgr getsourceactions ~inputevent button3 mask droptarget setcellrenderer localcellrenderer setfocusable false settoggleclickcount tooltipmanager sharedinstance registercomponent setshowsroothandles false getselectionmodel setselectionmode treeselectionmodel discontiguous tree selection setfocusable true override dragenter dragsourcedragevent dsde ignore moving nodes within override dragover dragsourcedragevent dsde point dsde getlocation screen coordinates null swingutilities convertpointfromscreen treepath path getpathforlocation path null dsde getdragsourcecontext setcursor dragsource defaultmovenodrop grouptreenodeviewmodel target grouptreenodeviewmodel path getlastpathcomponent target null dragnode getnode isnodedescendant target getnode dragnode equals target dsde getdragsourcecontext setcursor dragsource defaultmovenodrop dsde getdragsourcecontext setcursor dragsource defaultmovedrop override dropactionchanged dragsourcedragevent dsde ignore override dragdropend dragsourcedropevent dsde dragnode null override dragexit dragsourceevent dse ignore override dragenter droptargetdragevent dtde ignore handles dragging nodes entries table override dragover droptargetdragevent dtde point cursor dtde getlocation long currenttime system currenttimemillis idlepoint null idlepoint cursor determine node user dragging treepath path getpathforlocation cursor cursor grouptreenodeviewmodel target path null null grouptreenodeviewmodel path getlastpathcomponent sethighlight1cell target accept reject dtde isdataflavorsupported grouptreenodeviewmodel flavor accept: move nodes within tree dtde acceptdrag dndconstants action move else dtde isdataflavorsupported transferableentryselection flavor internal check node accepts explicit assignment target null dtde rejectdrag else would place check dragging entries maybe group already think that's worth bother droptargetdragevent provide access drag object might even irritating user target getnode supportsaddingentries accept: assignment entrytable dtde acceptdrag dndconstants action link else dtde rejectdrag else dtde rejectdrag auto open math abs cursor idlepoint groupstree idle margin math abs cursor idlepoint groupstree idle margin currenttime idlestarttime groupstree idle time expand node path null expandpath path else idlepoint cursor idlestarttime currenttime autoscrolling currenttime groupstree lastdragautoscroll groupstree min autoscroll interval rectangle getvisiblerect boolean scrollup cursor groupstree drag scroll activation margin boolean scrolldown height cursor groupstree drag scroll activation margin boolean scrollleft cursor groupstree drag scroll activation margin boolean scrollright width cursor groupstree drag scroll activation margin scrollup translate groupstree drag scroll distance else scrolldown translate groupstree drag scroll distance scrollleft translate groupstree drag scroll distance else scrollright translate groupstree drag scroll distance scrollrecttovisible groupstree lastdragautoscroll currenttime override dropactionchanged droptargetdragevent dtde ignore override drop droptargetdropevent dtde sethighlight1cell null try initializations common flavors point dtde getlocation treepath path getpathforlocation path null dtde rejectdrop grouptreenodeviewmodel target grouptreenodeviewmodel path getlastpathcomponent check supported flavors transferable transferable dtde gettransferable transferable isdataflavorsupported grouptreenodeviewmodel flavor grouptreenodeviewmodel source grouptreenodeviewmodel transferable gettransferdata grouptreenodeviewmodel flavor source equals target dtde rejectdrop ignore source getnode isnodedescendant target getnode dtde rejectdrop enumeration<treepath> expandedpaths groupselector getexpandedpaths movegroupchange undo movegroupchange grouptreenodeviewmodel source getparent getnode source getnode getpositioninparent target getnode target getchildcount source getnode moveto target getnode dtde getdroptargetcontext dropcomplete true update selection expansion state groupselector revalidategroups treepath[] source gettreepath refreshpaths expandedpaths groupselector concludemovegroup undo source else transferable isdataflavorsupported transferableentryselection flavor internal abstractgroup group target getnode getgroup target getnode supportsaddingentries never happen condition checked dragover already dtde rejectdrop transferableentryselection selection transferableentryselection transferable gettransferdata transferableentryselection flavor internal list<bibentry> entries selection getselection assignedentries bibentry entry entries target getnode getgroup contains entry assignedentries warn assignment undesired side effects modifies field keywords warnassignmentsideeffects warnassignmentsideeffects group groupselector frame user aborted operation editor showing fields must updated assignment current edit stored: groupselector getactivebasepanel storecurrentedit optional<entriesgroupchange> undo target addentriestogroup selection getselection undo ispresent dtde getdroptargetcontext dropcomplete true groupselector concludeassignment undoablechangeentriesofgroup getundoableedit target undo get target getnode assignedentries else dtde rejectdrop catch ioexception unsupportedflavorexception ioe ignore override dragexit droptargetevent dte sethighlight1cell null override draggesturerecognized draggestureevent dge grouptreenodeviewmodel selectednode getselectednode selectednode null nothing transfer select manually? cursor cursor dragsource defaultmovedrop dragnode selectednode dge getdragsource startdrag dge cursor selectednode returns first selected node null nothing selected grouptreenodeviewmodel getselectednode treepath selectionpath getselectionpath selectionpath null null grouptreenodeviewmodel selectionpath getlastpathcomponent refresh paths may become invalid due node movements within tree method creates paths last path components must still exist specified paths param paths paths may become invalid refreshed paths valid enumeration<treepath> refreshpaths enumeration<treepath> paths paths null vector<treepath> elements vector<treepath> freshpaths vector<> paths hasmoreelements freshpaths add grouptreenodeviewmodel paths nextelement getlastpathcomponent gettreepath freshpaths elements refresh paths may become invalid due node movements within tree method creates paths last path components must still exist specified paths param paths paths may become invalid refreshed paths valid treepath[] refreshpaths treepath[] paths treepath[] freshpaths treepath[paths length] paths length freshpaths[i] grouptreenodeviewmodel paths[i] getlastpathcomponent gettreepath freshpaths highlights specified cell disables highlight cell null sethighlight1cell object cell localcellrenderer sethighlight1cell cell repaint highlights specified groups red setoverlappinggroups list<grouptreenode> nodes objects requirenonnull nodes localcellrenderer setoverlappinggroups nodes repaint highlights specified groups underlining setmatchinggroups list<grouptreenode> nodes objects requirenonnull nodes localcellrenderer setmatchinggroups nodes repaint highlights specified cell disables highlight cell null sethighlightbordercell grouptreenodeviewmodel node localcellrenderer sethighlightbordercell node repaint sort immediate children specified node alphabetically sort grouptreenodeviewmodel node boolean recursive node sortchildrenbyname recursive returns true node specified path least one descendant currently expanded boolean hasexpandeddescendant treepath path grouptreenodeviewmodel node grouptreenodeviewmodel path getlastpathcomponent grouptreenodeviewmodel child node getchildren child isleaf continue care case treepath pathtochild path pathbyaddingchild child isexpanded pathtochild hasexpandeddescendant pathtochild true false returns true node specified path least one descendant currently collapsed boolean hascollapseddescendant treepath path grouptreenodeviewmodel node grouptreenodeviewmodel path getlastpathcomponent grouptreenodeviewmodel child node getchildren child isleaf continue care case treepath pathtochild path pathbyaddingchild child iscollapsed pathtochild hascollapseddescendant pathtochild true false 
295	AddToGroupAction.java	GUI	net sf jabref gui groups awt event actionevent util list util optional util stream collectors javax swing abstractaction net sf jabref gui basepanel net sf jabref gui undo namedcompound net sf jabref logic l10n localization net sf jabref model entry bibentry net sf jabref model groups abstractgroup net sf jabref model groups entriesgroupchange net sf jabref model groups grouptreenode addtogroupaction abstractaction boolean move grouptreenodeviewmodel node basepanel panel param move true remove entries groups addtogroupaction grouptreenodeviewmodel node boolean move basepanel panel super node getnode getgroup getname node node move move panel panel addtogroupaction boolean move super move localization lang assign entry selection exclusively group localization lang add entry selection group move move setbasepanel basepanel panel panel panel setnode grouptreenodeviewmodel node node node override actionperformed actionevent evt list<bibentry> entries panel getselectedentries editor showing fields must updated assignment current edit stored: panel storecurrentedit namedcompound undoall namedcompound localization lang change assignment entries move movetogroup entries undoall else addtogroup entries undoall undoall end panel getundomanager addedit undoall panel markbasechanged panel updateentryeditorifshowing panel getgroupselector valuechanged null movetogroup list<bibentry> entries namedcompound undoall list<grouptreenode> groupscontainingentries node getnode getroot getcontaininggroups entries false stream filter node node getgroup supportsremove collect collectors tolist list<abstractgroup> affectedgroups groupscontainingentries stream map grouptreenode::getgroup collect collectors tolist affectedgroups add node getnode getgroup warnassignmentsideeffects warnassignmentsideeffects affectedgroups panel frame user aborted operation first remove grouptreenode group groupscontainingentries optional<entriesgroupchange> undoremove group getgroup remove entries undoremove ispresent undoall addedit undoablechangeentriesofgroup getundoableedit node undoremove get add optional<entriesgroupchange> undoadd node addentriestogroup entries undoadd ispresent undoall addedit undoablechangeentriesofgroup getundoableedit node undoadd get addtogroup list<bibentry> entries namedcompound undo warnassignmentsideeffects warnassignmentsideeffects node getnode getgroup panel frame user aborted operation optional<entriesgroupchange> undoadd node addentriestogroup entries undoadd ispresent undo addedit undoablechangeentriesofgroup getundoableedit node undoadd get 
296	GroupMatcher.java	GUI	net sf jabref gui groups net sf jabref model entry bibentry ca odell glazedlists matchers matcher matcher filtering sorting table according whether entries tagged group matches groupmatcher matcher<bibentry> groupmatcher instance groupmatcher override boolean matches bibentry entry entry isgrouphit 
297	GroupTreeNodeViewModel.java	GUI	net sf jabref gui groups awt datatransfer dataflavor awt datatransfer transferable awt datatransfer unsupportedflavorexception io ioexception util arraylist util enumeration util list util optional util function consumer javax swing icon javax swing jtree javax swing tree treenode javax swing tree treepath javax swing undo abstractundoableedit javax swing undo undomanager net sf jabref globals net sf jabref jabrefgui net sf jabref gui basepanel net sf jabref gui icontheme net sf jabref gui undo countingundomanager net sf jabref logic groups groupdescriptions net sf jabref model entry bibentry net sf jabref model groups abstractgroup net sf jabref model groups allentriesgroup net sf jabref model groups entriesgroupchange net sf jabref model groups explicitgroup net sf jabref model groups grouptreenode net sf jabref model groups keywordgroup net sf jabref model groups movegroupchange net sf jabref model groups searchgroup net sf jabref preferences jabrefpreferences org apache commons logging log org apache commons logging logfactory grouptreenodeviewmodel transferable treenode log logger logfactory getlog grouptreenodeviewmodel icon group refining icon icontheme jabreficon group refining getsmallicon icon group including icon icontheme jabreficon group including getsmallicon icon group regular icon null dataflavor flavor dataflavor[] flavors dataflavor df null try df dataflavor dataflavor javajvmlocalobjectmimetype grouptreenode getcanonicalname catch classnotfoundexception logger error creating dataflavor failed happen flavor df flavors dataflavor[] grouptreenodeviewmodel flavor grouptreenode node override string tostring stringbuilder sb stringbuilder grouptreenodeviewmodel sb append node append node sb append sb tostring grouptreenodeviewmodel grouptreenode node node node override dataflavor[] gettransferdataflavors grouptreenodeviewmodel flavors override boolean isdataflavorsupported dataflavor someflavor someflavor equals grouptreenodeviewmodel flavor override object gettransferdata dataflavor someflavor throws unsupportedflavorexception ioexception isdataflavorsupported someflavor throw unsupportedflavorexception someflavor override treenode getchildat childindex node getchildat childindex map grouptreenodeviewmodel::new orelse null override getchildcount node getnumberofchildren override treenode getparent node getparent map grouptreenodeviewmodel::new orelse null override getindex treenode child child instanceof grouptreenodeviewmodel grouptreenodeviewmodel childviewmodel grouptreenodeviewmodel child node getindexofchild childviewmodel getnode orelse override boolean getallowschildren true override boolean isleaf node isleaf override enumeration children iterable<grouptreenode> children node getchildren enumeration<grouptreenodeviewmodel> override boolean hasmoreelements children iterator hasnext override grouptreenodeviewmodel nextelement grouptreenodeviewmodel children iterator next grouptreenode getnode node collapse node children collapsesubtree jtree tree tree collapsepath gettreepath grouptreenodeviewmodel child getchildren child collapsesubtree tree expand node children expandsubtree jtree tree tree expandpath gettreepath grouptreenodeviewmodel child getchildren child expandsubtree tree list<grouptreenodeviewmodel> getchildren list<grouptreenodeviewmodel> children arraylist<> grouptreenode child node getchildren children add grouptreenodeviewmodel child children boolean printinitalics globals prefs getboolean jabrefpreferences group show dynamic node getgroup isdynamic string gettext abstractgroup group node getgroup stringbuilder sb stringbuilder sb append group getname globals prefs getboolean jabrefpreferences group show number elements jabrefgui getmainframe null basepanel currentbasepanel jabrefgui getmainframe getcurrentbasepanel currentbasepanel null sb append append node numberofhits currentbasepanel getdatabase getentries append ']' sb tostring string getdescription abstractgroup group node getgroup string shortdescription boolean showdynamic globals prefs getboolean jabrefpreferences group show dynamic group instanceof explicitgroup shortdescription groupdescriptions getshortdescriptionexplicitgroup explicitgroup group else group instanceof keywordgroup shortdescription groupdescriptions getshortdescriptionkeywordgroup keywordgroup group showdynamic else group instanceof searchgroup shortdescription groupdescriptions getshortdescription searchgroup group showdynamic else shortdescription groupdescriptions getshortdescriptionallentriesgroup <html> shortdescription html> icon geticon globals prefs getboolean jabrefpreferences group show icons switch node getgroup gethierarchicalcontext case refining: group refining icon case including: group including icon default: group regular icon else null treepath gettreepath list<grouptreenode> pathtonode node getpathfromroot treepath pathtonode stream map grouptreenodeviewmodel::new toarray boolean canaddentries list<bibentry> entries getnode getgroup supportsadd getnode getgroup containsall entries boolean canremoveentries list<bibentry> entries getnode getgroup supportsremove getnode getgroup containsany entries sortchildrenbyname boolean recursive getnode sortchildren node1 node2 node1 getgroup getname comparetoignorecase node2 getgroup getname recursive override boolean equals object true null getclass getclass false grouptreenodeviewmodel viewmodel grouptreenodeviewmodel node equals viewmodel node override hashcode node hashcode string getname getnode getgroup getname boolean canbeedited getnode getgroup instanceof allentriesgroup boolean canmoveup getnode getprevioussibling null getnode getgroup instanceof allentriesgroup boolean canmovedown getnode getnextsibling null getnode getgroup instanceof allentriesgroup boolean canmoveleft getnode getgroup instanceof allentriesgroup todo: null getnode getparent get getgroup instanceof allentriesgroup boolean canmoveright getnode getprevioussibling null getnode getgroup instanceof allentriesgroup changeentriesto list<bibentry> entries undomanager undomanager abstractgroup group node getgroup optional<entriesgroupchange> changesremove optional empty optional<entriesgroupchange> changesadd optional empty sort entries current members non members group current members removed current non members added list<bibentry> toremove arraylist<> entries size list<bibentry> toadd arraylist<> entries size bibentry entry entries sort according current state entries group contains entry toremove add entry else toadd add entry entries remove toremove isempty changesremove removeentriesfromgroup toremove entries add toadd isempty changesadd addentriestogroup toadd remember undo information changesremove ispresent abstractundoableedit undoremove undoablechangeentriesofgroup getundoableedit changesremove get changesadd ispresent undoremove null removed added entries undoremove addedit undoablechangeentriesofgroup getundoableedit changesadd get undomanager addedit undoremove else changesadd ispresent undomanager addedit undoablechangeentriesofgroup getundoableedit changesadd get boolean isallentriesgroup getnode getgroup instanceof allentriesgroup addnewgroup abstractgroup newgroup countingundomanager undomanager grouptreenode newnode grouptreenode fromgroup newgroup getnode addchild newnode undoableaddorremovegroup undo undoableaddorremovegroup grouptreenodeviewmodel newnode undoableaddorremovegroup add node undomanager addedit undo optional<movegroupchange> moveup grouptreenode parent node getparent get todo: null index parent getindexofchild getnode get index getnode moveto parent index optional movegroupchange parent index parent index optional empty optional<movegroupchange> movedown grouptreenode parent node getparent get todo: null index parent getindexofchild node get index parent getnumberofchildren node moveto parent index optional movegroupchange parent index parent index optional empty optional<movegroupchange> moveleft grouptreenode parent node getparent get todo: null optional<grouptreenode> grandparent parent getparent index node getpositioninparent grandparent ispresent optional empty indexofparent grandparent get getindexofchild parent get node moveto grandparent get indexofparent optional movegroupchange parent index grandparent get indexofparent optional<movegroupchange> moveright grouptreenode previoussibling node getprevioussibling get todo: null grouptreenode parent node getparent get todo: null index node getpositioninparent previoussibling null optional empty node moveto previoussibling optional movegroupchange parent index previoussibling previoussibling getnumberofchildren adds given entries node's group optional<entriesgroupchange> addentriestogroup list<bibentry> entries node getgroup supportsadd node getgroup add entries else optional empty removes given entries node's group optional<entriesgroupchange> removeentriesfromgroup list<bibentry> entries node getgroup supportsremove node getgroup remove entries else optional empty subscribetodescendantchanged consumer<grouptreenodeviewmodel> subscriber getnode subscribetodescendantchanged node subscriber accept grouptreenodeviewmodel node 
298	EntryTableTransferHandler.java	GUI	net sf jabref gui groups awt datatransfer clipboard awt datatransfer dataflavor awt datatransfer transferable awt datatransfer unsupportedflavorexception awt dnd dndconstants awt event inputevent awt event mouseevent io file io filewriter io ioexception net malformedurlexception net urisyntaxexception net url util arraylist util collections util list util optional javax swing jcomponent javax swing jtable javax swing transferhandler net sf jabref jabrefexecutorservice net sf jabref gui basepanel net sf jabref gui jabrefframe net sf jabref gui externalfiles droppedfilehandler net sf jabref gui externalfiles transferablefilelinkselection net sf jabref gui externalfiletype externalfiletype net sf jabref gui externalfiletype externalfiletypes net sf jabref gui importer importmenuitem net sf jabref gui importer actions opendatabaseaction net sf jabref gui maintable maintable net sf jabref gui net monitoredurldownload net sf jabref logic util io fileutil net sf jabref pdfimport pdfimporter net sf jabref pdfimport pdfimporter importpdffilesresult org apache commons logging log org apache commons logging logfactory entrytabletransferhandler transferhandler maintable entrytable jabrefframe frame basepanel panel dataflavor urlflavor dataflavor stringflavor boolean drop allowed true log logger logfactory getlog entrytabletransferhandler boolean draggingfile construct transfer handler param entrytable table transfer handler operate argument allowed equal null case transfer handler assume works jabref instance databases open attached empty tabbed pane param frame jabrefframe instance param panel basepanel transferhandler works entrytabletransferhandler maintable entrytable jabrefframe frame basepanel panel entrytable entrytable frame frame panel panel stringflavor dataflavor stringflavor try urlflavor dataflavor application url net url catch classnotfoundexception logger info unable configure drag drop main table overridden indicate types drags supported link override getsourceactions jcomponent dndconstants action link method called dragging stuff table override transferable createtransferable jcomponent draggingfile draggingfile false transferablefilelinkselection panel entrytable getselectedentries gettransferable else assume never called entrytable null: transferableentryselection entrytable getselectedentries method called stuff drag component imports dropped url plain text entry current database override boolean importdata jcomponent comp transferable drop target main table want record row item dropped identify entry needed: droprow comp instanceof jtable droprow jtable comp getselectedrow try flavor used dragged file links windows: isdataflavorsupported dataflavor javafilelistflavor joptionpane showmessagedialog null received javafilelistflavor suppresswarnings unchecked list<file> list<file> gettransferdata dataflavor javafilelistflavor handledraggedfiles droprow else isdataflavorsupported urlflavor url droplink url gettransferdata urlflavor handledroptransfer droplink else isdataflavorsupported stringflavor string dropstr string gettransferdata stringflavor logger debug received stringflavor: dropstr handledroptransfer dropstr droprow catch ioexception ioe logger error failed read dropped data ioe catch unsupportedflavorexception classcastexception ufe logger error drop type error ufe supported flavors failed logger info can't transfer input: dataflavor[] inflavs gettransferdataflavors dataflavor inflav inflavs logger info inflav false method called query whether transfer imported true urls strings javafilelists override boolean canimport jcomponent comp dataflavor[] transferflavors entrytabletransferhandler drop allowed false accept input flavor matches supported flavors dataflavor inflav transferflavors inflav match urlflavor inflav match stringflavor inflav match dataflavor javafilelistflavor true system println drop type forbidden nope never heard type false override exportasdrag jcomponent comp inputevent action instanceof mouseevent columnindex entrytable columnatpoint mouseevent getpoint modelindex entrytable getcolumnmodel getcolumn columnindex getmodelindex entrytable isfilecolumn modelindex logger info dragging file draggingfile true super exportasdrag comp dndconstants action link override exportdone jcomponent source transferable data action default implementation ok super exportdone source data action override exporttoclipboard jcomponent comp clipboard clip action default implementation ok super exporttoclipboard comp clip action add ons boolean handledroptransfer string dropstr droprow throws ioexception dropstr startswith file: appears dragged file link reference format check map set files: handledraggedfilenames dropstr droprow true handle normal way else dropstr startswith http: way url links received os kde gnome? url url url dropstr joptionpane showmessagedialog null making url: url tostring handledroptransfer url file tmpfile file createtempfile jabrefimport tmpfile deleteonexit try filewriter fw filewriter tmpfile fw write dropstr system println importing tmpfile getabsolutepath importmenuitem importer importmenuitem frame false importer automatedimport collections singletonlist tmpfile getabsolutepath true translate string describing set files urls dragged jabref list file objects taking care url special characters param string describing set files urls dragged jabref list<file> containing individual file objects list<file> getfilesfromdraggedfilesstring string split lines: string[] lines replace \r split \n list<file> files arraylist<> string line1 lines string line line1 try use url touri translate url specific sequences like standard characters: file fl null try url url url line fl file url touri catch malformedurlexception urisyntaxexception logger warn could get file unless exception thrown sanitized path: fl null line fl getpath else line startswith file: line line substring else continue gnome link given file: need strip extra slashes: line startswith line line substring file file line exists files add files handle string describing set files urls dragged jabref param string describing set files urls dragged jabref param droprow row table files dragged success status operation boolean handledraggedfilenames string droprow handledraggedfiles entrytabletransferhandler getfilesfromdraggedfilesstring droprow handle list containing file objects set files param files list containing file instances pointing files param droprow param droprow row table files dragged success status operation boolean handledraggedfiles list<file> files droprow list<string> filenames arraylist<> file file files filenames add file getabsolutepath try load bib files normally rest current database process must spun background thread: jabrefexecutorservice instance execute importpdffilesresult importres pdfimporter frame panel entrytable droprow importpdffiles filenames importres getnopdffiles isempty loadorimportfiles importres getnopdffiles droprow true take set filenames names indicating bib files opened possible files attempt current database param filenames names files open param droprow success status operation loadorimportfiles list<string> filenames droprow opendatabaseaction openaction opendatabaseaction frame false list<string> notbibfiles arraylist<> list<string> bibfiles arraylist<> string filename filenames find file's extension any: optional<string> extension fileutil getfileextension filename optional<externalfiletype> filetype extension ispresent bib equals extension get assume bibtex file user wants something file extension bib bibtex file use file bibfiles add filename continue filetype externalfiletypes getinstance getexternalfiletypebyext extension orelse linkable file user dropped entry offer options autolinking files: todo offer option highlight row user filetype ispresent droprow todo: make instance variable? droppedfilehandler dfh droppedfilehandler frame panel dfh handledroppedfile filename filetype get entrytable droprow continue notbibfiles add filename openaction openfilesasstringlist bibfiles true notbibfiles isempty entrytable null otherwise current database: importmenuitem importer importmenuitem frame entrytable null importer automatedimport notbibfiles boolean handledroptransfer url droplink throws ioexception file tmpfile file createtempfile jabrefimport tmpfile deleteonexit system println url: droplink tostring system println temp file: tmpfile getabsolutepath monitoredurldownload buildmonitoreddownload entrytable droplink downloadtofile tmpfile entrytable null otherwise current database: importmenuitem importer importmenuitem frame entrytable null importer automatedimport collections singletonlist tmpfile getabsolutepath true 
299	UndoableModifySubtree.java	GUI	net sf jabref gui groups util list util vector net sf jabref gui undo abstractundoablejabrefedit net sf jabref model groups grouptreenode undoablemodifysubtree abstractundoablejabrefedit backup groups modification grouptreenode grouproot grouptreenode subtreebackup path global groups root node list<integer> subtreerootpath holds subtree root's modified children allow redo list<grouptreenode> modifiedsubtree vector<> string name param subtree root node subtree modified node may modified used convenience handle undoablemodifysubtree grouptreenodeviewmodel grouproot grouptreenodeviewmodel subtree string name subtreebackup subtree getnode copysubtree grouproot grouproot getnode subtreerootpath subtree getnode getindexedpathfromroot name name override string getpresentationname name override undo super undo remember modified children redo modifiedsubtree clear get node edit grouptreenode subtreeroot grouproot getdescendant subtreerootpath get todo: null grouptreenode child subtreeroot getchildren modifiedsubtree add child keep subtree handle restore everything else backup subtreeroot removeallchildren grouptreenode child subtreebackup getchildren child copysubtree moveto subtreeroot override redo super redo grouptreenode subtreeroot grouproot getdescendant subtreerootpath get todo: null subtreeroot removeallchildren grouptreenode modifiednode modifiedsubtree modifiednode moveto subtreeroot 
300	TransferableEntrySelection.java	GUI	net sf jabref gui groups awt datatransfer dataflavor awt datatransfer transferable awt datatransfer unsupportedflavorexception io bytearrayinputstream io ioexception util list util optional util stream collectors net sf jabref model entry bibentry transferableentryselection transferable dataflavor flavor internal dataflavor flavor external dataflavor[] flavors list<bibentry> selectedentries string selectedentriescitekeys boolean includecitekeyword dataflavor df1 null dataflavor df2 null try df1 dataflavor dataflavor javajvmlocalobjectmimetype net sf jabref gui groups transferableentryselection df2 dataflavor gettextplainunicodeflavor catch classnotfoundexception never happens flavor internal df1 flavor external df2 flavors dataflavor[] transferableentryselection flavor internal transferableentryselection flavor external transferableentryselection list<bibentry> list selectedentries list selectedentriescitekeys string join selectedentries stream map bibentry::getcitekeyoptional filter optional::ispresent map optional::get collect collectors tolist override dataflavor[] gettransferdataflavors transferableentryselection flavors override boolean isdataflavorsupported dataflavor someflavor someflavor equals transferableentryselection flavor internal someflavor equals transferableentryselection flavor external override object gettransferdata dataflavor someflavor throws unsupportedflavorexception ioexception isdataflavorsupported someflavor throw unsupportedflavorexception someflavor someflavor equals transferableentryselection flavor internal string includecitekeyword \\cite selectedentriescitekeys selectedentriescitekeys string charset transferableentryselection flavor external getparameter charset charset null charset bytearrayinputstream getbytes charset trim list<bibentry> getselection selectedentries setincludecitekeyword boolean includecitekeyword includecitekeyword includecitekeyword 
301	GroupAddRemoveDialog.java	GUI	net sf jabref gui groups awt borderlayout awt color awt component awt event actionevent util enumeration util list util optional javax swing abstractaction javax swing actionmap javax swing borderfactory javax swing inputmap javax swing jbutton javax swing jcomponent javax swing jdialog javax swing jscrollpane javax swing jtree javax swing swingutilities javax swing tree defaulttreemodel javax swing tree treenode javax swing tree treepath javax swing tree treeselectionmodel net sf jabref globals net sf jabref gui basepanel net sf jabref gui actions baseaction net sf jabref gui keyboard keybinding net sf jabref logic l10n localization net sf jabref model entry bibentry net sf jabref model groups grouptreenode com jgoodies forms builder buttonbarbuilder created intellij idea user: alver date: time: 6:24 pm change template use file settings file templates groupaddremovedialog baseaction basepanel panel boolean add boolean move list<bibentry> selection jtree tree groupaddremovedialog basepanel panel boolean add boolean move panel panel add add move move override action throws exception optional<grouptreenode> groups panel getbibdatabasecontext getmetadata getgroups groups ispresent selection panel getselectedentries jdialog diag jdialog panel frame add move localization lang move group localization lang add group localization lang remove group true jbutton ok jbutton localization lang ok jbutton cancel jbutton localization lang cancel tree jtree grouptreenodeviewmodel groups get tree setcellrenderer addremovegrouptreecellrenderer tree setvisiblerowcount tree setpreferredsize dimension tree getpreferredsize height scrollbar appears preferred size component greater size viewport one hard coded preferred size never change according expansion collapse thus scrollbar cannot appear accordingly tree setselectionmodel vetoabletreeselectionmodel tree getselectionmodel setselectionmode treeselectionmodel single tree selection tree addtreeselectionlistener grouptreenodeviewmodel node grouptreenodeviewmodel getnewleadselectionpath getlastpathcomponent ok setenabled checkgroupenable node sta add expand collapse buttons jbutton jbexpandall jbutton expand jbexpandall addactionlistener expandall tree true jbutton jbcollapseall jbutton collapse jbcollapseall addactionlistener expandall tree false end add expand collapse buttons buttonbarbuilder bb buttonbarbuilder bb addglue bb addbutton ok bb addbutton cancel bb addbutton jbexpandall bb addbutton jbcollapseall bb addglue bb getpanel setborder borderfactory createemptyborder ok addactionlistener actionevent doaddorremove diag dispose cancel addactionlistener actionevent diag dispose ok setenabled false jscrollpane sp jscrollpane tree key bindings: actionmap sp getactionmap inputmap im sp getinputmap jcomponent focused window im put globals getkeyprefs getkey keybinding close dialog close put close abstractaction override actionperformed actionevent diag dispose diag getcontentpane add sp borderlayout center diag getcontentpane add bb getpanel borderlayout south diag pack diag setlocationrelativeto panel frame diag setvisible true expand true nodes tree area expanded otherwise nodes tree collapsed: expandall jtree tree boolean expand swingutilities invokelater treenode root treenode tree getmodel getroot walk tree beginning root: expandall tree treepath defaulttreemodel tree getmodel getpathtoroot root expand tree requestfocusinwindow expandall jtree tree treepath parent boolean expand walk children: treenode node treenode parent getlastpathcomponent node getchildcount enumeration<?> node children hasmoreelements treenode treenode nextelement treepath path parent pathbyaddingchild expandall tree path expand expand collapse occurs bottom top: expand tree expandpath parent else tree collapsepath parent boolean doaddorremove treepath path tree getselectionpath path null false else grouptreenodeviewmodel node grouptreenodeviewmodel path getlastpathcomponent checkgroupenable node add addtogroupaction action addtogroupaction node move panel action actionperformed actionevent node add else removefromgroupaction action removefromgroupaction node panel action actionperformed actionevent node remove true else false check perform action group determines whether group shown enabled state selecting leave ok button enabled param node group check true dialog's action performed group boolean checkgroupenable grouptreenodeviewmodel node add node canaddentries selection node canremoveentries selection addremovegrouptreecellrenderer grouptreecellrenderer override component gettreecellrenderercomponent jtree tree object value boolean selected boolean expanded boolean leaf row boolean hasfocus component super gettreecellrenderercomponent tree value selected expanded leaf row hasfocus grouptreenodeviewmodel node grouptreenodeviewmodel value checkgroupenable node setforeground color black else setforeground color gray 
302	UndoableAddOrRemoveGroup.java	GUI	net sf jabref gui groups util list net sf jabref gui undo abstractundoablejabrefedit net sf jabref logic l10n localization net sf jabref model groups grouptreenode undoableaddorremovegroup abstractundoablejabrefedit root global groups tree grouptreenodeviewmodel groupsroothandle subtree added removed grouptreenode subtreebackup case removing node keeping children number children stored subtreerootchildcount path edited subtree's root node list<integer> pathtonode type editing add node remove node keep children remove node children edittype adding single node group add node removal single node children kept remove node keep children removal node children remove node children creates object undo redo edit event param groupsroot global groups root param edittype type editing add node remove node keep children remove node children param editednode edited node added removed node must descendant node <b>groupsroot< b> means case adding first add tree call constructor removing first call constructor remove node undoableaddorremovegroup grouptreenodeviewmodel groupsroot grouptreenodeviewmodel editednode edittype groupsroothandle groupsroot edittype edittype subtreerootchildcount editednode getchildcount storing backup whole subtree required children kept subtreebackup edittype undoableaddorremovegroup remove node keep children editednode getnode copysubtree grouptreenode fromgroup editednode getnode getgroup deepcopy remember path edited node cannot stored reference reference might change method robust pathtonode editednode getnode getindexedpathfromroot override string getpresentationname switch edittype case add node: localization lang add group case remove node keep children: localization lang remove group keep subgroups case remove node children: localization lang remove group subgroups default: break localization lang unknown edit override undo super undo dooperation true override redo super redo dooperation false dooperation boolean undo grouptreenode cursor groupsroothandle getnode childindex pathtonode get pathtonode size traverse path last element pathtonode size cursor cursor getchildat pathtonode get get undo switch edittype case add node: cursor removechild childindex break case remove node keep children: move children newnode add newnode grouptreenode newnode subtreebackup copysubtree childindex childindex subtreerootchildcount cursor getchildat childindex get moveto newnode newnode moveto cursor childindex break case remove node children: subtreebackup copysubtree moveto cursor childindex break default: break else redo switch edittype case add node: subtreebackup copysubtree moveto cursor childindex break case remove node keep children: remove node insert children grouptreenode removednode cursor getchildat childindex get cursor removechild childindex removednode getnumberofchildren removednode getfirstchild get moveto cursor childindex break case remove node children: cursor removechild childindex break default: break 
303	UndoableChangeEntriesOfGroup.java	GUI	net sf jabref gui groups javax swing undo abstractundoableedit net sf jabref gui undo namedcompound net sf jabref gui undo undoablefieldchange net sf jabref logic l10n localization net sf jabref model fieldchange net sf jabref model groups entriesgroupchange undoablechangeentriesofgroup abstractundoableedit getundoableedit grouptreenodeviewmodel node entriesgroupchange change change getoldentries size change getnewentries size undoablechangeassignment node change getoldentries change getnewentries boolean hasentrychanges false namedcompound entrychangecompound namedcompound localization lang change entries group fieldchange fieldchange change getentrychanges hasentrychanges true entrychangecompound addedit undoablefieldchange fieldchange hasentrychanges entrychangecompound end entrychangecompound null 
304	IconComparator.java	GUI	net sf jabref gui util comparator util comparator util list util optional net sf jabref model entry bibentry comparator handles icon columns iconcomparator comparator<bibentry> list<string> fields iconcomparator list<string> fields fields fields override compare bibentry e1 bibentry e2 string field fields optional<string> val1 e1 getfield field optional<string> val2 e2 getfield field val1 ispresent val2 ispresent val1 null val2 null comparetores val1 get compareto val2 get comparetores continue loop current two values equal else comparetores else else val2 ispresent else continue loop check next field 
305	IsMarkedComparator.java	GUI	net sf jabref gui util comparator util comparator net sf jabref gui entrymarker net sf jabref model entry bibentry ismarkedcomparator comparator<bibentry> comparator<bibentry> instance ismarkedcomparator override compare bibentry e1 bibentry e2 entrymarker ismarked e1 entrymarker ismarked e2 
306	FirstColumnComparator.java	GUI	net sf jabref gui util comparator util comparator net sf jabref logic typedbibentry net sf jabref model database bibdatabasecontext net sf jabref model entry bibentry firstcolumncomparator comparator<bibentry> bibdatabasecontext database firstcolumncomparator bibdatabasecontext database database database override compare bibentry e1 bibentry e2 score1 score2 typedbibentry typedentry1 typedbibentry e1 database typedbibentry typedentry2 typedbibentry e2 database typedentry1 hasallrequiredfields score1 typedentry2 hasallrequiredfields score2 score1 score2 
307	RankingFieldComparator.java	GUI	net sf jabref gui util comparator util comparator util optional net sf jabref model entry bibentry net sf jabref model entry specialfields specialfield comparator handles ranking icon column based iconcomparator comparing ranking field inverse comparison ranking rank5 higher rank1 rankingfieldcomparator comparator<bibentry> override compare bibentry e1 bibentry e2 optional<string> val1 e1 getfield specialfield ranking getfieldname optional<string> val2 e2 getfield specialfield ranking getfieldname val1 ispresent val2 ispresent val1 null val2 null comparetores val1 get compareto val2 get comparetores else comparetores else else val2 ispresent else 
308	CheckBoxMessage.java	GUI	net sf jabref gui util component awt gridbagconstraints awt gridbaglayout awt insets javax swing jcheckbox javax swing jlabel javax swing jpanel javax swing swingconstants checkboxmessage jpanel jcheckbox cb checkboxmessage string message string cbtext boolean defaultvalue cb jcheckbox cbtext defaultvalue gridbaglayout gbl gridbaglayout setlayout gbl gridbagconstraints con gridbagconstraints con gridwidth gridbagconstraints remainder jlabel lab jlabel message '\n' cb sethorizontalalignment swingconstants left gbl setconstraints lab con add lab con anchor gridbagconstraints west con insets insets gbl setconstraints cb con add cb boolean isselected cb isselected 
309	DiffHighlightingTextPane.java	GUI	net sf jabref gui util component javax swing jtextpane javax swing text html htmleditorkit javax swing text html stylesheet diffhighlightingtextpane jtextpane string body style body font:sans serif string addition style add color:blue text decoration:underline string removal style del color:red text decoration:line string change style change color:#006400 text decoration:underline string content type text html diffhighlightingtextpane super setcontenttype content type stylesheet sheet htmleditorkit geteditorkit getstylesheet sheet addrule body style sheet addrule addition style sheet addrule removal style sheet addrule change style seteditable false 
310	OverlayPanel.java	GUI	net sf jabref gui util component awt color awt dimension awt font awt graphics javax swing jcomponent javax swing jlabel javax swing jpanel javax swing jscrollpane javax swing overlaylayout javax swing scrollpaneconstants supports underlying text jcomponent overlaypanel jpanel jlabel label overlaypanel jcomponent overlay string text overlaylayout layout overlaylayout setlayout layout label jlabel text label setfont font label getfont getname font italic label setforeground color label setlocation jscrollpane scroller jscrollpane overlay scroller setlocation scroller setverticalscrollbarpolicy scrollpaneconstants vertical scrollbar always add label add scroller override paint graphics len label getwidth dimension dim getsize dim height dim width len dim width len dim height label setlocation super paint 
311	JTextFieldWithPlaceholder.java	GUI	net sf jabref gui util component awt color awt font awt graphics awt graphics2d awt renderinghints awt event keyevent awt event keylistener javax swing jtextfield javax swing uimanager text field displays predefined text search text field empty similar html5 input element defined placeholder attribute implementation based https: gmigdos wordpress com custom jtextfield searching jtextfieldwithplaceholder jtextfield keylistener string textwhennotfocused additionally link jtextfieldwithplaceholder#jtextfieldwithplaceholder string also sets initial text text field component param content text textfield param placeholder placeholder textfield jtextfieldwithplaceholder string content string placeholder placeholder settext content create link jtextfield placeholder text placeholder always displayed text link jtextfield empty param placeholder placeholder textfield jtextfieldwithplaceholder string placeholder super seteditable true settext textwhennotfocused placeholder override paintcomponent graphics graphics super paintcomponent graphics gettext isempty height getheight font prev graphics getfont color prevcolor graphics getcolor graphics setcolor uimanager getcolor textinactivetext textheight graphics getfontmetrics getheight textbottom height textheight textheight getinsets left graphics2d g2d graphics2d graphics renderinghints hints g2d getrenderinghints g2d setrenderinghint renderinghints key text antialiasing renderinghints value text antialias g2d drawstring textwhennotfocused textbottom g2d setrenderinghints hints graphics setfont prev graphics setcolor prevcolor override keytyped keyevent gettext isempty repaint override keypressed keyevent gettext isempty repaint override keyreleased keyevent gettext isempty repaint 
312	JTextAreaWithPlaceholder.java	GUI	net sf jabref gui util component awt color awt font awt graphics awt graphics2d awt renderinghints awt event keyevent awt event keylistener javax swing jtextarea javax swing uimanager text area displays predefined text way link jtextfieldwithplaceholder jtextareawithplaceholder jtextarea keylistener string textwhennotfocused jtextareawithplaceholder additionally link jtextareawithplaceholder#jtextareawithplaceholder string also sets initial text text field component param content text textfield param placeholder placeholder textfield jtextareawithplaceholder string content string placeholder placeholder settext content create link jtextarea placeholder text placeholder always displayed text link jtextarea empty param placeholder placeholder textarea jtextareawithplaceholder string placeholder super seteditable true settext textwhennotfocused placeholder override paintcomponent graphics graphics super paintcomponent graphics gettext isempty font prev graphics getfont color prevcolor graphics getcolor graphics setcolor uimanager getcolor textinactivetext textheight graphics getfontmetrics getheight getinsets left graphics2d g2d graphics2d graphics renderinghints hints g2d getrenderinghints g2d setrenderinghint renderinghints key text antialiasing renderinghints value text antialias g2d drawstring textwhennotfocused textheight getinsets top g2d setrenderinghints hints graphics setfont prev graphics setcolor prevcolor override keytyped keyevent gettext isempty repaint override keypressed keyevent gettext isempty repaint override keyreleased keyevent gettext isempty repaint 
313	VerticalLabelUI.java	GUI	net sf jabref gui util component awt component awt dimension awt fontmetrics awt graphics awt graphics2d awt rectangle javax swing icon javax swing jcomponent javax swing jlabel javax swing plaf componentui javax swing plaf basic basiclabelui ui delegate jlabel rotates label 90° <p> link basiclabelui <p> difference appearance labels basic metal fs manner diabled text painted verticallabelui override method paintdisabledtext adapted metal extending metallabelui instead basiclabelui <p> changes required author darryl verticallabelui basiclabelui boolean clockwise see comment basiclabelui rectangle verticalviewr rectangle rectangle verticaliconr rectangle rectangle verticaltextr rectangle constructs <code>verticallabelui< code> desired rotation <p> param clockwise true rotate clockwise false anticlockwise verticallabelui boolean clockwise clockwise clockwise overridden always since vertical label meaningful baseline see componentui#getbaseline jcomponent override getbaseline jcomponent width height super getbaseline width height overridden always component baselineresizebehavior since vertical label meaningful baseline see componentui#getbaselineresizebehavior javax swing jcomponent override component baselineresizebehavior getbaselineresizebehavior jcomponent super getbaselineresizebehavior component baselineresizebehavior transposes view rectangles appropriate vertical view invoking super method copies altered link swingutilities#layoutcompoundlabel fontmetrics string icon rectangle rectangle rectangle override string layoutcl jlabel label fontmetrics fontmetrics string text icon icon rectangle viewr rectangle iconr rectangle textr string result text verticalviewr transposerectangle viewr verticalviewr verticaliconr transposerectangle iconr verticaliconr verticaltextr transposerectangle textr verticaltextr result super layoutcl label fontmetrics result icon verticalviewr verticaliconr verticaltextr copyrectangle verticalviewr viewr copyrectangle verticaliconr iconr copyrectangle verticaltextr textr result transforms graphics vertical rendering invokes super method override paint graphics jcomponent graphics2d g2 graphics2d create clockwise g2 rotate math pi getsize width getsize width else g2 rotate math pi getsize height getsize height super paint g2 returns dimension appropriate vertical rendering see componentui#getpreferredsize javax swing jcomponent override dimension getpreferredsize jcomponent transposedimension super getpreferredsize returns dimension appropriate vertical rendering see componentui#getmaximumsize javax swing jcomponent override dimension getmaximumsize jcomponent transposedimension super getmaximumsize returns dimension appropriate vertical rendering see componentui#getminimumsize javax swing jcomponent override dimension getminimumsize jcomponent transposedimension super getminimumsize dimension transposedimension dimension dimension height width rectangle transposerectangle rectangle rectangle rectangle destination destination null destination rectangle destination destination destination width height destination height width destination copyrectangle rectangle rectangle null width width height height 
314	GUIUtil.java	GUI	net sf jabref gui util awt fontmetrics javax swing jtable javax swing jtree guiutil guiutil constructor methods update table row height best possible considering font size changes current platform http: bugs sun com bugdatabase view bug do?bug id param table correctrowheight jtable table fix tree row height fontmetrics metrics table getfontmetrics table getfont table setrowheight math max table getrowheight metrics getheight update tree row height best possible considering font size changes current platform http: bugs sun com bugdatabase view bug do?bug id param table correctrowheight jtree tree fix tree row height fontmetrics metrics tree getfontmetrics tree getfont tree setrowheight math max tree getrowheight metrics getheight 
315	WindowLocation.java	GUI	net sf jabref gui util awt dimension awt frame awt graphicsdevice awt graphicsenvironment awt point awt rectangle awt window awt event componentadapter awt event componentevent javax swing jframe net sf jabref globals restores saves position non modal windows inside jabref preferences includes multi monitor support windows placed another monitor main one tries restore position afterwards stored position multi monitor setup available anymore places window equivalent position main monitor windowlocation string posxkey string posykey string sizexkey string sizeykey window window windowlocation window window string posxkey string posykey string sizexkey string sizeykey window window posxkey posxkey posykey posykey sizexkey sizexkey sizeykey sizeykey set componentlistener saves last size position dialog window addcomponentlistener componentadapter override componentresized componentevent storecurrentwindowlocation override componentmoved componentevent storecurrentwindowlocation displaywindowatstoredlocation windowposition storedposition getstoredlocation preference values wrong multi monitor setup anymore isdisplayable storedposition adapt position inside available boundaries storedposition adaptposition storedposition setwindowlocation storedposition storecurrentwindowlocation maximizing handled explicitely window instanceof frame frame frame frame window frame getextendedstate frame maximized point location window getlocation dimension dimensions window getsize globals prefs putint posxkey location globals prefs putint posykey location globals prefs putint sizexkey dimensions width globals prefs putint sizeykey dimensions height windowposition getstoredlocation sizex globals prefs getint sizexkey sizey globals prefs getint sizeykey posx globals prefs getint posxkey posy globals prefs getint posykey windowposition posx posy sizex sizey setwindowlocation windowposition storedposition window setlocation storedposition posx storedposition posy window setsize storedposition sizex storedposition sizey boolean isdisplayable windowposition position jframe frame jframe frame setbounds position posx position posy position sizex position sizey getvirtualbounds contains frame getbounds rectangle getvirtualbounds rectangle bounds rectangle graphicsdevice[] devices graphicsenvironment getlocalgraphicsenvironment getscreendevices graphicsdevice device devices bounds add device getdefaultconfiguration getbounds bounds windowposition adaptposition windowposition position isdisplayable position position current algorithm: try move main screen use default sizes main monitor graphicsdevice mainscreen graphicsenvironment getlocalgraphicsenvironment getdefaultscreendevice mainscreenheight mainscreen getdisplaymode getheight mainscreenwidth mainscreen getdisplaymode getwidth newposx position posx newposy position posy newsizex position sizex newsizey position sizey position posx position sizex mainscreenwidth position sizex mainscreenwidth newposx mainscreenwidth position sizex else newposx globals prefs getintdefault posxkey newsizex globals prefs getintdefault sizexkey position posy position sizey mainscreenheight position sizey mainscreenheight newposy mainscreenheight position sizey else newposy globals prefs getintdefault posykey newsizey globals prefs getintdefault sizeykey windowposition newposx newposy newsizex newsizey windowposition posx posy sizex sizey windowposition posx posy sizex sizey posx posx posy posy sizex sizex sizey sizey 
316	EntryMarker.java	GUI	net sf jabref gui util set util treeset util regex matcher util regex pattern net sf jabref globals net sf jabref gui undo namedcompound net sf jabref gui undo undoablefieldchange net sf jabref model database bibdatabase net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref preferences jabrefpreferences entrymarker mark color levels max marking level mark color levels mark level mark color levels pattern mark number pattern pattern compile jabrefpreferences getinstance marking number pattern param increment whether given increment added current one currently never used jabref could used increase marking color mark specific color markentry bibentry markincrement boolean increment namedcompound ce prevmarklevel string newvalue null hasfield fieldname marked internal string markerstring getfield fieldname marked internal get index markerstring indexof globals prefs getwrappedusername index already marked user prevmarklevel newvalue markerstring substring index markerstring substring index globals prefs getwrappedusername length globals prefs getwrappedusername substring globals prefs getwrappedusername length increment math min max marking level prevmarklevel markincrement markincrement else matcher mark number pattern matcher markerstring find try prevmarklevel integer parseint group newvalue markerstring substring start increment math min max marking level prevmarklevel markincrement markincrement markerstring substring end catch numberformatexception ex nothing newvalue null newvalue globals prefs getwrappedusername substring globals prefs getwrappedusername length markincrement ce addedit undoablefieldchange fieldname marked internal getfield fieldname marked internal orelse null newvalue setfield fieldname marked internal newvalue side effect: unselects given entry unmarkentry bibentry boolean onlymaxlevel bibdatabase database namedcompound ce hasfield fieldname marked internal string markerstring getfield fieldname marked internal get equals markerstring onlymaxlevel unmarkoldstyle database ce string newvalue null index markerstring indexof globals prefs getwrappedusername index marked user onlymaxlevel else newvalue markerstring substring index markerstring substring index globals prefs getwrappedusername length else matcher mark number pattern matcher markerstring find try prevmarklevel integer parseint group onlymaxlevel prevmarklevel mark color levels prevmarklevel newvalue markerstring substring start markerstring substring end else string toremove globals prefs getwrappedusername substring globals prefs getwrappedusername length :1] index markerstring indexof toremove index newvalue markerstring substring index markerstring substring index toremove length else catch numberformatexception ex nothing piv hit stringbuffer sb stringbuffer hit indexof g047749118118 1110lobals prefs wrapped username piv hit sb append substring piv hit piv hit globals prefs wrapped username length piv length sb append substring piv string newval sb length sb tostring null ce addedit undoablefieldchange fieldname marked internal getfield fieldname marked internal get newvalue newvalue null clearfield fieldname marked internal else setfield fieldname marked internal newvalue entry marked style user names want unmark transparently possible since happen often scanning owner fields entire database collecting user names mark entry users except current one thus user unmarks see unmarked get rid old style marking param param ce unmarkoldstyle bibentry bibdatabase database namedcompound ce set<object> owners treeset<> bibentry entry database getentries entry getfield fieldname owner ifpresent owners::add owners remove globals prefs get jabrefpreferences default owner stringbuilder sb stringbuilder object owner owners sb append '[' sb append owner sb append ']' string newval sb tostring newval isempty ce addedit undoablefieldchange fieldname marked internal getfield fieldname marked internal orelse null null clearfield fieldname marked internal else ce addedit undoablefieldchange fieldname marked internal getfield fieldname marked internal orelse null newval setfield fieldname marked internal newval ismarked bibentry hasfield fieldname marked internal string getfield fieldname marked internal get equals index indexof globals prefs getwrappedusername index matcher mark number pattern matcher find try integer parseint group catch numberformatexception ex else boolean shouldmarkentries globals prefs getboolean jabrefpreferences mark imported entries 
317	SaveAllAction.java	GUI	net sf jabref gui exporter awt event actionevent javax swing action net sf jabref globals net sf jabref gui basepanel net sf jabref gui icontheme net sf jabref gui jabrefframe net sf jabref gui actions actions net sf jabref gui actions mnemonicawareaction net sf jabref gui keyboard keybinding net sf jabref gui worker worker net sf jabref logic l10n localization spin spin author alver saveallaction mnemonicawareaction worker jabrefframe frame databases creates instance saveallaction saveallaction jabrefframe frame super icontheme jabreficon save geticon frame frame putvalue action accelerator key globals getkeyprefs getkey keybinding save putvalue action short description localization lang save open databases putvalue action name localization menutitle save override actionperformed actionevent databases frame getbasepanelcount frame output localization lang saving databases spin run frame output localization lang save finished override run databases frame getbasepanelcount basepanel panel frame getbasepanelat panel getbibdatabasecontext getdatabasefile ispresent frame showbasepanelat panel runcommand actions save todo: find whether save actually done not? 
318	RtfSelection.java	GUI	net sf jabref gui exporter awt datatransfer dataflavor awt datatransfer transferable awt datatransfer unsupportedflavorexception io bytearrayinputstream io ioexception org apache commons logging log org apache commons logging logfactory rtfselection transferable log logger logfactory getlog rtfselection dataflavor rtfflavor dataflavor[] supportedflavors string content rtfselection string content try rtfflavor dataflavor text rtf io inputstream supportedflavors dataflavor[] rtfflavor dataflavor stringflavor catch classnotfoundexception ex logger warn cannot find ex override boolean isdataflavorsupported dataflavor flavor flavor equals rtfflavor flavor equals dataflavor stringflavor override dataflavor[] gettransferdataflavors supportedflavors override object gettransferdata dataflavor flavor throws unsupportedflavorexception ioexception flavor equals dataflavor stringflavor content else flavor equals rtfflavor byte[] bytearray content getbytes bytearrayinputstream bytearray throw unsupportedflavorexception flavor 
319	ExportCustomizationDialog.java	GUI	net sf jabref gui exporter awt borderlayout awt dimension awt event actionevent util arraylist util arrays util list javax swing abstractaction javax swing action javax swing actionmap javax swing borderfactory javax swing inputmap javax swing jbutton javax swing jcomponent javax swing jdialog javax swing jpanel javax swing jscrollpane javax swing jtable javax swing listselectionmodel javax swing scrollpaneconstants javax swing table tablecolumnmodel net sf jabref globals net sf jabref gui jabrefframe net sf jabref gui help helpaction net sf jabref gui keyboard keybinding net sf jabref gui util guiutil net sf jabref logic exporter savepreferences net sf jabref logic help helpfile net sf jabref logic l10n localization net sf jabref logic layout layoutformatterpreferences ca odell glazedlists gui tableformat ca odell glazedlists swing defaulteventtablemodel com jgoodies forms builder buttonbarbuilder <p>title: p> <p>description: p> <p>copyright: copyright 2003< p> <p>company: p> author attributable version exportcustomizationdialog jdialog column widths export customization dialog table: col width col width col width exportcustomizationdialog jabrefframe frame super frame localization lang manage custom exports false defaulteventtablemodel<list<string>> tablemodel defaulteventtablemodel<> globals prefs customexports getsortedlist exporttableformat jtable table jtable tablemodel tablecolumnmodel cm table getcolumnmodel cm getcolumn setpreferredwidth col width cm getcolumn setpreferredwidth col width cm getcolumn setpreferredwidth col width jscrollpane sp jscrollpane table scrollpaneconstants vertical scrollbar needed scrollpaneconstants horizontal scrollbar never table setselectionmode listselectionmodel single selection table setpreferredscrollableviewportsize dimension table getrowcount table setrowselectioninterval guiutil correctrowheight table jbutton addexport jbutton localization lang add addexport addactionlistener customexportdialog ecd customexportdialog frame ecd setvisible true ecd okpressed list<string> newformat arrays aslist ecd name ecd layoutfile ecd extension globals prefs customexports addformat newformat globals prefs getlayoutformatterpreferences globals journalabbreviationloader savepreferences loadforexportfrompreferences globals prefs globals prefs customexports store globals prefs jbutton modify jbutton localization lang modify modify addactionlistener row table getselectedrow row list<string> old globals prefs customexports getsortedlist get row customexportdialog ecd customexportdialog frame old get old get old get ecd setvisible true ecd show deprecated since ecd okpressed old set ecd name old set ecd layoutfile old set ecd extension table revalidate table repaint globals prefs customexports store globals prefs jbutton remove jbutton localization lang remove remove addactionlistener int[] rows table getselectedrows rows length list<list<string>> entries arraylist<> rows length entries add globals prefs customexports getsortedlist get rows[i] layoutformatterpreferences layoutpreferences globals prefs getlayoutformatterpreferences globals journalabbreviationloader savepreferences savepreferences savepreferences loadforexportfrompreferences globals prefs list<string> list entries globals prefs customexports remove list layoutpreferences savepreferences globals prefs customexports store globals prefs action closeaction abstractaction override actionperformed actionevent dispose jbutton close jbutton localization lang close close addactionlistener closeaction jbutton help helpaction helpfile custom exports gethelpbutton key bindings: jpanel main jpanel actionmap main getactionmap inputmap im main getinputmap jcomponent focused window im put globals getkeyprefs getkey keybinding close dialog close put close closeaction main setlayout borderlayout main add sp borderlayout center jpanel buttons jpanel buttonbarbuilder bb buttonbarbuilder buttons buttons setborder borderfactory createemptyborder bb addglue bb addbutton addexport bb addbutton modify bb addbutton remove bb addbutton close bb addunrelatedgap bb addbutton help bb addglue getcontentpane add main borderlayout center getcontentpane add buttons borderlayout south pack setlocationrelativeto frame table requestfocus exporttableformat tableformat<list<string>> override object getcolumnvalue list<string> strings strings get override getcolumncount override string getcolumnname col switch col case 0: localization lang export name case 1: localization lang main layout file default: localization lang extension 
320	ExportFileFilter.java	GUI	net sf jabref gui exporter io file javax swing filechooser filefilter net sf jabref logic exporter iexportformat file filter lets user choose export format choosing file export contains reference exportformat question exportfilefilter filefilter comparable<exportfilefilter> iexportformat format string extension string name exportfilefilter iexportformat format format format extension format getextension name format getdisplayname extension iexportformat getexportformat format string getextension extension override boolean accept file file file isdirectory true else file getpath tolowercase endswith extension override string getdescription name override compareto exportfilefilter name compareto name override boolean equals object true instanceof exportfilefilter name equals exportfilefilter name false override hashcode name hashcode 
321	ExportToClipboardAction.java	GUI	net sf jabref gui exporter awt toolkit awt datatransfer clipboardowner io file io fileinputstream io inputstreamreader io reader util collections util linkedlist util list util objects javax swing borderfactory javax swing jlist javax swing joptionpane javax swing listselectionmodel net sf jabref globals net sf jabref gui basepanel net sf jabref gui jabrefframe net sf jabref gui worker abstractworker net sf jabref logic exporter exportformats net sf jabref logic exporter iexportformat net sf jabref logic l10n localization net sf jabref model entry bibentry org apache commons logging log org apache commons logging logfactory created intellij idea user: alver date: dec time: 6:22:25 pm change template use file settings file templates exporttoclipboardaction abstractworker log logger logfactory getlog exporttoclipboardaction jabrefframe frame written run read update string message exporttoclipboardaction jabrefframe frame frame objects requirenonnull frame override run basepanel panel frame getcurrentbasepanel panel null panel getselectedentries isempty message localization lang operation requires one entries selected getcallback update list<iexportformat> exportformats linkedlist<> exportformats getexportformats values collections sort exportformats e1 e2 e1 getdisplayname compareto e2 getdisplayname string[] exportformatdisplaynames string[exportformats size exportformats size iexportformat exportformat exportformats get exportformatdisplaynames[i] exportformat getdisplayname jlist<string> list jlist<> exportformatdisplaynames list setborder borderfactory createetchedborder list setselectioninterval list setselectionmode listselectionmodel single selection answer joptionpane showoptiondialog frame list localization lang select export format joptionpane yes option joptionpane question message null string[] localization lang export localization lang cancel localization lang export answer joptionpane option iexportformat format exportformats get list getselectedindex set global variable database's file directory exporting formatters resolve linked files correctly ugly hack globals prefs filedirfordatabase frame getcurrentbasepanel getbibdatabasecontext getfiledirectory globals prefs getfiledirectorypreferences file tmp null try simplify exporter api simply normal export temporary file read contents afterwards: tmp file createtempfile jabrefcb tmp tmp deleteonexit list<bibentry> entries panel getselectedentries write file: format performexport panel getbibdatabasecontext tmp getpath panel getbibdatabasecontext getmetadata getencoding orelse globals prefs getdefaultencoding entries read file put contents clipboard: stringbuilder sb stringbuilder try reader reader inputstreamreader fileinputstream tmp panel getbibdatabasecontext getmetadata getencoding orelse globals prefs getdefaultencoding reader read sb append char clipboardowner owner clipboard content nothing rtfselection rs rtfselection sb tostring toolkit getdefaulttoolkit getsystemclipboard setcontents rs owner message localization lang entries exported clipboard entries size catch exception logger error error exporting clipboard change body catch statement use file settings file templates message localization lang error exporting clipboard finally clean up: tmp null tmp delete logger info cannot delete temporary clipboard file override update frame output message 
322	SaveDatabaseAction.java	GUI	net sf jabref gui exporter io file io ioexception nio charset charset nio charset unsupportedcharsetexception nio file path util optional javax swing joptionpane javax swing jtextarea javax swing swingutilities net sf jabref globals net sf jabref jabrefexecutorservice net sf jabref collab changescanner net sf jabref collab fileupdatepanel net sf jabref gui basepanel net sf jabref gui filedialog net sf jabref gui jabrefframe net sf jabref gui autosaveandbackup autosaveuimanager net sf jabref gui worker abstractworker net sf jabref gui worker callback net sf jabref gui worker worker net sf jabref logic autosaveandbackup autosavemanager net sf jabref logic autosaveandbackup backupmanager net sf jabref logic exporter bibtexdatabasewriter net sf jabref logic exporter filesavesession net sf jabref logic exporter saveexception net sf jabref logic exporter savepreferences net sf jabref logic exporter savesession net sf jabref logic l10n encodings net sf jabref logic l10n localization net sf jabref logic util fileextensions net sf jabref logic util io filebasedlock net sf jabref model database bibdatabasecontext net sf jabref model database databaselocation net sf jabref model database event changepropagation net sf jabref model entry bibentry net sf jabref preferences jabrefpreferences net sf jabref shared dbmsconnectionproperties net sf jabref shared prefs shareddatabasepreferences com jgoodies forms builder formbuilder com jgoodies forms layout formlayout org apache commons logging log org apache commons logging logfactory action save save operations called basepanel also used save operations closing database quitting applications operations run synchronously offload save operation event thread using spin callers query whether operation canceled whether successful savedatabaseaction abstractworker log logger logfactory getlog savedatabaseaction basepanel panel jabrefframe frame boolean success boolean canceled boolean filelockederror optional<path> filepath savedatabaseaction basepanel panel panel panel frame panel frame filepath optional empty param panel basepanel contains database saved param filepath path file database saved savedatabaseaction basepanel panel path filepath panel filepath optional ofnullable filepath override init throws exception success false canceled false filelockederror false panel getbibdatabasecontext getdatabasefile ispresent check external modifications: true save performed tell user save underway instead checkexternalmodification panel frame output localization lang saving database panel setsaving true else filepath ispresent save directly target file location known saveas filepath get tofile else saveas override update success reset title tab frame settabtitle panel panel gettabtitle panel getbibdatabasecontext getdatabasefile get getabsolutepath frame output localization lang saved database panel getbibdatabasecontext getdatabasefile get getpath frame setwindowtitle frame updatealltabtitles else canceled filelockederror todo: user option override lock file frame output localization lang could save file locked another jabref instance else frame output localization lang save failed override run canceled panel getbibdatabasecontext getdatabasefile ispresent try make sure current edit stored panel storecurrentedit set preferences generate missing bibtex keys panel autogeneratekeysbeforesaving filebasedlock waitforfilelock panel getbibdatabasecontext getdatabasefile get topath check external modifications alleviate multiuser concurrency issue near simultaneous saves occur shared database file: true perform save rather instead checkexternalmodification save database success savedatabase panel getbibdatabasecontext getdatabasefile get false panel getbibdatabasecontext getmetadata getencoding orelse globals prefs getdefaultencoding globals getfileupdatemonitor updatetimestamp panel getfilemonitorhandle else success false filelockederror true release panel save status panel setsaving false success panel getundomanager markunchanged successful save following statement marks base unchanged since last save: panel setnonundoablechange false panel setbasechanged false panel setupdatedexternally false catch saveexception ex ex saveexception file locked success false filelockederror true logger error problem saving file ex boolean savedatabase file file boolean selectedonly charset encoding throws saveexception savesession session block user input frame block try savepreferences prefs savepreferences loadforsavefrompreferences globals prefs withencoding encoding bibtexdatabasewriter<savesession> databasewriter bibtexdatabasewriter<> filesavesession::new selectedonly session databasewriter savepartofdatabase panel getbibdatabasecontext panel getselectedentries prefs else session databasewriter savedatabase panel getbibdatabasecontext prefs panel registerundoablechanges session catch unsupportedcharsetexception ex joptionpane showmessagedialog frame localization lang could save file localization lang character encoding 0' supported encoding displayname localization lang save database joptionpane error message fixme: rethrow anti pattern throw saveexception rt catch saveexception ex ex saveexception file locked throw ex ex specificentry bibentry entry ex getentry error occured processing entry highlight panel highlightentry entry else logger error problem occured trying save file ex joptionpane showmessagedialog frame localization lang could save file \n ex getmessage localization lang save database joptionpane error message fixme: rethrow anti pattern throw saveexception rt finally enable user input frame unblock handle encoding problems boolean success true session getwriter couldencodeall formbuilder builder formbuilder create layout formlayout left:pref 4dlu fill:pref pref 4dlu pref jtextarea ta jtextarea session getwriter getproblemcharacters ta seteditable false builder add localization lang chosen encoding 0' could encode following characters: session getencoding displayname xy builder add ta xy builder add localization lang want do? xy string trydiff localization lang try different encoding answer joptionpane showoptiondialog frame builder getpanel localization lang save database joptionpane yes cancel option joptionpane warning message null string[] localization lang save trydiff localization lang cancel trydiff answer joptionpane option user wants use another encoding object choice joptionpane showinputdialog frame localization lang select encoding localization lang save database joptionpane question message null encodings encodings displaynames encoding choice null success false else charset newencoding charset forname string choice savedatabase file selectedonly newencoding else answer joptionpane cancel option success false backup file? try success session commit file topath make sure remember encoding used panel getbibdatabasecontext getmetadata setencoding encoding changepropagation post event else session cancel catch saveexception ans joptionpane showconfirmdialog null localization lang save failed backup creation localization lang save without backup? localization lang unable create backup joptionpane yes option ans joptionpane yes option session setusebackup false session commit file topath panel getbibdatabasecontext getmetadata setencoding encoding changepropagation post event else success false success run save operation method offloads actual save operation background thread still runs synchronously using spin method returns completing operation runcommand throws exception part uses spin's features: worker worker getworker worker returned getworker wrapped spin makes methods run different thread edt callback callback getcallback init method runs thread edt useful initial gui actions like printing message callback returned getcallback wrapped spin makes methods run edt worker run runs potentially time consuming action without freezing gui magic line execution continue run finished callback update runs update method edt save throws exception runcommand frame updateenabledstate saveas throws exception configure file dialog filedialog dialog filedialog frame dialog withextension fileextensions bibtex db dialog setdefaultextension fileextensions bibtex db optional<path> path dialog savenewfile path ispresent saveas path get tofile else canceled true run save operation method offloads actual save operation background thread still runs synchronously using spin method returns completing operation saveas file file throws exception bibdatabasecontext context panel getbibdatabasecontext context getlocation databaselocation shared save properties dependent id makes possible restore dbmsconnectionproperties properties context getdbmssynchronizer getdbprocessor getdbmsconnectionproperties shareddatabasepreferences context getdatabase generateshareddatabaseid putalldbmsconnectionproperties properties context setdatabasefile file file getparent null globals prefs put jabrefpreferences working directory file getparent runcommand operation failed revert file field return: success register get notifications outside changes file try panel setfilemonitorhandle globals getfileupdatemonitor addupdatelistener panel context getdatabasefile orelse null catch ioexception ex logger error problem registering file change notifications ex readyforautosave context autosavemanager autosaver autosavemanager start context autosaver registerlistener autosaveuimanager panel readyforbackup context backupmanager start context context getdatabasefile ifpresent presentfile frame getfilehistory newfile presentfile getpath frame updateenabledstate boolean readyforautosave bibdatabasecontext context context getlocation databaselocation shared context getlocation databaselocation local globals prefs getboolean jabrefpreferences local auto save context getdatabasefile ispresent boolean readyforbackup bibdatabasecontext context context getlocation databaselocation local context getdatabasefile ispresent query whether last operation successful true last save saveas operation completed successfully false otherwise boolean issuccess success query whether last operation canceled true last save saveas operation canceled file dialog another query dialog false otherwise boolean iscanceled canceled check whether external database modified need alert user accept external updates prior saving database necessary avoid overwriting users work using multiuser database file true external database file modified user must choose accept changes false modifications found requested protection database file boolean checkexternalmodification check external modifications: panel isupdatedexternally globals getfileupdatemonitor hasbeenmodified panel getfilemonitorhandle string[] opts string[] localization lang review changes localization lang save localization lang cancel answer joptionpane showoptiondialog panel frame localization lang file updated externally want do? localization lang file updated externally joptionpane yes cancel option joptionpane question message null opts opts[0] answer joptionpane cancel option canceled true true else answer joptionpane yes option canceled true jabrefexecutorservice instance execute filebasedlock waitforfilelock panel getbibdatabasecontext getdatabasefile get topath todo: gui handling situation externally modified file keeps locked logger error file locked trouble changescanner scanner changescanner panel frame panel panel getbibdatabasecontext getdatabasefile get jabrefexecutorservice instance executewithlowpriorityinownthreadandwait scanner scanner changesfound scanner displayresult resolved resolved panel setupdatedexternally false swingutilities invokelater panel getsidepanemanager hide fileupdatepanel else canceled true true else user indicated store anyway panel getbibdatabasecontext getmetadata isprotected joptionpane showmessagedialog frame localization lang database cannot save external changes reviewed localization lang database joptionpane error message canceled true else panel setupdatedexternally false panel getsidepanemanager hide fileupdatepanel false either external database file modifications found overwrite requested way false 
323	ExportAction.java	GUI	net sf jabref gui exporter awt event actionevent io file util list util map util set util treeset javax swing abstractaction javax swing action javax swing jfilechooser javax swing joptionpane javax swing filechooser filefilter net sf jabref globals net sf jabref gui jabrefframe net sf jabref gui actions mnemonicawareaction net sf jabref gui worker abstractworker net sf jabref logic exporter exportformat net sf jabref logic exporter exportformats net sf jabref logic exporter iexportformat net sf jabref logic exporter savepreferences net sf jabref logic l10n localization net sf jabref logic layout layoutformatterpreferences net sf jabref model entry bibentry net sf jabref preferences jabrefpreferences org apache commons logging log org apache commons logging logfactory exportaction log logger logfactory getlog exportaction create abstractaction performing export operation param frame jabrefframe jabref instance param selectedonly true indicates selected entries exported false indicates entries exported action abstractaction getexportaction jabrefframe frame boolean selectedonly internalexportaction mnemonicawareaction jabrefframe frame boolean selectedonly internalexportaction jabrefframe frame boolean selectedonly frame frame selectedonly selectedonly putvalue action name selectedonly localization menutitle export selected entries localization menutitle export override actionperformed actionevent map<string exportformat> customformats globals prefs customexports getcustomexportformats globals prefs globals journalabbreviationloader layoutformatterpreferences layoutpreferences globals prefs getlayoutformatterpreferences globals journalabbreviationloader savepreferences savepreferences savepreferences loadforexportfrompreferences globals prefs exportformats initallexports customformats layoutpreferences savepreferences jfilechooser fc exportaction createexportfilechooser globals prefs get jabrefpreferences export working directory fc showsavedialog frame file file fc getselectedfile file null filefilter ff fc getfilefilter ff instanceof exportfilefilter exportfilefilter eff exportfilefilter ff string path file getpath path endswith eff getextension path path eff getextension file file path file exists warn file exists: joptionpane showconfirmdialog frame localization lang 0' exists overwrite file? file getname localization lang export joptionpane ok cancel option joptionpane ok option iexportformat format eff getexportformat list<bibentry> entries selectedonly selected entries entries frame getcurrentbasepanel getselectedentries else entries entries frame getcurrentbasepanel getdatabase getentries set global variable database's file directory exporting formatters resolve linked files correctly ugly hack globals prefs filedirfordatabase frame getcurrentbasepanel getbibdatabasecontext getfiledirectory globals prefs getfiledirectorypreferences make sure remember filter used set default next time: globals prefs put jabrefpreferences last used export format getconsolename globals prefs put jabrefpreferences export working directory file getparent file finfile file list<bibentry> finentries entries abstractworker exportworker abstractworker string errormessage override run try format performexport frame getcurrentbasepanel getbibdatabasecontext finfile getpath frame getcurrentbasepanel getbibdatabasecontext getmetadata getencoding orelse globals prefs getdefaultencoding finentries catch exception ex logger warn problem exporting ex ex getmessage null errormessage ex tostring else errormessage ex getmessage override update error message report success: errormessage null frame output localization lang export successful format getdisplayname show error dialog: else frame output localization lang could save file errormessage need warn user saving failed joptionpane showmessagedialog frame localization lang could save file \n errormessage localization lang save database joptionpane error message run export action background thread: exportworker getworker run run update method: exportworker update internalexportaction frame selectedonly jfilechooser createexportfilechooser string currentdir string lastusedformat globals prefs get jabrefpreferences last used export filefilter defaultfilter null jfilechooser fc jfilechooser currentdir set<filefilter> filters treeset<> map entry<string iexportformat> exportformats getexportformats entryset string formatname getkey iexportformat format getvalue exportfilefilter exportfilefilter exportfilefilter format filters add exportfilefilter formatname equals lastusedformat defaultfilter exportfilefilter filefilter ff filters fc addchoosablefilefilter ff fc setacceptallfilefilterused false defaultfilter null fc setfilefilter defaultfilter fc 
324	CustomExportDialog.java	GUI	net sf jabref gui exporter awt borderlayout awt gridbagconstraints awt gridbaglayout awt insets awt event actionevent awt event actionlistener nio file path nio file paths javax swing abstractaction javax swing actionmap javax swing borderfactory javax swing inputmap javax swing jbutton javax swing jcomponent javax swing jdialog javax swing jlabel javax swing jpanel javax swing jtextfield net sf jabref globals net sf jabref gui filedialog net sf jabref gui jabrefframe net sf jabref gui keyboard keybinding net sf jabref logic l10n localization net sf jabref logic util fileextensions net sf jabref preferences jabrefpreferences com jgoodies forms builder buttonbarbuilder org apache commons logging log org apache commons logging logfactory dialog creating modifying custom exports customexportdialog jdialog log logger logfactory getlog customexportdialog jtextfield name jtextfield jtextfield layoutfile jtextfield jtextfield extension jtextfield jabrefframe frame boolean okpressed customexportdialog jabrefframe parent string exportername string layoutfilename string extensionname parent frame parent name settext exportername layoutfile settext layoutfilename extension settext extensionname customexportdialog jabrefframe parent super parent localization lang edit custom export true frame parent actionlistener oklistener path layoutfiledir paths get layoutfile gettext getparent layoutfiledir null globals prefs put jabrefpreferences export working directory layoutfiledir tostring check empty strings layoutfile gettext isempty name gettext isempty extension gettext isempty layoutfile gettext endswith layout logger info one field empty todo: better error message handling must also done okpressed true dispose layoutfile settext globals prefs get jabrefpreferences export working directory jbutton ok jbutton localization lang ok ok addactionlistener oklistener name addactionlistener oklistener layoutfile addactionlistener oklistener extension addactionlistener oklistener jbutton cancel jbutton localization lang cancel cancel addactionlistener dispose jbutton browse jbutton localization lang browse filedialog dialog filedialog frame withextension fileextensions layout dialog setdefaultextension fileextensions layout browse addactionlistener dialog showdialogandgetselectedfile ifpresent layoutfile settext toabsolutepath tostring abstractaction cancelaction abstractaction override actionperformed actionevent dispose key bindings: jpanel main jpanel actionmap main getactionmap inputmap im main getinputmap jcomponent focused window im put globals getkeyprefs getkey keybinding close dialog close put close cancelaction layout starts gridbaglayout gbl gridbaglayout main setlayout gbl main setborder borderfactory createtitledborder borderfactory createetchedborder localization lang export properties main panel: gridbagconstraints con gridbagconstraints con weightx con gridwidth con insets insets con anchor gridbagconstraints east con fill gridbagconstraints none con gridx con gridy jlabel nl jlabel localization lang export name ':' gbl setconstraints nl con main add nl con gridy jlabel nr jlabel localization lang main layout file ':' gbl setconstraints nr con main add nr con gridy jlabel nf jlabel localization lang extension ':' gbl setconstraints nf con main add nf con gridwidth con weightx con anchor gridbagconstraints west con fill gridbagconstraints horizontal con gridy con gridx gbl setconstraints name con main add name con gridy con gridwidth gbl setconstraints layoutfile con main add layoutfile con gridx con weightx gbl setconstraints browse con main add browse con weightx con gridwidth con gridx con gridy gbl setconstraints extension con main add extension jpanel buttons jpanel buttonbarbuilder bb buttonbarbuilder buttons buttons setborder borderfactory createemptyborder bb addglue bb addbutton ok bb addbutton cancel bb addglue getcontentpane add main borderlayout center getcontentpane add buttons borderlayout south setsize setlocationrelativeto parent boolean okpressed okpressed string layoutfile layoutfile gettext string name name gettext string extension string ext extension gettext ext startswith ext else ext startswith ext substring else ext 
325	DatabasePropertiesDialog.java	GUI	net sf jabref gui dbproperties awt borderlayout awt event actionevent awt event actionlistener nio charset charset util optional javax swing abstractaction javax swing actionmap javax swing borderfactory javax swing buttongroup javax swing defaultcomboboxmodel javax swing inputmap javax swing jbutton javax swing jcheckbox javax swing jcombobox javax swing jcomponent javax swing jdialog javax swing jframe javax swing jradiobutton javax swing jtextfield net sf jabref globals net sf jabref gui basepanel net sf jabref gui filedialog net sf jabref gui saveorderconfigdisplay net sf jabref gui cleanup fieldformattercleanupspanel net sf jabref gui help helpaction net sf jabref gui keyboard keybinding net sf jabref logic cleanup cleanups net sf jabref logic help helpfile net sf jabref logic l10n encodings net sf jabref logic l10n localization net sf jabref model database databaselocation net sf jabref model metadata metadata net sf jabref model metadata saveorderconfig com jgoodies forms builder buttonbarbuilder com jgoodies forms builder formbuilder com jgoodies forms layout formlayout databasepropertiesdialog jdialog metadata metadata basepanel panel jcombobox<charset> encoding jbutton ok jbutton cancel jtextfield filedir jtextfield jtextfield filedirindv jtextfield string oldfileval string oldfileindvval saveorderconfig oldsaveorderconfig code save sort order copied filesorttab slightly updated fit storing metadata jradiobutton saveinoriginalorder jradiobutton saveinspecifiedorder jcheckbox protect jcheckbox localization lang refuse save database external changes reviewed boolean oldprotectval saveorderconfigdisplay saveorderpanel fieldformattercleanupspanel fieldformattercleanupspanel databasepropertiesdialog jframe parent super parent localization lang database properties true encoding jcombobox<> encoding setmodel defaultcomboboxmodel<> encodings encodings ok jbutton localization lang ok cancel jbutton localization lang cancel init parent setpanel basepanel panel panel panel metadata panel getbibdatabasecontext getmetadata updateenablestatus databaselocation location panel getbibdatabasecontext getlocation boolean isshared location databaselocation shared encoding setenabled isshared encoding shared database always utf saveinoriginalorder setenabled isshared saveinspecifiedorder setenabled isshared saveorderpanel setenabled isshared protect setenabled isshared init jframe parent jbutton browsefile jbutton localization lang browse jbutton browsefileindv jbutton localization lang browse browsefile addactionlistener filedialog parent showdialogandgetselecteddirectory ifpresent filedir settext toabsolutepath tostring browsefileindv addactionlistener filedialog parent showdialogandgetselecteddirectory ifpresent filedirindv settext toabsolutepath tostring setupsortorderconfiguration formlayout form formlayout left:pref 4dlu pref:grow 4dlu pref:grow 4dlu pref pref 2dlu pref 2dlu pref 2dlu pref 2dlu pref 2dlu pref 2dlu pref 2dlu pref 2dlu pref 2dlu pref 2dlu pref 2dlu pref 2dlu pref 2dlu pref 2dlu fill:pref:grow 180dlu fill:pref:grow formbuilder builder formbuilder create layout form builder getpanel setborder borderfactory createemptyborder builder add localization lang database encoding xy builder add encoding xy builder addseparator localization lang override default file directories xyw builder add localization lang general file directory xy builder add filedir xy builder add browsefile xy builder add localization lang user specific file directory xy builder add filedirindv xy builder add browsefileindv xy builder addseparator localization lang save sort order xyw builder add saveinoriginalorder xyw builder add saveinspecifiedorder xyw saveorderpanel saveorderconfigdisplay builder add saveorderpanel getpanel xyw builder addseparator localization lang database protection xyw builder add protect xyw fieldformattercleanupspanel fieldformattercleanupspanel localization lang enable save actions cleanups default save actions builder addseparator localization lang save actions xyw builder add fieldformattercleanupspanel xyw buttonbarbuilder bb buttonbarbuilder bb addglue bb addbutton ok bb addbutton cancel bb addrelatedgap bb addbutton helpaction helpfile database properties gethelpbutton bb addglue bb getpanel setborder borderfactory createemptyborder getcontentpane add builder getpanel borderlayout center getcontentpane add bb getpanel borderlayout south pack abstractaction closeaction abstractaction override actionperformed actionevent dispose actionmap builder getpanel getactionmap inputmap im builder getpanel getinputmap jcomponent focused window im put globals getkeyprefs getkey keybinding close dialog close put close closeaction ok addactionlistener storesettings dispose cancel addactionlistener dispose setupsortorderconfiguration saveinoriginalorder jradiobutton localization lang save entries original order saveinspecifiedorder jradiobutton localization lang save entries ordered specified buttongroup bg buttongroup bg add saveinoriginalorder bg add saveinspecifiedorder actionlistener listener boolean selected getsource saveinspecifiedorder saveorderpanel setenabled selected saveinoriginalorder addactionlistener listener saveinspecifiedorder addactionlistener listener override setvisible boolean visible visible setvalues super setvisible visible setvalues optional<charset> charset panel getbibdatabasecontext getmetadata getencoding encoding setselecteditem charset orelse globals prefs getdefaultencoding optional<saveorderconfig> storedsaveorderconfig metadata getsaveorderconfig boolean selected storedsaveorderconfig ispresent saveinoriginalorder setselected true oldsaveorderconfig saveorderconfig getdefaultsaveorder selected false else saveorderconfig saveorderconfig storedsaveorderconfig get oldsaveorderconfig saveorderconfig saveorderconfig saveinoriginalorder saveinoriginalorder setselected true selected false else saveinspecifiedorder setselected true selected true saveorderpanel setsaveorderconfig saveorderconfig saveorderpanel setenabled selected optional<string> filed metadata getdefaultfiledirectory filed ispresent filedir settext filed get trim else filedir settext string filedi metadata getuserfiledirectory globals prefs getuser orelse file dir setting filedirindv settext filedi oldfileindvval filedirindv gettext protect setselected metadata isprotected store original values see get changed: oldfileval filedir gettext oldprotectval protect isselected set save actions fieldformattercleanupspanel setvalues metadata storesettings charset oldencoding panel getbibdatabasecontext getmetadata getencoding orelse globals prefs getdefaultencoding charset newencoding charset encoding getselecteditem panel getbibdatabasecontext getmetadata setencoding newencoding string text filedir gettext trim text isempty metadata cleardefaultfiledirectory else metadata setdefaultfiledirectory text repeat individual file dir reuse 'text' 'dir' vars text filedirindv gettext text isempty metadata clearuserfiledirectory globals prefs getuser else metadata setuserfiledirectory globals prefs getuser text protect isselected metadata markasprotected else metadata markasnotprotected saveorderconfig newsaveorderconfig saveinoriginalorder isselected newsaveorderconfig saveorderconfig getdefaultsaveorder else newsaveorderconfig saveorderpanel getsaveorderconfig newsaveorderconfig setsaveinspecifiedorder see values modified: boolean saveorderconfigchanged newsaveorderconfig equals oldsaveorderconfig saveorderconfigchanged false else saveorderconfigchanged true saveorderconfigchanged newsaveorderconfig equals saveorderconfig getdefaultsaveorder metadata clearsaveorderconfig else metadata setsaveorderconfig newsaveorderconfig boolean saveactionschanged fieldformattercleanupspanel haschanged saveactionschanged fieldformattercleanupspanel isdefaultsaveactions metadata clearsaveactions else fieldformattercleanupspanel storesettings metadata boolean changed saveorderconfigchanged newencoding equals oldencoding oldfileval equals filedir gettext oldfileindvval equals filedirindv gettext oldprotectval protect isselected saveactionschanged mark base changed prevent undo button removing change marking: changed panel marknonundoablebasechanged 
326	SendAsEMailAction.java	GUI	net sf jabref gui worker awt desktop io file io ioexception io stringwriter net uri net urisyntaxexception util arraylist util list net sf jabref globals net sf jabref gui basepanel net sf jabref gui jabrefframe net sf jabref gui desktop jabrefdesktop net sf jabref logic bibtex bibentrywriter net sf jabref logic bibtex latexfieldformatter net sf jabref logic l10n localization net sf jabref logic util io fileutil net sf jabref model entry bibentry net sf jabref preferences jabrefpreferences org apache commons logging log org apache commons logging logfactory sends selected entry email oliver kopp uses mailto: mechanism microsoft outlook support attachments via mailto therefore folder file belonging entry stored opened feature disabled default switched preferences external programs sendasemailaction abstractworker log logger logfactory getlog sendasemailaction string message jabrefframe frame sendasemailaction jabrefframe frame frame frame override run desktop isdesktopsupported message localization lang error creating email basepanel panel frame getcurrentbasepanel panel null panel getselectedentries isempty message localization lang operation requires one entries selected stringwriter sw stringwriter list<bibentry> bes panel getselectedentries write entries using sw used later form email content bibentrywriter bibtexentrywriter bibentrywriter latexfieldformatter globals prefs getlatexfieldformatterpreferences true bibentry entry bes try bibtexentrywriter write entry sw panel getbibdatabasecontext getmode catch ioexception logger warn problem creating bibtex file mailing list<string> attachments arraylist<> open folders needed indirectly support email programs cannot handle unofficial mailto:attachment property boolean openfolders jabrefpreferences getinstance getboolean jabrefpreferences open folders attached files list<file> filelist fileutil getlistoflinkedfiles bes frame getcurrentbasepanel getbibdatabasecontext getfiledirectory globals prefs getfiledirectorypreferences file filelist attachments add getpath openfolders try jabrefdesktop openfolderandselectfile getabsolutepath catch ioexception logger debug cannot open file string mailto ?body concat sw getbuffer tostring mailto mailto concat subject mailto mailto concat jabrefpreferences getinstance get jabrefpreferences email subject string path attachments mailto mailto concat attachment concat path mailto mailto concat uri urimailto try urimailto uri mailto mailto null catch urisyntaxexception e1 message localization lang error creating email logger warn message e1 desktop desktop desktop getdesktop try desktop mail urimailto catch ioexception message localization lang error creating email logger warn message message string format s: localization lang entries added email bes size override update frame output message 
327	VersionWorker.java	GUI	net sf jabref gui worker io ioexception util collections util list util objects util optional util concurrent executionexception javax swing joptionpane javax swing swingworker net sf jabref gui jabrefframe net sf jabref gui help newversiondialog net sf jabref logic l10n localization net sf jabref logic util version org apache commons logging log org apache commons logging logfactory worker checks version jabref available display dialog user offering multiple options proceed see changelog go download page ignore version remind later versions check executed manually latest version also display dialog inform user versionworker swingworker<list<version> void> log logger logfactory getlog versionworker jabrefframe mainframe versions check executed automatically eg startup manually user boolean manualexecution current version installed jabref version installedversion version previously ignored user version tobeignored versionworker jabrefframe mainframe boolean manualexecution version installedversion version tobeignored mainframe objects requirenonnull mainframe manualexecution manualexecution installedversion objects requirenonnull installedversion tobeignored objects requirenonnull tobeignored override list<version> doinbackground throws exception try version getallavailableversions catch ioexception ioexception logger warn could connect updateserver ioexception collections emptylist override done iscancelled try list<version> availableversions get find version connection problems? availableversions isempty showconnectionerror else showupdateinfo availableversions catch interruptedexception executionexception logger error error checking updates prints connection problem status bar shows dialog executed manually showconnectionerror string couldnotconnect localization lang could connect update server string trylater localization lang please try later check network connection manualexecution joptionpane showmessagedialog mainframe couldnotconnect \n trylater couldnotconnect joptionpane error message mainframe output couldnotconnect trylater prints date status bar shows dialog executed manually version shows version dialog user showupdateinfo list<version> availableversions newer version excluding non stable versions except installed one unstable optional<version> newerversion installedversion shouldbeupdatedto availableversions version could found respect ignored version automated version checks newerversion ispresent newerversion get equals tobeignored manualexecution string uptodate localization lang jabref date manualexecution joptionpane showmessagedialog mainframe uptodate uptodate joptionpane information message mainframe output uptodate else notify user newer version newversiondialog mainframe installedversion newerversion get 
328	CitationStyleWorker.java	GUI	net sf jabref gui worker util objects util optional util concurrent executionexception javax swing jeditorpane javax swing swingworker net sf jabref gui basepanel net sf jabref gui previewpanel net sf jabref logic citationstyle citationstyle net sf jabref logic l10n localization net sf jabref model entry bibentry org apache commons logging log org apache commons logging logfactory generates citation updates linked preview panel citationstyleworker swingworker<string void> log logger logfactory getlog citationstyleworker previewpanel previewpanel citationstyleworker previewpanel previewpanel jeditorpane previewpane previewpanel objects requirenonnull previewpanel objects requirenonnull previewpane optional<basepanel> basepanel previewpanel getbasepanel basepanel ispresent citationstyle citationstyle basepanel get getcitationstylecache getcitationstyle previewpane settext <i> localization lang processing localization lang citation style citationstyle gettitle i> previewpane revalidate override string doinbackground throws exception optional<basepanel> basepanel previewpanel getbasepanel bibentry entry previewpanel getentry string fieldtext entry null basepanel ispresent fieldtext basepanel get getcitationstylecache getcitationfor entry fieldtext override done iscancelled string text boolean success true try text get catch interruptedexception executionexception logger error error generating citation style text localization lang error generating citation style success false previewpanel setpreviewlabel text success previewpanel markhighlights 
329	MarkEntriesAction.java	GUI	net sf jabref gui worker awt event actionevent awt event actionlistener util list javax swing jmenuitem net sf jabref globals net sf jabref gui basepanel net sf jabref gui entrymarker net sf jabref gui jabrefframe net sf jabref gui undo namedcompound net sf jabref logic l10n localization net sf jabref model entry bibentry net sf jabref preferences jabrefpreferences org apache commons logging log org apache commons logging logfactory markentriesaction abstractworker actionlistener jabrefframe frame level jmenuitem menuitem beslength log logger logfactory getlog markentriesaction markentriesaction jabrefframe frame level frame frame level level menuitem jmenuitem globals menutitle mark entries replace menuitem jmenuitem localization lang level level menuitem setmnemonic string valueof level charat menuitem setbackground globals prefs getcolor jabrefpreferences marked entry background level menuitem setopaque true menuitem addactionlistener jmenuitem getmenuitem menuitem override actionperformed actionevent actionevent try init getworker run getcallback update catch throwable logger warn problem marking entries override run basepanel panel frame getcurrentbasepanel panel null list<bibentry> bes panel getselectedentries used update determine output string beslength bes size bes isempty namedcompound ce namedcompound localization lang mark entries bibentry bes entrymarker markentry level false ce ce end panel getundomanager addedit ce override update string outputstr switch beslength case 0: outputstr localization lang operation requires one entries selected break case 1: frame getcurrentbasepanel markbasechanged outputstr localization lang marked selected entry break default: frame getcurrentbasepanel markbasechanged outputstr localization lang marked selected entries integer tostring beslength break frame output outputstr 
330	CallBack.java	GUI	net sf jabref gui worker represents task executed gui thread functionalinterface interface callback update 
331	AbstractWorker.java	GUI	net sf jabref gui worker spin spin convenience creating object used performing time consuming action swing thread optionally performing gui work afterwards supported runcommand basepanel action called abstractworker run run method worker interface update method callback interface procedure ensures run cannot freeze gui update safely update gui components abstractworker worker callback worker worker callback callback abstractworker worker worker spin callback callback spin init throws exception nothing method returns wrapped worker instance abstractworker whose methods automatically run edt swing thread worker getworker worker method returns wrapped callback instance abstractworker whose methods automatically run edt swing thread callback getcallback callback empty implementation update method override method callback needed override update nothing see 
332	Worker.java	GUI	net sf jabref gui worker represents task executed gui thread interface worker runnable nothing 
333	EntryChange.java	GUI	net sf jabref collab util collections util enumeration util optional util set util treeset javax swing jcomponent javax swing jlabel javax swing jscrollpane net sf jabref gui basepanel net sf jabref gui undo namedcompound net sf jabref gui undo undoablefieldchange net sf jabref logic l10n localization net sf jabref model duplicatecheck net sf jabref model database bibdatabase net sf jabref model entry bibentry org apache commons logging log org apache commons logging logfactory entrychange change log logger logfactory getlog entrychange entrychange bibentry mementry bibentry tmpentry bibentry diskentry super optional<string> key tmpentry getcitekeyoptional key ispresent name localization lang modified entry key get '\'' else name localization lang modified entry know tmpentry equal diskentry check modified locally well since last tempfile saved boolean ismodifiedlocally duplicatecheck compareentriesstrictly mementry tmpentry another unlikely? possibility disk mem version modified way check boolean modificationsagree duplicatecheck compareentriesstrictly mementry diskentry logger debug modified entry: mementry getcitekeyoptional orelse <no bibtex key set> \n modified locally: ismodifiedlocally modifications agree: modificationsagree set<string> allfields treeset<> allfields addall mementry getfieldnames allfields addall tmpentry getfieldnames allfields addall diskentry getfieldnames string field allfields optional<string> mem mementry getfield field optional<string> tmp tmpentry getfield field optional<string> disk diskentry getfield field tmp ispresent disk ispresent tmp equals disk modified externally add fieldchange field mementry tmpentry mem orelse null tmp get disk get else tmp ispresent disk ispresent disk get isempty disk ispresent tmp ispresent tmp get isempty mem ispresent mem get isempty added externally add fieldchange field mementry tmpentry mem orelse null tmp orelse null disk orelse null override boolean makechange basepanel panel bibdatabase secondary namedcompound undoedit boolean allaccepted true enumeration<change> children change collections list isacceptable isaccepted makechange panel secondary undoedit else allaccepted false panel database removeentry mementry getid try diskentry setid util next catch keycollisionexception ex panel database removeentry mementry getid allaccepted override jcomponent description jlabel name fieldchange change bibentry entry bibentry tmpentry string field string inmem string ondisk infopane tp infopane jscrollpane sp jscrollpane tp fieldchange string field bibentry mementry bibentry tmpentry string inmem string ontmp string ondisk super field entry mementry tmpentry tmpentry field field inmem inmem ondisk ondisk stringbuilder text stringbuilder text append <font size 10><h2> append localization lang modification field append <i> append field append i>< h2> ondisk null ondisk isempty text append <h3> append localization lang value set externally append :< h3> append ondisk else text append <h3> append localization lang value cleared externally append h3> inmem null inmem isempty text append <h3> append localization lang current value append :< h3> append inmem ontmp null ontmp isempty text append <h3> append localization lang current tmp value append :< h3> append ontmp tp setcontenttype text html tp settext text tostring override boolean makechange basepanel panel bibdatabase secondary namedcompound undoedit ondisk null entry clearfield field else entry setfield field ondisk undoedit addedit undoablefieldchange entry field inmem ondisk ondisk null tmpentry clearfield field else tmpentry setfield field ondisk true override jcomponent description sp 
334	EntryAddChange.java	GUI	net sf jabref collab javax swing jcomponent javax swing jscrollpane net sf jabref gui basepanel net sf jabref gui previewpanel net sf jabref gui undo namedcompound net sf jabref gui undo undoableinsertentry net sf jabref logic l10n localization net sf jabref model database bibdatabase net sf jabref model entry bibentry net sf jabref model entry idgenerator entryaddchange change bibentry diskentry jscrollpane sp entryaddchange bibentry diskentry super localization lang added entry diskentry diskentry previewpanel pp previewpanel null diskentry null sp jscrollpane pp override boolean makechange basepanel panel bibdatabase secondary namedcompound undoedit diskentry setid idgenerator next panel getdatabase insertentry diskentry secondary insertentry diskentry undoedit addedit undoableinsertentry panel getdatabase diskentry panel true override jcomponent description sp 
335	PdfFileFilter.java	GUI	net sf jabref pdfimport io file io filefilter pdffilefilter filefilter override boolean accept file file string path file getpath ismatchingfilefilter path boolean accept string path path null path isempty path contains false ismatchingfilefilter path boolean ismatchingfilefilter string path string extension path substring path lastindexof pdf equalsignorecase extension 
336	MetaDataChange.java	GUI	net sf jabref collab javax swing jcomponent javax swing jscrollpane net sf jabref gui basepanel net sf jabref gui undo namedcompound net sf jabref logic l10n localization net sf jabref model database bibdatabase net sf jabref model metadata metadata metadatachange change infopane infopane infopane jscrollpane sp jscrollpane infopane metadata originalmetadata metadata newmetadata metadatachange metadata originalmetadata metadata newmetadata super localization lang metadata change originalmetadata originalmetadata newmetadata newmetadata infopane settext <html> localization lang metadata change html> override jcomponent description todo: show detailed description changes stringbuilder sb stringbuilder <html> localization lang changes made following metadata elements :<p><br> nbsp nbsp sb append changes stream map unit unit key collect collectors joining <br> nbsp nbsp sb append html> infopane settext sb tostring sp override boolean makechange basepanel panel bibdatabase secondary namedcompound undoedit panel getbibdatabasecontext setmetadata newmetadata true 
337	EntryDeleteChange.java	GUI	net sf jabref collab javax swing jcomponent javax swing jscrollpane net sf jabref gui basepanel net sf jabref gui previewpanel net sf jabref gui undo namedcompound net sf jabref gui undo undoableremoveentry net sf jabref logic l10n localization net sf jabref model duplicatecheck net sf jabref model database bibdatabase net sf jabref model entry bibentry org apache commons logging log org apache commons logging logfactory entrydeletechange change bibentry mementry bibentry tmpentry jscrollpane sp log logger logfactory getlog entrydeletechange entrydeletechange bibentry mementry bibentry tmpentry super localization lang deleted entry mementry mementry tmpentry tmpentry compare deleted entry memory one tmpfile entry could removed memory matchwithtmp duplicatecheck compareentriesstrictly mementry tmpentry check modified locally since last tempfile saved boolean ismodifiedlocally matchwithtmp logger debug modified entry: mementry getcitekeyoptional orelse <no bibtex key set> \n modified locally: ismodifiedlocally previewpanel pp previewpanel null mementry null sp jscrollpane pp override boolean makechange basepanel panel bibdatabase secondary namedcompound undoedit panel getdatabase removeentry mementry undoedit addedit undoableremoveentry panel getdatabase mementry panel secondary removeentry tmpentry true override jcomponent description sp 
338	PreambleChange.java	GUI	net sf jabref collab javax swing jcomponent javax swing jscrollpane net sf jabref gui basepanel net sf jabref gui undo namedcompound net sf jabref gui undo undoablepreamblechange net sf jabref logic l10n localization net sf jabref model database bibdatabase preamblechange change string mem string disk infopane tp infopane jscrollpane sp jscrollpane tp preamblechange string mem string disk super localization lang changed preamble disk disk mem mem stringbuilder text stringbuilder text append <font size 3><h2> append localization lang changed preamble append h2> disk null disk isempty text append <h3> append localization lang value set externally append :< h3> <code> append disk append code> else text append <h3> append localization lang value cleared externally append h3> mem null mem isempty text append <h3> append localization lang current value append :< h3> <code> append mem append code> tp settext text tostring override boolean makechange basepanel panel bibdatabase secondary namedcompound undoedit panel getdatabase setpreamble disk undoedit addedit undoablepreamblechange panel getdatabase panel mem disk secondary setpreamble disk true override jcomponent description sp 
339	InfoPane.java	GUI	net sf jabref collab awt graphics awt graphics2d awt renderinghints javax swing jeditorpane infopane jeditorpane infopane seteditable false setcontenttype text html override paint graphics graphics2d g2 graphics2d g2 setrenderinghint renderinghints key antialiasing renderinghints value antialias super paint g2 
340	StringChange.java	GUI	net sf jabref collab javax swing jcomponent javax swing jscrollpane net sf jabref gui basepanel net sf jabref gui undo namedcompound net sf jabref gui undo undoableinsertstring net sf jabref gui undo undoablestringchange net sf jabref logic l10n localization net sf jabref model database bibdatabase net sf jabref model database keycollisionexception net sf jabref model entry bibtexstring net sf jabref model entry idgenerator org apache commons logging log org apache commons logging logfactory stringchange change bibtexstring string string mem string disk string label infopane tp infopane jscrollpane sp jscrollpane tp bibtexstring tmpstring log logger logfactory getlog stringchange stringchange bibtexstring string bibtexstring tmpstring string label string mem string disk super localization lang modified string label '\'' tmpstring tmpstring string string label label mem mem disk disk stringbuilder sb stringbuilder sb append <html><h2> append localization lang modified string append h2><h3> append localization lang label append :< h3> append label append <h3> append localization lang content append :< h3> append disk string null sb append <p><i> sb append localization lang cannot merge change append sb append localization lang string removed locally append i> else sb append <h3> sb append localization lang current content append :< h3> sb append string getcontent sb append html> tp settext sb tostring override boolean makechange basepanel panel bibdatabase secondary namedcompound undoedit string null string removed renamed locally guess removed string newid idgenerator next bibtexstring bs bibtexstring newid label disk try panel getdatabase addstring bs undoedit addedit undoableinsertstring panel panel getdatabase bs catch keycollisionexception ex logger info error: could add string bs getname ': ex getmessage ex else string setcontent disk undoedit addedit undoablestringchange panel string false mem disk update tmp database: tmpstring null bibtexstring bs bibtexstring idgenerator next label disk secondary addstring bs else tmpstring setcontent disk true override jcomponent description sp 
341	StringNameChange.java	GUI	net sf jabref collab javax swing jcomponent javax swing jlabel net sf jabref gui basepanel net sf jabref gui undo namedcompound net sf jabref gui undo undoableinsertstring net sf jabref gui undo undoablestringchange net sf jabref logic l10n localization net sf jabref model database bibdatabase net sf jabref model database keycollisionexception net sf jabref model entry bibtexstring net sf jabref model entry idgenerator org apache commons logging log org apache commons logging logfactory stringnamechange change bibtexstring string string mem string disk string content bibtexstring tmpstring log logger logfactory getlog stringnamechange stringnamechange bibtexstring string bibtexstring tmpstring string mem string tmp string disk string content super localization lang renamed string tmp '\'' tmpstring tmpstring string string content content mem mem disk disk override boolean makechange basepanel panel bibdatabase secondary namedcompound undoedit panel getdatabase hasstringlabel disk name change already database can't comply logger info cannot rename string mem disk name already use string null string removed renamed locally guess removed string newid idgenerator next bibtexstring bs bibtexstring newid disk content try panel getdatabase addstring bs undoedit addedit undoableinsertstring panel panel getdatabase bs catch keycollisionexception ex logger info error: could add string bs getname ': ex getmessage ex else string setname disk undoedit addedit undoablestringchange panel string true mem disk update tmp database: tmpstring null string newid idgenerator next bibtexstring bs bibtexstring newid disk content secondary addstring bs else tmpstring setname disk true override jcomponent description jlabel disk content 
342	StringRemoveChange.java	GUI	net sf jabref collab javax swing jcomponent javax swing jscrollpane net sf jabref gui basepanel net sf jabref gui undo namedcompound net sf jabref gui undo undoableremovestring net sf jabref logic l10n localization net sf jabref model database bibdatabase net sf jabref model entry bibtexstring org apache commons logging log org apache commons logging logfactory stringremovechange change bibtexstring string bibtexstring inmem infopane tp infopane jscrollpane sp jscrollpane tp bibtexstring tmpstring log logger logfactory getlog stringremovechange stringremovechange bibtexstring string bibtexstring tmpstring bibtexstring inmem super localization lang removed string string getname '\'' tmpstring tmpstring string string inmem inmem holds version memory check modified tp settext <html><h2> localization lang removed string h2><h3> localization lang label :< h3> string getname <h3> localization lang content :< h3> string getcontent html> override boolean makechange basepanel panel bibdatabase secondary namedcompound undoedit try panel getdatabase removestring inmem getid undoedit addedit undoableremovestring panel panel getdatabase string catch exception ex logger info error: could add string string getname ': ex getmessage ex update tmp database: secondary removestring tmpstring getid true override jcomponent description sp 
343	Change.java	GUI	net sf jabref collab javax swing jcomponent javax swing tree defaultmutabletreenode net sf jabref gui basepanel net sf jabref gui undo namedcompound net sf jabref model database bibdatabase change defaultmutabletreenode string name boolean accepted true change name change string name name name override string tostring name boolean isaccepted accepted setaccepted boolean accepted method used disable accept box parent set accepted thus user disable entry change without disable field changes boolean false parent overrides accepted boolean isacceptable getparent null getparent instanceof change change getparent isaccepted else true method returns jcomponent detailing nature change jcomponent jcomponent description perform change method responsible adding proper undo edit namedcompound change undone param panel basepanel tab database lives param secondary bibdatabase tmp database change also made param undoedit namedcompound compound hold undo edits true changes made false accepted boolean makechange basepanel panel bibdatabase secondary namedcompound undoedit 
344	JabRefMain.java	GUI	net sf jabref net authenticator util map javax swing swingutilities net sf jabref cli argumentprocessor net sf jabref gui remote jabrefmessagehandler net sf jabref logic customentrytypesmanager net sf jabref logic exporter exportformat net sf jabref logic exporter exportformats net sf jabref logic exporter savepreferences net sf jabref logic formatter casechanger protecttermsformatter net sf jabref logic journals journalabbreviationloader net sf jabref logic l10n localization net sf jabref logic layout layoutformatterpreferences net sf jabref logic net proxyauthenticator net sf jabref logic net proxypreferences net sf jabref logic net proxyregisterer net sf jabref logic protectedterms protectedtermsloader net sf jabref logic remote remotepreferences net sf jabref logic remote client remotelistenerclient net sf jabref logic util os net sf jabref migrations preferencesmigrations net sf jabref model entry internalbibtexfields net sf jabref preferences jabrefpreferences org apache commons logging log org apache commons logging logfactory jabref mainclass jabrefmain log logger logfactory getlog jabrefmain main string[] args swingutilities invokelater start args start string[] args fallbackexceptionhandler installexceptionhandler jabrefpreferences preferences jabrefpreferences getinstance proxypreferences proxypreferences preferences getproxypreferences proxyregisterer register proxypreferences proxypreferences isuseproxy proxypreferences isuseauthentication authenticator setdefault proxyauthenticator globals startbackgroundtasks globals prefs preferences localization setlanguage preferences get jabrefpreferences language globals prefs setlanguagedependentdefaultvalues perform migrations perform checks changes users preference set older jabref version preferencesmigrations upgradesortorder preferencesmigrations upgradefaultyencodingstrings preferencesmigrations upgradelabelpatterntobibtexkeypattern update handling special fields based preferences internalbibtexfields updatespecialfields globals prefs getboolean jabrefpreferences serializespecialfields update name time stamp field based preferences internalbibtexfields updatetimestampfield globals prefs get jabrefpreferences time stamp field update fields treated numeric based preferences: internalbibtexfields setnumericfields globals prefs getstringlist jabrefpreferences numeric fields read list journal names abbreviations globals journalabbreviationloader journalabbreviationloader build list export formats globals format reader resetimportformats globals prefs getimportformatpreferences globals prefs getxmppreferences customentrytypesmanager loadcustomentrytypes preferences map<string exportformat> customformats globals prefs customexports getcustomexportformats globals prefs globals journalabbreviationloader layoutformatterpreferences layoutpreferences globals prefs getlayoutformatterpreferences globals journalabbreviationloader savepreferences savepreferences savepreferences loadforexportfrompreferences globals prefs exportformats initallexports customformats layoutpreferences savepreferences initialize terms loader globals protectedtermsloader protectedtermsloader globals prefs getprotectedtermspreferences protecttermsformatter setprotectedtermsloader globals protectedtermsloader check running jabref remotepreferences remotepreferences globals prefs getremotepreferences remotepreferences useremoteserver globals remote listener open jabrefmessagehandler remotepreferences getport globals remote listener isopen alone already server try contact already running jabref: remotelistenerclient sendtoactivejabrefinstance args remotepreferences getport successfully sent command line options socket another jabref instance assume taken care quit logger info localization lang arguments passed running jabref instance shutting jabrefexecutorservice instance shutdowneverything alone start server globals remote listener start override used newline character one stored preferences preferences system newline character sequence default os newline globals prefs get jabrefpreferences newline process arguments argumentprocessor argumentprocessor argumentprocessor args argumentprocessor mode initial start see shut argumentprocessor shouldshutdown jabrefexecutorservice instance shutdowneverything start gui swingutilities invokelater jabrefgui argumentprocessor getparserresults argumentprocessor isblank 
345	FileUpdatePanel.java	GUI	net sf jabref collab awt borderlayout awt event actionevent awt event actionlistener io file javax swing borderfactory javax swing jbutton javax swing jlabel javax swing jpanel javax swing swingconstants net sf jabref gui basepanel net sf jabref gui icontheme net sf jabref gui sidepanecomponent net sf jabref gui sidepanemanager net sf jabref logic l10n localization fileupdatepanel sidepanecomponent actionlistener changescanner displayresultcallback sidepanemanager manager changescanner scanner fileupdatepanel basepanel panel sidepanemanager manager file file changescanner scanner super manager icontheme jabreficon save geticon localization lang file changed close setenabled false panel panel manager manager scanner scanner jpanel main jpanel main setlayout borderlayout jlabel message jlabel <html><center> localization lang file<br>' 0'<br>has modified<br>externally file getname center>< html> swingconstants center main add message borderlayout center jbutton test jbutton localization lang review changes main add test borderlayout south main setborder borderfactory createemptyborder add main borderlayout center test addactionlistener include getter basepanel component refers component needs closed basepanel closed base panel component refers basepanel getpanel panel unregister component closes need avoid showing two external change warnings time latest one override componentclosing manager unregistercomponent fileupdatepanel override getrescalingweight override toggleaction gettoggleaction throw unsupportedoperationexception actionperformed param actionevent override actionperformed actionevent changescanner scanner changescanner frame panel panel database panel metadata try scanner displayresult scanner changescan panel file catch ioexception ex ex printstacktrace callback method signalling change scanner displayed scan results user param resolved true changes user resolved override scanresultsresolved boolean resolved resolved manager hidecomponent panel setupdatedexternally false 
346	GroupChange.java	GUI	net sf jabref collab javax swing jcomponent javax swing jlabel net sf jabref gui basepanel net sf jabref gui groups grouptreenodeviewmodel net sf jabref gui groups undoablemodifysubtree net sf jabref gui undo namedcompound net sf jabref logic l10n localization net sf jabref model database bibdatabase net sf jabref model groups allentriesgroup net sf jabref model groups grouptreenode groupchange change grouptreenode changedgroups grouptreenode tmpgrouproot groupchange grouptreenode changedgroups grouptreenode tmpgrouproot super changedgroups null localization lang removed groups localization lang modified groups tree changedgroups changedgroups tmpgrouproot tmpgrouproot override boolean makechange basepanel panel bibdatabase secondary namedcompound undoedit grouptreenode root panel getbibdatabasecontext getmetadata getgroups orelse null undoablemodifysubtree undo undoablemodifysubtree grouptreenodeviewmodel panel getbibdatabasecontext getmetadata getgroups orelse null grouptreenodeviewmodel root localization lang modified groups root removeallchildren changedgroups null think setting root null possible root setgroup allentriesgroup localization lang entries else change root group even though it'll allentries anyway root setgroup changedgroups getgroup grouptreenode child changedgroups getchildren child copysubtree moveto root group tree appled different bibdatabase created affects groups explicitgroup links bibentry objects must traverse tree refresh groups: root refreshgroupsfornewdatabase panel getdatabase undoedit addedit undo update tmp database: tmpgrouproot removeallchildren changedgroups null grouptreenode copied changedgroups copysubtree tmpgrouproot setgroup copied getgroup grouptreenode child copied getchildren child copysubtree moveto tmpgrouproot tmpgrouproot refreshgroupsfornewdatabase secondary true override jcomponent description jlabel <html> tostring changedgroups null localization lang accepting change replaces complete groups tree externally modified groups tree html> 
347	FileLinksUpgradeWarning.java	GUI	net sf jabref migrations util list javax swing jbutton javax swing jcheckbox javax swing jlabel javax swing joptionpane javax swing jpanel javax swing jtextfield net sf jabref globals net sf jabref gui basepanel net sf jabref gui filedialog net sf jabref gui entryeditor entryeditortablist net sf jabref gui importer actions postopenaction net sf jabref gui undo namedcompound net sf jabref gui undo undoablefieldchange net sf jabref logic cleanup upgradepdfpstofilecleanup net sf jabref logic importer parserresult net sf jabref logic l10n localization net sf jabref model fieldchange net sf jabref model database bibdatabase net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model metadata filedirectorypreferences net sf jabref preferences jabrefpreferences com jgoodies forms builder formbuilder com jgoodies forms layout formlayout defines warning offered opening pre jabref file later version warning mentions external file link system version jabref offers to: upgrade old style pdf ps links file field modify general fields show file instead pdf ps modify table column settings show file instead pdf ps filelinksupgradewarning postopenaction string[] fields look string[] fieldname pdf fieldname ps boolean offerchangesettings boolean offerchangedatabase boolean offersetfiledir method performed major minor versions recorded parserresult less equal param pr true file written jabref version override boolean isactionnecessary parserresult pr find actions offered: offer change preferences file column already visible: offerchangesettings globals prefs getboolean jabrefpreferences file column showsfileingenfields offer upgrade links pdf ps fields used: offerchangedatabase linksfound pr getdatabase filelinksupgradewarning fields look file directory set offer migrate pdf ps dir: offersetfiledir globals prefs haskey fieldname file filedirectorypreferences dir suffix globals prefs haskey fieldname pdf filedirectorypreferences dir suffix globals prefs haskey fieldname ps filedirectorypreferences dir suffix first check warning disabled: globals prefs getboolean jabrefpreferences show file links upgrade warning istheresomethingtobedone method presents dialog box explaining offering make changes user confirms changes performed param panel param parserresult override performaction basepanel panel parserresult parserresult istheresomethingtobedone nothing jcheckbox changesettings jcheckbox localization lang change table column general fields settings use feature offerchangesettings jcheckbox changedatabase jcheckbox localization lang upgrade old external file links use feature offerchangedatabase jcheckbox setfiledir jcheckbox localization lang set main external file directory offersetfiledir jtextfield filedir jtextfield jcheckbox donotshowdialog jcheckbox localization lang show options future false jpanel message jpanel formbuilder formbuilder formbuilder create layout formlayout left:pref keep formatting lines otherwise strings translated see updated jabref en properties modifications python synclang py row formbuilder add jlabel <html> localization lang database uses outdated file links <br><br> localization lang jabref longer supports 'ps' 'pdf' fields <br>file links stored 'file' field files stored external file directory <br>to make use feature jabref needs upgrade file links <br><br> <p> localization lang want jabref following operations? html> xy row offerchangesettings formbuilder appendrows 2dlu row formbuilder add changesettings xy row offerchangedatabase formbuilder appendrows 2dlu row formbuilder add changedatabase xy row offersetfiledir globals prefs haskey fieldname pdf filedirectorypreferences dir suffix filedir settext globals prefs get fieldname pdf filedirectorypreferences dir suffix else filedir settext globals prefs get fieldname ps filedirectorypreferences dir suffix jpanel builderpanel jpanel builderpanel add setfiledir builderpanel add filedir jbutton browse jbutton localization lang browse browse addactionlistener filedialog null showdialogandgetselectedfile ifpresent filedir settext toabsolutepath tostring builderpanel add browse formbuilder appendrows 2dlu row formbuilder add builderpanel xy row formbuilder appendrows 6dlu formbuilder add donotshowdialog xy row message add formbuilder build answer joptionpane showconfirmdialog panel frame message localization lang upgrade file joptionpane yes option donotshowdialog isselected globals prefs putboolean jabrefpreferences show file links upgrade warning false answer joptionpane yes option makechanges panel parserresult changesettings isselected changedatabase isselected setfiledir isselected filedir gettext null boolean istheresomethingtobedone offerchangesettings offerchangedatabase offersetfiledir check database find whether set fields used entries param database bib database param fields set fields look true least one given fields set least one entry false otherwise boolean linksfound bibdatabase database string[] fields bibentry entry database getentries string field fields entry hasfield field true false method performs actual changes param panel param pr param filedir path file directory set null set makechanges basepanel panel parserresult pr boolean upgradeprefs boolean upgradedatabase string filedir upgradedatabase update file links links database: namedcompound ce upgradepdfpstofile pr getdatabase panel getundomanager addedit ce panel markbasechanged filedir null globals prefs put fieldname file filedirectorypreferences dir suffix filedir upgradeprefs exchange table columns: globals prefs putboolean jabrefpreferences file column boolean true modify general fields necessary: find file field insert bottom first tab: showsfileingenfields string gfs globals prefs get jabrefpreferences custom tab fields stringbuilder sb stringbuilder gfs gfs isempty sb append sb append fieldname file globals prefs put jabrefpreferences custom tab fields sb tostring globals prefs updateentryeditortablist panel frame setupalltables boolean showsfileingenfields boolean found false entryeditortablist tablist globals prefs getentryeditortablist outer: tablist gettabcount list<string> fields tablist gettabfields string field fields field equals fieldname file found true break outer found collect file links given set fields add list contained field guiglobals file field param database database modify param fields fields find links compoundedit specifying undo operation whole operation namedcompound upgradepdfpstofile bibdatabase database namedcompound ce namedcompound localization lang move external links 'file' field upgradepdfpstofilecleanup cleanupjob upgradepdfpstofilecleanup bibentry entry database getentries list<fieldchange> changes cleanupjob cleanup entry fieldchange change changes ce addedit undoablefieldchange change ce end ce 
348	ChangeScanner.java	GUI	net sf jabref collab io file io ioexception nio file path util hashset util iterator util objects util optional util set javax swing joptionpane javax swing swingutilities javax swing tree defaultmutabletreenode net sf jabref globals net sf jabref jabrefexecutorservice net sf jabref gui basepanel net sf jabref gui jabrefframe net sf jabref logic bibtex comparator entrycomparator net sf jabref logic exporter bibdatabasewriter net sf jabref logic exporter bibtexdatabasewriter net sf jabref logic exporter filesavesession net sf jabref logic exporter saveexception net sf jabref logic exporter savepreferences net sf jabref logic exporter savesession net sf jabref logic importer importformatpreferences net sf jabref logic importer opendatabase net sf jabref logic importer parserresult net sf jabref logic l10n localization net sf jabref model defaults net sf jabref model duplicatecheck net sf jabref model database bibdatabase net sf jabref model database bibdatabasecontext net sf jabref model database bibdatabasemode net sf jabref model database entrysorter net sf jabref model entry bibentry net sf jabref model entry bibtexstring net sf jabref model entry fieldname net sf jabref model groups grouptreenode net sf jabref model metadata metadata net sf jabref preferences jabrefpreferences org apache commons logging log org apache commons logging logfactory changescanner runnable log logger logfactory getlog changescanner string[] sort string[] fieldname year fieldname author fieldname title file file bibdatabase databaseinmemory metadata metadatainmemory basepanel panel jabrefframe frame bibdatabase databaseintemp metadata metadataintemp match threshold create arraylist hold changes find added form undoedit objects instantiate changes found file disk reproduced memory calling redo redo undo defaultmutabletreenode changes defaultmutabletreenode localization lang external changes namedcompound edit namedcompound merged external changes changescanner jabrefframe frame basepanel bp file file panel bp frame frame databaseinmemory bp getdatabase metadatainmemory bp getbibdatabasecontext getmetadata file file override run try parse temporary file path tempfile globals getfileupdatemonitor gettempfile panel filemonitorhandle importformatpreferences importformatpreferences globals prefs getimportformatpreferences parserresult result opendatabase loaddatabase tempfile tofile importformatpreferences databaseintemp result getdatabase metadataintemp result getmetadata parse modified file result opendatabase loaddatabase file importformatpreferences bibdatabase databaseondisk result getdatabase metadata metadataondisk result getmetadata sort databases according common sort key entrycomparator comparator entrycomparator false true sort by[2] comparator entrycomparator false true sort by[1] comparator comparator entrycomparator false true sort by[0] comparator entrysorter sorterintemp databaseintemp getsorter comparator comparator entrycomparator false true sort by[2] comparator entrycomparator false true sort by[1] comparator comparator entrycomparator false true sort by[0] comparator entrysorter sorterondisk databaseondisk getsorter comparator comparator entrycomparator false true sort by[2] comparator entrycomparator false true sort by[1] comparator comparator entrycomparator false true sort by[0] comparator entrysorter sorterinmem databaseinmemory getsorter comparator start looking changes scanmetadata metadatainmemory metadataintemp metadataondisk scanpreamble databaseinmemory databaseintemp databaseondisk scanstrings databaseinmemory databaseintemp databaseondisk scanentries sorterinmem sorterintemp sorterondisk scangroups metadataintemp metadataondisk catch ioexception ex logger warn problem running ex boolean changesfound changes getchildcount displayresult displayresultcallback fup changes getchildcount swingutilities invokelater changedisplaydialog changedialog changedisplaydialog frame panel databaseintemp changes changedialog setlocationrelativeto frame changedialog setvisible true fup scanresultsresolved changedialog isokpressed changedialog isokpressed overwrite temp database: storetempdatabase else joptionpane showmessagedialog frame localization lang actual changes found localization lang external changes joptionpane information message fup scanresultsresolved true storetempdatabase jabrefexecutorservice instance execute try savepreferences prefs savepreferences loadforsavefrompreferences globals prefs withmakebackup false withencoding panel getbibdatabasecontext getmetadata getencoding orelse globals prefs getdefaultencoding defaults defaults defaults bibdatabasemode frompreference globals prefs getboolean jabrefpreferences biblatex default mode bibdatabasewriter<savesession> databasewriter bibtexdatabasewriter<> filesavesession::new savesession ss databasewriter savedatabase bibdatabasecontext databaseintemp metadataintemp defaults prefs ss commit globals getfileupdatemonitor gettempfile panel filemonitorhandle catch saveexception ex logger warn problem updating tmp file accepting external changes ex scanmetadata metadata inmemory metadata ontmp metadata ondisk ontmp isempty inmemory equals ondisk changes add metadatachange inmemory ondisk else ondisk isempty ontmp equals ondisk changes add metadatachange inmemory ondisk scanentries entrysorter memorysorter entrysorter tmpsorter entrysorter disksorter create pointers incremented entries base used successive order beginning entries disk base also matched piv1 piv2 create hashset put references entry numbers disk database matched avoid matching twice set<string> used hashset<> disksorter getentrycount set<integer> notmatched hashset<> tmpsorter getentrycount loop entries tmp database looking exact matches disk one must finish scanning exact matches looking near matches avoid exact match stolen another entry mainloop: piv1 piv1 tmpsorter getentrycount piv1 first check similarly placed entry base matches exactly comp entries left disk database comp stay entry marked nonmatched used contains string valueof piv2 piv2 disksorter getentrycount comp duplicatecheck compareentriesstrictly tmpsorter getentryat piv1 disksorter getentryat piv2 comp used add string valueof piv2 piv2 continue no? check another entry matches exactly piv2 disksorter getentrycount piv2 disksorter getentrycount used contains string valueof comp else comp duplicatecheck compareentriesstrictly tmpsorter getentryat piv1 disksorter getentryat comp used add string valueof continue mainloop no? add entry list nonmatched entries notmatched add piv1 we've found exact matches look remaining entries looking close matches notmatched isempty iterator<integer> notmatched iterator hasnext piv1 next two variables keep track entry closely matches one we're looking case none matches completely bestmatchi bestmatch comp piv2 disksorter getentrycount piv2 disksorter getentrycount used contains string valueof comp else comp duplicatecheck compareentriesstrictly tmpsorter getentryat piv1 disksorter getentryat comp bestmatch bestmatch comp bestmatchi bestmatch match threshold used add string valueof bestmatchi remove changes add entrychange bestfit tmpsorter memorysorter piv1 tmpsorter getentryat piv1 disksorter getentryat bestmatchi else changes add entrydeletechange bestfit tmpsorter memorysorter piv1 tmpsorter getentryat piv1 finally look still untouched entries disk database may added used size disksorter getentrycount disksorter getentrycount used contains string valueof see identical dupe mem database: boolean hasalready false memorysorter getentrycount duplicatecheck compareentriesstrictly memorysorter getentryat disksorter getentryat hasalready true break hasalready changes add entryaddchange disksorter getentryat finds entry neu best fitting specified entry old entries get score zero entry still returned param oldsorter entrysorter param newsorter entrysorter param index bibentry bibentry bestfit entrysorter oldsorter entrysorter newsorter index comp found newsorter getentrycount res duplicatecheck compareentriesstrictly oldsorter getentryat index newsorter getentryat res comp comp res found comp break newsorter getentryat found scanpreamble bibdatabase inmemory bibdatabase ontmp bibdatabase ondisk string mem inmemory getpreamble orelse null optional<string> tmp ontmp getpreamble optional<string> disk ondisk getpreamble tmp ispresent disk ifpresent diskcontent changes add preamblechange mem diskcontent else disk ispresent tmp equals disk changes add preamblechange mem disk orelse null scanstrings bibdatabase inmem1 bibdatabase intmp bibdatabase ondisk intmp hasnostrings ondisk hasnostrings set<object> used hashset<> set<object> usedinmem hashset<> set<string> notmatched hashset<> intmp getstringcount first try match string names mainloop: string key intmp getstringkeyset bibtexstring tmp intmp getstring key string diskid ondisk getstringkeyset used contains diskid bibtexstring disk ondisk getstring diskid disk getname equals tmp getname found string matching name objects equals tmp getcontent disk getcontent nonmatching contents we've found change optional<bibtexstring> mem findstring inmem1 tmp getname usedinmem mem ispresent changes add stringchange mem get tmp tmp getname mem get getcontent disk getcontent else changes add stringchange null tmp tmp getname null disk getcontent used add diskid continue mainloop get match string notmatched add tmp getid see detect name change entries match notmatched isempty iterator<string> notmatched iterator hasnext bibtexstring tmp intmp getstring next get point found string matching name see find one matching content string diskid ondisk getstringkeyset used contains diskid bibtexstring disk ondisk getstring diskid disk getcontent equals tmp getcontent found string content cannot name would found try find matching one memory: bibtexstring bsmem null string memid inmem1 getstringkeyset bibtexstring bsmemcandidate inmem1 getstring memid bsmemcandidate getcontent equals disk getcontent usedinmem contains memid usedinmem add memid bsmem bsmemcandidate break bsmem null changes add stringnamechange bsmem tmp bsmem getname tmp getname disk getname tmp getcontent remove used add diskid notmatched isempty still one non matched strings must removed string notmatchedid notmatched bibtexstring tmp intmp getstring notmatchedid removed string removed mem version findstring inmem1 tmp getname usedinmem ifpresent changes add stringremovechange tmp tmp finally see remaining strings disk database must added string diskid ondisk getstringkeyset used contains diskid bibtexstring disk ondisk getstring diskid used add diskid changes add stringaddchange disk optional<bibtexstring> findstring bibdatabase base string name set<object> used base hasstringlabel name optional empty string key base getstringkeyset bibtexstring bs base getstring key bs getname equals name used contains key used add key optional bs optional empty method detects whether change took place determine type change would possible difficult properly rather report change scangroups metadata intemp metadata ondisk optional<grouptreenode> groupstmp intemp getgroups optional<grouptreenode> groupsdisk ondisk getgroups groupstmp ispresent groupsdisk ispresent groupstmp ispresent groupsdisk ispresent groupstmp ispresent changes add groupchange groupsdisk orelse null groupstmp orelse null present groupstmp equals groupsdisk changes add groupchange groupsdisk get groupstmp get functionalinterface interface displayresultcallback scanresultsresolved boolean resolved 
349	StringAddChange.java	GUI	net sf jabref collab javax swing jcomponent javax swing jscrollpane net sf jabref gui basepanel net sf jabref gui undo namedcompound net sf jabref gui undo undoableinsertstring net sf jabref logic l10n localization net sf jabref model database bibdatabase net sf jabref model database keycollisionexception net sf jabref model entry bibtexstring net sf jabref model entry idgenerator org apache commons logging log org apache commons logging logfactory stringaddchange change bibtexstring string infopane tp infopane jscrollpane sp jscrollpane tp log logger logfactory getlog stringaddchange stringaddchange bibtexstring string super localization lang added string string getname '\'' string string tp settext <html><h2> localization lang added string h2><h3> localization lang label :< h3> string getname <h3> localization lang content :< h3> string getcontent html> override boolean makechange basepanel panel bibdatabase secondary namedcompound undoedit panel getdatabase hasstringlabel string getname name change already database can't comply logger info cannot add string string getname name already use try panel getdatabase addstring string undoedit addedit undoableinsertstring panel panel getdatabase string catch keycollisionexception ex logger info error: could add string string getname ': ex getmessage ex try secondary addstring bibtexstring idgenerator next string getname string getcontent catch keycollisionexception ex logger info error: could add string string getname tmp database: ex getmessage ex true override jcomponent description sp 
350	JabRefGUI.java	GUI	net sf jabref awt frame io file sql sqlexception util arraylist util collections util enumeration util iterator util list javax swing joptionpane javax swing uidefaults javax swing uimanager javax swing unsupportedlookandfeelexception javax swing plaf fontuiresource javax swing plaf metal metallookandfeel net sf jabref gui basepanel net sf jabref gui guiglobals net sf jabref gui jabrefframe net sf jabref gui autosaveandbackup backupuimanager net sf jabref gui importer parserresultwarningdialog net sf jabref gui importer actions opendatabaseaction net sf jabref gui shared shareddatabaseuimanager net sf jabref gui worker versionworker net sf jabref logic autosaveandbackup backupmanager net sf jabref logic importer opendatabase net sf jabref logic importer parserresult net sf jabref logic l10n localization net sf jabref logic util os net sf jabref logic util version net sf jabref preferences jabrefpreferences net sf jabref shared exception databasenotsupportedexception net sf jabref shared exception invaliddbmsconnectionpropertiesexception net sf jabref shared exception notashareddatabaseexception com jgoodies looks plastic plastic3dlookandfeel com jgoodies looks plastic theme skybluer org apache commons logging log org apache commons logging logfactory jabrefgui log logger logfactory getlog jabrefgui jabrefframe mainframe list<parserresult> bibdatabases boolean isblank list<parserresult> failed arraylist<> list<parserresult> toopentab arraylist<> string focusedfile jabrefgui list<parserresult> argsdatabases boolean isblank bibdatabases argsdatabases isblank isblank passed file take first one focused focusedfile argsdatabases stream findfirst flatmap parserresult::getfile map file::getabsolutepath orelse globals prefs get jabrefpreferences last focused openwindow jabrefgui checkfornewversion false checkfornewversion boolean manualexecution version tobeignored globals prefs getversionpreferences getignoredversion version currentversion globals build info getversion versionworker jabrefgui getmainframe manualexecution currentversion tobeignored execute openwindow property set make mac osx vm move menu bar top screen os os system setproperty apple laf usescreenmenubar true set antialiasing everywhere works jre work period todo test maybe remove found commented additional info payload lavabit com enabled since jabref beta system setproperty swing aatext true default lcd instead http: wiki netbeans org faqfontrendering http: docs oracle com javase docs technotes guides 2d flags html#aafonts system setproperty awt usesystemaafontsettings lcd look feel must first thing loading swing specific code setlookandfeel option enabled open last edited databases isblank globals prefs getboolean jabrefpreferences open last edited openlastediteddatabases guiglobals init logger debug initializing frame jabrefgui mainframe jabrefframe add bibdatabases databases frame: boolean first false bibdatabases isempty iterator<parserresult> parserresultiterator bibdatabases iterator parserresultiterator hasnext parserresult pr parserresultiterator next define focused tab pr getfile get getabsolutepath equals focusedfile first true pr isinvalid failed add pr parserresultiterator remove else pr getdatabase isshared try shareddatabaseuimanager mainframe openshareddatabasefromparserresult pr catch sqlexception databasenotsupportedexception invaliddbmsconnectionpropertiesexception notashareddatabaseexception pr getdatabasecontext cleardatabasefile open original file pr getdatabase clearshareddatabaseid logger error connection error joptionpane showmessagedialog mainframe getmessage \n\n localization lang local copy opened localization lang connection error joptionpane warning message toopentab add pr else pr toopentab things appended opened tab done opening tabs add list toopentab add pr else jabrefgui getmainframe addparserresult pr first first false finally add things currently opened tab parserresult pr toopentab jabrefgui getmainframe addparserresult pr first first false set remember window location also remember maximised state needs set window made visible here: globals prefs getboolean jabrefpreferences window maximised jabrefgui getmainframe setextendedstate frame maximized jabrefgui getmainframe setvisible true parserresult pr failed string message <html> localization lang error opening file 0' pr getfile get getname <p> pr geterrormessage html> joptionpane showmessagedialog jabrefgui getmainframe message localization lang error opening file joptionpane error message display warnings tabnumber parserresult pr bibdatabases parserresultwarningdialog showparserresultwarningdialog pr jabrefgui getmainframe tabnumber adding databases go see post open actions need done instance checking found entry types imported checking database contents modified due features version jabref note check whether go getbasepanelcount importtoopen might used adds loadeddatabases getbasepanelcount bibdatabases size jabrefgui getmainframe getbasepanelcount parserresult pr bibdatabases get basepanel panel jabrefgui getmainframe getbasepanelat opendatabaseaction performpostopenactions panel pr true logger debug finished adding panels bibdatabases isempty jabrefgui getmainframe getcurrentbasepanel getmaintable requestfocus openlastediteddatabases globals prefs get jabrefpreferences last edited null list<string> lastfiles globals prefs getstringlist jabrefpreferences last edited string filename lastfiles file dbfile file filename already parsed via command line parameter jabref jar somefile bib isloaded dbfile dbfile exists continue backupmanager checkforbackupfile dbfile topath backupuimanager showrestorebackupdialog mainframe dbfile topath parserresult parseddatabase opendatabase loaddatabase filename globals prefs getimportformatpreferences parseddatabase isnullresult logger error localization lang error opening file dbfile getpath else bibdatabases add parseddatabase boolean isloaded file filetoopen parserresult pr bibdatabases pr getfile ispresent pr getfile get equals filetoopen true false setlookandfeel try string lookfeel string systemlookfeel uimanager getsystemlookandfeelclassname globals prefs getboolean jabrefpreferences use default look feel fixme: problems openjdk gtk see https: github com jabref jabref issues https: github com jabref jabref issues system getproperty runtime name contains openjdk metal lookfeel uimanager getcrossplatformlookandfeelclassname logger warn seem problems openjdk default gtk look feel using metal instead change another caution else lookfeel systemlookfeel else lookfeel globals prefs get jabrefpreferences win look feel fixme: open jdk problem uimanager getcrossplatformlookandfeelclassname equals lookfeel system getproperty runtime name contains openjdk try avoid ending ugly metal plastic3dlookandfeel lnf plastic3dlookandfeel metallookandfeel setcurrenttheme skybluer com jgoodies looks options setpopupdropshadowenabled true uimanager setlookandfeel lnf else try uimanager setlookandfeel lookfeel catch classnotfoundexception instantiationexception illegalaccessexception unsupportedlookandfeelexception specified look feel exist classpath use system uimanager setlookandfeel systemlookfeel also set system default globals prefs put jabrefpreferences win look feel systemlookfeel notify user joptionpane showmessagedialog jabrefgui getmainframe localization lang unable find requested look feel thus default one used localization lang warning joptionpane warning message logger warn unable find requested look feel catch exception logger warn look feel could set jabref v2 non mac try platforms boolean overridedefaultfonts globals prefs getboolean jabrefpreferences override default fonts overridedefaultfonts fontsize globals prefs getint jabrefpreferences menu font size uidefaults defaults uimanager getdefaults enumeration<object> keys defaults keys object key collections list keys key instanceof string string key endswith font fontuiresource font fontuiresource uimanager get key font fontuiresource font getname font getstyle fontsize defaults put key font jabrefframe getmainframe mainframe used testing set mainframe setmainframe jabrefframe mainframe jabrefgui mainframe mainframe 
351	PdfImporter.java	GUI	net sf jabref pdfimport io file nio file path nio file paths util arraylist util collections util list util optional javax swing joptionpane javax swing swingutilities net sf jabref globals net sf jabref gui basepanel net sf jabref gui basepanelmode net sf jabref gui entrytypedialog net sf jabref gui jabrefframe net sf jabref gui entryeditor entryeditor net sf jabref gui externalfiles droppedfilehandler net sf jabref gui externalfiletype externalfiletypes net sf jabref gui filelist filelistentry net sf jabref gui filelist filelisttablemodel net sf jabref gui maintable maintable net sf jabref gui undo undoableinsertentry net sf jabref logic bibtexkeypattern bibtexkeypatternutil net sf jabref logic importer parserresult net sf jabref logic importer fileformat pdfcontentimporter net sf jabref logic importer fileformat pdfxmpimporter net sf jabref logic l10n localization net sf jabref logic util updatefield net sf jabref logic util io fileutil net sf jabref logic xmp xmputil net sf jabref model database keycollisionexception net sf jabref model entry bibentry net sf jabref model entry entrytype net sf jabref model entry fieldname net sf jabref model entry idgenerator net sf jabref preferences jabrefpreferences org apache commons logging log org apache commons logging logfactory pdfimporter jabrefframe frame basepanel panel maintable entrytable droprow log logger logfactory getlog pdfimporter creates pdfimporter param frame jabref frame param panel panel use param entrytable entry table work param droprow row entry dropped may indicate row selected pdfimporter jabrefframe frame basepanel panel maintable entrytable droprow frame frame panel panel entrytable entrytable droprow droprow importpdffilesresult list<string> nopdffiles list<bibentry> entries importpdffilesresult list<string> nopdffiles list<bibentry> entries nopdffiles nopdffiles entries entries list<string> getnopdffiles nopdffiles list<bibentry> getentries entries imports pdf files given filenames param filenames states names files list successful created bibtex entries list non pdf files importpdffilesresult importpdffiles list<string> filenames sort filenames pdffiles files pdffiles: variable files files: variable nopdffiles list<string> files arraylist<> filenames list<string> nopdffiles arraylist<> string file files pdffilefilter accept file nopdffiles add file files removeall nopdffiles files nopdffiles correctly sorted files list<bibentry> entries importpdffilesinternal files importpdffilesresult nopdffiles entries param filenames pdf files true succeeded false otherwise list<bibentry> importpdffilesinternal list<string> filenames panel null collections emptylist importdialog importdialog null boolean donotshowagain false boolean nevershow globals prefs getboolean jabrefpreferences alwaysuse globalchoice globals prefs getint jabrefpreferences default pdf style list<bibentry> res arraylist<> string filename filenames nevershow donotshowagain importdialog importdialog droprow filename xmputil hasmetadata paths get filename globals prefs getxmppreferences importdialog disablexmpchoice importdialog setlocationrelativeto frame importdialog showdialog donotshowagain importdialog isdonotshowagain nevershow importdialog getresult joptionpane ok option choice nevershow globalchoice importdialog getchoice switch choice case importdialog xmp: doxmpimport filename res break case importdialog content: docontentimport filename res break case importdialog nometa: createnewblankentry filename ifpresent res::add break case importdialog onlyattach: droppedfilehandler dfh droppedfilehandler frame panel dfh linkpdftoentry filename entrytable droprow break default: break res doxmpimport string filename list<bibentry> res list<bibentry> localres arraylist<> pdfxmpimporter importer pdfxmpimporter globals prefs getxmppreferences path filepath paths get filename parserresult result importer importdatabase filepath globals prefs getdefaultencoding result haswarnings frame showmessage result geterrormessage localres addall result getdatabase getentries bibentry entry localres isempty failed generate default entry logger info failed createnewblankentry filename ifpresent res::add one entry imported entry localres get insert entry database link file panel getdatabase insertentry entry panel markbasechanged filelisttablemodel tm filelisttablemodel file tolink file filename get list file directories: list<string> dirss panel getbibdatabasecontext getfiledirectory globals prefs getfiledirectorypreferences tm addentry filelistentry tolink getname fileutil shortenfilename tolink dirss getpath externalfiletypes getinstance getexternalfiletypebyname pdf entry setfield fieldname file tm getstringrepresentation res add entry optional<bibentry> createnewblankentry string filename optional<bibentry> newentry createnewentry newentry ifpresent bibentry droppedfilehandler dfh droppedfilehandler frame panel dfh linkpdftoentry filename bibentry newentry docontentimport string filename list<bibentry> res pdfcontentimporter contentimporter pdfcontentimporter globals prefs getimportformatpreferences path filepath paths get filename parserresult result contentimporter importdatabase filepath globals prefs getdefaultencoding result haswarnings frame showmessage result geterrormessage result getdatabase hasentries failed generate default entry createnewblankentry filename ifpresent res::add one entry imported bibentry entry result getdatabase getentries get insert entry database link file panel getdatabase insertentry entry panel markbasechanged bibtexkeypatternutil makelabel panel getbibdatabasecontext getmetadata getcitekeypattern globals prefs getbibtexkeypatternpreferences getkeypattern panel getdatabase entry globals prefs getbibtexkeypatternpreferences droppedfilehandler dfh droppedfilehandler frame panel dfh linkpdftoentry filename entry panel highlightentry entry globals prefs getboolean jabrefpreferences auto open form entryeditor editor panel getentryeditor entry panel showentryeditor editor res add entry optional<bibentry> createnewentry find type desired entrytypedialog etd entrytypedialog frame want center dialog make look nicer etd setlocationrelativeto frame etd setvisible true entrytype type etd getchoice type null dialog canceled string id idgenerator next bibentry bibentry bibentry id type getname try panel getdatabase insertentry bibentry set owner timestamp options enabled: list<bibentry> list arraylist<> list add bibentry updatefield setautomaticfields list true true globals prefs getupdatefieldpreferences create undoableinsertentry object panel getundomanager addedit undoableinsertentry panel getdatabase bibentry panel panel output localization lang added type getname tolowercase localization lang entry going select entry make sure show entry mode already mode enter show editor mode makes sure selection trigger display entry editor adjustment splitter panel getmode basepanelmode showing editor panel setmode basepanelmode show editor swingutilities invokelater panel showentry bibentry database changed panel markbasechanged optional bibentry catch keycollisionexception ex logger info key collision occurred ex optional empty 
352	ImportDialog.java	GUI	net sf jabref pdfimport awt borderlayout awt color awt font awt gridlayout awt event keyevent awt event windowadapter awt event windowevent io file io ioexception util arraylist util list javax swing borderfactory javax swing boxlayout javax swing buttongroup javax swing jbutton javax swing jcheckbox javax swing jcomponent javax swing jdialog javax swing jlabel javax swing joptionpane javax swing jpanel javax swing jradiobutton javax swing jtextarea javax swing keystroke javax swing windowconstants net sf jabref globals net sf jabref logic l10n localization net sf jabref logic xmp xmputil net sf jabref model entry bibentry net sf jabref model strings stringutil net sf jabref preferences jabrefpreferences com jgoodies forms builder buttonbarbuilder com jgoodies forms builder defaultformbuilder com jgoodies forms layout formlayout importdialog jdialog nometa xmp content onlyattach jcheckbox checkboxdonotshowagain jcheckbox usedefaultpdfimportstyle jradiobutton radiobuttonxmp jradiobutton radiobuttonpdfcontent jradiobutton radiobuttonnometa jradiobutton radiobuttononlyattachpdf result importdialog boolean targetisarow string filename boolean targetisarow1 targetisarow jpanel contentpane jpanel contentpane setlayout borderlayout setcontentpane contentpane jpanel panel3 jpanel panel3 setbackground color jlabel labelheadline jlabel localization lang metadata from: labelheadline setfont font labelheadline getfont getname font bold jlabel labelsubheadline jlabel localization lang choose source metadata labelsubheadline setfont font labelsubheadline getfont getname labelsubheadline getfont getstyle jlabel labelfilename jlabel labelfilename setfont font labelheadline getfont getname font bold jpanel headlinepanel jpanel headlinepanel add labelheadline headlinepanel add labelfilename headlinepanel setbackground color gridlayout gl gridlayout gl setvgap gl sethgap panel3 setlayout gl panel3 setborder borderfactory createemptyborder panel3 add headlinepanel panel3 add labelsubheadline radiobuttonnometa jradiobutton localization lang create blank entry linking pdf radiobuttonxmp jradiobutton localization lang create entry based xmp data radiobuttonpdfcontent jradiobutton localization lang create entry based content radiobuttononlyattachpdf jradiobutton localization lang attach pdf jbutton buttonok jbutton localization lang ok jbutton buttoncancel jbutton localization lang cancel checkboxdonotshowagain jcheckbox localization lang show box usedefaultpdfimportstyle jcheckbox localization lang always use pdf style ask defaultformbuilder defaultformbuilder formlayout left:pref 5dlu left:pref:grow list<bibentry> foundentries getentriesfromxmp filename jpanel entriespanel jpanel entriespanel setlayout boxlayout entriespanel boxlayout axis foundentries foreach entry jtextarea entryarea jtextarea entry tostring entryarea seteditable false entriespanel add entryarea appendseparator localization lang create entry append radiobuttonnometa append radiobuttonxmp append radiobuttonpdfcontent appendseparator localization lang update existing entry append radiobuttononlyattachpdf nextline append checkboxdonotshowagain append usedefaultpdfimportstyle foundentries isempty appendseparator localization lang xmp metadata append entriespanel getpanel setborder borderfactory createemptyborder buttonbarbuilder bb buttonbarbuilder bb addglue bb addbutton buttonok bb addbutton buttoncancel bb addglue bb getpanel setborder borderfactory createemptyborder contentpane add panel3 borderlayout north contentpane add getpanel borderlayout center contentpane add bb getpanel borderlayout south targetisarow1 radiobuttononlyattachpdf setenabled false string name file filename getname labelfilename settext stringutil limitstringlength name settitle localization lang metadata pdf setmodal true getrootpane setdefaultbutton buttonok one radio buttons may selected buttongroup bg buttongroup bg add radiobuttonnometa bg add radiobuttonxmp bg add radiobuttonpdfcontent bg add radiobuttononlyattachpdf buttonok addactionlistener onok buttoncancel addactionlistener oncancel setdefaultcloseoperation windowconstants nothing close addwindowlistener windowadapter override windowclosing windowevent oncancel contentpane registerkeyboardaction oncancel keystroke getkeystroke keyevent vk escape jcomponent ancestor focused component switch globals prefs getint jabrefpreferences default pdf style case nometa: radiobuttonnometa setselected true break case xmp: radiobuttonxmp setselected true break case content: radiobuttonpdfcontent setselected true break case onlyattach: radiobuttononlyattachpdf setselected true break default: fallback radiobuttonpdfcontent setselected true break setsize list<bibentry> getentriesfromxmp string filename list<bibentry> foundentries arraylist<> try foundentries xmputil readxmp filename globals prefs getxmppreferences catch ioexception printstacktrace foundentries onok result joptionpane ok option globals prefs putint jabrefpreferences default pdf style getchoice usedefaultpdfimportstyle isselected globals prefs putboolean jabrefpreferences alwaysuse true checkboxdonotshowagain handled local variable dispose oncancel result joptionpane cancel option dispose showdialog pack setvisible true getchoice radiobuttonxmp isselected importdialog xmp else radiobuttonpdfcontent isselected importdialog content else radiobuttonnometa isselected importdialog nometa else radiobuttononlyattachpdf isselected importdialog onlyattach else throw illegalstateexception boolean isdonotshowagain checkboxdonotshowagain isselected getresult result disablexmpchoice radiobuttonxmp setenabled false 
353	ConnectionLostEvent.java	LOGIC	net sf jabref shared event net sf jabref model database bibdatabasecontext link connectionlostevent fired connection shared database gets lost connectionlostevent bibdatabasecontext bibdatabasecontext param bibdatabasecontext affected link bibdatabasecontext connectionlostevent bibdatabasecontext bibdatabasecontext bibdatabasecontext bibdatabasecontext bibdatabasecontext getbibdatabasecontext bibdatabasecontext 
354	SharedEntryNotPresentEvent.java	LOGIC	net sf jabref shared event net sf jabref model entry bibentry link sharedentrynotpresentevent fired user tries push changes obsolete link bibentry server sharedentrynotpresentevent bibentry bibentry param bibentry affected link bibentry sharedentrynotpresentevent bibentry bibentry bibentry bibentry bibentry getbibentry bibentry 
355	UpdateRefusedEvent.java	LOGIC	net sf jabref shared event net sf jabref model database bibdatabasecontext net sf jabref model entry bibentry link updaterefusedevent fired user tries push changes obsolete link bibentry server updaterefusedevent bibdatabasecontext bibdatabasecontext bibentry localbibentry bibentry sharedbibentry param bibdatabasecontext affected link bibdatabasecontext param bibentry affected link bibentry updaterefusedevent bibdatabasecontext bibdatabasecontext bibentry localbibentry bibentry sharedbibentry bibdatabasecontext bibdatabasecontext localbibentry localbibentry sharedbibentry sharedbibentry bibdatabasecontext getbibdatabasecontext bibdatabasecontext bibentry getlocalbibentry localbibentry bibentry getsharedbibentry sharedbibentry 
356	DBMSSynchronizer.java	LOGIC	net sf jabref shared sql connection sql sqlexception util list util map util objects util optional util set net sf jabref logic exporter bibdatabasewriter net sf jabref logic exporter metadataserializer net sf jabref logic importer parseexception net sf jabref logic importer util metadataparser net sf jabref model bibtexkeypattern globalbibtexkeypattern net sf jabref model database bibdatabase net sf jabref model database bibdatabasecontext net sf jabref model database event entryaddedevent net sf jabref model database event entryremovedevent net sf jabref model entry bibentry net sf jabref model entry event entryevent net sf jabref model entry event entryeventsource net sf jabref model entry event fieldchangedevent net sf jabref model metadata metadata net sf jabref model metadata event metadatachangedevent net sf jabref shared event connectionlostevent net sf jabref shared event sharedentrynotpresentevent net sf jabref shared event updaterefusedevent net sf jabref shared exception databasenotsupportedexception net sf jabref shared exception invaliddbmsconnectionpropertiesexception net sf jabref shared exception offlinelockexception com google common eventbus eventbus com google common eventbus subscribe org apache commons logging log org apache commons logging logfactory synchronizes shared local databases opposite side local changes pushed link entryevent using google's guava eventbus dbmssynchronizer log logger logfactory getlog dbmssynchronizer dbmsprocessor dbmsprocessor dbmstype dbmstype string dbname bibdatabasecontext bibdatabasecontext metadata metadata bibdatabase bibdatabase eventbus eventbus connection currentconnection character keywordseparator globalbibtexkeypattern globalcitekeypattern dbmssynchronizer bibdatabasecontext bibdatabasecontext character keywordseparator globalbibtexkeypattern globalcitekeypattern bibdatabasecontext objects requirenonnull bibdatabasecontext bibdatabase bibdatabasecontext getdatabase metadata bibdatabasecontext getmetadata eventbus eventbus keywordseparator keywordseparator globalcitekeypattern objects requirenonnull globalcitekeypattern listening method inserts link bibentry shared database param event link entryaddedevent object subscribe listen entryaddedevent event synchronizing local database see synchronizelocaldatabase entryevents may posted case dbsynchronizer try insert bibentry entry would harm iseventsourceaccepted event checkcurrentconnection dbmsprocessor insertentry event getbibentry synchronizelocalmetadata synchronizelocaldatabase pull changes case listening method updates existing shared link bibentry param event link fieldchangedevent object subscribe listen fieldchangedevent event synchronizing local database see synchronizelocaldatabase entryevents may posted case dbsynchronizer try update bibentry entry would harm ispresentlocalbibentry event getbibentry iseventsourceaccepted event checkcurrentconnection synchronizelocalmetadata bibentry bibentry event getbibentry synchronizesharedentry bibentry synchronizelocaldatabase pull changes case listening method deletes given link bibentry shared database param event link entryremovedevent object subscribe listen entryremovedevent event synchronizing local database see synchronizelocaldatabase entryevents may posted case dbsynchronizer try delete bibentry entry would harm iseventsourceaccepted event checkcurrentconnection dbmsprocessor removeentry event getbibentry synchronizelocalmetadata synchronizelocaldatabase pull changes case listening method synchronizes shared link metadata applies locally param event subscribe listen metadatachangedevent event checkcurrentconnection synchronizesharedmetadata event getmetadata globalcitekeypattern synchronizelocaldatabase applymetadata dbmsprocessor notifyclients subscribe listen entryevent event iseventsourceaccepted event dbmsprocessor notifyclients sets table structure shared database needed pulls shared entries local database throws databasenotsupportedexception version shared database match version current shared database support link dbmsprocessor initializedatabases throws databasenotsupportedexception sqlexception dbmsprocessor checkbaseintegrity logger info integrity check failed fixing dbmsprocessor setupshareddatabase check performed initial database setup calling dbmsprocessor setupshareddatabase lets dbmsprocessor checkbaseintegrity true dbmsprocessor checkforpre3dot6intergrity throw databasenotsupportedexception dbmsprocessor startnotificationlistener synchronizelocalmetadata synchronizelocaldatabase synchronizes local database shared one possible update types removal update insert link bibentry synchronizelocaldatabase checkcurrentconnection list<bibentry> localentries bibdatabase getentries map<integer integer> idversionmap dbmsprocessor getsharedidversionmapping remove old entries locally removenotsharedentries localentries idversionmap keyset compare versions update local entry needed map entry<integer integer> idversionentry idversionmap entryset boolean match false bibentry localentry localentries idversionentry getkey localentry getsharedbibentrydata getsharedid match true idversionentry getvalue localentry getsharedbibentrydata getversion optional<bibentry> sharedentry dbmsprocessor getsharedentry idversionentry getkey sharedentry ispresent update fields localentry settype sharedentry get gettype entryeventsource shared localentry getsharedbibentrydata setversion sharedentry get getsharedbibentrydata getversion string field sharedentry get getfieldnames localentry setfield field sharedentry get getfield field entryeventsource shared set<string> redundantlocalentryfields localentry getfieldnames redundantlocalentryfields removeall sharedentry get getfieldnames remove existing fields string redundantfield redundantlocalentryfields localentry clearfield redundantfield entryeventsource shared match optional<bibentry> bibentry dbmsprocessor getsharedentry idversionentry getkey bibentry ispresent bibdatabase insertentry bibentry get entryeventsource shared removes local entries present shared database param localentries list link bibentry entries removed param sharedids set ids present shared database removenotsharedentries list<bibentry> localentries set<integer> sharedids localentries size bibentry localentry localentries get boolean match false sharedid sharedids localentry getsharedbibentrydata getsharedid sharedid match true break match eventbus post sharedentrynotpresentevent localentry bibdatabase removeentry localentry entryeventsource shared reach listeners due index shift localentries synchronizes shared link bibentry local one synchronizesharedentry bibentry bibentry checkcurrentconnection try bibdatabasewriter applysaveactions bibentry metadata perform possibly existing save actions dbmsprocessor updateentry bibentry catch offlinelockexception exception eventbus post updaterefusedevent bibdatabasecontext exception getlocalbibentry exception getsharedbibentry catch sqlexception logger error sql error: synchronizes meta data locally synchronizelocalmetadata checkcurrentconnection try metadataparser parse metadata dbmsprocessor getsharedmetadata keywordseparator catch parseexception logger error parse error synchronizes shared meta data synchronizesharedmetadata metadata data globalbibtexkeypattern globalcitekeypattern checkcurrentconnection try dbmsprocessor setsharedmetadata metadataserializer getserializedstringmap data globalcitekeypattern catch sqlexception logger error sql error: applies link metadata local shared bibentries applymetadata checkcurrentconnection bibentry bibentry bibdatabase getentries synchronize changes present bibdatabasewriter applysaveactions bibentry metadata isempty try dbmsprocessor updateentry bibentry catch offlinelockexception exception eventbus post updaterefusedevent bibdatabasecontext exception getlocalbibentry exception getsharedbibentry catch sqlexception logger error sql error: synchronizes local bibentries applies fetched metadata pullchanges checkcurrentconnection synchronizelocaldatabase synchronizelocalmetadata checks whether current sql connection valid case connection valid link connectionlostevent going sent <code>true< code> connection valid else <code>false< code> boolean checkcurrentconnection try boolean isvalid currentconnection isvalid isvalid eventbus post connectionlostevent bibdatabasecontext isvalid catch sqlexception logger error sql error: false checks whether link entryeventsource link entryevent crucial param event link entryevent <code>true< code> event able trigger operations link dbmssynchronizer else <code>false< code> boolean iseventsourceaccepted entryevent event entryeventsource eventsource event getentryeventsource eventsource entryeventsource local eventsource entryeventsource undo openshareddatabase dbmsconnection connection throws databasenotsupportedexception sqlexception dbmstype connection getproperties gettype dbname connection getproperties getdatabase currentconnection connection getconnection dbmsprocessor dbmsprocessor getprocessorinstance connection initializedatabases openshareddatabase dbmsconnectionproperties properties throws sqlexception databasenotsupportedexception invaliddbmsconnectionpropertiesexception openshareddatabase dbmsconnection properties closeshareddatabase try dbmsprocessor stopnotificationlistener currentconnection close catch sqlexception logger error sql error: boolean ispresentlocalbibentry bibentry bibentry bibdatabase getentries contains bibentry string getdbname dbname dbmstype getdbtype dbmstype dbmsprocessor getdbprocessor dbmsprocessor setmetadata metadata metadata metadata metadata registerlistener object listener eventbus register listener 
357	FileUpdateMonitor.java	LOGIC	net sf jabref collab io file io ioexception nio file files nio file path util hashmap util map net sf jabref logic util io fileutil org apache commons logging log org apache commons logging logfactory thread monitors set files associated fileupdatelistener changes file's last modification time stamp fileupdatemonitor runnable log logger logfactory getlog fileupdatemonitor wait numberofupdatelistener map<string entry> entries hashmap<> override run running variable used make thread stop needed true entry entries values try hasbeenupdated notifylistener catch ioexception ex notifyfileremoved sleep starting polling round try thread sleep wait catch interruptedexception ex logger debug fileupdatemonitor interrupted terminating ex add file monitor returns handle accessing entry param ul fileupdatelistener listener notify file changes param file file file monitor throws ioexception file exist string addupdatelistener fileupdatelistener ul file file throws ioexception file exists throw ioexception file found numberofupdatelistener string key string valueof numberofupdatelistener entries put key entry ul file topath key forces check file returns result force report listeners next routine check boolean hasbeenmodified string handle entry entry entries get handle entry null false try entry hasbeenupdated catch ioexception ex thrown file removed false false change stored timestamp given file timestamp equals file's timestamp disk call file appear modified used file modified change scan fails order ensure successive checks param handle handle correct file perturbtimestamp string handle entry entry entries get handle entry null entry decreasetimestamp removes listener monitor param handle string handle listener remove removeupdatelistener string handle entries remove handle updatetimestamp string key entry entry entries get key entry null try entry updatetimestamp catch ioexception logger error update timestamp method getting temporary file used database tempfile used comparison changed disk version param key string handle monitor throws illegalargumentexception handle correspond entry file temporary file path gettempfile string key throws illegalargumentexception entry entry entries get key entry null throw illegalargumentexception entry found entry gettmpfile containing file fileupdatelistener current time stamp one file entry fileupdatelistener listener path file path tmpfile long timestamp long filesize entry fileupdatelistener ul path throws ioexception listener ul file timestamp files getlastmodifiedtime file tomillis filesize files size file tmpfile fileupdatemonitor gettempfile tmpfile null tmpfile tofile deleteonexit copy check time stamp file size changed throws ioexception file longer exist boolean true file changed boolean hasbeenupdated throws ioexception long modified files getlastmodifiedtime file tomillis modified 0l throw ioexception file deleted long filesizenow files size file timestamp modified filesize filesizenow updatetimestamp throws ioexception timestamp files getlastmodifiedtime file tomillis timestamp 0l notifyfileremoved filesize files size file copy boolean copy boolean res fileutil copyfile file tmpfile true res call listener method signal file changed notifylistener throws ioexception update time stamp timestamp files getlastmodifiedtime file tomillis filesize files size file listener fileupdated call listener method signal file removed notifyfileremoved listener fileremoved path gettmpfile tmpfile decreasetimestamp timestamp synchronized path gettempfile path temporaryfile null try temporaryfile files createtempfile jabref null temporaryfile tofile deleteonexit catch ioexception ex logger warn could create temporary file ex temporaryfile 
358	FileUpdateListener.java	LOGIC	net sf jabref collab interface fileupdatelistener file updated call result file modified fileupdated file longer exist fileremoved 
359	JabRefExecutorService.java	LOGIC	net sf jabref util timer util timertask util concurrent concurrentlinkedqueue util concurrent executionexception util concurrent executor util concurrent executorservice util concurrent executors util concurrent future net sf jabref gui undo undoableinsertentry org apache commons logging log org apache commons logging logfactory responsible managing threads except swing threads jabref jabrefexecutorservice executor log logger logfactory getlog undoableinsertentry jabrefexecutorservice instance jabrefexecutorservice executorservice executorservice executors newcachedthreadpool thread thread thread thread setname jabref cachedthreadpool thread setuncaughtexceptionhandler fallbackexceptionhandler thread concurrentlinkedqueue<thread> startedthreads concurrentlinkedqueue<> timer timer timer timer true jabrefexecutorservice override execute runnable command command null todo logger executorservice execute command executeandwait runnable command command null todo logger future<?> future executorservice submit command true try future get catch interruptedexception ignored ignored catch executionexception logger error problem executing command autocleanuprunnable runnable runnable runnable concurrentlinkedqueue<thread> startedthreads thread thread autocleanuprunnable runnable runnable concurrentlinkedqueue<thread> startedthreads runnable runnable startedthreads startedthreads override run try runnable run finally startedthreads remove thread executewithlowpriorityinownthread runnable runnable string name autocleanuprunnable target autocleanuprunnable runnable startedthreads thread thread thread target target thread thread thread setname jabref name low prio thread setuncaughtexceptionhandler fallbackexceptionhandler startedthreads add thread thread setpriority thread min priority thread start executeinownthread thread thread special case method threads cannot interrupted easily method normally used startedthreads add thread todo memory leak thread finished thread start executewithlowpriorityinownthreadandwait runnable runnable thread thread thread runnable thread setname jabref low prio thread setuncaughtexceptionhandler fallbackexceptionhandler startedthreads add thread thread setpriority thread min priority thread start waitforthreadtofinish thread waitforthreadtofinish thread thread true try thread join startedthreads remove thread catch interruptedexception ignored ignored submit timertask timertask long millisecondsdelay timer schedule timertask millisecondsdelay shutdowneverything executorservice shutdown thread thread startedthreads thread interrupt startedthreads clear timer need canceled run daemon mode ensures stopped application shut 
360	PostgreSQLProcessor.java	LOGIC	net sf jabref shared sql preparedstatement sql resultset sql sqlexception sql statement util logging level util logging logger net sf jabref model entry bibentry net sf jabref shared listener postgressqlnotificationlistener com impossibl postgres api jdbc pgconnection com impossibl postgres jdbc pgdatasource com impossibl postgres jdbc threadedhousekeeper processes incoming outgoing bib data postgresql database manages structure postgresqlprocessor dbmsprocessor pgconnection pgconnection postgressqlnotificationlistener listener postgresqlprocessor dbmsconnection connection super connection creates sets needed tables columns according database type throws sqlexception override setup throws sqlexception connection createstatement executeupdate create table exists entry\ shared id\ serial primary key type\ varchar version\ integer default connection createstatement executeupdate create table exists field\ entry shared id\ integer references entry\ shared id\ delete cascade name\ varchar value\ text connection createstatement executeupdate create table exists metadata\ key\ varchar value\ text override insertintoentrytable bibentry bibentry inserting entry table stringbuilder insertintoentryquery stringbuilder append insert append escape entry append append escape type append values method get generated keys accepted mysql postgresql oracle try preparedstatement preparedentrystatement connection preparestatement insertintoentryquery tostring statement generated keys preparedentrystatement setstring bibentry gettype preparedentrystatement executeupdate try resultset generatedkeys preparedentrystatement getgeneratedkeys generatedkeys next bibentry getsharedbibentrydata setsharedid generatedkeys getint set generated id locally catch sqlexception logger error sql error: override string escape string expression expression override startnotificationlistener dbmssynchronizer dbmssynchronizer disable cleanup output threadedhousekeeper logger getlogger threadedhousekeeper getname setlevel level severe listener postgressqlnotificationlistener dbmssynchronizer pgdatasource datasource pgdatasource datasource sethost connectionproperties gethost datasource setport connectionproperties getport datasource setdatabase connectionproperties getdatabase datasource setuser connectionproperties getuser datasource setpassword connectionproperties getpassword try pgconnection pgconnection datasource getconnection pgconnection createstatement execute listen jabrefliveupdate use `new postgressqlnotificationlistener object exist continuously otherwise listener going deleted gc pgconnection addnotificationlistener listener catch sqlexception logger error sql error: override stopnotificationlistener try pgconnection close catch sqlexception logger error sql error: override notifyclients try pgconnection createstatement execute notify jabrefliveupdate processor id catch sqlexception logger error sql error: 
361	NotASharedDatabaseException.java	LOGIC	net sf jabref shared exception exception thrown shared database required actually one notashareddatabaseexception exception notashareddatabaseexception super required database shared 
362	SharedEntryNotPresentException.java	LOGIC	net sf jabref shared exception net sf jabref model entry bibentry exception thrown bibentry going updated exist shared side sharedentrynotpresentexception exception bibentry nonpresentbibentry sharedentrynotpresentexception bibentry nonpresentbibentry super required bibentry present shared database nonpresentbibentry nonpresentbibentry bibentry getnonpresentbibentry nonpresentbibentry 
363	InvalidDBMSConnectionPropertiesException.java	LOGIC	net sf jabref shared exception exception thrown case link dbmsconnectionproperties provide data needed connection invaliddbmsconnectionpropertiesexception exception invaliddbmsconnectionpropertiesexception super required connection details present 
364	OfflineLockException.java	LOGIC	net sf jabref shared exception net sf jabref model entry bibentry exception thrown bibentry smaller version number going used update shared side principle optimistic offline lock forbids updating obsolete objects offlinelockexception exception bibentry localbibentry bibentry sharedbibentry offlinelockexception bibentry localbibentry bibentry sharedbibentry super local bibentry data date localbibentry localbibentry sharedbibentry sharedbibentry bibentry getlocalbibentry localbibentry bibentry getsharedbibentry sharedbibentry 
365	DatabaseNotSupportedException.java	LOGIC	net sf jabref shared exception exception thrown case sql database structure compatible current shared database support mechanisms databasenotsupportedexception exception databasenotsupportedexception super structure sql database supported 
366	OracleProcessor.java	LOGIC	net sf jabref shared sql sqlexception sql statement util properties net sf jabref shared listener oraclenotificationlistener oracle jdbc oracleconnection oracle jdbc oraclestatement oracle jdbc dcn databasechangeregistration processes incoming outgoing bib data oracle database manages structure oracleprocessor dbmsprocessor oracleconnection oracleconnection oraclenotificationlistener listener databasechangeregistration databasechangeregistration oracleprocessor dbmsconnection connection super connection creates sets needed tables columns according database type throws sqlexception override setup throws sqlexception connection createstatement executeupdate create table entry\ shared id\ number null type\ varchar2 null version\ number default constraint entry pk\ primary key shared id\ connection createstatement executeupdate create sequence entry seq\ connection createstatement executeupdate create trigger entry t\ insert entry\ row begin select entry seq\ nextval :new shared id dual end connection createstatement executeupdate create table field\ entry shared id\ number null name\ varchar2 null value\ clob null constraint entry shared id fk\ foreign key entry shared id\ references entry\ shared id\ delete cascade connection createstatement executeupdate create table metadata\ key\ varchar2 null value\ clob null override string escape string expression expression override startnotificationlistener dbmssynchronizer dbmssynchronizer listener oraclenotificationlistener dbmssynchronizer try oracleconnection oracleconnection connection properties properties properties properties setproperty oracleconnection dcn notify rowids true properties setproperty oracleconnection dcn query change notification true databasechangeregistration oracleconnection registerdatabasechangenotification properties databasechangeregistration addlistener listener try statement statement oracleconnection createstatement oraclestatement statement setdatabasechangeregistration databasechangeregistration stringbuilder selectquery stringbuilder append select append escape entry append append escape metadata execution registers tables mentioned selectquery statement executequery selectquery tostring catch sqlexception logger error sql error: override stopnotificationlistener try oracleconnection unregisterdatabasechangenotification databasechangeregistration oracleconnection close catch sqlexception logger error sql error: override notifyclients nothing oracle triggers notifications automatically 
367	CitationStyleGenerator.java	LOGIC	net sf jabref logic citationstyle io ioexception util map net sf jabref logic formatter bibtexfields unicodetolatexformatter net sf jabref logic l10n localization net sf jabref model entry bibentry de undercouch citeproc csl de undercouch citeproc bibtex bibtexconverter de undercouch citeproc csl cslitemdata de undercouch citeproc output bibliography org apache commons logging log org apache commons logging logfactory org jbibtex bibtexentry org jbibtex digitstringvalue org jbibtex key org jbibtex tokenmgrexception warning: citation generated javascript may take time better call outside main thread citationstylegenerator log logger logfactory getlog citationstylegenerator unicodetolatexformatter unicode latex formatter unicodetolatexformatter bibtexconverter bibtex converter bibtexconverter generates citation based given entry style warning: citation generated javascript may take time better call outside main thread string generatecitation bibentry entry citationstyle style generatecitation entry style getsource citationstyleoutputformat html generates citation based given entry style warning: citation generated javascript may take time better call outside main thread string generatecitation bibentry entry string style generatecitation entry style citationstyleoutputformat html generates citation based given entry style output format warning: citation generated javascript may take time better call outside main thread string generatecitation bibentry entry string style citationstyleoutputformat outputformat try string citekey entry getcitekeyoptional orelse bibtexentry bibtexentry bibtexentry key entry gettype key citekey map entry<string string> field entry getfieldmap entryset string value unicode latex formatter format field getvalue bibtexentry addfield key field getkey digitstringvalue value cslitemdata cslitemdata bibtex converter toitemdata bibtexentry bibliography bibliography csl makeadhocbibliography style outputformat getformat cslitemdata bibliography getentries [0] catch ioexception arrayindexoutofboundsexception logger error could generate bibentry citation localization lang cannot generate preview based selected citation style catch tokenmgrexception logger error bad character inside bibentry sadly one cannot easily retrieve bad char tokenmgrerror stringbuilder append localization lang cannot generate preview based selected citation style append outputformat citationstyleoutputformat html <br> \n append localization lang bad character inside entry append outputformat citationstyleoutputformat html <br> \n append getlocalizedmessage tostring 
368	CitationStyle.java	LOGIC	net sf jabref logic citationstyle io ioexception io stringreader net urisyntaxexception net url nio charset standardcharsets nio file files nio file nosuchfileexception nio file paths util arraylist util arrays util collections util enumeration util list util objects util jar jarentry util jar jarfile javax xml parsers documentbuilder javax xml parsers documentbuilderfactory javax xml parsers parserconfigurationexception net sf jabref logic util fileextensions de undercouch citeproc helper cslutils org apache commons logging log org apache commons logging logfactory org w3c dom characterdata org w3c dom document org w3c dom element org w3c dom nodelist org xml sax inputsource org xml sax saxexception representation citationstyle stores name filepath style citationstyle string default ieee csl log logger logfactory getlog citationstyle string filepath string title string source citationstyle string filename string title string source filepath objects requirenonnull filename title objects requirenonnull title source objects requirenonnull source creates citationstyle instance style string citationstyle createcitationstylefromsource string source string filename try documentbuilder db documentbuilderfactory newinstance newdocumentbuilder inputsource inputsource setcharacterstream stringreader source document doc db parse nodelist nodes doc getelementsbytagname info nodelist titlenode element nodes item getelementsbytagname title string title characterdata titlenode item getfirstchild getdata citationstyle filename title source catch parserconfigurationexception saxexception ioexception logger error error parsing source null loads citationstyle given file citationstyle createcitationstylefromfile string stylefile iscitationstylefile stylefile logger error load style files: stylefile null try string text string internalfile stylefile startswith stylefile url url citationstyle getresource internalfile url null text cslutils readurltostring url standardcharsets utf tostring else url null style located outside classpath text string files readallbytes paths get stylefile standardcharsets utf createcitationstylefromsource text stylefile catch nosuchfileexception logger error could find file: stylefile catch ioexception logger error error reading source file null citationstyle getdefault createcitationstylefromfile default works jabref started application jar reads available citationstyle jar list<citationstyle> discovercitationstyles try list<citationstyle> citationstyles arraylist<> string path citationstyle getprotectiondomain getcodesource getlocation touri getpath try jarfile file jarfile path enumeration<jarentry> entries file entries entries hasmoreelements string filename entries nextelement getname filename startswith dependent filename endswith csl citationstyle citationstyle citationstyle createcitationstylefromfile filename citationstyle null citationstyles add citationstyle citationstyles catch ioexception urisyntaxexception ex logger error something went wrong searching available citationstyles running directly source code? ex collections emptylist checks given style file citationstyle boolean iscitationstylefile string stylefile arrays stream fileextensions citation style getextensions anymatch stylefile::endswith string gettitle title string getsource source string getfilepath filepath override string tostring title override boolean equals object true null getclass getclass false citationstyle citationstyle source null source equals source source null 
369	CitationStyleOutputFormat.java	LOGIC	net sf jabref logic citationstyle enum citationstyleoutputformat html html text text ascii doc asciidoc fo fo rtf rtf string format citationstyleoutputformat string format format format string getformat format override string tostring format 
370	CitationStyleCache.java	LOGIC	net sf jabref logic citationstyle util hashmap util map util objects net sf jabref model database bibdatabasecontext net sf jabref model database event entryremovedevent net sf jabref model entry bibentry net sf jabref model entry event entrychangedevent com google common eventbus subscribe caches generated citations quicker access link citationstylegenerator generates citaiton javascript may take time citationstylecache citationstyle citationstyle citationstyle getdefault map<bibentry string> citationstylescache hashmap<> citationstylecache bibdatabasecontext bibdatabasecontext bibdatabasecontext citationstyle getdefault citationstylecache bibdatabasecontext bibdatabasecontext citationstyle citationstyle setcitationstyle citationstyle bibdatabasecontext getdatabase registerlistener bibdatabaseentrylistener returns citation given bibentry set citationstyle string getcitationfor bibentry entry string citation citationstylescache get entry citation null citation citationstylegenerator generatecitation entry citationstyle citationstylescache put entry citation citation setcitationstyle citationstyle citationstyle objects requirenonnull citationstyle citationstyle equals citationstyle citationstyle citationstyle citationstylescache clear citationstyle getcitationstyle citationstyle bibdatabaseentrylistener removes outdated citation changed entry subscribe listen entrychangedevent entrychangedevent citationstylescache remove entrychangedevent getbibentry removes citation removed entry needed anymore subscribe listen entryremovedevent entryremovedevent citationstylescache remove entryremovedevent getbibentry 
371	TeeStream.java	LOGIC	net sf jabref logic error io printstream writes print stream copied two print streams <p based command line tool tee teestream printstream printstream outstream teestream printstream out1 printstream out2 super out1 outstream out2 override write byte[] buf len try super write buf len outstream write buf len catch exception ignored ignored override flush super flush outstream flush 
372	StreamEavesdropper.java	LOGIC	net sf jabref logic error io bytearrayoutputstream io printstream allows eavesdrop err stream <p used listen messages system system err streameavesdropper bytearrayoutputstream errbytestream bytearrayoutputstream bytearrayoutputstream outbytestream bytearrayoutputstream printstream systemout printstream systemerr streameavesdropper eavesdroponsystem streameavesdropper streameavesdropper streameavesdropper system system err system setout streameavesdropper getoutstream system seterr streameavesdropper geterrstream streameavesdropper streameavesdropper printstream systemout printstream systemerr systemout systemout systemerr systemerr printstream getoutstream printstream consoleout printstream outbytestream teestream consoleout systemout printstream geterrstream printstream consoleerr printstream errbytestream teestream consoleerr systemerr string geterrormessages errbytestream tostring string getoutput outbytestream tostring 
373	UndoChangeEvent.java	LOGIC	net sf jabref logic undo event sent something undone redone undochangeevent boolean canundo string undodescription boolean canredo string redodescription undochangeevent boolean canundo string undodescription boolean canredo string redodescription canundo canundo undodescription undodescription canredo canredo redodescription redodescription true action undone boolean iscanundo canundo description action undone string getundodescription undodescription true action redone boolean iscanredo canredo description action redone string getredodescription redodescription 
374	AddUndoableActionEvent.java	LOGIC	net sf jabref logic undo event sent undoable action added undo manager addundoableactionevent undochangeevent addundoableactionevent boolean canundo string undodescription boolean canredo string redodescription super canundo undodescription canredo redodescription 
375	UndoRedoEvent.java	LOGIC	net sf jabref logic undo event sent something undone redone undoredoevent undochangeevent undoredoevent boolean canundo string undodescription boolean canredo string redodescription super canundo undodescription canredo redodescription 
376	MSBibEntry.java	LOGIC	net sf jabref logic msbib util hashmap util linkedlist util list util map util regex matcher util regex pattern net sf jabref model strings stringutil org w3c dom document org w3c dom element org w3c dom node org w3c dom nodelist msbib entry representation see <a href http: mahbub wordpress com details microsoft office bibliographic format compared bibtex >ms office bibliography format compared bibtex< a> see <a href http: mahbub wordpress com deciphering microsoft office bibliography format >deciphering ms office bibliography format< a> see <a href http: www ecma international org publications standards ecma htm >ecma standard< a> msbibentry msbib fields values map<string string> fields hashmap<> list<personname> authors list<personname> bookauthors list<personname> editors list<personname> translators list<personname> producernames list<personname> composers list<personname> conductors list<personname> performers list<personname> writers list<personname> directors list<personname> compilers list<personname> interviewers list<personname> interviewees list<personname> inventors list<personname> counsels pagenumbers pages string standardnumber string address string conferencename string thesistype string internetsitetitle string dateaccessed string publicationtitle string albumtitle string broadcasttitle string year string month string day string number string patentnumber string journalname string bibtexentrytype reduced subset supports city state country <br> <b>\b \w \s?[ ]?\s? \w \s?[ ]?\s? \w \b< b> <br> word space space word space zero space word zero <br> matches single locations city like berlin full locations like stroudsburg pa usa <br> tested using http: www regexpal com pattern address pattern pattern compile \\b \\w \\s?[ ]?\\s? \\w \\s?[ ]?\\s? \\w \\b allows etc <b> \d \s?[ ]\s? \d \s?[ ]\s? \d b> digits space seperator space digits space seperator space digits pattern date pattern pattern compile \\d \\s ]\\s \\d \\s ]\\s \\d msbibentry empty createa link msbibentry xml element param entry msbibentry element entry populatefromxml entry string gettype fields get sourcetype string getcitekey fields get tag string getxmlelementtextcontent string name element entry string value null nodelist nodelst entry getelementsbytagnamens name nodelst getlength value nodelst item gettextcontent value populatefromxml element entry entry getchildnodes getlength node node entry getchildnodes item node getnodetype node element node string key node getlocalname string value node gettextcontent sourcetype equals key bibtexentrytype value fields put key value string temp getxmlelementtextcontent pages entry temp null pages pagenumbers temp standardnumber getxmlelementtextcontent standardnumber entry conferencename getxmlelementtextcontent conferencename entry string city getxmlelementtextcontent city entry string state getxmlelementtextcontent stateprovince entry string country getxmlelementtextcontent countryregion entry stringbuilder addressbuffer stringbuilder city null addressbuffer append city state null state isempty city null city isempty addressbuffer append append addressbuffer append state country null country isempty addressbuffer append append addressbuffer append country address addressbuffer tostring trim address isempty equals address address null patent equalsignorecase bibtexentrytype number getxmlelementtextcontent patentnumber entry journalname getxmlelementtextcontent journalname entry month getxmlelementtextcontent month entry internetsitetitle getxmlelementtextcontent internetsitetitle entry string monthaccessed getxmlelementtextcontent monthaccessed entry string dayaccessed getxmlelementtextcontent dayaccessed entry string yearaccessed getxmlelementtextcontent yearaccessed entry stringbuilder sbdateaccesed stringbuilder monthaccessed null sbdateaccesed append monthaccessed sbdateaccesed append dayaccessed null sbdateaccesed append dayaccessed sbdateaccesed append yearaccessed null sbdateaccesed append yearaccessed dateaccessed sbdateaccesed tostring trim dateaccessed isempty equals dateaccessed dateaccessed null nodelist nodelst entry getelementsbytagnamens author nodelst getlength getauthors element nodelst item getauthors element authorselem authors getspecificauthors author authorselem bookauthors getspecificauthors bookauthor authorselem editors getspecificauthors editor authorselem translators getspecificauthors translator authorselem producernames getspecificauthors producername authorselem composers getspecificauthors composer authorselem conductors getspecificauthors conductor authorselem performers getspecificauthors performer authorselem writers getspecificauthors writer authorselem directors getspecificauthors director authorselem compilers getspecificauthors compiler authorselem interviewers getspecificauthors interviewer authorselem interviewees getspecificauthors interviewee authorselem inventors getspecificauthors inventor authorselem counsels getspecificauthors counsel authorselem list<personname> getspecificauthors string type element authors list<personname> result null nodelist nodelst authors getelementsbytagnamens type nodelst getlength result nodelst element nodelst item getelementsbytagnamens namelist nodelst getlength result nodelist person element nodelst item getelementsbytagnamens person person getlength result result linkedlist<> person getlength nodelist firstname element person item getelementsbytagnamens first nodelist lastname element person item getelementsbytagnamens last nodelist middlename element person item getelementsbytagnamens middle personname name personname firstname getlength name setfirstname firstname item gettextcontent middlename getlength name setmiddlename middlename item gettextcontent lastname getlength name setsurname lastname item gettextcontent result add name result gets dom representation one entry used export param document xmldocument xmlelement represenation one entry element getentrydom document document element rootnode document createelementns msbibdatabase namespace msbibdatabase prefix source map entry<string string> entry fields entryset addfield document rootnode entry getkey entry getvalue based bibtex content dateaccessed null matcher matcher date pattern matcher dateaccessed matcher matches matcher groupcount addfield document rootnode month accessed matcher group addfield document rootnode day accessed matcher group addfield document rootnode year accessed matcher group element allauthors document createelementns msbibdatabase namespace msbibdatabase prefix author addauthor document allauthors author authors addauthor document allauthors bookauthor bookauthors addauthor document allauthors editor editors addauthor document allauthors translator translators addauthor document allauthors producername producernames addauthor document allauthors composer composers addauthor document allauthors conductor conductors addauthor document allauthors performer performers addauthor document allauthors writer writers addauthor document allauthors director directors addauthor document allauthors compiler compilers addauthor document allauthors interviewer interviewers addauthor document allauthors interviewee interviewees addauthor document allauthors inventor inventors addauthor document allauthors counsel counsels rootnode appendchild allauthors pages null addfield document rootnode pages pages tostring addfield document rootnode year year addfield document rootnode month month addfield document rootnode journalname journalname addfield document rootnode patentnumber patentnumber addfield document rootnode number number addfield document rootnode standardnumber standardnumber addfield document rootnode conferencename conferencename addaddress document rootnode address addfield document rootnode thesistype thesistype addfield document rootnode internetsitetitle internetsitetitle addfield document rootnode publicationtitle publicationtitle addfield document rootnode albumtitle albumtitle addfield document rootnode broadcasttitle broadcasttitle rootnode addfield document document element parent string name string value value null element elem document createelementns msbibdatabase namespace msbibdatabase prefix name elem appendchild document createtextnode stringutil stripnonvalidxmlcharacters value parent appendchild elem addauthor document document element allauthors string entryname list<personname> authorslst authorslst null element authortop document createelementns msbibdatabase namespace msbibdatabase prefix entryname element namelist document createelementns msbibdatabase namespace msbibdatabase prefix namelist personname name authorslst element person document createelementns msbibdatabase namespace msbibdatabase prefix person addfield document person last name getsurname addfield document person middle name getmiddlename addfield document person first name getfirstname namelist appendchild person authortop appendchild namelist allauthors appendchild authortop addaddress document document element parent string addresstosplit addresstosplit null matcher matcher address pattern matcher addresstosplit matcher matches matcher groupcount addfield document parent city matcher group addfield document parent stateprovince matcher group addfield document parent countryregion matcher group else addfield document parent city addresstosplit 
377	BibTeXConverter.java	LOGIC	net sf jabref logic msbib util hashmap util list util map util regex matcher util regex pattern util stream collectors net sf jabref logic importer importer net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model entry monthutil net sf jabref model entry monthutil month bibtexconverter string msbib prefix msbib converts link msbibentry link bibentry param entry msbibentry convert bib entry bibentry convert msbibentry entry bibentry result map<string string> fieldvalues hashmap<> string bibtexentrytype msbibmapping getbiblatexentrytype entry gettype entry getcitekey null result bibentry importer default bibtexentry id bibtexentrytype else todo: cite key id? id assumes existing database result bibentry entry getcitekey bibtexentrytype add string fields map entry<string string> field entry fields entryset string msfield field getkey string value field getvalue value null msbibmapping getbibtexfield msfield null fieldvalues put msbibmapping getbibtexfield msfield value value must converted fieldvalues containskey fieldname language lcid integer valueof fieldvalues get fieldname language fieldvalues put fieldname language msbibmapping getlanguage lcid addauthor fieldvalues fieldname author entry authors addauthor fieldvalues msbib prefix fieldname bookauthor entry bookauthors addauthor fieldvalues fieldname editor entry editors addauthor fieldvalues msbib prefix fieldname translator entry translators addauthor fieldvalues msbib prefix producername entry producernames addauthor fieldvalues msbib prefix composer entry composers addauthor fieldvalues msbib prefix conductor entry conductors addauthor fieldvalues msbib prefix performer entry performers addauthor fieldvalues msbib prefix writer entry writers addauthor fieldvalues msbib prefix director entry directors addauthor fieldvalues msbib prefix compiler entry compilers addauthor fieldvalues msbib prefix interviewer entry interviewers addauthor fieldvalues msbib prefix interviewee entry interviewees addauthor fieldvalues msbib prefix inventor entry inventors addauthor fieldvalues msbib prefix counsel entry counsels entry pages null fieldvalues put fieldname pages entry pages tostring parsestandardnumber entry standardnumber fieldvalues entry address null fieldvalues put fieldname location entry address todo: conferencename saved booktitle converting msbib bibtex entry conferencename null fieldvalues put fieldname organization entry conferencename entry dateaccessed null fieldvalues put msbib prefix accessed entry dateaccessed entry journalname null fieldvalues put fieldname journaltitle entry journalname entry month null month month monthutil getmonth entry month fieldvalues put fieldname month month shortname entry number null fieldvalues put fieldname number entry number set fields result setfield fieldvalues result addauthor map<string string> map string type list<personname> authors authors null string allauthors authors stream map personname::getfullname collect collectors joining map put type allauthors parsesinglestandardnumber string type string bibtype string standardnum map<string string> map pattern pattern pattern compile ':' type [^:] matcher matcher pattern matcher standardnum matcher matches map put bibtype matcher group parsestandardnumber string standardnum map<string string> map standardnum null parsesinglestandardnumber isbn fieldname isbn standardnum map parsesinglestandardnumber issn fieldname issn standardnum map parsesinglestandardnumber lccn lccn standardnum map parsesinglestandardnumber mrn mrnumber standardnum map parsesinglestandardnumber doi fieldname doi standardnum map 
378	PageNumbers.java	LOGIC	net sf jabref logic msbib util regex matcher util regex pattern org w3c dom document org w3c dom element org w3c dom node pagenumbers string freeform start end pattern page pattern pattern compile \\s \\d \\s \\s \\d \\s pagenumbers string pages parsepagenums pages parsepagenums string pages matcher matcher page pattern matcher pages matcher matches start integer parseint matcher group end integer parseint matcher group else freeform pages element getdomrepresentation document document element result document createelement extent result setattribute unit page freeform null element tmpstart document createelement start element tmpend document createelement end tmpstart appendchild document createtextnode string valueof start tmpend appendchild document createtextnode string valueof end result appendchild tmpstart result appendchild tmpend else node textnode document createtextnode freeform result appendchild textnode result string tostring string separator freeform null freeform start separator end override string tostring tostring 
379	MSBibDatabase.java	LOGIC	net sf jabref logic msbib io bufferedreader io ioexception util arraylist util collections util hashset util list util set javax xml parsers documentbuilder javax xml parsers documentbuilderfactory javax xml parsers parserconfigurationexception net sf jabref model database bibdatabase net sf jabref model entry bibentry org apache commons logging log org apache commons logging logfactory org w3c dom document org w3c dom element org w3c dom node org w3c dom nodelist org xml sax inputsource org xml sax saxexception microsoft word bibliography uesed export see http: www ecma international org publications standards ecma htm msbibdatabase log logger logfactory getlog msbibdatabase string namespace http: schemas openxmlformats org officedocument bibliography string prefix b: set<msbibentry> entries creates link msbibdatabase <b>import< b> msbibdatabase entries hashset<> todo: additonal entry list? entries included inside database creates link msbibdatabase <b>export< b> param database bib database param entries list link bibentry msbibdatabase bibdatabase database list<bibentry> entries entries null addentriesforexport database getentries else addentriesforexport entries imports entries office xml file param reader list link bibentry list<bibentry> importentriesfromxml bufferedreader reader entries hashset<> document inputdocument try documentbuilderfactory factory documentbuilderfactory newinstance factory setnamespaceaware true documentbuilder documentbuilder factory newdocumentbuilder inputdocument documentbuilder parse inputsource reader catch parserconfigurationexception saxexception ioexception logger warn could parse document collections emptylist nodelist rootlist inputdocument getelementsbytagnamens sources rootlist getlength rootlist inputdocument getelementsbytagnamens sources list<bibentry> bibitems arraylist<> rootlist getlength bibitems nodelist sourcelist element rootlist item getelementsbytagnamens source sourcelist getlength msbibentry entry msbibentry element sourcelist item entries add entry bibitems add bibtexconverter convert entry bibitems addentriesforexport list<bibentry> entriestoadd entries hashset<> bibentry entry entriestoadd msbibentry newmods msbibconverter convert entry entries add newmods gets assembled dom export xml document document getdomforexport document document null try documentbuilderfactory factory documentbuilderfactory newinstance factory setnamespaceaware true documentbuilder documentbuilder factory newdocumentbuilder document documentbuilder newdocument element rootnode document createelementns namespace prefix sources rootnode setattributens http: www w3 org xmlns xmlns namespace rootnode setattributens http: www w3 org xmlns xmlns: prefix substring prefix length namespace rootnode setattribute selectedstyle msbibentry entry entries node node entry getentrydom document rootnode appendchild node document appendchild rootnode catch parserconfigurationexception logger warn could build xml document document 
380	MSBibMapping.java	LOGIC	net sf jabref logic msbib util map util treemap net sf jabref model entry bibentry net sf jabref model entry biblatexentrytypes net sf jabref model entry bibtexentrytypes net sf jabref model entry fieldname com google common collect hashbimap mapping msbib biblatex fields: <a href https: msdn microsoft com de de library office documentformat openxml bibliography >list msbib fields< a> msbibmapping string bibtex prefix bibtex string msbib prefix msbib hashbimap<string string> biblatextomsbib hashbimap create biblatextomsbib put bibentry key field tag biblatextomsbib put fieldname title title biblatextomsbib put fieldname year year biblatextomsbib put fieldname note comments biblatextomsbib put fieldname volume volume biblatextomsbib put fieldname language lcid biblatextomsbib put fieldname edition edition biblatextomsbib put fieldname publisher publisher biblatextomsbib put fieldname booktitle booktitle biblatextomsbib put shorttitle shorttitle biblatextomsbib put fieldname note comments biblatextomsbib put fieldname booktitle conferencename biblatextomsbib put fieldname pages pages biblatextomsbib put fieldname chapter chapternumber biblatextomsbib put fieldname issue issue biblatextomsbib put fieldname school department biblatextomsbib put fieldname institution institution biblatextomsbib put fieldname doi doi biblatextomsbib put fieldname url url bibtex biblatex fields biblatextomsbib put fieldname series bibtex prefix series biblatextomsbib put fieldname bibtex prefix biblatextomsbib put fieldname keywords bibtex prefix keywords biblatextomsbib put fieldname crossref bibtex prefix crossref biblatextomsbib put fieldname howpublished bibtex prefix howpublished biblatextomsbib put affiliation bibtex prefix affiliation biblatextomsbib put contents bibtex prefix contents biblatextomsbib put copyright bibtex prefix copyright biblatextomsbib put price bibtex prefix price biblatextomsbib put size bibtex prefix size biblatextomsbib put intype bibtex prefix intype biblatextomsbib put paper bibtex prefix paper biblatextomsbib put fieldname key bibtex prefix key msbib fields biblatextomsbib put msbib prefix numberofvolume numbervolumes biblatextomsbib put msbib prefix periodical periodicaltitle biblatextomsbib put msbib prefix fieldname day day biblatextomsbib put msbib prefix accessed accessed biblatextomsbib put msbib prefix medium medium biblatextomsbib put msbib prefix recordingnumber recordingnumber biblatextomsbib put msbib prefix theater theater biblatextomsbib put msbib prefix distributor distributor biblatextomsbib put msbib prefix broadcaster broadcaster biblatextomsbib put msbib prefix station station biblatextomsbib put msbib prefix fieldname type type biblatextomsbib put msbib prefix court court biblatextomsbib put msbib prefix reporter reporter biblatextomsbib put msbib prefix casenumber casenumber biblatextomsbib put msbib prefix abbreviatedcasenumber abbreviatedcasenumber biblatextomsbib put msbib prefix productioncompany productioncompany string getbiblatexentrytype string msbibtype string defaulttype bibtexentrytypes misc getname map<string string> entrytypemapping treemap<> string case insensitive order entrytypemapping put book biblatexentrytypes book getname entrytypemapping put booksection biblatexentrytypes book getname entrytypemapping put journalarticle biblatexentrytypes article getname entrytypemapping put articleinaperiodical biblatexentrytypes periodical getname entrytypemapping put conferenceproceedings biblatexentrytypes inproceedings getname entrytypemapping put report biblatexentrytypes techreport getname entrytypemapping put patent biblatexentrytypes patent getname entrytypemapping put internetsite biblatexentrytypes online getname entrytypemapping getordefault msbibtype defaulttype msbibentrytype getmsbibentrytype string bibtextype map<string msbibentrytype> entrytypemapping treemap<> string case insensitive order entrytypemapping put book msbibentrytype book entrytypemapping put inbook msbibentrytype booksection entrytypemapping put booklet msbibentrytype booksection entrytypemapping put incollection msbibentrytype booksection entrytypemapping put article msbibentrytype journalarticle entrytypemapping put inproceedings msbibentrytype conferenceproceedings entrytypemapping put conference msbibentrytype conferenceproceedings entrytypemapping put proceedings msbibentrytype conferenceproceedings entrytypemapping put collection msbibentrytype conferenceproceedings entrytypemapping put techreport msbibentrytype report entrytypemapping put manual msbibentrytype report entrytypemapping put mastersthesis msbibentrytype report entrytypemapping put phdthesis msbibentrytype report entrytypemapping put unpublished msbibentrytype report entrytypemapping put patent msbibentrytype patent entrytypemapping put misc msbibentrytype misc entrytypemapping put electronic msbibentrytype electronicsource entrytypemapping put online msbibentrytype internetsite entrytypemapping getordefault bibtextype msbibentrytype misc english supported <br> <a href http: www microsoft com globaldev reference lcid mspx >all lcid codes< a> param language language transform returns english getlcid string language todo: add language lcid mapping english english supported <br> <a href http: www microsoft com globaldev reference lcid mspx >all lcid codes< a> param language returns english string getlanguage lcid todo: add language lcid mapping english string getmsbibfield string bibtexfieldname biblatextomsbib get bibtexfieldname string getbibtexfield string msbibfieldname biblatextomsbib inverse get msbibfieldname 
381	MSBibConverter.java	LOGIC	net sf jabref logic msbib util arraylist util list util locale net sf jabref model entry bibentry net sf jabref model entry fieldname msbibconverter string msbib prefix msbib string bibtex prefix bibtex msbibentry convert bibentry entry msbibentry result msbibentry memorize original type result fields put bibtex prefix entry entry gettype define type string msbibtype result fields put sourcetype msbibmapping getmsbibentrytype entry gettype name string field entry getfieldnames clean field string unicodefield entry getlatexfreefield field orelse msbibmapping getmsbibfield field null result fields put msbibmapping getmsbibfield field unicodefield duplicate: also added booktitle entry getfield fieldname booktitle ifpresent booktitle result conferencename booktitle entry getfield fieldname pages ifpresent pages result pages pagenumbers pages entry getfield msbib prefix accessed ifpresent accesed result dateaccessed accesed todo: currently never happen soundrecording equals msbibtype result albumtitle entry getfield fieldname title orelse null todo: currently never happen interview equals msbibtype result broadcasttitle entry getfield fieldname title orelse null entry getfield fieldname issue ispresent result number entry getfield fieldname number orelse null patent equalsignorecase entry gettype result patentnumber entry getfield fieldname number orelse null result number null result journalname entry getfieldoralias fieldname journal orelse null result month entry getfieldoralias fieldname month orelse null entry getfield fieldname year ispresent result year entry getfieldoralias fieldname year orelse null value must converted currently english supported entry getfield fieldname language ifpresent lang result fields put lcid string valueof msbibmapping getlcid lang stringbuilder sbnumber stringbuilder entry getfield fieldname isbn ifpresent isbn sbnumber append isbn: isbn entry getfield fieldname issn ifpresent issn sbnumber append issn: issn entry getfield lccn ifpresent lccn sbnumber append lccn: lccn entry getfield mrnumber ifpresent mrnumber sbnumber append mrn: mrnumber result standardnumber sbnumber tostring result standardnumber isempty result standardnumber null result address entry getfieldoralias fieldname address orelse null entry getfield fieldname type ispresent result thesistype entry getfield fieldname type get else techreport equalsignorecase entry gettype result thesistype tech rep else mastersthesis equalsignorecase entry gettype result thesistype master's thesis else phdthesis equalsignorecase entry gettype result thesistype ph dissertation else unpublished equalsignorecase entry gettype result thesistype unpublished todo: currently never happen internetsite equals msbibtype documentfrominternetsite equals msbibtype result internetsitetitle entry getfield fieldname title orelse null todo: currently misc happen electronicsource equals msbibtype art equals msbibtype misc equals msbibtype result publicationtitle entry getfield fieldname title orelse null entry getlatexfreefield fieldname author ifpresent authors result authors getauthors authors entry getlatexfreefield fieldname editor ifpresent editors result editors getauthors editors result list<personname> getauthors string authors list<personname> result arraylist<> authors touppercase locale english contains string[] names authors split ?i string name names result add personname name else result add personname authors result 
382	MSBibEntryType.java	LOGIC	net sf jabref logic msbib represents supported msbib entry types <p> book booksection journalarticle articleinaperiodical conferenceproceedings report internetsite documentfrominternetsite electronicsource art soundrecording performance film interview patent case misc see bibform xml shared bibliography xsd ecma standard enum msbibentrytype articleinaperiodical book booksection journalarticle conferenceproceedings report soundrecording performance art documentfrominternetsite internetsite film interview patent electronicsource case misc 
383	PersonName.java	LOGIC	net sf jabref logic msbib util list net sf jabref model entry authorlist net sf jabref model strings stringutil author michael wrighton mahbub murshed mahbub murshed added functions convenience may history dec changed parsename string export authorname names correctly personname string givenname string surname string middlename personname empty constructor personname string name parsename name personname string firstname string middlename string lastname givenname firstname middlename middlename surname lastname parsename string author string authormod authorlist fixauthorlastnamefirst author false formating names replacing escape char back comma xmlchars xmlchars xmlchars authormod xmlchars format authormod replace #44 endoflastname authormod indexof tokenize firstname middlenames surname comma list<string> names stringutil tokenizetolist authormod substring endoflastname trim \n\r endoflastname names add authormod substring endoflastname amountofnames names size amountofnames surname names get else amountofnames givenname names get surname names get else givenname names get middlename amountofnames middlename names get middlename middlename trim surname names get amountofnames string getgivennames stringbuilder result stringbuilder givenname null result append givenname middlename null result append append middlename result tostring string getsurname surname setsurname string lastname surname lastname string getfirstname givenname setfirstname string firstname givenname firstname string getmiddlename middlename setmiddlename string middlename middlename middlename string getfullname stringbuilder fullname stringbuilder givenname null givenname isempty fullname append givenname append middlename null middlename isempty fullname append middlename append surname null surname isempty fullname append surname fullname tostring trim override string tostring surname 
384	EncryptedPdfsNotSupportedException.java	LOGIC	net sf jabref logic xmp io ioexception encryptedpdfsnotsupportedexception ioexception additional information needed 
385	XMPSchemaBibtex.java	LOGIC	net sf jabref logic xmp io ioexception util calendar util hashmap util hashset util list util map util set util treeset javax xml transform transformerexception net sf jabref model database bibdatabase net sf jabref model entry author net sf jabref model entry authorlist net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model entry fieldproperty net sf jabref model entry idgenerator net sf jabref model entry internalbibtexfields org apache jempbox xmp xmpmetadata org apache jempbox xmp xmpschema org w3c dom element org w3c dom namednodemap org w3c dom node org w3c dom nodelist xmpschemabibtex xmpschema namespace schema string namespace http: jabref sourceforge net bibtexmp string key bibtex set<string> preserve white space hashset<> xmpschemabibtex preserve white space add fieldname xmpschemabibtex preserve white space add fieldname note xmpschemabibtex preserve white space add fieldname review create empty xmpschemabibtex child given xmpmetadata param parent xmpschemabibtex xmpmetadata parent super parent xmpschemabibtex key xmpschemabibtex namespace create schema existing xml element param existing xml element param namespace name space considered must currently compatibility reasons despite unused xmpschemabibtex element suppresswarnings unused string namespace super xmpschemabibtex key string makeproperty string propertyname xmpschemabibtex key ':' propertyname uses xmpschema methods param field list<string> getpersonlist string field getsequencelist field uses xmpschema methods param field param value setpersonlist string field string value authorlist list authorlist parse value author author list getauthors addsequencevalue field author getfirstlast false override string gettextproperty string field super gettextproperty makeproperty field override settextproperty string field string value super settextproperty makeproperty field value override list<string> getbaglist string bagname super getbaglist makeproperty bagname override removebagvalue string bagname string value super removebagvalue makeproperty bagname value override addbagvalue string bagname string value super addbagvalue makeproperty bagname value override list<string> getsequencelist string seqname super getsequencelist makeproperty seqname override removesequencevalue string seqname string value super removesequencevalue makeproperty seqname value override addsequencevalue string seqname string value super addsequencevalue makeproperty seqname value override list<calendar> getsequencedatelist string seqname throws ioexception super getsequencedatelist makeproperty seqname override removesequencedatevalue string seqname calendar date super removesequencedatevalue makeproperty seqname date override addsequencedatevalue string field calendar date super addsequencedatevalue makeproperty field date string getcontents nodelist seqlist element seqnode element seqlist item stringbuffer seq null nodelist items seqnode getelementsbytagname rdf:li items getlength element li element items item seq null seq stringbuffer else seq append seq append xmpschemabibtex gettextcontent li seq null seq tostring null returns map properties values lis bags seqs concatenated using map name textproperty string value string instance: year empty map none found throws transformerexception map<string string> getallproperties xmpschema schema string namespacename nodelist nodes schema getelement getchildnodes map<string string> result hashmap<> nodes null result check child nodes first nodes getlength node node nodes item node getnodetype node attribute node node getnodetype node element node continue string nodename node getnodename string[] split nodename split split length split[0] equals namespacename nodelist seqlist element node getelementsbytagname rdf:seq seqlist getlength string seq xmpschemabibtex getcontents seqlist seq null result put split[1] seq else nodelist baglist element node getelementsbytagname rdf:bag baglist getlength string seq xmpschemabibtex getcontents baglist seq null result put split[1] seq else result put split[1] xmpschemabibtex gettextcontent node check attributes namednodemap attrs schema getelement getattributes attrs getlength node attr attrs item string nodename attr getnodename string[] split nodename split split length split[0] equals namespacename result put split[1] attr getnodevalue collapse whitespace quoting http: www gerg ca software btool doc bt postprocess html: <cite> exact rules collapsing whitespace simple: non space whitespace characters tabs newlines mainly converted space strings one space within collapsed single space leading trailing spaces deleted cite> map entry<string string> entry result entryset string key entry getkey xmpschemabibtex preserve white space contains key continue entry setvalue entry getvalue replaceall \\s trim result setbibtexentry bibentry entry xmppreferences xmppreferences setbibtexentry entry null xmppreferences param entry param database maybenull setbibtexentry bibentry entry bibdatabase database xmppreferences xmppreferences set values including key entrytype set<string> fields entry getfieldnames xmppreferences null xmppreferences isusexmpprivacyfilter set<string> filters treeset<> xmppreferences getxmpprivacyfilter fields removeall filters string field fields string value entry getresolvedfieldoralias field database orelse internalbibtexfields getfieldproperties field contains fieldproperty person names setpersonlist field value else settextproperty field value settextproperty bibentry type header entry gettype bibentry getbibtexentry string type gettextproperty bibentry type header bibentry bibentry idgenerator next type get text properties map<string string> text xmpschemabibtex getallproperties bibtex text remove bibentry type header setfield text taken dom2utils java: jboss opensource ejb server distributable lgpl license see terms license gnu org string gettextcontent node node boolean hastextcontent false stringbuilder buffer stringbuilder nodelist nlist node getchildnodes nlist getlength node child nlist item child getnodetype node text node buffer append child getnodevalue hastextcontent true hastextcontent buffer tostring 
386	XMPPreferences.java	LOGIC	net sf jabref logic xmp util list xmppreferences boolean usexmpprivacyfilter list<string> xmpprivacyfilter character keywordseparator xmppreferences boolean usexmpprivacyfilter list<string> xmpprivacyfilter character keywordseparator usexmpprivacyfilter usexmpprivacyfilter xmpprivacyfilter xmpprivacyfilter keywordseparator keywordseparator boolean isusexmpprivacyfilter usexmpprivacyfilter list<string> getxmpprivacyfilter xmpprivacyfilter character getkeywordseparator keywordseparator 
387	XMPUtil.java	LOGIC	net sf jabref logic xmp io bytearrayinputstream io bytearrayoutputstream io file io fileinputstream io ioexception io inputstream io outputstream nio file files nio file path nio file standardopenoption util arraylist util calendar util collection util collections util linkedlist util list util map util map entry util optional util set util treeset javax xml transform transformerexception net sf jabref logic typedbibentry net sf jabref model database bibdatabase net sf jabref model database bibdatabasemode net sf jabref model entry author net sf jabref model entry authorlist net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model entry monthutil net sf jabref model strings stringutil org apache commons logging log org apache commons logging logfactory org apache jempbox impl dateconverter org apache jempbox impl xmlutil org apache jempbox xmp xmpmetadata org apache jempbox xmp xmpschema org apache jempbox xmp xmpschemadublincore org apache pdfbox cos cosbase org apache pdfbox cos cosdictionary org apache pdfbox cos cosname org apache pdfbox exceptions cosvisitorexception org apache pdfbox exceptions cryptographyexception org apache pdfbox pdmodel pddocument org apache pdfbox pdmodel pddocumentcatalog org apache pdfbox pdmodel pddocumentinformation org apache pdfbox pdmodel common pdmetadata org apache pdfbox pdmodel encryption badsecurityhandlerexception org apache pdfbox pdmodel encryption standarddecryptionmaterial org w3c dom document xmputils provide support reading writing bibtex data xmp metadata pdf documents xmputil log logger logfactory getlog xmputil convenience method readxmp file param filename filename open file bibtexentryies found pdf empty list throws ioexception list<bibentry> readxmp string filename xmppreferences xmppreferences throws ioexception xmputil readxmp file filename xmppreferences try write given bibtexentry xmp stream given pdf file throws ioexception file cannot read written user remove lock cancel operation method overwrite existing bibtex xmp data keep existing metadata convenience method writexmp file bibentry param filename filename open file param entry entry write param database maybenull optional database given bibtex entries belong used resolve strings database null strings resolved throws transformerexception entry malformed unsupported throws ioexception file could written could found writexmp string filename bibentry entry bibdatabase database xmppreferences xmppreferences throws ioexception transformerexception xmputil writexmp file filename entry database xmppreferences try read bibtexentries xmp stream given pdf file param file file read throws ioexception throws ioexception file cannot read user remove lock cancel operation list<bibentry> readxmp file file xmppreferences xmppreferences throws ioexception list<bibentry> result collections emptylist try fileinputstream inputstream fileinputstream file result xmputil readxmp inputstream xmppreferences result pddocument loadwithautomaticdecryption inputstream inputstream throws ioexception pddocument doc pddocument load inputstream doc isencrypted try empty string user password standarddecryptionmaterial sdm standarddecryptionmaterial try doc openprotection sdm catch badsecurityhandlerexception cryptographyexception logger error cannot handle encrypted pdf: getmessage throw encryptedpdfsnotsupportedexception doc try read given bibtexentry xmp stream given inputstream containing pdf file param inputstream inputstream read throws ioexception throws ioexception file cannot read user remove lock cancel operation list bibentries retrieved stream may empty never null list<bibentry> readxmp inputstream inputstream xmppreferences xmppreferences throws ioexception list<bibentry> result linkedlist<> try pddocument document loadwithautomaticdecryption inputstream optional<xmpmetadata> meta xmputil getxmpmetadata document meta ispresent list<xmpschema> schemas meta get getschemasbynamespaceuri xmpschemabibtex namespace xmpschema schema schemas xmpschemabibtex bib xmpschemabibtex schema bibentry entry bib getbibtexentry entry gettype null entry settype bibentry default type result add entry find anything look dublin core exists result isempty schemas meta get getschemasbynamespaceuri xmpschemadublincore namespace xmpschema schema schemas xmpschemadublincore dc xmpschemadublincore schema optional<bibentry> entry xmputil getbibtexentryfromdublincore dc xmppreferences entry ispresent entry get gettype null entry get settype bibentry default type result add entry get result isempty find xmp metadata search non xmp metadata pddocumentinformation documentinformation document getdocumentinformation optional<bibentry> entry xmputil getbibtexentryfromdocumentinformation documentinformation entry ispresent result add entry get empty list metadata found result isempty collections emptylist result collection<bibentry> readxmp path filepath xmppreferences xmppreferences throws ioexception readxmp filepath tofile xmppreferences helper function retrieving bibentry pddocumentinformation pdf file understand get hold pddocumentinformation look test cases xmputil bibentry build mapping individual fields document information like author title keywords fields bibtex entry param di document information build bibentry bibtex entry found document information optional<bibentry> getbibtexentryfromdocumentinformation pddocumentinformation di bibentry entry bibentry entry settype bibentry default type string di getauthor null entry setfield fieldname author di gettitle null entry setfield fieldname title di getkeywords null entry setfield fieldname keywords di getsubject null entry setfield fieldname cosdictionary dict di getdictionary map entry<cosname cosbase> dict entryset string key getkey getname key startswith bibtex string value dict getstring key key key substring bibtex length bibentry type header equals key entry settype value else entry setfield key value empty optional values found entry getfieldnames isempty optional empty optional entry helper function retrieving bibentry dublincore metadata pdf file understand get hold xmpschemadublincore look test cases xmputil bibentry build mapping individual fields dublin core like creator title subject fields bibtex entry param dcschema document information build bibentry bibtex entry found document information optional<bibentry> getbibtexentryfromdublincore xmpschemadublincore dcschema xmppreferences xmppreferences bibentry entry bibentry contributor editor list<string> contributors dcschema getcontributors contributors null contributors isempty entry setfield fieldname editor string join contributors author creator list<string> creators dcschema getcreators creators null creators isempty entry setfield fieldname author string join creators year month date list<string> dates dcschema getsequencelist dc:date dates null dates isempty string date dates get trim calendar null try dateconverter tocalendar date catch ioexception ignored ignored null entry setfield fieldname year string valueof get calendar year date length entry setfield fieldname month monthutil getmonthbyindex get calendar month bibtexformat description string dcschema getdescription null entry setfield fieldname identifier doi dcschema getidentifier null entry setfield fieldname doi publisher publisher list<string> publishers dcschema getpublishers publishers null publishers isempty entry setfield fieldname publisher string join publishers relation bibtexkey abuse relationship attribute store values bibtex document list<string> relationships dcschema getrelationships relationships null string relationships startswith bibtex substring bibtex length indexof entry setfield substring substring rights rights dcschema getrights null entry setfield rights source source dcschema getsource null entry setfield source subject keywords list<string> subjects dcschema getsubjects subjects null entry addkeywords subjects xmppreferences getkeywordseparator title title dcschema gettitle null entry setfield fieldname title type type list<string> dcschema gettypes null isempty get null entry settype entry getfieldnames isempty optional empty optional entry try write given bibtexentry xmp stream given pdf file throws ioexception file cannot read written user remove lock cancel operation method overwrite existing bibtex xmp data keep existing metadata convenience method writexmp file collection param file file write param entry entry write param database maybenull optional database given bibtex entries belong used resolve strings database null strings resolved throws transformerexception entry malformed unsupported throws ioexception file could written could found writexmp file file bibentry entry bibdatabase database xmppreferences xmppreferences throws ioexception transformerexception list<bibentry> linkedlist<> add entry xmputil writexmp file database true xmppreferences write given bibtexentries xmp metadata text given stream text written stream contains complete xmp document param bibtexentries bibtexentries write xmp metadata param database maybenull optional database given bibtex entries belong used resolve strings database null strings resolved throws transformerexception thrown bibtexentries could transformed xmp throws ioexception thrown ioexception occured writing stream see #toxmp util collection bibdatabase need strings resolved toxmp collection<bibentry> bibtexentries bibdatabase database outputstream outputstream xmppreferences xmppreferences throws ioexception transformerexception collection<bibentry> resolvedentries database null resolvedentries bibtexentries else resolvedentries database resolveforstrings bibtexentries true xmpmetadata xmpmetadata bibentry resolvedentries xmpschemabibtex schema xmpschemabibtex addschema schema schema setbibtexentry xmppreferences save outputstream convenience method toxmp collection<bibentry> bibdatabase outputstream returning string containing xmp metadata given collection bibtexentries resulting metadata string wrapped complete xmp document param bibtexentries bibtexentries xmp metadata param database maybenull optional database given bibtex entries belong used resolve strings database null strings resolved xmp representation given bibtexentries throws transformerexception thrown bibtexentries could transformed xmp string toxmp collection<bibentry> bibtexentries bibdatabase database xmppreferences xmppreferences throws transformerexception try bytearrayoutputstream bs bytearrayoutputstream xmputil toxmp bibtexentries database bs xmppreferences bs tostring catch ioexception throw transformerexception read xmpmetadata given pdf file closing file afterwards param inputstream inputstream representing pdf file read xmpmetadata xmpmetadata object found file optional<xmpmetadata> readrawxmp inputstream inputstream throws ioexception try pddocument document loadwithautomaticdecryption inputstream xmputil getxmpmetadata document empty optional metadata found optional<xmpmetadata> getxmpmetadata pddocument document throws ioexception pddocumentcatalog catalog document getdocumentcatalog pdmetadata metaraw catalog getmetadata metaraw null optional empty document parseresult try inputstream metaraw createinputstream parseresult xmlutil parse xmpmetadata meta xmpmetadata parseresult meta addxmlnsmapping xmpschemabibtex namespace xmpschemabibtex optional meta read xmpmetadata given pdf file closing file afterwards param file file read xmpmetadata xmpmetadata object found file optional<xmpmetadata> readrawxmp file file throws ioexception try fileinputstream inputstream fileinputstream file xmputil readrawxmp inputstream writetodcschema xmpschemadublincore dcschema bibentry entry bibdatabase database xmppreferences xmppreferences bibentry resolvedentry database null resolvedentry entry else resolvedentry database resolveforstrings entry false query privacy filter settings boolean usexmpprivacyfilter xmppreferences isusexmpprivacyfilter fields write xmp data later on: set<string> filters treeset<> xmppreferences getxmpprivacyfilter set values including key entrytype entry<string string> field resolvedentry getfieldmap entryset usexmpprivacyfilter filters contains field getkey continue fieldname editor equals field getkey string authors field getvalue editor contributor field: dc:contributor type: bag propername category: external description: contributors resource authors bibtex fields used: editor authorlist list authorlist parse authors author author list getauthors dcschema addcontributor author getfirstlast false continue coverage unmapped dc:coverage text external extent scope resource author creator field: dc:creator type: seq propername category: external description: authors resource listed order precedence significant bibtex fields used: author fieldname author equals field getkey string authors field getvalue authorlist list authorlist parse authors author author list getauthors dcschema addcreator author getfirstlast false continue fieldname month equals field getkey dealt year continue fieldname year equals field getkey year month date field: dc:date type: seq date category: external description: date something interesting happened resource bibtex fields used: year month entry getpublicationdate ifpresent publicationdate dcschema addsequencevalue dc:date publicationdate continue description field: dc:description type: lang alt category: external description: textual description content resource multiple values may present different languages bibtex fields used: fieldname equals field getkey dcschema setdescription field getvalue continue doi identifier field: dc:identifier type: text category: external description: unique identifier resource bibtex fields used: doi fieldname doi equals field getkey dcschema setidentifier field getvalue continue language unmapped dc:language bag locale internal unordered array specifying languages used resource publisher publisher field: dc:publisher type: bag propername category: external description: publishers bibtex fields used: doi fieldname publisher equals field getkey dcschema addpublisher field getvalue continue rights unmapped dc:rights lang alt external informal rights statement selected language source unmapped dc:source text external unique identifier work resource derived keywords subject field: dc:subject type: bag text category: external description: unordered array descriptive phrases keywords specify topic content resource bibtex fields used: doi fieldname keywords equals field getkey string field getvalue string[] keywords split string keyword keywords dcschema addsubject keyword trim continue title title field: dc:title type: lang alt category: external description: title document name given resource typically name resource formally known bibtex fields used: title fieldname title equals field getkey dcschema settitle field getvalue continue others including bibtex key get packaged relation attribute string field getvalue dcschema addrelation bibtex field getkey format unmapped dc:format mimetype internal file format used saving resource tools applications set property save format data may include appropriate qualifiers dcschema setformat application pdf entrytype type field: dc:type type: bag open choice category: external description: document type example novel poem working paper bibtex fields used: entrytype typedbibentry typedentry typedbibentry entry bibdatabasemode bibtex string typedentry gettypefordisplay isempty dcschema addtype try write given bibtexentry dublincore xmp schema existing dublincore schemas document modified param document pdf document write param entry bibtex entry written schema param database maybenull optional database given bibtex entries belong used resolve strings database null strings resolved throws ioexception throws transformerexception writedublincore pddocument document bibentry entry bibdatabase database xmppreferences xmppreferences throws ioexception transformerexception list<bibentry> entries arraylist<> entries add entry xmputil writedublincore document entries database xmppreferences try write given bibtexentries dublincore xmp schemas existing dublincore schemas document removed param document pdf document write param entries bibtex entries written schemas param database maybenull optional database given bibtex entries belong used resolve strings database null strings resolved throws ioexception throws transformerexception writedublincore pddocument document collection<bibentry> entries bibdatabase database xmppreferences xmppreferences throws ioexception transformerexception collection<bibentry> resolvedentries database null resolvedentries entries else resolvedentries database resolveforstrings entries false pddocumentcatalog catalog document getdocumentcatalog pdmetadata metaraw catalog getmetadata xmpmetadata meta metaraw null meta xmpmetadata else meta xmpmetadata xmlutil parse metaraw createinputstream remove current dublin core schemas list<xmpschema> schemas meta getschemasbynamespaceuri xmpschemadublincore namespace xmpschema schema schemas schema getelement getparentnode removechild schema getelement bibentry entry resolvedentries xmpschemadublincore dcschema xmpschemadublincore meta xmputil writetodcschema dcschema entry null xmppreferences meta addschema dcschema save stream input stream pdf bytearrayoutputstream os bytearrayoutputstream meta save os bytearrayinputstream bytearrayinputstream os tobytearray pdmetadata metadatastream pdmetadata document false catalog setmetadata metadatastream try write given bibtexentry document information properties pdf existing fields values overriden bibtex entry corresponding value set param document pdf document write param entry bibtex entry written pdf properties param database maybenull optional database given bibtex entries belong used resolve strings database null strings resolved writedocumentinformation pddocument document bibentry entry bibdatabase database xmppreferences xmppreferences pddocumentinformation di document getdocumentinformation bibentry resolvedentry database null resolvedentry entry else resolvedentry database resolveforstrings entry false query privacy filter settings boolean usexmpprivacyfilter xmppreferences isusexmpprivacyfilter fields write xmp data later on: set<string> filters treeset<> xmppreferences getxmpprivacyfilter set values including key entrytype entry<string string> field resolvedentry getfieldmap entryset string fieldname field getkey string fieldcontent field getvalue usexmpprivacyfilter filters contains fieldname erase field instead adding fieldname author equals fieldname di setauthor null else fieldname title equals fieldname di settitle null else fieldname keywords equals fieldname di setkeywords null else fieldname equals fieldname di setsubject null else di setcustommetadatavalue bibtex fieldname null continue fieldname author equals fieldname di setauthor fieldcontent else fieldname title equals fieldname di settitle fieldcontent else fieldname keywords equals fieldname di setkeywords fieldcontent else fieldname equals fieldname di setsubject fieldcontent else di setcustommetadatavalue bibtex fieldname fieldcontent di setcustommetadatavalue bibtex entrytype stringutil capitalizefirst resolvedentry gettype try write given bibtexentry xmp stream given pdf file throws ioexception file cannot read written user remove lock cancel operation method overwrite existing bibtex xmp data keep existing metadata param file file write entries param bibtexentries entries write file param database maybenull optional database given bibtex entries belong used resolve strings database null strings resolved param writepdfinfo write information also pdf document properties throws transformerexception entry malformed unsupported throws ioexception file could written could found writexmp file file collection<bibentry> bibtexentries bibdatabase database boolean writepdfinfo xmppreferences xmppreferences throws ioexception transformerexception collection<bibentry> resolvedentries database null resolvedentries bibtexentries else resolvedentries database resolveforstrings bibtexentries false try pddocument document pddocument load file getabsolutefile document isencrypted throw encryptedpdfsnotsupportedexception writepdfinfo resolvedentries size xmputil writedocumentinformation document resolvedentries iterator next null xmppreferences xmputil writedublincore document resolvedentries null xmppreferences pddocumentcatalog catalog document getdocumentcatalog pdmetadata metaraw catalog getmetadata xmpmetadata meta metaraw null meta xmpmetadata else meta xmpmetadata xmlutil parse metaraw createinputstream meta addxmlnsmapping xmpschemabibtex namespace xmpschemabibtex remove current bibtex schemas list<xmpschema> schemas meta getschemasbynamespaceuri xmpschemabibtex namespace xmpschema schema schemas xmpschemabibtex bib xmpschemabibtex schema bib getelement getparentnode removechild bib getelement bibentry resolvedentries xmpschemabibtex bibtex xmpschemabibtex meta meta addschema bibtex bibtex setbibtexentry xmppreferences save stream input stream pdf bytearrayoutputstream os bytearrayoutputstream meta save os bytearrayinputstream bytearrayinputstream os tobytearray pdmetadata metadatastream pdmetadata document false catalog setmetadata metadatastream save try document save file getabsolutepath catch cosvisitorexception logger debug could write xmp metadata throw transformerexception could write xmp metadata: getlocalizedmessage see xmputil hasmetadata inputstream boolean hasmetadata path path xmppreferences xmppreferences try inputstream inputstream files newinputstream path standardopenoption read hasmetadata inputstream xmppreferences catch ioexception logger error xmp reading failed false try read xmp metadata given file returning whether metadata found caution: method expensive reading actual metadata pdf param inputstream inputstream read pdf whether bibentry found given pdf boolean hasmetadata inputstream inputstream xmppreferences xmppreferences try list<bibentry> bibentries xmputil readxmp inputstream xmppreferences bibentries isempty catch encryptedpdfsnotsupportedexception ex logger info encryption supported xmputil false catch ioexception logger error xmp reading failed false 
388	JournalAbbreviationLoader.java	LOGIC	net sf jabref logic journals io file io filenotfoundexception nio charset charset util collections util list util objects org apache commons logging log org apache commons logging logfactory journalabbreviationloader log logger logfactory getlog journalabbreviationloader journal initialization string journals file builtin journals journallist txt string journals ieee abbreviation list code journals ieeejournallistcode txt string journals ieee abbreviation list text journals ieeejournallisttext txt journalabbreviationrepository journalabbrev update journalabbreviationpreferences journalabbreviationpreferences journalabbrev journalabbreviationrepository order reading journal lists important method: last added abbreviation wins instance personal list one overwrite abbreviations built list read builtin list journalabbrev addentries readjournallistfromresource journals file builtin read ieee list journalabbreviationpreferences isuseieeeabbreviations journalabbrev addentries getofficialieeeabbreviations else journalabbrev addentries getstandardieeeabbreviations read external lists list<string> lists journalabbreviationpreferences getexternaljournallists lists isempty collections reverse lists string filename lists try journalabbrev addentries readjournallistfromfile file filename catch filenotfoundexception file found tell anyone? logger info cannot find external journal list file filename read personal list string personaljournallist journalabbreviationpreferences getpersonaljournallists personaljournallist null personaljournallist trim isempty try journalabbrev addentries readjournallistfromfile file personaljournallist journalabbreviationpreferences getdefaultencoding catch filenotfoundexception logger info personal journal list file personaljournallist found list<abbreviation> getofficialieeeabbreviations readjournallistfromresource journals ieee abbreviation list code list<abbreviation> getstandardieeeabbreviations readjournallistfromresource journals ieee abbreviation list text list<abbreviation> getbuiltinabbreviations readjournallistfromresource journals file builtin journalabbreviationrepository getrepository journalabbreviationpreferences journalabbreviationpreferences journalabbrev null update journalabbreviationpreferences journalabbrev list<abbreviation> readjournallistfromresource string resource abbreviationparser parser abbreviationparser parser readjournallistfromresource objects requirenonnull resource parser getabbreviations list<abbreviation> readjournallistfromfile file file throws filenotfoundexception logger debug reading journal list file file abbreviationparser parser abbreviationparser parser readjournallistfromfile objects requirenonnull file parser getabbreviations list<abbreviation> readjournallistfromfile file file charset encoding throws filenotfoundexception logger debug reading journal list file file abbreviationparser parser abbreviationparser parser readjournallistfromfile objects requirenonnull file objects requirenonnull encoding parser getabbreviations 
389	JournalAbbreviationPreferences.java	LOGIC	net sf jabref logic journals nio charset charset util list journalabbreviationpreferences list<string> externaljournallists string personaljournallists boolean useieeeabbreviations charset defaultencoding journalabbreviationpreferences list<string> externaljournallists string personaljournallists boolean useieeeabbreviations charset defaultencoding externaljournallists externaljournallists personaljournallists personaljournallists useieeeabbreviations useieeeabbreviations defaultencoding defaultencoding list<string> getexternaljournallists externaljournallists string getpersonaljournallists personaljournallists boolean isuseieeeabbreviations useieeeabbreviations charset getdefaultencoding defaultencoding 
390	JournalAbbreviationRepository.java	LOGIC	net sf jabref logic journals util collections util hashmap util list util locale util map util objects util optional util sortedset util treeset org apache commons logging log org apache commons logging logfactory repository journal abbreviations including add find methods journalabbreviationrepository map<string abbreviation> fullnamelowercase2abbreviation hashmap<> map<string abbreviation> isolowercase2abbreviation hashmap<> map<string abbreviation> medlinelowercase2abbreviation hashmap<> sortedset<abbreviation> abbreviations treeset<> log logger logfactory getlog journalabbreviationrepository size abbreviations size boolean isknownname string journalname string namekey objects requirenonnull journalname trim tolowercase locale english fullnamelowercase2abbreviation containskey namekey isolowercase2abbreviation containskey namekey medlinelowercase2abbreviation containskey namekey boolean isabbreviatedname string journalname string namekey objects requirenonnull journalname trim tolowercase locale english isolowercase2abbreviation containskey namekey medlinelowercase2abbreviation containskey namekey attempts get abbreviated name journal given may contain dots param journalname journal name abbreviate abbreviated name optional<abbreviation> getabbreviation string journalname string namekey objects requirenonnull journalname tolowercase locale english trim fullnamelowercase2abbreviation containskey namekey optional fullnamelowercase2abbreviation get namekey else isolowercase2abbreviation containskey namekey optional isolowercase2abbreviation get namekey else medlinelowercase2abbreviation containskey namekey optional medlinelowercase2abbreviation get namekey else optional empty addentry abbreviation abbreviation objects requirenonnull abbreviation isknownname abbreviation getname abbreviation previous getabbreviation abbreviation getname get abbreviations remove previous logger info duplicate journal abbreviation old one overwritten one\nold: previous \nnew: abbreviation abbreviations add abbreviation fullnamelowercase2abbreviation put abbreviation getname tolowercase locale english abbreviation isolowercase2abbreviation put abbreviation getisoabbreviation tolowercase locale english abbreviation medlinelowercase2abbreviation put abbreviation getmedlineabbreviation tolowercase locale english abbreviation addentries list<abbreviation> abbreviationstoadd abbreviationstoadd foreach this::addentry sortedset<abbreviation> getabbreviations collections unmodifiablesortedset abbreviations optional<string> getnextabbreviation string text optional<abbreviation> abbreviation getabbreviation text abbreviation ispresent optional empty abbreviation abbr abbreviation get optional abbr getnext text optional<string> getmedlineabbreviation string text optional<abbreviation> abbreviation getabbreviation text abbreviation ispresent optional empty abbreviation abbr abbreviation get optional abbr getmedlineabbreviation optional<string> getisoabbreviation string text optional<abbreviation> abbreviation getabbreviation text abbreviation ispresent optional empty abbreviation abbr abbreviation get optional abbr getisoabbreviation 
391	Abbreviation.java	LOGIC	net sf jabref logic journals util objects abbreviation comparable<abbreviation> string splitter elements splitter used moment string name string abbreviation abbreviation string name string abbreviation name objects requirenonnull name trim abbreviation objects requirenonnull abbreviation trim string getname name string getisoabbreviation abbreviation contains splitter string[] restparts abbreviation split splitter restparts[0] trim abbreviation string getmedlineabbreviation getisoabbreviation replace replace trim override compareto abbreviation tocompare name compareto tocompare name string getnext string current string currenttrimmed current trim getmedlineabbreviation equals currenttrimmed getname else getname equals currenttrimmed getisoabbreviation else getmedlineabbreviation override string tostring string format abbreviation name iso medline name getisoabbreviation getmedlineabbreviation override boolean equals object true instanceof abbreviation abbreviation abbreviation objects equals name name false override hashcode objects hashcode name 
392	AbbreviationParser.java	LOGIC	net sf jabref logic journals io bufferedreader io file io fileinputstream io filenotfoundexception io filereader io ioexception io inputstreamreader io reader net url nio charset charset nio charset standardcharsets util linkedlist util list util objects org apache commons logging log org apache commons logging logfactory reads abbreviation files property files using name abbreviation format list abbreviations abbreviationparser list<abbreviation> abbreviations linkedlist<> log logger logfactory getlog abbreviationparser readjournallistfromresource string resourcefilename url url objects requirenonnull journalabbreviationrepository getresource objects requirenonnull resourcefilename try readjournallist inputstreamreader url openstream standardcharsets utf catch ioexception logger info could read journal list file resourcefilename readjournallistfromfile file file throws filenotfoundexception try filereader reader filereader objects requirenonnull file readjournallist reader catch filenotfoundexception throw catch ioexception logger warn could read journal list file file getabsolutepath readjournallistfromfile file file charset encoding throws filenotfoundexception try fileinputstream stream fileinputstream objects requirenonnull file inputstreamreader reader inputstreamreader stream objects requirenonnull encoding readjournallist reader catch filenotfoundexception throw catch ioexception logger warn could read journal list file file getabsolutepath read given file contain list journal names abbreviations line formatted as: full journal name abbr journal name param readjournallist reader try bufferedreader reader bufferedreader string line line reader readline null addline line catch ioexception ex logger info could read journal list file ex addline string line line startswith string[] parts line split parts length string fullname parts[0] trim string abbrname parts[1] trim check fullname length abbrname length abbreviation abbreviation abbreviation fullname abbrname abbreviations add abbreviation list<abbreviation> getabbreviations linkedlist<> abbreviations 
393	BibtexTextPrefix.java	LOGIC	net sf jabref logic bst built function text prefix\$ pops top two literals integer literal pop lit1 string literal order pushes substring pop lit1 consecutive text characters starting beginning string function similar substring\$ one considers accented character precisely ``special character''$\ even missing matching right brace single text character rather however many ascii code characters actually comprises function consider braces text characters furthermore function appends needed matching right brace types incorrect complains pushes null string bibtextextprefix param numofchars param toprefix param warn may null string textprefix innumofchars string toprefix warn warn numofchars innumofchars stringbuilder sb stringbuilder char[] cs toprefix tochararray cs length bracelevel numofchars char cs[i] bracelevel bracelevel cs[i] '\\' skip backslash bracelevel cs[i] bracelevel else cs[i] bracelevel numofchars else bracelevel bracelevel else warn null warn warn unbalanced brace string purify$: toprefix else numofchars sb append toprefix substring bracelevel sb append bracelevel sb tostring 
394	BibtexWidth.java	LOGIC	net sf jabref logic bst org apache commons logging log org apache commons logging logfactory built function purify\$ pops top string literal removes nonalphanumeric characters except white space sep char characters get converted space removes certain alphabetic characters contained control sequences associated special character pushes resulting string literal string complains pushes null string bibtexwidth log logger logfactory getlog bibtexwidth quoted bibtex: initialize system dependent char width array space white space character given nonzero printing width widths taken stanford's june~'87 $cmr10$~font represent hundredths point rounded since they're used relative comparisons units meaning int[] widths bibtexwidth widths null bibtexwidth widths int[128] bibtexwidth widths[i] bibtexwidth widths[32] bibtexwidth widths[33] bibtexwidth widths[34] bibtexwidth widths[35] bibtexwidth widths[36] bibtexwidth widths[37] bibtexwidth widths[38] bibtexwidth widths[39] bibtexwidth widths[40] bibtexwidth widths[41] bibtexwidth widths[42] bibtexwidth widths[43] bibtexwidth widths[44] bibtexwidth widths[45] bibtexwidth widths[46] bibtexwidth widths[47] bibtexwidth widths[48] bibtexwidth widths[49] bibtexwidth widths[50] bibtexwidth widths[51] bibtexwidth widths[52] bibtexwidth widths[53] bibtexwidth widths[54] bibtexwidth widths[55] bibtexwidth widths[56] bibtexwidth widths[57] bibtexwidth widths[58] bibtexwidth widths[59] bibtexwidth widths[60] bibtexwidth widths[61] bibtexwidth widths[62] bibtexwidth widths[63] bibtexwidth widths[64] bibtexwidth widths[65] bibtexwidth widths[66] bibtexwidth widths[67] bibtexwidth widths[68] bibtexwidth widths[69] bibtexwidth widths[70] bibtexwidth widths[71] bibtexwidth widths[72] bibtexwidth widths[73] bibtexwidth widths[74] bibtexwidth widths[75] bibtexwidth widths[76] bibtexwidth widths[77] bibtexwidth widths[78] bibtexwidth widths[79] bibtexwidth widths[80] bibtexwidth widths[81] bibtexwidth widths[82] bibtexwidth widths[83] bibtexwidth widths[84] bibtexwidth widths[85] bibtexwidth widths[86] bibtexwidth widths[87] bibtexwidth widths[88] bibtexwidth widths[89] bibtexwidth widths[90] bibtexwidth widths[91] bibtexwidth widths[92] bibtexwidth widths[93] bibtexwidth widths[94] bibtexwidth widths[95] bibtexwidth widths[96] bibtexwidth widths[97] bibtexwidth widths[98] bibtexwidth widths[99] bibtexwidth widths[100] bibtexwidth widths[101] bibtexwidth widths[102] bibtexwidth widths[103] bibtexwidth widths[104] bibtexwidth widths[105] bibtexwidth widths[106] bibtexwidth widths[107] bibtexwidth widths[108] bibtexwidth widths[109] bibtexwidth widths[110] bibtexwidth widths[111] bibtexwidth widths[112] bibtexwidth widths[113] bibtexwidth widths[114] bibtexwidth widths[115] bibtexwidth widths[116] bibtexwidth widths[117] bibtexwidth widths[118] bibtexwidth widths[119] bibtexwidth widths[120] bibtexwidth widths[121] bibtexwidth widths[122] bibtexwidth widths[123] bibtexwidth widths[124] bibtexwidth widths[125] bibtexwidth widths[126] getspecialcharwidth char[] pos pos length c[pos] 'o' c[pos 1] 'e' c[pos] 'o' c[pos 1] 'e' c[pos] 'a' c[pos 1] 'e' c[pos] 'a' c[pos 1] 'e' c[pos] 's' c[pos 1] 's' bibtexwidth getcharwidth c[pos] getcharwidth char bibtexwidth widths[c] else param tomeasure param warn may null width string tomeasure bibtex: use natural width special characters complain string brace balanced tomeasure length bracelevel char[] tomeasure tochararray result bibtex: use natural widths characters except characters width: braces control sequences except usual accented foreign characters whose widths given next module white space following control sequences even null control sequence c[i] bracelevel bracelevel c[i 1] '\\' skip brace bracelevel skip backslash afterbackslash character isletter c[i] afterbackslash skip non alpha control seq else bibtexcasechanger findspecialchar afterbackslash ispresent result bibtexwidth getspecialcharwidth afterbackslash character iswhitespace c[i] bracelevel c[i] '\\' c[i] bracelevel else c[i] bracelevel else result bibtexwidth getcharwidth c[i] continue else c[i] bracelevel bracelevel else logger warn many closing braces string: tomeasure result bibtexwidth getcharwidth c[i] bracelevel logger warn enough closing braces string: tomeasure result 
395	BibtexNameFormatter.java	LOGIC	net sf jabref logic bst util arrays util optional util stream collectors net sf jabref model entry author net sf jabref model entry authorlist bibtex: built function format name\$ pops top three literals string integer string literal order last string literal represents name list name corresponding person integer literal specifies name pick list first string literal specifies format name described \bibtex\ documentation finally function pushes formatted name types incorrect complains pushes null string sounds easy nightmare bibtexnameformatter string formatname string authorsnamelist whichname string formatstring warn warn authorlist al authorlist parse authorsnamelist whichname whichname al getnumberofauthors warn warn authorlist authorsnamelist contain author number whichname bibtexnameformatter formatname al getauthor whichname formatstring warn param author param format param warn may null string formatname author author string format warn warn stringbuilder sb stringbuilder char[] format tochararray length bracelevel group c[i] group bracelevel stringbuilder level1chars stringbuilder stringbuilder wholechar stringbuilder bracelevel wholechar append c[i] c[i] bracelevel continue c[i] bracelevel continue bracelevel character isletter c[i] fvlj indexof c[i] warn null warn warn format string format name$ may contain fvlj brace level group group format else level1chars append c[i] unskip last brace last end string control level1chars tostring tolowercase control isempty continue control length warn null warn warn format string format name$ may one two character long brace level group group format char type control charat optional<string> tokens switch type case 'f': tokens author getfirst break case 'v': tokens author getvon break case 'l': tokens author getlast break case 'j': tokens author getjr break default: throw vmexception internal error tokens ispresent continue string[] tokens tokens get split boolean abbreviatethatissingleletter true control length control charat control charat abbreviatethatissingleletter false else warn null warn warn format string format name$ may contain one type vlfj brace level group group format know bracelevel wholechar charat wholechar length wholechar deletecharat wholechar length char[] wholechar tostring tochararray blevel string intertoken null groupstart sb length length character isletter d[j] blevel groupstart sb length abbreviatethatissingleletter length d[j 1] stringbuilder intertokensb stringbuilder bibtexnameformatter consumetomatchingbrace intertokensb intertoken intertokensb substring intertokensb length tokens length string token tokens[k] abbreviatethatissingleletter string[] dashes token split token arrays aslist dashes stream map bibtexnameformatter::getfirstcharofstring collect collectors joining output token sb append token tokens length output intertoken string intertoken null abbreviatethatissingleletter sb append clue means hell tokens anyway??? lex class[name sep char[cur token]] sep char append ex buf char check name sep char[cur token] tokens length bibtexnameformatter numberofchars sb substring groupstart sb length sb append '~' else sb append else sb append intertoken else d[j] blevel blevel sb append else d[j] blevel sb append else sb append d[j] sb length boolean nodistie false sb charat sb length '~' bibtexnameformatter numberofchars sb substring groupstart sb length sb length nodistie sb charat sb length '~' sb deletecharat sb length nodistie sb append else c[i] warn null warn warn unmatched brace format string: format else sb append c[i] verbatim bracelevel warn null warn warn unbalanced brace format string nameformat: format sb tostring including matching brace param intertokensb param param pos consumetomatchingbrace stringbuilder intertokensb char[] pos bracelevel pos length c[i] bracelevel bracelevel intertokensb append else c[i] bracelevel intertokensb append c[i] length takes care special characters param string getfirstcharofstring string char[] tochararray length character isletter c[i] string valueof c[i] c[i] length c[i 1] '\\' stringbuilder sb stringbuilder bibtexnameformatter consumetomatchingbrace sb sb tostring numberofchars string token instop stop instop stop stop integer max value result char[] token tochararray length bracelevel result stop c[i 1] bracelevel bracelevel c[i] '\\' bracelevel c[i] bracelevel else c[i] bracelevel else c[i 1] bracelevel result result 
396	BibtexCaseChanger.java	LOGIC	net sf jabref logic bst util optional org apache commons logging log org apache commons logging logfactory bibtexcasechanger log logger logfactory getlog bibtexcasechanger stores whether char current char colon boolean prevcolon true global variable store current brace level bracelevel enum format mode first character character upper case everything else lower case obey title lowers 't' characters lower case obey lowers 'l' characters upper case obey uppers 'u' following would done functionality casechangers would included however decided probably way round: https: github com jabref jabref pull 215#issuecomment word start capital letter first uppers 'f' converts words upper case converts articles prepositions conjunctions lower case capitalizes first last word change words starting difference old casechangers title: last word capitalized cases title uppers 't' char aschar format mode char aschar aschar aschar char aschar aschar convert bstformat char enum throws illegalargumentexception char 't' 'l' 'u' format mode getformatmodeforbstformat char bstformat format mode mode format mode values mode aschar bstformat mode throw illegalargumentexception bibtexcasechanger changes case given string param string handle param format format string changecase string format mode format bibtexcasechanger dochangecase format string dochangecase string format mode format char[] tochararray stringbuilder sb stringbuilder length c[i] bracelevel bracelevel c[i 1] '\\' prevcolon false sb append c[i] continue format format mode title lowers prevcolon character iswhitespace c[i 1] sb append prevcolon false continue convertspecialchar sb format continue c[i] sb append c[i] bracelevel logger warn many closing braces string: else bracelevel prevcolon false continue bracelevel convertcharifbraceleveliszero sb format continue sb append c[i] bracelevel logger warn enough closing braces string: sb tostring we're dealing special character usually either undotted `\i' `\j' accent like one table~3 \latex\ manual foreign character like one table~3 first character left brace backslash special character ends matching right brace handle depends special character general code reasonably well stuff braces try anything special colon param param current position points opening brace param format convertspecialchar stringbuilder sb char[] start format mode format start sb append c[i] skip open brace length bracelevel sb append c[i] skip backslash optional<string> bibtexcasechanger findspecialchar ispresent convertaccented get sb format length bracelevel c[i] '\\' c[i] bracelevel else c[i] bracelevel convertnoncontrol sb format convert given string according format character title lower append result stringbuffer updated position param param start param param sb param format position convertaccented char[] start string stringbuilder sb format mode format pos start pos length switch format case title lowers: case lowers: oe ae aa contains sb append tolowercase else sb append break case uppers: oe ae aa contains sb append touppercase else ss contains sb deletecharat sb length kill backslash sb append touppercase pos length character iswhitespace c[pos] pos else sb append break default: logger info convertaccented unknown format: format break pos convertnoncontrol char[] start stringbuilder sb format mode format pos start switch format case title lowers: case lowers: sb append character tolowercase c[pos] pos break case uppers: sb append character touppercase c[pos] pos break default: logger info convertnoncontrol unknown format: format break pos convertcharifbraceleveliszero char[] start stringbuilder sb format mode format start switch format case title lowers: prevcolon character iswhitespace c[i 1] sb append c[i] else sb append character tolowercase c[i] c[i] ':' prevcolon true else character iswhitespace c[i] prevcolon false break case lowers: sb append character tolowercase c[i] break case uppers: sb append character touppercase c[i] break default: logger info convertcharifbraceleveliszero unknown format: format break determine whether starts special char pos oe ae string nothing found optional empty also used bibtexpurify param current string param pos position special latex character null optional<string> findspecialchar char[] pos pos length c[pos] 'o' c[pos 1] 'e' optional oe c[pos] 'o' c[pos 1] 'e' optional oe c[pos] 'a' c[pos 1] 'e' optional ae c[pos] 'a' c[pos 1] 'e' optional ae c[pos] 's' c[pos 1] 's' optional ss c[pos] 'a' c[pos 1] 'a' optional aa c[pos] 'a' c[pos 1] 'a' optional aa ijooll indexof c[pos] optional string valueof c[pos] optional empty 
397	ChangeCaseFunction.java	LOGIC	net sf jabref logic bst util stack net sf jabref logic bst bibtexcasechanger format mode net sf jabref logic bst vm bstentry net sf jabref logic bst vm bstfunction bibtex manual: pops top two string literals changes case second according specifications first follows note: word `letters' next sentence refers brace level top brace level characters changed except perhaps \special characters described section first literal string `t' converts lower case letters except first character string leaves alone except first character following colon nonnull white space also leaves alone string `l' converts letters lower case string `u' converts letters upper case pushes resulting string either type incorrect complains pushes null string however types correct specification string first string one legal ones merely pushes second back onto stack complaining another note: ignores case differences specification string example strings equivalent purposes built function christopher: think another grammar parser horrible changecasefunction bstfunction vm vm changecasefunction vm vm vm vm override execute bstentry context stack<object> stack vm getstack stack size throw vmexception enough operands stack operation change case$ object o1 stack pop o1 instanceof string string o1 length throw vmexception format string length needed change case$ object o2 stack pop o2 instanceof string throw vmexception string needed second parameter change case$ char format string o1 tolowercase charat string string o2 stack push bibtexcasechanger changecase format mode getformatmodeforbstformat format 
398	VMException.java	LOGIC	net sf jabref logic bst vmexception runtimeexception vmexception string string super string 
399	FormatNameFunction.java	LOGIC	net sf jabref logic bst util stack net sf jabref logic bst vm bstentry net sf jabref logic bst vm bstfunction net sf jabref model entry author net sf jabref model entry authorlist bibtex: built function format name\$ pops top three literals string integer string literal order last string literal represents name list name corresponding person integer literal specifies name pick list first string literal specifies format name described \bibtex\ documentation finally function pushes formatted name types incorrect complains pushes null string pain encapsulated bibtexnameformatter formatnamefunction bstfunction vm vm formatnamefunction vm vm vm vm override execute bstentry context stack<object> stack vm getstack stack size throw vmexception enough operands stack operation format name$ object o1 stack pop object o2 stack pop object o3 stack pop o1 instanceof string o2 instanceof integer o3 instanceof string warning string needed change case$ stack push string format string o1 integer name integer o2 string names string o3 names null stack push else authorlist authorlist parse names name getnumberofauthors throw vmexception author bounds number name invalid names author author getauthor name stack push bibtexnameformatter formatname author format vm 
400	PurifyFunction.java	LOGIC	net sf jabref logic bst util stack net sf jabref logic bst vm bstentry net sf jabref logic bst vm bstfunction built function purify\$ pops top string literal removes nonalphanumeric characters except white space sep char characters get converted space removes certain alphabetic characters contained control sequences associated special character pushes resulting string literal string complains pushes null string purifyfunction bstfunction vm vm purifyfunction vm vm vm vm override execute bstentry context stack<object> stack vm getstack stack isempty throw vmexception enough operands stack operation purify$ object o1 stack pop o1 instanceof string vm warn string needed purify$ stack push stack push bibtexpurify purify string o1 vm 
401	Warn.java	LOGIC	net sf jabref logic bst functionalinterface interface warn warn string 
402	WidthFunction.java	LOGIC	net sf jabref logic bst util stack net sf jabref logic bst vm bstentry net sf jabref logic bst vm bstfunction built function width\$ pops top string literal pushes integer represents width units specified char width array function takes literal literally assumes character string printed regardless whether character special meaning \tex except special characters even without right brace handled specially literal string complains pushes~0 widthfunction bstfunction vm vm widthfunction vm vm vm vm override execute bstentry context stack<object> stack vm getstack stack isempty throw vmexception enough operands stack operation width$ object o1 stack pop o1 instanceof string vm warn string needed change case$ stack push stack push bibtexwidth width string o1 
403	TextPrefixFunction.java	LOGIC	net sf jabref logic bst util stack net sf jabref logic bst vm bstentry net sf jabref logic bst vm bstfunction built function text prefix\$ pops top two literals integer literal pop lit1 string literal order pushes substring pop lit1 consecutive text characters starting beginning string function similar substring\$ one considers accented character precisely ``special character''$\ even missing matching right brace single text character rather however many ascii code characters actually comprises function consider braces text characters furthermore function appends needed matching right brace types incorrect complains pushes null string textprefixfunction bstfunction vm vm textprefixfunction vm vm vm vm override execute bstentry context stack<object> stack vm getstack stack size throw vmexception enough operands stack operation text prefix$ object o1 stack pop o1 instanceof integer vm warn integer needed first parameter text prefix$ stack push object o2 stack pop o2 instanceof string vm warn string needed second parameter text prefix$ stack push stack push bibtextextprefix textprefix integer o1 string o2 vm 
404	VM.java	LOGIC	net sf jabref logic bst io file io ioexception util arraylist util collection util collections util hashmap util list util listiterator util map util stack util regex matcher util regex pattern net sf jabref model database bibdatabase net sf jabref model entry authorlist net sf jabref model entry bibentry net sf jabref model entry fieldname org antlr runtime antlrfilestream org antlr runtime antlrstringstream org antlr runtime charstream org antlr runtime commontokenstream org antlr runtime recognitionexception org antlr runtime tree commontree org antlr runtime tree tree org apache commons logging log org apache commons logging logfactory bibtex virtual machine execute bst files documentation found original bibtex distribution: https: www ctan org pkg bibtex vm warn log logger logfactory getlog vm list<bstentry> entries map<string string> strings hashmap<> map<string integer> integers hashmap<> map<string bstfunction> functions hashmap<> stack<object> stack stack<> integer false integer true map<string bstfunction> buildinfunctions file file commontree tree stringbuilder bbl string preamble pattern add period pattern pattern compile [^\\ \\?\\ \\ \\s] \\ \\s identifier string name identifier string name name name string getname name variable string name variable string name name name string getname name functionalinterface interface bstfunction execute bstentry context vm file throws recognitionexception ioexception antlrfilestream getpath file vm string throws recognitionexception antlrstringstream vm charstream bst throws recognitionexception vm charstream2commontree bst vm commontree tree tree tree buildinfunctions hashmap<> pops top two integer literals compares pushes integer second greater first otherwise buildinfunctions put context stack size throw vmexception enough operands stack operation object o2 stack pop object o1 stack pop o1 instanceof integer o2 instanceof integer throw vmexception compare two integers stack push integer o1 compareto integer o2 vm true vm false analogous buildinfunctions put context stack size throw vmexception enough operands stack operation object o2 stack pop object o1 stack pop o1 instanceof integer o2 instanceof integer throw vmexception compare two integers stack push integer o1 compareto integer o2 vm true vm false pops top two integer string literals compares pushes integer they're equal otherwise buildinfunctions put context stack size throw vmexception enough operands stack operation object o1 stack pop object o2 stack pop o1 null o2 null stack push vm false o1 null o2 null stack push vm true stack push o1 equals o2 vm true vm false pops top two integer literals pushes sum buildinfunctions put context stack size throw vmexception enough operands stack operation object o2 stack pop object o1 stack pop o1 instanceof integer o2 instanceof integer throw vmexception compare two integers stack push integer o1 integer o2 pops top two integer literals pushes difference first subtracted second buildinfunctions put context stack size throw vmexception enough operands stack operation object o2 stack pop object o1 stack pop o1 instanceof integer o2 instanceof integer throw vmexception subtract two integers stack push integer o1 integer o2 pops top two string literals concatenates reverse order order pushed pushes resulting string buildinfunctions put context stack size throw vmexception enough operands stack operation object o2 stack pop object o1 stack pop o1 instanceof string o2 instanceof string throw vmexception concatenate two string stack push o1 tostring o2 pops top two literals assigns first must global entry variable value second buildinfunctions put context stack size throw vmexception invalid call operation object o1 stack pop object o2 stack pop assign context o1 o2 pops top string literal adds last non character `?' pushes resulting string buildinfunctions put add period$ context addperiodfunction executes function whose name entry type entry example entry type book function executes book function given argument iterate command call type$ actually produces output entries entry unknown type executes function default type thus define read command one function standard entry type well default type function buildinfunctions put call type$ context context null throw vmexception call type$ called within context iterate reverse vm execute context getbibtexentry gettype context buildinfunctions put change case$ changecasefunction pops top string literal makes sure single character converts corresponding ascii integer pushes integer buildinfunctions put chr int$ context stack isempty throw vmexception enough operands stack operation chr int$ object o1 stack pop o1 instanceof string string o1 length throw vmexception perform chr int$ string length string string o1 stack push charat pushes string \cite command argument entry buildinfunctions put cite$ context context null throw vmexception must entry cite$ stack push context getbibtexentry getcitekeyoptional orelse null pops top literal stack pushes two copies buildinfunctions put duplicate$ context stack isempty throw vmexception enough operands stack operation duplicate$ object o1 stack pop stack push o1 stack push o1 pops top literal pushes integer missing field string non white space characters otherwise buildinfunctions put empty$ context stack isempty throw vmexception enough operands stack operation empty$ object o1 stack pop o1 null stack push vm true o1 instanceof string throw vmexception operand match function empty$ string string o1 stack push equals trim vm true vm false buildinfunctions put format name$ formatnamefunction pops top three literals two function literals integer literal order integer greater executes second literal else executes first buildinfunctions put if$ context stack size throw vmexception enough operands stack operation object f1 stack pop object f2 stack pop object stack pop f1 instanceof identifier f1 instanceof tree f2 instanceof identifier f2 instanceof tree instanceof integer throw vmexception expecting two functions integer if$ integer vm executeincontext f2 context else vm executeincontext f1 context pops top integer literal interpreted ascii integer value single character converts corresponding single character string pushes string buildinfunctions put chr$ context stack isempty throw vmexception enough operands stack operation chr$ object o1 stack pop o1 instanceof integer throw vmexception perform operation chr$ integer integer integer o1 stack push string valueof char intvalue pops top integer literal converts unique string equivalent pushes string buildinfunctions put str$ context stack isempty throw vmexception enough operands stack operation str$ object o1 stack pop o1 instanceof integer throw vmexception transform integer string using str$ stack push o1 tostring pops top literal pushes integer missing field otherwise buildinfunctions put missing$ context stack isempty throw vmexception enough operands stack operation missing$ object o1 stack pop o1 null stack push vm true o1 instanceof string warn string missing field operation missing$ stack push vm true stack push vm false writes onto bbl file accumulated output buffer writes blank line output buffer empty since write$ reasonable line breaking use function want blank line explicit line break buildinfunctions put newline$ context vm bbl append '\n' pops top string literal pushes number names string represents one plus number occurrences substring ignoring case differences surrounded non null white space top brace level buildinfunctions put num names$ context stack isempty throw vmexception enough operands stack operation num names$ object o1 stack pop o1 instanceof string throw vmexception need string top stack num names$ string string o1 stack push authorlist parse getnumberofauthors pops top stack print gets rid unwanted stack literal buildinfunctions put pop$ context stack pop built function preamble\$ pushes onto stack concatenation preamble strings read database files empty string none preamble strings read database files buildinfunctions put preamble$ context stack push preamble pops top string literal removes nonalphanumeric characters except white space characters hyphens ties get converted space removes certain alphabetic characters contained control sequences associated \special character pushes resulting string buildinfunctions put purify$ purifyfunction pushes string consisting quote character buildinfunctions put quote$ context stack push op buildinfunctions put skip$ context nothing yeah pops prints whole stack meant used style designers debugging buildinfunctions put stack$ context stack empty logger debug stack pop pops top three literals two integers literals len start string literal order pushes substring len consecutive characters starting startth character assuming based indexing start positive ending start th character including end start negative first character end last character buildinfunctions put substring$ context substringfunction swaps top two literals stack text length$ pops top string literal pushes number text characters contains accented character precisely \special character defined section counts single text character even missing matching right brace braces count text characters buildinfunctions put swap$ context stack size throw vmexception enough operands stack operation swap$ object f1 stack pop object f2 stack pop stack push f1 stack push f2 text length$ pops top string literal pushes number text characters contains accented character precisely special character defined section counts single text character even missing matching right brace braces count text characters bibtexing: purposes counting letters labels bibtex considers everything contained inside braces single letter buildinfunctions put text length$ context textlengthfunction pops top two literals integer literal len string literal order pushes substring len consecutive text characters starting beginning string function similar substring$ one considers \special character even missing matching right brace single text character rather however many ascii characters actually comprises function consider braces text characters furthermore function appends needed matching right braces buildinfunctions put text prefix$ textprefixfunction pops prints top stack log file useful debugging buildinfunctions put top$ context logger debug stack pop pushes current entry's type book article etc pushes null string type either unknown undefined buildinfunctions put type$ context context null throw vmexception type$ need context stack push context getbibtexentry gettype pops top string literal prints following warning message also increments count number warning messages issued buildinfunctions put warning$ bstfunction warning override execute bstentry context logger warn warning warning stack pop pops top two function literals keeps executing second long integer literal left stack executing first greater buildinfunctions put while$ this::whilefunction buildinfunctions put width$ widthfunction pops top string literal writes output buffer result stuff written onto bbl file buffer fills buildinfunctions put write$ context string string stack pop vm bbl append textlengthfunction stack isempty throw vmexception enough operands stack operation text length$ object o1 stack pop o1 instanceof string throw vmexception perform operation string text length$ string string o1 char[] tochararray result comments bibtex web: sp ptr str start[pop lit1] sp end str start[pop lit1 1] length sp brace level bracelevel sp ptr sp end begin incr sp ptr str pool[sp ptr 1] left brace begin c[i 1] incr sp brace level bracelevel sp brace level sp ptr sp end bracelevel str pool[sp ptr] backslash begin c[i] '\\' incr sp ptr skip backslash skip backslash sp ptr sp end sp brace level begin bracelevel str pool[sp ptr] right brace c[i] decr sp brace level bracelevel else c[i] incr sp brace level bracelevel incr sp ptr end incr num text chars result end end else str pool[sp ptr 1] right brace begin else c[i 1] sp brace level bracelevel decr sp brace level bracelevel end else else incr num text chars result stack push result whilefunction bstentry context stack size throw vmexception enough operands stack operation while$ object f2 stack pop object f1 stack pop f1 instanceof identifier f1 instanceof tree f2 instanceof identifier f2 instanceof tree throw vmexception expecting two functions while$ vm executeincontext f1 context object stack pop instanceof integer throw vmexception first parameter integer integer break vm executeincontext f2 context true substringfunction stack size throw vmexception enough operands stack operation substring$ object o1 stack pop object o2 stack pop object o3 stack pop o1 instanceof integer o2 instanceof integer o3 instanceof string throw vmexception expecting two integers string substring$ integer len integer o1 integer start integer o2 leni len starti start leni integer max value leni integer max value starti integer max value starti integer max value starti integer min value starti integer min value string string o3 starti starti length starti math max starti leni stack push substring starti math min starti leni length addperiodfunction stack isempty throw vmexception enough operands stack operation add period$ object o1 stack pop o1 instanceof string throw vmexception add period string add period$ string string o1 matcher add period pattern matcher find stringbuffer sb stringbuffer appendreplacement sb group sb append string group2 group group2 null sb append group stack push sb tostring else stack push commontree charstream2commontree charstream bst throws recognitionexception bstlexer lex bstlexer bst commontokenstream tokens commontokenstream lex bstparser parser bstparser tokens bstparser program parser program commontree gettree boolean assign bstentry context object o1 object o2 o1 instanceof identifier o2 instanceof string o2 instanceof integer throw vmexception invalid parameters string name identifier o1 getname o2 instanceof string context null context localstrings containskey name context localstrings put name string o2 true strings containskey name strings put name string o2 true false context null context localintegers containskey name context localintegers put name integer o2 true integers containskey name integers put name integer o2 true false string run bibdatabase db preamble db getpreamble orelse run db getentries string run collection<bibentry> bibtex reset bbl stringbuilder strings hashmap<> integers hashmap<> integers put entry max$ integer max value integers put global max$ integer max value functions hashmap<> functions putall buildinfunctions stack stack<> create entries entries arraylist<> bibtex size listiterator<bstentry> listiter entries listiterator bibentry entry bibtex listiter add bstentry entry go tree getchildcount tree child tree getchild switch child gettype case bstparser strings: strings child break case bstparser integers: integers child break case bstparser function: function child break case bstparser execute: execute child break case bstparser sort: sort break case bstparser iterate: iterate child break case bstparser reverse: reverse child break case bstparser entry: entry child break case bstparser read: read break case bstparser macro: macro child break default: logger info unknown type: child gettype break bbl tostring dredges database file field values entry list arguments database entry value field probably database entry value every field field variable marked missing entry use null missing entry designator read bstentry entries map entry<string string> mentry getfields entryset string fieldvalue getbibtexentry getfield mentry getkey orelse null mentry setvalue fieldvalue bstentry entries getfields containskey fieldname crossref getfields put fieldname crossref null defines string macro two arguments first macro's name treated like variable function name second definition must quote delimited must one three letter month abbreviation addition one common journal names user's database may override definition define using command want define string user can't touch use function command compatible syntax param child macro tree child string name child getchild gettext string replacement child getchild gettext functions put name macrofunction replacement macrofunction bstfunction string replacement macrofunction string replacement replacement replacement override execute bstentry context vm push replacement declares fields entry variables three arguments possibly empty list variable names three lists of: fields integer entry variables string entry variables additional field bibtex automatically declares crossref used cross referencing additional string entry variable automatically declared sort key$ used sort command variables value entry list entry tree child fields first tree child getchild getchildcount string name getchild gettext bstentry entry entries entry getfields put name null integers child getchild getchildcount string name getchild gettext bstentry entry entries entry localintegers put name strings child getchild getchildcount string name getchild gettext bstentry entry entries entry localstrings put name null bstentry entry entries entry localstrings put sort key$ null reverse tree child bstfunction functions get child getchild gettext listiterator<bstentry> entries listiterator entries size hasprevious execute previous iterate tree child bstfunction functions get child getchild gettext bstentry entry entries execute entry sorts entry list using values string entry variable sort key$ arguments sort collections sort entries o1 o2 o1 localstrings get sort key$ compareto o2 localstrings get sort key$ executeincontext object bstentry context instanceof tree tree tree stackfunction execute context else instanceof identifier execute identifier getname context execute tree child execute child getchild gettext null stackfunction bstfunction tree localtree stackfunction tree stack localtree stack tree gettree localtree override execute bstentry context localtree getchildcount tree localtree getchild try switch gettype case bstparser string: string gettext push substring length break case bstparser integer: push integer parseint gettext substring break case bstparser quoted: push identifier gettext substring break case bstparser stack: push break default: vm execute gettext context break catch vmexception file null logger error error getmessage getline else logger error error getmessage file getpath getline throw push tree stack push execute string name bstentry context context null context getfields containskey name stack push context getfields get name context localstrings containskey name stack push context localstrings get name context localintegers containskey name stack push context localintegers get name strings containskey name stack push strings get name integers containskey name stack push integers get name functions containskey name ok null context functions get name execute context throw vmexception matching identifier found: name function tree child string name child getchild gettext tree localstack child getchild functions put name stackfunction localstack declares global integer variables one argument list variable names two automatically declared variables entry max$ global max$ used limiting lengths string vari ables may number commands variable's declaration must precede use param child integers tree child tree child getchild getchildcount string name getchild gettext integers put name declares global string variables one argument list variable names may number commands variable's declaration must precede use param child strings tree child tree child getchild getchildcount string name getchild gettext strings put name null bstentry bibentry entry map<string string> localstrings hashmap<> map<string string> fields hashmap<> map<string integer> localintegers hashmap<> bstentry bibentry entry map<string string> getfields fields bibentry getbibtexentry entry push integer integer stack push integer push string string stack push string push identifier identifier stack push identifier map<string string> getstrings strings map<string integer> getintegers integers list<bstentry> getentries entries map<string bstfunction> getfunctions functions stack<object> getstack stack override warn string string logger warn string 
405	BibtexPurify.java	LOGIC	net sf jabref logic bst built function purify\$ pops top string literal removes nonalphanumeric characters except white space sep char characters get converted space removes certain alphabetic characters contained control sequences associated special character pushes resulting string literal string complains pushes null string bibtexpurify param topurify param warn may null string purify string topurify warn warn stringbuilder sb stringbuilder char[] cs topurify tochararray cs length bracelevel char cs[i] character iswhitespace '~' sb append else character isletterordigit sb append else bracelevel bracelevel cs[i 1] '\\' skip brace bracelevel skip backslash bibtexcasechanger findspecialchar cs ifpresent sb::append character isletter cs[i] bracelevel cs[i] '\\' character isletterordigit sb append else bracelevel else bracelevel continue else bracelevel bracelevel else warn null warn warn unbalanced brace string purify$: topurify bracelevel warn null warn warn unbalanced brace string purify$: topurify sb tostring 
406	BackupManager.java	LOGIC	net sf jabref logic autosaveandbackup io file io ioexception nio charset charset nio file files nio file path nio file standardcopyoption util hashset util optional util set util concurrent arrayblockingqueue util concurrent blockingqueue util concurrent executorservice util concurrent rejectedexecutionexception util concurrent threadpoolexecutor util concurrent timeunit net sf jabref logic exporter bibtexdatabasewriter net sf jabref logic exporter filesavesession net sf jabref logic exporter saveexception net sf jabref logic exporter savepreferences net sf jabref logic util io fileutil net sf jabref model database bibdatabasecontext net sf jabref model database event bibdatabasecontextchangedevent net sf jabref preferences jabrefpreferences com google common eventbus subscribe org apache commons logging log org apache commons logging logfactory backups given bib database file link bibdatabasecontext every link bibdatabasecontextchangedevent intelligent link executorservice link blockingqueue prevents high load making backups rejects redundant backup tasks manage bak file created opening database backupmanager log logger logfactory getlog backupmanager string backup extension sav set<backupmanager> runninginstances hashset<> bibdatabasecontext bibdatabasecontext jabrefpreferences preferences blockingqueue<runnable> workerqueue executorservice executor charset charset path originalpath path backuppath backupmanager bibdatabasecontext bibdatabasecontext bibdatabasecontext bibdatabasecontext preferences jabrefpreferences getinstance workerqueue arrayblockingqueue<> executor threadpoolexecutor timeunit seconds workerqueue charset bibdatabasecontext getmetadata getencoding orelse preferences getdefaultencoding runnable backuptask runnable override run try savepreferences prefs savepreferences loadforsavefrompreferences preferences withencoding charset withmakebackup false bibtexdatabasewriter<> filesavesession::new savedatabase bibdatabasecontext prefs commit backuppath catch saveexception logger error error saving file subscribe synchronized listen suppresswarnings unused bibdatabasecontextchangedevent event startbackuptask startbackuptask try executor submit backuptask catch rejectedexecutionexception logger debug rejecting another backup process already running unregisters backupmanager eventbus link bibdatabasecontext deletes backup file method used closing database jabref legally shutdown bibdatabasecontext getdatabase unregisterlistener bibdatabasecontext getmetadata unregisterlistener executor shutdown try files exists backuppath files isdirectory backuppath files delete backuppath catch ioexception logger error error deleting backup file path getbackuppath path originalpath fileutil addextension originalpath backup extension starts backupmanager associated given link bibdatabasecontext database file present link bibdatabasecontext link backupmanager nothing param bibdatabasecontext associated link bibdatabasecontext backupmanager start bibdatabasecontext bibdatabasecontext backupmanager backupmanager backupmanager bibdatabasecontext optional<file> originalfile bibdatabasecontext getdatabasefile originalfile ispresent backupmanager originalpath originalfile get topath backupmanager backuppath getbackuppath backupmanager originalpath backupmanager startbackuptask bibdatabasecontext getdatabase registerlistener backupmanager bibdatabasecontext getmetadata registerlistener backupmanager runninginstances add backupmanager backupmanager shuts backupmanager associated given link bibdatabasecontext param bibdatabasecontext associated link bibdatabasecontext shutdown bibdatabasecontext bibdatabasecontext runninginstances stream filter instance instance bibdatabasecontext bibdatabasecontext findany ifpresent instance instance shutdown runninginstances remove instance checks whether backup file exists given database file param originalpath path file backup checked boolean checkforbackupfile path originalpath path backuppath getbackuppath originalpath files exists backuppath files isdirectory backuppath restores backup file copying overwriting original one param originalpath path file equalized backup file restorebackup path originalpath path backuppath getbackuppath originalpath try files copy backuppath originalpath standardcopyoption replace existing catch ioexception logger error error restoring backup file 
407	AutosaveManager.java	LOGIC	net sf jabref logic autosaveandbackup util hashset util set util concurrent arrayblockingqueue util concurrent blockingqueue util concurrent executorservice util concurrent rejectedexecutionexception util concurrent threadpoolexecutor util concurrent timeunit net sf jabref model database bibdatabasecontext net sf jabref model database event autosaveevent net sf jabref model database event bibdatabasecontextchangedevent com google common eventbus eventbus com google common eventbus subscribe org apache commons logging log org apache commons logging logfactory saves given link bibdatabasecontext every link bibdatabasecontextchangedevent posting link autosaveevent intelligent link executorservice link blockingqueue prevents high load saving rejects redundant save tasks autosavemanager log logger logfactory getlog autosavemanager set<autosavemanager> runninginstances hashset<> bibdatabasecontext bibdatabasecontext blockingqueue<runnable> workerqueue executorservice executor eventbus eventbus autosavemanager bibdatabasecontext bibdatabasecontext bibdatabasecontext bibdatabasecontext workerqueue arrayblockingqueue<> executor threadpoolexecutor timeunit seconds workerqueue eventbus eventbus subscribe synchronized listen suppresswarnings unused bibdatabasecontextchangedevent event try executor submit eventbus post autosaveevent catch rejectedexecutionexception logger debug rejecting autosave another save process already running shutdown bibdatabasecontext getdatabase unregisterlistener bibdatabasecontext getmetadata unregisterlistener executor shutdown starts autosaver associated given link bibdatabasecontext param bibdatabasecontext associated link bibdatabasecontext autosavemanager start bibdatabasecontext bibdatabasecontext autosavemanager autosaver autosavemanager bibdatabasecontext bibdatabasecontext getdatabase registerlistener autosaver bibdatabasecontext getmetadata registerlistener autosaver runninginstances add autosaver autosaver shuts autosaver associated given link bibdatabasecontext param bibdatabasecontext associated link bibdatabasecontext shutdown bibdatabasecontext bibdatabasecontext runninginstances stream filter instance instance bibdatabasecontext bibdatabasecontext findany ifpresent instance instance shutdown runninginstances remove instance registerlistener object listener eventbus register listener unregisterlistener object listener eventbus unregister listener 
408	CustomEntryTypesManager.java	LOGIC	net sf jabref logic util arraylist util iterator util list util optional net sf jabref model entrytypes net sf jabref model database bibdatabasemode net sf jabref model entry customentrytype net sf jabref model entry entrytype net sf jabref preferences jabrefpreferences customentrytypesmanager list<entrytype> arraylist<> load custom entry types preferences method called jabref program starts loadcustomentrytypes jabrefpreferences prefs number optional<customentrytype> type type prefs getcustomentrytype number ispresent entrytypes addormodifycustomentrytype type get add type get number iterate entry types store custom defined preferences method called jabrefframe program closes savecustomentrytypes jabrefpreferences prefs iterator<entrytype> iterator entrytypes getallvalues bibdatabasemode bibtex iterator number iterator hasnext entrytype entrytype iterator next entrytype instanceof customentrytype store entry type prefs storecustomentrytype customentrytype entrytype number number 'old' custom types defined remove preferences necessary number custom types decreased prefs purgecustomentrytypes number 
409	PagesChecker.java	LOGIC	net sf jabref logic integrity util collections util list util optional util function predicate util regex pattern net sf jabref logic integrity integritycheck checker net sf jabref logic l10n localization net sf jabref model entry bibentry net sf jabref model entry fieldname bibtex manual: one page numbers range numbers last example indicates pages following form simple range make easier maintain scribe compatible databases standard styles convert single dash dash used tex denote number ranges pageschecker checker string pages exp \\a begin string \\d number ?: non capture group \\ \\ \\d number range optional group ?: non capture group comma \\d ?:\\ \\ \\d repeat former pattern repeat group \\z end string predicate<string> valid page number pattern compile pages exp aspredicate checks page numbers string conforms bibtex manual override list<integritymessage> check bibentry entry optional<string> value entry getfield fieldname pages value ispresent collections emptylist valid page number test value get trim collections singletonlist integritymessage localization lang contain valid page number range entry fieldname pages collections emptylist 
410	YearChecker.java	LOGIC	net sf jabref logic integrity util collections util list util optional util function predicate util regex pattern net sf jabref logic integrity integritycheck checker net sf jabref logic l10n localization net sf jabref model entry bibentry net sf jabref model entry fieldname yearchecker checker predicate<string> contains four digit pattern compile [^0 9] [0 9] [^0 9] aspredicate predicate<string> ends four digit pattern compile [0 9] aspredicate string punctuation marks ?<> $] checks number string contains four digit year ends official bibtex spec: generally consist four numerals although standard styles handle year whose last four nonpunctuation characters numerals source: http: ftp fernuni hagen de ftp dir pub mirrors www ctan org biblio bibtex base btxdoc pdf override list<integritymessage> check bibentry entry optional<string> value entry getfield fieldname year value ispresent collections emptylist contains four digit test value get trim collections singletonlist integritymessage localization lang contain four digit number entry fieldname year ends four digit test value get replaceall punctuation marks collections singletonlist integritymessage localization lang last four nonpunctuation characters numerals entry fieldname year collections emptylist 
411	FileChecker.java	LOGIC	net sf jabref logic integrity io file util collections util list util optional util stream collectors net sf jabref logic integrity integritycheck checker net sf jabref logic l10n localization net sf jabref logic util io fileutil net sf jabref model database bibdatabasecontext net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model entry filefield net sf jabref model entry parsedfilefield net sf jabref model metadata filedirectorypreferences filechecker checker bibdatabasecontext context filedirectorypreferences filedirectorypreferences filechecker bibdatabasecontext context filedirectorypreferences filedirectorypreferences context context filedirectorypreferences filedirectorypreferences override list<integritymessage> check bibentry entry optional<string> value entry getfield fieldname file value ispresent collections emptylist list<parsedfilefield> parsedfilefields filefield parse value get stream filter getlink startswith http: getlink startswith https: collect collectors tolist parsedfilefield parsedfilefields optional<file> file fileutil expandfilename context getlink filedirectorypreferences file ispresent file get exists collections singletonlist integritymessage localization lang link refer correct file path entry fieldname file collections emptylist 
412	ASCIICharacterChecker.java	LOGIC	net sf jabref logic integrity util arraylist util list util map net sf jabref logic integrity integritycheck checker net sf jabref logic l10n localization net sf jabref model entry bibentry com google common base charmatcher asciicharacterchecker checker detect non ascii encoded characters umlauts unicode fields override list<integritymessage> check bibentry entry list<integritymessage> results arraylist<> map entry<string string> field entry getfieldmap entryset boolean asciionly charmatcher ascii matchesallof field getvalue asciionly results add integritymessage localization lang non ascii encoded character found entry field getkey results 
413	AbbreviationChecker.java	LOGIC	net sf jabref logic integrity util collections util list util optional net sf jabref logic integrity integritycheck checker net sf jabref logic l10n localization net sf jabref model entry bibentry abbreviationchecker checker string field abbreviationchecker string field field field override list<integritymessage> check bibentry entry optional<string> value entry getfield field value ispresent collections emptylist value get contains collections singletonlist integritymessage localization lang abbreviation detected entry field collections emptylist 
414	AuthorNameChecker.java	LOGIC	net sf jabref logic integrity util arraylist util collections util list util optional net sf jabref logic integrity integritycheck checker net sf jabref logic l10n localization net sf jabref model entry bibentry net sf jabref model entry fieldproperty net sf jabref model entry internalbibtexfields authornamechecker checker override list<integritymessage> check bibentry entry list<integritymessage> result arraylist<> string field entry getfieldnames internalbibtexfields getfieldproperties field contains fieldproperty person names optional<string> value entry getfield field value ispresent collections emptylist string valuetrimmedandlowercase value get trim tolowercase valuetrimmedandlowercase startswith valuetrimmedandlowercase startswith result add integritymessage localization lang start name entry field else valuetrimmedandlowercase endswith valuetrimmedandlowercase endswith result add integritymessage localization lang end name entry field result 
415	IntegrityCheck.java	LOGIC	net sf jabref logic integrity util arraylist util list util objects net sf jabref model database bibdatabasecontext net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model entry internalbibtexfields net sf jabref model metadata filedirectorypreferences integritycheck bibdatabasecontext bibdatabasecontext filedirectorypreferences filedirectorypreferences integritycheck bibdatabasecontext bibdatabasecontext filedirectorypreferences filedirectorypreferences bibdatabasecontext objects requirenonnull bibdatabasecontext filedirectorypreferences objects requirenonnull filedirectorypreferences list<integritymessage> checkbibtexdatabase list<integritymessage> result arraylist<> bibentry entry bibdatabasecontext getdatabase getentries result addall checkbibtexentry entry result list<integritymessage> checkbibtexentry bibentry entry list<integritymessage> result arraylist<> entry null result result addall authornamechecker check entry bibtex checkers bibdatabasecontext isbiblatexmode result addall titlechecker check entry result addall pageschecker check entry result addall asciicharacterchecker check entry result addall nobibtexfieldchecker check entry else result addall biblatexpageschecker check entry result addall bracketchecker fieldname title check entry result addall yearchecker check entry result addall bibtexkeychecker check entry result addall editionchecker bibdatabasecontext check entry result addall notechecker bibdatabasecontext check entry result addall howpublishedchecker bibdatabasecontext check entry result addall monthchecker bibdatabasecontext check entry result addall urlchecker check entry result addall filechecker bibdatabasecontext filedirectorypreferences check entry result addall typechecker check entry string journalfield internalbibtexfields getjournalnamefields result addall abbreviationchecker journalfield check entry string booknamefield internalbibtexfields getbooknamefields result addall abbreviationchecker booknamefield check entry result addall bibstringchecker check entry result addall htmlcharacterchecker check entry result addall booktitlechecker check entry result addall issnchecker check entry result addall isbnchecker check entry result addall entrylinkchecker bibdatabasecontext getdatabase check entry result functionalinterface interface checker list<integritymessage> check bibentry entry 
416	BracketChecker.java	LOGIC	net sf jabref logic integrity util collections util list util optional net sf jabref logic integrity integritycheck checker net sf jabref logic l10n localization net sf jabref model entry bibentry bracketchecker checker string field bracketchecker string field field field override list<integritymessage> check bibentry entry optional<string> value entry getfield field value ispresent collections emptylist metaphor: integer based stack push pop counter char value get trim tochararray counter else counter collections singletonlist integritymessage localization lang unexpected closing curly bracket entry field else counter counter collections singletonlist integritymessage localization lang unexpected opening curly bracket entry field collections emptylist 
417	MonthChecker.java	LOGIC	net sf jabref logic integrity util collections util list util objects util optional util function predicate util regex pattern net sf jabref logic integrity integritycheck checker net sf jabref logic l10n localization net sf jabref model database bibdatabasecontext net sf jabref model entry bibentry net sf jabref model entry fieldname monthchecker checker predicate<string> integer pattern compile [1 9] aspredicate predicate<string> month normalized pattern compile #jan# #feb# #mar# #apr# #may# #jun# #jul# #aug# #sep# #oct# #nov# #dec# aspredicate bibdatabasecontext bibdatabasecontextmonth monthchecker bibdatabasecontext bibdatabasecontext bibdatabasecontextmonth objects requirenonnull bibdatabasecontext biblatex documentation section month field integer field bibliography style converts month language dependent string required backwards compatibility may also use following three letter abbreviations month field: jan feb mar apr may jun jul aug sep oct nov dec note abbreviations bibtex strings must given without braces quotes override list<integritymessage> check bibentry entry optional<string> value entry getfield fieldname month value ispresent collections emptylist biblatex bibdatabasecontextmonth isbiblatexmode integer test value get trim month normalized test value get trim collections singletonlist integritymessage localization lang integer normalized entry fieldname month bibtex bibdatabasecontextmonth isbiblatexmode month normalized test value get trim collections singletonlist integritymessage localization lang normalized entry fieldname month collections emptylist 
418	BiblatexPagesChecker.java	LOGIC	net sf jabref logic integrity util collections util list util optional util function predicate util regex pattern net sf jabref logic integrity integritycheck checker net sf jabref logic l10n localization net sf jabref model entry bibentry net sf jabref model entry fieldname link pageschecker allows single dash well biblatexpageschecker checker string pages exp \\a begin string \\d number ?: non capture group \\ \\ \\d number range optional group ?: non capture group comma \\d ?:\\ \\ \\d repeat former pattern repeat group \\z end string predicate<string> valid page number pattern compile pages exp aspredicate checks page numbers string conforms bibtex manual override list<integritymessage> check bibentry entry optional<string> value entry getfield fieldname pages value ispresent collections emptylist valid page number test value get trim collections singletonlist integritymessage localization lang contain valid page number range entry fieldname pages collections emptylist 
419	EditionChecker.java	LOGIC	net sf jabref logic integrity util collections util list util objects util optional util function predicate util regex pattern net sf jabref logic integrity integritycheck checker net sf jabref logic l10n localization net sf jabref model database bibdatabasecontext net sf jabref model entry bibentry net sf jabref model entry fieldname editionchecker checker predicate<string> first letter capitalized pattern compile ^[a z] aspredicate predicate<string> numerals literals pattern compile [0 9] [^0 9] aspredicate bibdatabasecontext bibdatabasecontextedition editionchecker bibdatabasecontext bibdatabasecontext bibdatabasecontextedition objects requirenonnull bibdatabasecontext checks field contains integer literal biblatex mode checks first letter capitalized bibtex mode biblatex documentation: edition printed publication must integer ordinal also possible give edition literal string example third revised expanded edition official bibtex specification: edition book example second ordinal first letter capitalized override list<integritymessage> check bibentry entry optional<string> value entry getfield fieldname edition value ispresent collections emptylist biblatex bibdatabasecontextedition isbiblatexmode numerals literals test value get trim collections singletonlist integritymessage localization lang contain integer literal entry fieldname edition bibtex bibdatabasecontextedition isbiblatexmode first letter capitalized test value get trim collections singletonlist integritymessage localization lang first letter capitalized entry fieldname edition collections emptylist 
420	ISBNChecker.java	LOGIC	net sf jabref logic integrity util collections util list net sf jabref logic integrity integritycheck checker net sf jabref logic l10n localization net sf jabref logic util isbn net sf jabref model entry bibentry net sf jabref model entry fieldname isbnchecker checker override list<integritymessage> check bibentry entry entry hasfield fieldname isbn collections emptylist check isbn correct form isbn isbn isbn entry getfield fieldname isbn get isbn isvalidformat collections singletonlist integritymessage localization lang incorrect format entry fieldname isbn isbn isvalidchecksum collections singletonlist integritymessage localization lang incorrect control digit entry fieldname isbn collections emptylist 
421	BibtexkeyChecker.java	LOGIC	net sf jabref logic integrity util collections util list util optional net sf jabref logic integrity integritycheck checker net sf jabref logic l10n localization net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model strings stringutil bibtexkeychecker checker override list<integritymessage> check bibentry entry optional<string> valuekey entry getcitekeyoptional optional<string> valueauthor entry getfield fieldname author optional<string> valuetitle entry getfield fieldname title optional<string> valueyear entry getfield fieldname year string authortitleyear entry getauthortitleyear valueauthor ispresent valuetitle ispresent valueyear ispresent collections emptylist stringutil isblank valuekey collections singletonlist integritymessage localization lang empty bibtex key authortitleyear entry bibentry key field collections emptylist 
422	ISSNChecker.java	LOGIC	net sf jabref logic integrity util collections util list net sf jabref logic integrity integritycheck checker net sf jabref logic l10n localization net sf jabref logic util issn net sf jabref model entry bibentry net sf jabref model entry fieldname issnchecker checker override list<integritymessage> check bibentry entry entry hasfield fieldname issn collections emptylist check issn correct form string issnstring entry getfield fieldname issn get trim issn issn issn issnstring issn isvalidformat collections singletonlist integritymessage localization lang incorrect format entry fieldname issn issn isvalidchecksum collections emptylist else collections singletonlist integritymessage localization lang incorrect control digit entry fieldname issn 
423	TitleChecker.java	LOGIC	net sf jabref logic integrity util collections util list util optional util function predicate util regex matcher util regex pattern net sf jabref logic integrity integritycheck checker net sf jabref logic l10n localization net sf jabref model entry bibentry net sf jabref model entry fieldname titlechecker checker pattern inside curly brakets pattern compile \\ [^ \\ \\ predicate<string> capital letters pattern compile [\\p lu \\p lt aspredicate override list<integritymessage> check bibentry entry optional<string> value entry getfield fieldname title value ispresent collections emptylist algorithm: remove trailing whitespaces ignore first letter always written caps remove everything brackets check least one capital letter title string valuetrimmed value get trim string valueignoringfirstletter valuetrimmed startswith valuetrimmed valuetrimmed substring string valueonlyspaceswithincurlybraces valueignoringfirstletter true matcher matcher inside curly brakets matcher valueonlyspaceswithincurlybraces matcher find break valueonlyspaceswithincurlybraces matcher replaceall boolean hascapitallettersthatbibtexwillconverttosmallerones capital letters test valueonlyspaceswithincurlybraces hascapitallettersthatbibtexwillconverttosmallerones collections singletonlist integritymessage localization lang capital letters masked using curly brackets entry fieldname title collections emptylist 
424	EntryLinkChecker.java	LOGIC	net sf jabref logic integrity util arraylist util arrays util list util map entry util objects util set net sf jabref logic integrity integritycheck checker net sf jabref logic l10n localization net sf jabref model database bibdatabase net sf jabref model entry bibentry net sf jabref model entry fieldproperty net sf jabref model entry internalbibtexfields entrylinkchecker checker bibdatabase database entrylinkchecker bibdatabase database database objects requirenonnull database override list<integritymessage> check bibentry entry list<integritymessage> result arraylist<> entry<string string> field entry getfieldmap entryset set<fieldproperty> properties internalbibtexfields getfieldproperties field getkey properties contains fieldproperty single entry link database getentrybykey field getvalue ispresent result add integritymessage localization lang referenced bibtex key exist entry field getkey else properties contains fieldproperty multiple entry link list<string> keys arraylist<> arrays aslist field getvalue split string key keys database getentrybykey key ispresent result add integritymessage localization lang referenced bibtex key exist key entry field getkey result 
425	TypeChecker.java	LOGIC	net sf jabref logic integrity util collections util list util optional net sf jabref logic integrity integritycheck checker net sf jabref logic l10n localization net sf jabref model entry bibentry net sf jabref model entry fieldname typechecker checker override list<integritymessage> check bibentry entry optional<string> value entry getfield fieldname pages value ispresent collections emptylist proceedings equalsignorecase entry gettype collections singletonlist integritymessage localization lang wrong entry type proceedings page numbers entry fieldname pages collections emptylist 
426	NoteChecker.java	LOGIC	net sf jabref logic integrity util collections util list util objects util optional util function predicate util regex pattern net sf jabref logic integrity integritycheck checker net sf jabref logic l10n localization net sf jabref model database bibdatabasecontext net sf jabref model entry bibentry net sf jabref model entry fieldname notechecker checker predicate<string> first letter capitalized pattern compile ^[a z] aspredicate bibdatabasecontext bibdatabasecontextedition notechecker bibdatabasecontext bibdatabasecontext bibdatabasecontextedition objects requirenonnull bibdatabasecontext biblatex documentation section biblatex automatically capitalize first word required beginning sentence official bibtex specification: note: additional information help reader first word capitalized override list<integritymessage> check bibentry entry optional<string> value entry getfield fieldname note value ispresent collections emptylist bibtex bibdatabasecontextedition isbiblatexmode first letter capitalized test value get trim collections singletonlist integritymessage localization lang first letter capitalized entry fieldname note collections emptylist 
427	NoBibtexFieldChecker.java	LOGIC	net sf jabref logic integrity util collections util list util optional net sf jabref logic integrity integritycheck checker net sf jabref logic l10n localization net sf jabref model entry bibentry net sf jabref model entry fieldname nobibtexfieldchecker checker biblatex documentation section title periodical given journaltitle field override list<integritymessage> check bibentry entry optional<string> value entry getfield fieldname journaltitle bibtex value ispresent collections emptylist else collections singletonlist integritymessage localization lang biblatex field entry fieldname journaltitle 
428	IntegrityMessage.java	LOGIC	net sf jabref logic integrity net sf jabref model entry bibentry integritymessage cloneable bibentry entry string fieldname string message integritymessage string message bibentry entry string fieldname message message entry entry fieldname fieldname override string tostring getentry getcitekeyoptional orelse getfieldname getmessage string getmessage message bibentry getentry entry string getfieldname fieldname override object clone integritymessage message entry fieldname 
429	HowpublishedChecker.java	LOGIC	net sf jabref logic integrity util collections util list util objects util optional util function predicate util regex pattern net sf jabref logic integrity integritycheck checker net sf jabref logic l10n localization net sf jabref model database bibdatabasecontext net sf jabref model entry bibentry net sf jabref model entry fieldname howpublishedchecker checker predicate<string> first letter capitalized pattern compile ^[a z] aspredicate bibdatabasecontext bibdatabasecontextedition howpublishedchecker bibdatabasecontext bibdatabasecontext bibdatabasecontextedition objects requirenonnull bibdatabasecontext biblatex documentation section biblatex automatically capitalize first word required beginning sentence official bibtex specification: howpublished: something strange published first word capitalized override list<integritymessage> check bibentry entry optional<string> value entry getfield fieldname howpublished value ispresent collections emptylist bibtex bibdatabasecontextedition isbiblatexmode first letter capitalized test value get trim collections singletonlist integritymessage localization lang first letter capitalized entry fieldname howpublished collections emptylist 
430	BooktitleChecker.java	LOGIC	net sf jabref logic integrity util collections util list util locale util optional net sf jabref logic integrity integritycheck checker net sf jabref logic l10n localization net sf jabref model entry bibentry net sf jabref model entry fieldname booktitlechecker checker override list<integritymessage> check bibentry entry string field fieldname booktitle optional<string> value entry getfield field value ispresent collections emptylist value get tolowercase locale english endswith conference collections singletonlist integritymessage localization lang booktitle ends 'conference on' entry field collections emptylist 
431	HTMLCharacterChecker.java	LOGIC	net sf jabref logic integrity util arraylist util list util map util regex matcher util regex pattern net sf jabref logic integrity integritycheck checker net sf jabref logic l10n localization net sf jabref model entry bibentry net sf jabref model entry fieldproperty net sf jabref model entry internalbibtexfields htmlcharacterchecker checker detect html encoded character pattern html character pattern pattern compile [#\\p alnum checks html encoded characters nonverbatim fields override list<integritymessage> check bibentry entry list<integritymessage> results arraylist<> map entry<string string> field entry getfieldmap entryset skip verbatim fields internalbibtexfields getfieldproperties field getkey contains fieldproperty verbatim continue matcher charactermatcher html character pattern matcher field getvalue charactermatcher find results add integritymessage localization lang html encoded character found entry field getkey results 
432	UrlChecker.java	LOGIC	net sf jabref logic integrity util collections util list util optional net sf jabref logic integrity integritycheck checker net sf jabref logic l10n localization net sf jabref model entry bibentry net sf jabref model entry fieldname urlchecker checker override list<integritymessage> check bibentry entry optional<string> value entry getfield fieldname url value ispresent collections emptylist value get contains collections singletonlist integritymessage localization lang contain protocol http[s]: file: ftp: entry fieldname url collections emptylist 
433	BibStringChecker.java	LOGIC	net sf jabref logic integrity util arraylist util list util map util regex matcher util regex pattern net sf jabref logic integrity integritycheck checker net sf jabref logic l10n localization net sf jabref model entry bibentry net sf jabref model entry fieldproperty net sf jabref model entry internalbibtexfields bibstringchecker checker detect front starts string pattern unescaped hash pattern compile ?< \\\\ ^# checks even number unescaped override list<integritymessage> check bibentry entry list<integritymessage> results arraylist<> map<string string> fields entry getfieldmap map entry<string string> field fields entryset internalbibtexfields getfieldproperties field getkey contains fieldproperty verbatim matcher hashmatcher unescaped hash matcher field getvalue hashcount hashmatcher find hashcount hashcount check odd results add integritymessage localization lang odd number unescaped '#' entry field getkey results 
434	MessageHandler.java	LOGIC	net sf jabref logic remote server functionalinterface interface messagehandler handlemessage string message 
435	RemoteListenerServerThread.java	LOGIC	net sf jabref logic remote server io ioexception org apache commons logging log org apache commons logging logfactory thread wrapper required able interrupt remote listener listening port remotelistenerserverthread thread log logger logfactory getlog remotelistenerserverthread remotelistenerserver server remotelistenerserverthread messagehandler messagehandler port throws ioexception server remotelistenerserver messagehandler port setname jabref remote listener server port port override interrupt super interrupt logger debug interrupting getname server closeserversocket override run server run 
436	RemoteListenerServer.java	LOGIC	net sf jabref logic remote server io ioexception net inetaddress net serversocket net socket net socketexception net sf jabref logic remote shared protocol org apache commons logging log org apache commons logging logfactory remotelistenerserver runnable log logger logfactory getlog remotelistenerserver backlog one second timeout messagehandler messagehandler serversocket serversocket remotelistenerserver messagehandler messagehandler port throws ioexception serversocket serversocket port backlog inetaddress getbyname localhost messagehandler messagehandler override run try thread interrupted try socket socket serversocket accept socket setsotimeout one second timeout protocol protocol protocol socket protocol sendmessage protocol identifier string message protocol receivemessage protocol close message isempty continue messagehandler handlemessage message catch socketexception ex catch ioexception logger warn remotelistenerserver crashed finally closeserversocket closeserversocket try serversocket close catch ioexception ignored ignored 
437	RemoteListenerServerLifecycle.java	LOGIC	net sf jabref logic remote server io ioexception net bindexception net sf jabref jabrefexecutorservice org apache commons logging log org apache commons logging logfactory manages remotelistenerserverthread typical life cycle methods <p open start stop openandstart stop <p observer: isopen isnotstartedbefore remotelistenerserverlifecycle autocloseable remotelistenerserverthread remotelistenerserverthread log logger logfactory getlog remotelistenerserverlifecycle stop isopen remotelistenerserverthread interrupt remotelistenerserverthread null acquire resources needed server open messagehandler messagehandler port isopen remotelistenerserverthread result try result remotelistenerserverthread messagehandler port catch bindexception logger warn port blocked result null catch ioexception result null remotelistenerserverthread result boolean isopen remotelistenerserverthread null start isopen isnotstartedbefore threads started state jabrefexecutorservice instance executeinownthread remotelistenerserverthread boolean isnotstartedbefore threads started state remotelistenerserverthread null remotelistenerserverthread getstate thread state openandstart messagehandler messagehandler port open messagehandler port start override close stop 
438	Protocol.java	LOGIC	net sf jabref logic remote shared io ioexception io inputstream io outputstream net socket net sockettimeoutexception org apache commons logging log org apache commons logging logfactory every message terminated '\0' protocol string identifier jabref log logger logfactory getlog protocol socket socket outputstream inputstream protocol socket socket throws ioexception socket socket socket getoutputstream socket getinputstream sendmessage string message throws ioexception write message getbytes write '\0' flush string receivemessage throws ioexception stringbuilder result stringbuilder try read '\0' result append char catch sockettimeoutexception ex logger info connection timed ex result tostring close try close catch ioexception ignored ignored try close catch ioexception ignored ignored try socket close catch ioexception ignored ignored 
439	RemoteListenerClient.java	LOGIC	net sf jabref logic remote client net inetaddress net socket net sf jabref logic l10n localization net sf jabref logic remote shared protocol org apache commons logging log org apache commons logging logfactory remotelistenerclient log logger logfactory getlog remotelistenerclient timeout attempt send command line arguments already running jabref instance param args command line arguments true successful false otherwise boolean sendtoactivejabrefinstance string[] args remoteserverport try socket socket socket inetaddress getbyname localhost remoteserverport socket setsotimeout timeout protocol protocol protocol socket try string identifier protocol receivemessage protocol identifier equals identifier string port string valueof remoteserverport string error localization lang cannot use port remote operation another application may using try specifying another port port system println error false protocol sendmessage string join \n args true finally protocol close catch exception logger debug could send args string join args server port remoteserverport false 
440	RemoteUtil.java	LOGIC	net sf jabref logic remote remoteutil boolean isuserport portnumber portnumber portnumber 
441	RemotePreferences.java	LOGIC	net sf jabref logic remote place handling preferences remote communication remotepreferences port boolean useremoteserver remotepreferences port boolean useremoteserver port port useremoteserver useremoteserver getport port setport port port port boolean useremoteserver useremoteserver setuseremoteserver boolean useremoteserver useremoteserver useremoteserver boolean isdifferentport otherport getport otherport 
442	BibtexKeyPatternPreferences.java	LOGIC	net sf jabref logic bibtexkeypattern net sf jabref model bibtexkeypattern globalbibtexkeypattern bibtexkeypatternpreferences string keypatternregex string keypatternreplacement boolean alwaysaddletter boolean firstlettera boolean enforcelegalkey globalbibtexkeypattern keypattern character keyworddelimiter bibtexkeypatternpreferences string keypatternregex string keypatternreplacement boolean alwaysaddletter boolean firstlettera boolean enforcelegalkey globalbibtexkeypattern keypattern character keyworddelimiter keypatternregex keypatternregex keypatternreplacement keypatternreplacement alwaysaddletter alwaysaddletter firstlettera firstlettera enforcelegalkey enforcelegalkey keypattern keypattern keyworddelimiter keyworddelimiter string getkeypatternregex keypatternregex string getkeypatternreplacement keypatternreplacement boolean isalwaysaddletter alwaysaddletter boolean isfirstlettera firstlettera boolean isenforcelegalkey enforcelegalkey globalbibtexkeypattern getkeypattern keypattern character getkeyworddelimiter keyworddelimiter 
443	BibtexKeyPatternUtil.java	LOGIC	net sf jabref logic bibtexkeypattern util arraylist util arrays util collections util list util locale util objects util optional util regex matcher util regex pattern net sf jabref logic formatter formatters net sf jabref logic formatter casechanger word net sf jabref logic layout format removelatexcommandsformatter net sf jabref model bibtexkeypattern abstractbibtexkeypattern net sf jabref model cleanup formatter net sf jabref model database bibdatabase net sf jabref model entry authorlist net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model entry keyword net sf jabref model entry keywordlist net sf jabref model strings stringutil org apache commons logging log org apache commons logging logfactory utility labelpattern bibtexkeypatternutil log logger logfactory getlog bibtexkeypatternutil string starting capital pattern [^a z] single characters use extending key make unique: string chars abcdefghijklmnopqrstuvwxyz pattern regex pattern pattern compile \\ \\ [a z] \\ \\ chars first bibdatabase database required labelpatternutiltest param db db use global database setdatabase bibdatabase db database db string normalize string content list<string> tokens arraylist<> stringbuilder stringbuilder stringbuilder token stringbuilder content length string andstring tostring avoid lots calls andstring isempty content charat equals andstring content charat 'a' equals andstring content charat 'n' equals andstring content charat 'd' append content charat else equals tostring content charat stringbuilder tokens add token tostring trim token stringbuilder else content charat content charat token append stringbuilder token append content charat else token append content charat tokens add token tostring stringbuilder normalized stringbuilder tokens size normalized append normalized append isinstitution tokens get generateinstitutionkey tokens get removediacritics tokens get normalized tostring remove diacritics content replaces umlaut: xe oe ue etc removes diacritics: \?x \'a etc param content content content without diacritics string removediacritics string content content isempty content string result content replace umlaut '?e' result result replaceall \\ \\\\\ [a za z] \\ $1e result result replaceall \\\\\ \\ [a za z] \\ $1e result result replaceall \\\\\ [a za z] $1e remove diacritics result result replaceall \\ \\\\ [a za z] \\ $1 result result replaceall \\\\ \\ [a za z] \\ $1 result result replaceall \\\\ [a za z] $1 result unifies umlauts replaces: $\ddot \mathrm alternative umlaut with: replaces: \? \?x \?x diacritic symbol param content content content unified diacritics string unifydiacritics string content content replaceall \\$\\\\ddot\\ \\\\mathrm\\ [^\\ \\ \\ \\$ \\\ $1 replaceall \\\\[^\\ za z] \\ [a za z] \\ $1$2 check value institution usable distinguishing persons institutions author editor fields person: john doe doe john institution: big company institution inc big company institution inc bci param author author editor true author editor institution boolean isinstitution string author stringutil isincurlybrackets author <p> author editor may institution person case key generator builds long keys ldquo attributed graph grammar system agg rdquo ldquo theattributedgraphgrammarsystemagg rdquo p> <p> institution name inside <code> code> brackets institution name also includes abbreviation abbreviation also <code> code> brackets previous example value look like: <code> attributed graph grammar system agg code> p> <p> institution includes abbreviation xyz first abbreviation used key value part author p> <p> institution include abbreviation key generated form name following way: p> <p> institution value contain: institution name part institution address etc information separated comma name institution possible part institution beginning address secondary information end p> part examined separately: <ol> <li>we remove tokens part one defined ignore words press end dot ltd co first character lowercase di li> <li>we detect type part: university technology institute department school rest <ul> <li>university: <code> uni[nameoftheuniversity] code>< li> <li>department: abbreviation words beginning uppercase letter except words: <code>d[ei]p code> school faculty< li> <li>school: department< li> <li>rest: less tokens part result concatenating tokens otherwise result build first letters words starting uppercase letter li> ul> ol> parts concatenated together following way: <ul> <li>if university part use otherwise use rest part li> <li>if school part append li> <li>if department part school part append li> ul> rest part first part match type parts address ignored param content institution generate bibtex key <ul> <li>the institution key< li> <li> case failure< li> <li>null content null< li> ul> string generateinstitutionkey string content content isempty content string result content result unifydiacritics result result result replaceall ^\\ replaceall \\ matcher matcher regex pattern matcher result matcher matches matcher group result removediacritics result string[] parts result split key parts string university null string department null string school null string rest null list<string> ignore arrays aslist press index index parts length index list<string> part arraylist<> cleanup: remove unnecessary words string parts[index] replaceall \\ [a z] \\ split \\ isempty remove empty ignore contains tolowercase locale english remove ignored words charat length string valueof charat matches [a z] length uni equalsignorecase substring part add boolean isuniversity false university boolean istechnology false technology institute boolean isdepartment false departments boolean isschool false schools deciding part type string part matches ^[uu][nn][ii] starts uni case locale independent isuniversity true matches ^[tt][ee][cc][hh] starts tech case locale independent istechnology true fieldname school equalsignorecase isschool true matches ^[dd][eeii][pp] matches ^[ll][aa][bb] starts dep dip lab case locale independent isdepartment true istechnology isuniversity false technology institute university university part looks like: uni[nameoftheuniversity] university detected previous part suggested department isuniversity stringbuilder universitysb stringbuilder universitysb append uni string part matches ^[uu][nn][ii] universitysb append university universitysb tostring index department null department parts[index 1] school abbreviation words beginning capital letter excluding: department school faculty words explicitly defined department part build way school else isschool isdepartment stringbuilder schoolsb stringbuilder stringbuilder departmentsb stringbuilder string part matches ^[dd][eeii][pp] fieldname school equalsignorecase faculty equalsignorecase replaceall starting capital pattern isempty isschool schoolsb append replaceall starting capital pattern isdepartment departmentsb append replaceall starting capital pattern isschool school schoolsb tostring isdepartment department departmentsb tostring part matching university department school else rest null stringbuilder restsb stringbuilder less parts concatenate part size string part restsb append parts use 1st letter abbreviation else string part replaceall starting capital pattern isempty restsb append rest restsb tostring putting parts together university null rest university school null school department null school null department equals school department generates bibtex label according pattern given entry type saves unique label <code>bibtexentry< code> given database used avoid duplicate keys param citekeypattern param dbase <code>bibdatabase< code> param entry <code>bibentry< code> modified bibentry makelabel abstractbibtexkeypattern citekeypattern bibdatabase dbase bibentry entry bibtexkeypatternpreferences bibtexkeypatternpreferences database dbase string key stringbuilder stringbuilder stringbuilder try get type entry string entrytype entry gettype get arraylist corresponding type list<string> typelist arraylist<> citekeypattern getvalue entrytype typelist isempty typelist remove boolean field false string typelistentry typelist equals typelistentry field true else equals typelistentry field false else field check whether modifier end :lower list<string> parts parsefieldmarker typelistentry string label makelabel entry parts get bibtexkeypatternpreferences getkeyworddelimiter apply modifier present parts size label applymodifiers label parts stringbuilder append label else stringbuilder append typelistentry catch exception logger warn cannot make label remove illegal characters key key checklegalkey stringbuilder tostring bibtexkeypatternpreferences isenforcelegalkey remove regular expressions generating keys string regex bibtexkeypatternpreferences getkeypatternregex regex null regex trim isempty string replacement bibtexkeypatternpreferences getkeypatternreplacement key key replaceall regex replacement string oldkey entry getcitekeyoptional orelse null occurrences database getduplicationchecker getnumberofkeyoccurrences key objects equals oldkey key occurrences change accept one dupe boolean alwaysaddletter bibtexkeypatternpreferences isalwaysaddletter boolean firstlettera bibtexkeypatternpreferences isfirstlettera alwaysaddletter occurrences entry setcitekey key else key already use must modify number alwaysaddletter firstlettera string moddedkey moddedkey key getaddition number number occurrences database getduplicationchecker getnumberofkeyoccurrences moddedkey happens #getaddition buggy objects equals oldkey moddedkey occurrences occurrences entry setcitekey moddedkey applies modifiers label generated based field marker param label generated label param parts string array containing modifiers param offset number initial items modifiers array skip modified label string applymodifiers string label list<string> parts offset string resultinglabel label parts size offset offset parts size string modifier parts get abbr equals modifier abbreviate stringbuilder abbreviatesb stringbuilder string[] words resultinglabel replaceall [\\ \\ '] split [\\ \\ \r\n\ string word words word isempty abbreviatesb append word charat resultinglabel abbreviatesb tostring else optional<formatter> formatter formatters getformatterformodifier modifier formatter ispresent resultinglabel formatter get format label else modifier isempty modifier length modifier charat modifier endswith alternate text modifier parentheses inserted label empty: label isempty modifier length resultinglabel modifier substring modifier length else resultinglabel label else logger info key generator warning: unknown modifier modifier resultinglabel label resultinglabel string makelabel bibentry entry string value character keyworddelimiter string val value try val startswith auth val startswith pureauth label code auth author editor edited book use editor instead saw27 mrao cam ac uk people want case somebody really needs field expands nothing author someone uses auth ed label provide alternative form pureauth fallback substitution editor string authstring entry getfield fieldname author map authorstring normalize database resolveforstrings authorstring orelse val startswith pure remove pure prefix remaining code section functions correctly val val substring authstring isempty authstring entry getfield fieldname editor map authorstring normalize database resolveforstrings authorstring orelse gather author related checks check time auth equals val firstauthor authstring else authforeini equals val firstauthorforenameinitials authstring else authfirstfull equals val firstauthorvonandlast authstring else authors equals val allauthors authstring else authorsalpha equals val authorsalpha authstring last author's last name else authorlast equals val lastauthor authstring else authorlastforeini equals val lastauthorforenameinitials authstring else authorini equals val oneauthorplusini authstring else val matches authini[\\d] num integer parseint val substring authinin authstring num else auth auth ea equals val authauthea authstring else auth etal equals val authetal authstring etal else authetal equals val authetal authstring etal else authshort equals val authshort authstring else val matches auth[\\d] [\\d] string[] nums val substring split authnofmth authstring integer parseint nums[0] integer parseint nums[1] else val matches auth\\d authn first chars first author's last name string fa firstauthor authstring num integer parseint val substring num fa length num fa length fa substring num else val matches authors\\d nauthors authstring integer parseint val substring else auth business dead end use literally: entry getfieldoralias val orelse else val startswith ed gather markers starting ed check time edtr equals val firstauthor entry getfield fieldname editor orelse else edtrforeini equals val firstauthorforenameinitials entry getfield fieldname editor orelse else editors equals val allauthors entry getfield fieldname editor orelse last author's last name else editorlast equals val lastauthor entry getfield fieldname editor orelse else editorlastforeini equals val lastauthorforenameinitials entry getfield fieldname editor orelse else editorini equals val oneauthorplusini entry getfield fieldname editor orelse else val matches edtrini[\\d] num integer parseint val substring authinin entry getfield fieldname editor orelse num else val matches edtr[\\d] [\\d] string[] nums val substring split authnofmth entry getfield fieldname editor orelse integer parseint nums[0] integer parseint nums[1] else edtr edtr ea equals val authauthea entry getfield fieldname editor orelse else edtrshort equals val authshort entry getfield fieldname editor orelse authn first chars first author's last name else val matches edtr\\d string fa firstauthor entry getfield fieldname editor orelse num integer parseint val substring num fa length num fa length fa substring num else ed business dead end use literally: entry getfieldoralias val orelse else firstpage equals val firstpage entry getfield fieldname pages orelse else lastpage equals val lastpage entry getfield fieldname pages orelse else shorttitle equals val gettitlewords entry getfield fieldname title orelse else shorttitleini equals val keeplettersanddigitsonly applymodifiers gettitlewordswithspaces entry getfield fieldname title orelse collections singletonlist abbr else veryshorttitle equals val gettitlewords entry getfield fieldname title orelse else shortyear equals val string yearstring entry getfieldoralias fieldname year orelse yearstring isempty yearstring press preparation submitted else yearstring startswith yearstring startswith sub ip else yearstring length yearstring substring yearstring length else yearstring else val matches keyword\\d according labelpattern php returns keyword number num integer parseint val substring keywordlist separatedkeywords entry getkeywords keyworddelimiter separatedkeywords size num enough keywords else num counts index arraylist count separatedkeywords get num tostring else val matches keywords\\d keywords separated num val length num integer parseint val substring else num integer max value keywordlist separatedkeywords entry getkeywords keyworddelimiter stringbuilder sb stringbuilder keyword keyword separatedkeywords remove spaces sb append keyword tostring replaceall \\s num break sb tostring else seen special demands entry getfieldoralias val orelse catch nullpointerexception ex logger debug problem making label ex computes appendix bibtex key could make unique use numbers aa az ba bz etc param number appendix number string append string getaddition number number chars length lastchar number chars length getaddition number chars length chars substring lastchar lastchar else chars substring number number determines number words title field given bibtex entry string gettitlewords number string title keeplettersanddigitsonly gettitlewordswithspaces number title string gettitlewordswithspaces number string title string ss removelatexcommandsformatter format title stringbuilder stringbuilder stringbuilder stringbuilder current piv words sorry english centric guess words really editable preference mainl: piv ss length words number current stringbuilder get next word: piv ss length character iswhitespace ss charat piv ss charat piv current append ss charat piv piv piv check ok: string word current tostring trim word isempty continue string smallword: word smaller words word equalsignorecase smallword continue mainl get word accepted stringbuilder length stringbuilder append stringbuilder append word words stringbuilder tostring string keeplettersanddigitsonly string stringbuilder stringbuilder stringbuilder length character isletterordigit charat stringbuilder append charat stringbuilder tostring gets last name first author editor param authorfield <code>string< code> surname author editor author found method guaranteed never null throws nullpointerexception authorfield null string firstauthor string authorfield authorlist authorlist authorlist parse authorfield authorlist isempty authorlist getauthor getlast orelse gets first name initials first author editor param authorfield <code>string< code> first name initial author editor author found method guaranteed never null throws nullpointerexception authorfield null string firstauthorforenameinitials string authorfield authorlist authorlist authorlist parse authorfield authorlist isempty authorlist getauthor getfirstabbr map substring orelse gets von part last name first author editor spaces returned param authorfield <code>string< code> von part surname author editor author found method guaranteed never null throws nullpointerexception authorfield null string firstauthorvonandlast string authorfield authorlist authorlist authorlist parse authorfield authorlist isempty stringbuilder stringbuilder stringbuilder authorlist getauthor getvon ifpresent vonauthor stringbuilder append vonauthor replaceall authorlist getauthor getlast ifpresent stringbuilder::append stringbuilder tostring gets last name last author editor param authorfield <code>string< code> surname author editor string lastauthor string authorfield string[] tokens authorlist fixauthorforalphabetization authorfield split \\s \\band\\b\\s tokens length string[] lastauthor tokens[tokens length 1] split lastauthor[0] else author empty gets forename initials last author editor param authorfield <code>string< code> forename initial author editor author found method guaranteed never null throws nullpointerexception authorfield null string lastauthorforenameinitials string authorfield authorlist authorlist authorlist parse authorfield authorlist isempty authorlist getauthor authorlist getnumberofauthors getfirstabbr map substring orelse gets last name authors editors param authorfield <code>string< code> sur name authors editors string allauthors string authorfield quick hack use nauthors avoid code duplication nauthors authorfield integer max value returns authors according bibtex alpha style param authorfield string containing value author field initials authornames string authorsalpha string authorfield string authors string fixedauthors authorlist fixauthorlastnameonlycommas authorfield false drop last author makes processing easier fixedauthors fixedauthors replace string[] tokens fixedauthors split max tokens length tokens length max string[] firstauthor tokens[0] replaceall \\s trim split take first letter prefixes van der aalst vd firstauthor length authors authors concat firstauthor[j] substring append last part last name completely authors authors concat firstauthor[firstauthor length 1] substring math min firstauthor[firstauthor length 1] length else max replace whitespaces split lastname string[] curauthor tokens[i] replaceall \\s trim split string acurauthor curauthor use first character part lastname authors authors concat acurauthor substring tokens length authors authors concat authors gets surnames first authors appends etal authors param authorfield <code>string< code> param number desired authors gets surnames first authors appends etal authors string nauthors string authorfield string[] tokens authorlist fixauthorforalphabetization authorfield split \\s \\band\\b\\s stringbuilder authorsb stringbuilder tokens length string lastname tokens[i] replaceall \\s authorsb append lastname tokens length authorsb append etal authorsb tostring gets first part last name first author editor appends last name initial remaining authors editors maximum characters param authorfield <code>string< code> surname authors editors string oneauthorplusini string authorfield string fixedauthorfield authorlist fixauthorforalphabetization authorfield string[] tokens fixedauthorfield split \\s \\band\\b\\s tokens length string firstauthor tokens[0] split [0] stringbuilder authorsb stringbuilder authorsb append firstauthor substring math min chars first firstauthor length tokens length convert lastname firstname firstname lastname authorsb append tokens[i] charat authorsb tostring auth auth ea format: isaac newton james maxwell albert einstein isaac newton james maxwell give: newton maxwell ea newton maxwell string authauthea string authorfield string fixedauthorfield authorlist fixauthorforalphabetization authorfield string[] tokens fixedauthorfield split \\s \\band\\b\\s tokens length stringbuilder author stringbuilder append first author author append tokens[0] split [0] tokens length append second author author append append tokens[1] split [0] tokens length append ea authors author append ea author tostring auth etal authetal format: isaac newton james maxwell albert einstein isaac newton james maxwell auth etal give delim append etal newton etal newton maxwell authetal give delim append etal newtonetal newtonmaxwell note [authetal] equals [authors2] string authetal string authorfield string delim string append string fixedauthorfield authorlist fixauthorforalphabetization authorfield string[] tokens fixedauthorfield split \\s \\band\\b\\s tokens length stringbuilder author stringbuilder author append tokens[0] split [0] tokens length author append delim append tokens[1] split [0] else tokens length author append append author tostring first characters mth author editor starts counting string authnofmth string authorfield counting mminusone string fixedauthorfield authorlist fixauthorforalphabetization authorfield string[] tokens fixedauthorfield split \\s \\band\\b\\s tokens length mminusone mminusone string lastname tokens[mminusone] split [0] lastname length lastname else lastname substring authshort format: added kolja brix kbx users sourceforge net given author names isaac newton james maxwell albert einstein bohr isaac newton james maxwell albert einstein isaac newton james maxwell isaac newton yield nme nme nm newton string authshort string authorfield string fixedauthorfield authorlist fixauthorforalphabetization authorfield stringbuilder author stringbuilder string[] tokens fixedauthorfield split \\band\\b tokens length author append authnofmth fixedauthorfield fixedauthorfield length else tokens length tokens length author append authnofmth fixedauthorfield tokens length author append author tostring authinin format: author gets div #authors chars remaining mod #authors chars equally distributed authors first row #authors first authors get mentioned example newton maxwell einstein bohr newton maxwell einstein newton maxwell newton authini4 gives: nmeb neme nema newt param authorfield authors format param maximum number characters string long negative number zero lead returned throws nullpointerexception authorfield null string authinin string authorfield string fixedauthorfield authorlist fixauthorforalphabetization authorfield stringbuilder author stringbuilder string[] tokens fixedauthorfield split \\band\\b tokens length author tostring charsall tokens length tokens length tokens length author append authnofmth fixedauthorfield charsall else author append authnofmth fixedauthorfield charsall author length author tostring else author tostring substring split pages field separate numbers lowest param pages may null pages string first page number number found string throws nullpointerexception pages null string firstpage string pages string[] splitpages pages split \\d result integer max value string splitpages matches \\d result math min integer parseint result result integer max value else string valueof result split pages field separate numbers highest param pages pages string first page number number found string throws nullpointerexception pages null string lastpage string pages string[] splitpages pages split \\d result integer min value string splitpages matches \\d result math max integer parseint result result integer min value else string valueof result parse field marker modifiers possibly containing parenthesised modifier well escaped colons parentheses param arg argument string array strings representing parts marker list<string> parsefieldmarker string arg list<string> parts arraylist<> stringbuilder current stringbuilder boolean escaped false inparenthesis arg length char currentchar arg charat currentchar ':' escaped inparenthesis parts add current tostring current stringbuilder else currentchar escaped inparenthesis current append currentchar else currentchar escaped inparenthesis inparenthesis current append currentchar else currentchar '\\' escaped escaped false current append currentchar else escaped true else escaped current append currentchar escaped false else current append currentchar parts add current tostring parts method returns string similar one passed except molded form acceptable bibtex <p> watch returned string might length afterwards param key maybenull param enforcelegalkey make sure key legal respects string checklegalkey string key boolean enforcelegalkey key null null enforcelegalkey user want us enforce legal characters must still look whitespace characters commas since would interfere parsing: stringbuilder newkey stringbuilder key length char key charat character iswhitespace \\\ indexof newkey append newkey tostring stringbuilder newkey stringbuilder key length char key charat character iswhitespace \\\ #~^' indexof newkey append replace non english characters like umlauts etc sensible letter letter combination bibtex accept stringutil replacespecialcharacters newkey tostring 
444	OOUtil.java	LOGIC	net sf jabref logic openoffice util enumset util optional util set util regex matcher util regex pattern net sf jabref logic layout layout net sf jabref model database bibdatabase net sf jabref model entry bibentry com sun star beans propertyvetoexception com sun star beans unknownpropertyexception com sun star beans xpropertyset com sun star lang illegalargumentexception com sun star lang wrappedtargetexception com sun star text controlcharacter com sun star text xparagraphcursor com sun star text xtext com sun star text xtextcursor com sun star uno unoruntime utility methods processing oo writer documents ooutil string char strikeout charstrikeout string char underline charunderline string para style name parastylename string char case map charcasemap string char posture charposture string char weight charweight string char escapement height charescapementheight string char escapement charescapement enum formatting bold italic smallcaps superscript subscript underline strikeout monospace pattern html tag pattern compile ?[a z] string uniquefier field uniq ooutil hide constructor insert reference formatted using layout position given cursor param text text insert param cursor cursor giving insert location param layout layout format reference param parstyle name paragraph style use param entry entry insert param database database entry belongs param uniquefier uniqiefier letter append entry's year insertfullreferenceatcurrentlocation xtext text xtextcursor cursor layout layout string parstyle bibentry entry bibdatabase database string uniquefier throws undefinedparagraphformatexception unknownpropertyexception propertyvetoexception wrappedtargetexception illegalargumentexception backup value uniq field case entry already it: optional<string> olduniqval entry getfield uniquefier field set uniq field supplied uniquefier: uniquefier null entry clearfield uniquefier field else entry setfield uniquefier field uniquefier layout entry: string ltext layout dolayout entry database afterwards reset old value: olduniqval ispresent entry setfield uniquefier field olduniqval get else entry clearfield uniquefier field insert formatted text: ooutil insertooformattedtextatcurrentlocation text cursor ltext parstyle insert text formatting indicated html like tags text position given cursor param text text insert param cursor cursor giving insert location param ltext marked text insert param parstyle name paragraph style use throws wrappedtargetexception throws propertyvetoexception throws unknownpropertyexception throws illegalargumentexception insertooformattedtextatcurrentlocation xtext text xtextcursor cursor string ltext string parstyle throws undefinedparagraphformatexception unknownpropertyexception propertyvetoexception wrappedtargetexception illegalargumentexception xparagraphcursor parcursor unoruntime queryinterface xparagraphcursor cursor xpropertyset props unoruntime queryinterface xpropertyset parcursor try props setpropertyvalue para style name parstyle catch illegalargumentexception ex throw undefinedparagraphformatexception parstyle set<formatting> formatting enumset noneof formatting need extract formatting use simple regexp search iteration: piv matcher ooutil html tag matcher ltext find string ss ltext substring piv start ss isempty ooutil inserttextatcurrentlocation text cursor ss formatting string tag group handle tags: <b> equals tag formatting add formatting bold else b> equals tag formatting remove formatting bold else <i> equals tag <em> equals tag formatting add formatting italic else i> equals tag em> equals tag formatting remove formatting italic else <tt> equals tag formatting add formatting monospace else tt> equals tag formatting remove formatting monospace else <smallcaps> equals tag formatting add formatting smallcaps else smallcaps> equals tag formatting remove formatting smallcaps else <sup> equals tag formatting add formatting superscript else sup> equals tag formatting remove formatting superscript else <sub> equals tag formatting add formatting subscript else sub> equals tag formatting remove formatting subscript else <u> equals tag formatting add formatting underline else u> equals tag formatting remove formatting underline else <s> equals tag formatting add formatting strikeout else s> equals tag formatting remove formatting strikeout piv end piv ltext length ooutil inserttextatcurrentlocation text cursor ltext substring piv formatting cursor collapsetoend insertparagraphbreak xtext text xtextcursor cursor throws illegalargumentexception text insertcontrolcharacter cursor controlcharacter paragraph break true cursor collapsetoend inserttextatcurrentlocation xtext text xtextcursor cursor string string set<formatting> formatting throws unknownpropertyexception propertyvetoexception wrappedtargetexception illegalargumentexception text insertstring cursor string true access property set cursor set currently selected text string inserted bold xpropertyset xcursorprops unoruntime queryinterface xpropertyset cursor formatting contains formatting bold xcursorprops setpropertyvalue char weight com sun star awt fontweight bold else xcursorprops setpropertyvalue char weight com sun star awt fontweight normal formatting contains formatting italic xcursorprops setpropertyvalue char posture com sun star awt fontslant italic else xcursorprops setpropertyvalue char posture com sun star awt fontslant none formatting contains formatting smallcaps xcursorprops setpropertyvalue char case map com sun star style casemap smallcaps else xcursorprops setpropertyvalue char case map com sun star style casemap none todo: <monospace> tag work formatting contains formatting monospace xcursorprops setpropertyvalue charfontpitch com sun star awt fontpitch fixed else xcursorprops setpropertyvalue charfontpitch com sun star awt fontpitch variable formatting contains formatting subscript xcursorprops setpropertyvalue char escapement byte xcursorprops setpropertyvalue char escapement height byte else formatting contains formatting superscript xcursorprops setpropertyvalue char escapement byte xcursorprops setpropertyvalue char escapement height byte else xcursorprops setpropertyvalue char escapement byte xcursorprops setpropertyvalue char escapement height byte formatting contains formatting underline xcursorprops setpropertyvalue char underline com sun star awt fontunderline single else xcursorprops setpropertyvalue char underline com sun star awt fontunderline none formatting contains formatting strikeout xcursorprops setpropertyvalue char strikeout com sun star awt fontstrikeout single else xcursorprops setpropertyvalue char strikeout com sun star awt fontstrikeout none cursor collapsetoend inserttextatcurrentlocation xtext text xtextcursor cursor string string string parstyle throws wrappedtargetexception propertyvetoexception unknownpropertyexception undefinedparagraphformatexception text insertstring cursor string true xparagraphcursor parcursor unoruntime queryinterface xparagraphcursor cursor access property set cursor set currently selected text string inserted bold xpropertyset props unoruntime queryinterface xpropertyset parcursor try props setpropertyvalue para style name parstyle catch illegalargumentexception ex throw undefinedparagraphformatexception parstyle cursor collapsetoend object getproperty object string property throws unknownpropertyexception wrappedtargetexception xpropertyset props unoruntime queryinterface xpropertyset props getpropertyvalue property 
445	OOPreFormatter.java	LOGIC	net sf jabref logic openoffice util map net sf jabref logic layout layoutformatter net sf jabref model strings htmlunicodeconversionmaps net sf jabref model strings stringutil formatter preprocesses jabref fields run layout bibliography style handles translation latex italic bold commands html tags version $revision: $date: 18:40:26 tue jan oopreformatter layoutformatter map<string string> chars htmlunicodeconversionmaps latex unicode conversion map override string format string field string finalresult field replaceall \\\\ replace replace \\$ dollar replace \$ dollar replaceall \\$ [^\\$] \\$ \\ $1\\ replace simplify conversion stringbuilder sb stringbuilder stringbuilder currentcommand null char boolean escaped false boolean incommand false finalresult length finalresult charat escaped '\\' sb append '\\' escaped false else '\\' incommand close command string command currentcommand tostring string result oopreformatter chars get command result null sb append command else sb append result escaped true incommand true currentcommand stringbuilder else incommand swallow braces necessary replacing encoded characters else character isletter stringutil special command chars contains string valueof escaped false incommand sb append else currentcommand append testcharcom: currentcommand length stringutil special command chars contains currentcommand tostring indicates command type \^o \~ finalresult length break testcharcom string command currentcommand tostring finalresult charat string combody string part stringutil getpart finalresult false part length combody part else combody finalresult substring string result oopreformatter chars get command combody result null sb append result incommand false escaped false else already end string? finalresult length string command currentcommand tostring string result oopreformatter chars get command found use translated version keep text parameter intact result null sb append command else sb append result else string argument incommand sb append else character iswhitespace string command currentcommand tostring test dealing formatting command handle string tag gethtmltag command tag isempty string part stringutil getpart finalresult true part length sb append '<' append tag append '>' append part append append tag append '>' else string part stringutil getpart finalresult true part length argument part handle common case general latex command string result oopreformatter chars get command argument found use translated version keep text parameter intact result null sb append argument else sb append result else end brace terminates command case constructs like \aa correct behaviour substitute evaluated command swallow brace: string result oopreformatter chars get command result null command unknown print it: sb append command else sb append result else string result oopreformatter chars get command result null sb append command else sb append result sb append else system printf com term s'\n currentcommand tostring argument else todo: point reached apparently command terminated strange way $\omega$ also command causes us get former issue maybe little difficult address since involves latex math mode complete latex parser maybe better ignore commands? incommand false escaped false sb tostring replace dollar replace dollar string gethtmltag string latexcommand string result switch latexcommand italic case textit case case emph really separate emphasized italic since later stages converted italic case em result break bold font case textbf case bf result break small capitals case textsc result smallcaps proper html tag used convenience break underline case underline result break strikeout sout standard command although actually based ulem case sout result break monospace font case texttt result tt break superscript case textsuperscript result sup break subscript case textsubscript result sub break default: break result 
446	OpenOfficePreferences.java	LOGIC	net sf jabref logic openoffice io file util list net sf jabref logic l10n localization net sf jabref preferences jabrefpreferences openoffice connection preferences are: oo path main directory oo lo installation used detect location win os using manual connect oo executable path path soffice file oo jars path directory contains juh jar jurt jar ridl jar unoil jar oo sync citing true reference list updated adding citation oo show panel true oo panel shown startup oo use open databases true databases used citing oo bibliography style file path used style file oo external style files list paths external style files openofficepreferences jabrefpreferences preferences string default windows path c:\\program files\\openoffice org string windows executable subpath \\program\\ string windows executable soffice exe string windows jars subpath \\program\\classes string default osx path applications openoffice org app string osx executable subpath contents macos string osx executable soffice bin string osx jars subpath contents resources string linux executable soffice openofficepreferences jabrefpreferences preferences preferences preferences updateconnectionparams string oopath string execpath string jarspath setoopath oopath setexecutablepath execpath setjarspath jarspath boolean checkautodetectedpaths preferences haskey jabrefpreferences oo jars path preferences haskey jabrefpreferences oo executable path file getjarspath jurt jar exists file getexecutablepath exists else false string clearconnectionsettings preferences clear jabrefpreferences oo path preferences clear jabrefpreferences oo executable path preferences clear jabrefpreferences oo jars path localization lang cleared connection settings string getjarspath preferences get jabrefpreferences oo jars path setjarspath string path preferences put jabrefpreferences oo jars path path string getexecutablepath preferences get jabrefpreferences oo executable path setexecutablepath string path preferences put jabrefpreferences oo executable path path string getoopath preferences get jabrefpreferences oo path setoopath string path preferences put jabrefpreferences oo path path boolean usealldatabases preferences getboolean jabrefpreferences oo use open bases setusealldatabases boolean use preferences putboolean jabrefpreferences oo use open bases use boolean syncwhenciting preferences getboolean jabrefpreferences oo sync citing setsyncwhenciting boolean sync preferences putboolean jabrefpreferences oo sync citing sync boolean showpanel preferences getboolean jabrefpreferences oo show panel setshowpanel boolean show preferences putboolean jabrefpreferences oo show panel show list<string> getexternalstyles preferences getstringlist jabrefpreferences oo external style files setexternalstyles list<string> filenames preferences putstringlist jabrefpreferences oo external style files filenames string getcurrentstyle preferences get jabrefpreferences oo bibliography style file clearcurrentstyle preferences remove jabrefpreferences oo bibliography style file setcurrentstyle string path preferences put jabrefpreferences oo bibliography style file path 
447	OpenOfficeFileSearch.java	LOGIC	net sf jabref logic openoffice io file util arraylist util list util optional openofficefilesearch boolean filesearchcanceled search program files directory file pointing program files directory null found since including library windows integration method can't find program files dir localized windows installations list<file> findwindowsprogramfilesdir list<string> sourcelist arraylist<> list<file> dirlist arraylist<> check default bits program directory string progfiles system getenv programfiles progfiles null sourcelist add progfiles check default bits program directory progfiles system getenv programfiles x86 progfiles null sourcelist add progfiles string rootpath sourcelist file root file rootpath file[] dirs root listfiles file::isdirectory dirs null file dir dirs dir getpath contains openoffice dir getpath contains libreoffice dirlist add dir dirlist search program files directory file pointing program files directory null found since including library windows integration method can't find program files dir localized windows installations list<file> findosxprogramfilesdir list<file> dirlist arraylist<> file rootdir file applications file[] files rootdir listfiles files null file file files file isdirectory openoffice org app equals file getname libreoffice app equals file getname dirlist add file dirlist resetfilesearch filesearchcanceled false cancelfilesearch filesearchcanceled true list<file> findfileindirs list<file> dirlist string filename list<file> sofficefiles arraylist<> file dir dirlist filesearchcanceled break findfileindir dir filename ifpresent sofficefiles::add sofficefiles search file starting given directory param startdir starting point param filename name file search directory file first found null found optional<file> findfileindir file startdir string filename filesearchcanceled optional empty file[] files startdir listfiles files null optional empty optional<file> result optional empty file file files filesearchcanceled optional empty file isdirectory result findfileindir file filename result ispresent result else file getname equals filename optional startdir result 
448	StyleLoader.java	LOGIC	net sf jabref logic openoffice io file io filenotfoundexception io ioexception nio charset charset util arraylist util arrays util list util objects net sf jabref logic layout layoutformatterpreferences org apache commons logging log org apache commons logging logfactory styleloader log logger logfactory getlog styleloader string default authoryear style path resource openoffice default authoryear jstyle string default numerical style path resource openoffice default numerical jstyle internal styles list<string> internalstylefiles arrays aslist default authoryear style path default numerical style path openofficepreferences preferences charset encoding layoutformatterpreferences layoutformatterpreferences lists internal external styles list<oobibstyle> internalstyles arraylist<> list<oobibstyle> externalstyles arraylist<> styleloader openofficepreferences preferences layoutformatterpreferences jabrefpreferences charset encoding preferences objects requirenonnull preferences layoutformatterpreferences objects requirenonnull jabrefpreferences encoding objects requirenonnull encoding loadinternalstyles loadexternalstyles list<oobibstyle> getstyles list<oobibstyle> result arraylist<> internalstyles result addall externalstyles result adds given style list styles param filename filename style true added style valid false otherwise boolean addstyleifvalid string filename objects requirenonnull filename try oobibstyle newstyle oobibstyle file filename layoutformatterpreferences encoding externalstyles contains newstyle logger info external style file filename already existing else newstyle isvalid externalstyles add newstyle storeexternalstyles true else logger error string format style filename invalid filename catch filenotfoundexception file found tell anyone? logger info cannot find external style file filename catch ioexception logger info problem reading external style file filename false loadexternalstyles externalstyles clear read external lists list<string> lists preferences getexternalstyles string filename lists try oobibstyle style oobibstyle file filename layoutformatterpreferences encoding style isvalid problem externalstyles add style else logger error string format style filename invalid filename catch filenotfoundexception file found tell anyone? logger info cannot find external style file filename catch ioexception logger info problem reading external style file filename loadinternalstyles internalstyles clear string filename internalstylefiles try internalstyles add oobibstyle filename layoutformatterpreferences catch ioexception logger info problem reading internal style file filename storeexternalstyles list<string> filenames arraylist<> externalstyles size oobibstyle style externalstyles filenames add style getpath preferences setexternalstyles filenames boolean removestyle oobibstyle style objects requirenonnull style style isfromresource boolean result externalstyles remove style storeexternalstyles result false oobibstyle getusedstyle string filename preferences getcurrentstyle filename null oobibstyle style getstyles filename equals style getpath style pick first internal preferences setcurrentstyle internalstyles get getpath internalstyles get 
449	CitationEntry.java	LOGIC	net sf jabref logic openoffice util optional citationentry comparable<citationentry> string refmarkname optional<string> pageinfo string context optional<string> origpageinfo used testing citationentry string refmarkname string context refmarkname context optional empty used testing citationentry string refmarkname string context string pageinfo refmarkname context optional ofnullable pageinfo citationentry string refmarkname string context optional<string> pageinfo refmarkname refmarkname context context pageinfo pageinfo origpageinfo pageinfo optional<string> getpageinfo pageinfo string getrefmarkname refmarkname boolean pageinfochanged pageinfo ispresent origpageinfo ispresent true pageinfo ispresent means origpageinfo ispresent also true pageinfo get compareto origpageinfo get else origpageinfo ispresent false false override compareto citationentry refmarkname compareto refmarkname override boolean equals object true instanceof citationentry citationentry citationentry refmarkname equals refmarkname false override hashcode refmarkname hashcode string getcontext context setpageinfo string trim pageinfo optional ofnullable trim 
450	UndefinedParagraphFormatException.java	LOGIC	net sf jabref logic openoffice exception used indicate plugin attempted set paragraph format defined current openoffice document undefinedparagraphformatexception exception string formatname undefinedparagraphformatexception string formatname super formatname formatname string getformatname formatname 
451	UndefinedBibtexEntry.java	LOGIC	net sf jabref logic openoffice net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model entry idgenerator subclass bibentry representing entries referenced document can't found jabref's current database undefinedbibtexentry bibentry string key undefinedbibtexentry string key super idgenerator next key key setfield fieldname author oobibstyle undefined citation marker string getkey key 
452	OOBibStyle.java	LOGIC	net sf jabref logic openoffice io file io fileinputstream io ioexception io inputstream io inputstreamreader io reader io stringreader nio charset charset nio charset standardcharsets util arraylist util collections util hashmap util list util locale util map util objects util optional util set util sortedset util treeset util regex pattern net sf jabref logic layout layout net sf jabref logic layout layoutformatter net sf jabref logic layout layoutformatterpreferences net sf jabref logic layout layouthelper net sf jabref model database bibdatabase net sf jabref model entry author net sf jabref model entry authorlist net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model strings stringutil org apache commons logging log org apache commons logging logfactory embodies bibliography formatting openoffice composed following elements: <p> oo bib entry type must formatting formatting array elements either piece constant text entry field value tab element character format associated <p> many field values author need formatted input openoffice style responsibility formatting field values formatting handled jabref layoutformatter classes <p> entries numbered citation marker must produced entry operation performed jabref bibentry oobibstyle comparable<oobibstyle> string undefined citation marker ?? string name sortedset<string> journals treeset<> formatter run fields used part citation marker: layoutformatter fieldformatter oopreformatter layout defaultbiblayout reference layout mapped entry type number: map<string layout> biblayout hashmap<> map<string object> properties hashmap<> map<string object> citproperties hashmap<> pattern num pattern pattern compile ?\\d boolean valid boolean fromresource string path enum bibstylemode none layout properties citation name journals string layout mrk layout string properties mark properties string citation mark citation string name mark name string journals mark journals string default mark default file stylefile charset encoding long stylefilemodificationtime long min value string localcopy string bracket list bracketafterinlist string bracket list bracketbeforeinlist string uniquefier separator uniquefierseparator string italic et al italicetal string bibtex key citations bibtexkeycitations string multi cite chronological multicitechronological string subscript citations subscriptcitations string superscript citations superscriptcitations string bold citations boldcitations string italic citations italiccitations string citation character format citationcharacterformat string format citations formatcitations string minimum grouping count minimumgroupingcount string grouped numbers separator groupednumbersseparator string page info separator pageinfoseparator string citation separator citationseparator string text year separator intextyearseparator string et al string etalstring string max authors first maxauthorsfirst string max authors maxauthors string year field yearfield string author field authorfield string reference header paragraph format referenceheaderparagraphformat string reference paragraph format referenceparagraphformat string bracket bracketafter string bracket bracketbefore string number entries isnumberentries string sort position issortbyposition string sort algorithm sortalgorithm string oxford comma oxfordcomma string title title string year separator yearseparator string author last separator text authorlastseparatorintext string author last separator authorlastseparator string author separator authorseparator layoutformatterpreferences prefs pattern quoted pattern compile log logger logfactory getlog oobibstyle oobibstyle file stylefile layoutformatterpreferences prefs charset encoding throws ioexception prefs objects requirenonnull prefs stylefile objects requirenonnull stylefile encoding objects requirenonnull encoding setdefaultproperties reload fromresource false path stylefile getpath oobibstyle string resourcepath layoutformatterpreferences prefs throws ioexception prefs objects requirenonnull prefs encoding standardcharsets utf setdefaultproperties initialize oobibstyle getresource resourcepath openstream fromresource true path resourcepath setdefaultproperties set default property values: properties put title bibliography properties put sort algorithm alphanumeric properties put sort position boolean false properties put number entries boolean false properties put bracket properties put bracket properties put reference paragraph format default properties put reference header paragraph format heading set default properties citation marker: citproperties put author field fieldname orfields fieldname author fieldname editor citproperties put year field fieldname year citproperties put max authors citproperties put max authors first citproperties put author separator citproperties put author last separator citproperties put author last separator text null citproperties put et al string et al citproperties put year separator citproperties put text year separator citproperties put bracket citproperties put bracket citproperties put citation separator citproperties put page info separator citproperties put grouped numbers separator citproperties put minimum grouping count citproperties put format citations boolean false citproperties put citation character format default citproperties put italic citations boolean false citproperties put bold citations boolean false citproperties put superscript citations boolean false citproperties put subscript citations boolean false citproperties put multi cite chronological boolean true citproperties put bibtex key citations boolean false citproperties put italic et al boolean false citproperties put oxford comma string getname name string getpath path file getfile stylefile set<string> getjournals collections unmodifiableset journals initialize inputstream stream throws ioexception try reader reader inputstreamreader stream encoding readformatfile reader style initialized file disk reload style file modified since read throws ioexception ensureuptodate throws ioexception isuptodate reload style initialized file disk reload style information throws ioexception reload throws ioexception stylefile null stylefilemodificationtime stylefile lastmodified try inputstream stream fileinputstream stylefile initialize stream style initialized file disk check whether file unmodified since initialization true file modified false otherwise boolean isuptodate stylefile null true else stylefile lastmodified stylefilemodificationtime readformatfile reader throws ioexception first read contents file: stringbuilder sb stringbuilder read sb append char store local copy viewing localcopy sb tostring break separate lines: string[] lines sb tostring split \n bibstylemode mode bibstylemode none string line1 lines string line line1 line isempty line charat line length '\r' line line substring line length check empty line comment: line trim isempty line charat '#' continue check change mode: switch line case name mark: mode bibstylemode name continue case layout mrk: mode bibstylemode layout continue case properties mark: mode bibstylemode properties continue case citation mark: mode bibstylemode citation continue case journals mark: mode bibstylemode journals continue default: break switch mode case name: line trim isempty name line trim break case layout: handlestructureline line break case properties: handlepropertiesline line properties break case citation: handlepropertiesline line citproperties break case journals: handlejournalsline line break default: break set validity boolean based whether found anything interesting file: mode bibstylemode none valid true initializing style file method used check whether file appeared proper style file true file could parsed style file false otherwise boolean isvalid valid parse line providing bibliography structure information entry type param line string containing structure description throws ioexception handlestructureline string line index line indexof index index line length string formatstring line substring index boolean setdefault line substring index equals oobibstyle default mark string type line substring index try layout layout layouthelper stringreader formatstring prefs getlayoutfromtext setdefault defaultbiblayout layout else biblayout put type tolowercase locale english layout catch ioexception ex logger warn cannot parse bibliography structure ex parse line providing property name value param line line containing formatter names throws ioexception handlepropertiesline string line map<string object> map index line indexof index index line length string propertyname line substring index trim string value line substring index value trim length quoted matcher value trim matches value value trim substring value trim length object toset value num pattern matcher value matches toset integer parseint value else true equalsignorecase value trim toset boolean true else false equalsignorecase value trim toset boolean false map put propertyname toset parse line providing journal name style valid param line throws ioexception handlejournalsline string line line trim isempty journals add line trim layout getreferenceformat string type layout biblayout get type tolowercase locale english null defaultbiblayout else format number based citation marker given number param number citation numbers text citation string getnumcitationmarker list<integer> number mingroupingcount boolean inlist string bracketbefore getstringcitproperty bracket inlist citproperties containskey bracket list bracketbefore getstringcitproperty bracket list string bracketafter getstringcitproperty bracket inlist citproperties containskey bracket list bracketafter getstringcitproperty bracket list sort numbers: list<integer> lnum arraylist<> number collections sort lnum stringbuilder sb stringbuilder bracketbefore combinefrom written lnum size i1 lnum get combinefrom check next entry next ref list: lnum size lnum get i1 i1 combinefrom i1 else add single entry: sb append getstringcitproperty citation separator sb append lnum get string valueof lnum get oobibstyle undefined citation marker written else building list combined entries check ends here: lnum size lnum get i1 written sb append getstringcitproperty citation separator mingroupingcount i1 combinefrom mingroupingcount sb append combinefrom sb append getstringcitproperty grouped numbers separator sb append i1 written else either never group enough entries case group output all: jj combinefrom jj i1 jj sb append jj jj i1 sb append getstringcitproperty citation separator written combinefrom end keep iterating sb append bracketafter sb tostring format marker text citation according bib style uniquefier letters added provided uniquefiers argument successive entries within citation uniquefied method perform grouping entries param entries list jabref bibentry providing data param database map bibentry bibdatabase pairs param inparenthesis signals whether parenthesized citation text citation wanted param uniquefiers strings add behind year entry case needed separate similar entries param unlimauthors boolean entry true use et al formatting regardless number authors null indicate entries unlimited names formatted citation string getcitationmarker list<bibentry> entries map<bibentry bibdatabase> database boolean inparenthesis string[] uniquefiers int[] unlimauthors look groups uniquefied entries combined output olsen 2005a output instead olsen 2005a olsen 2005b piv string tmpmarker null uniquefiers null uniquefiers length uniquefiers[i] null uniquefiers[i] isempty entry uniquefier check passed group one entry uniquefier: piv piv grouping: group entries uniquefiers piv piv else bibentry currententry entries get piv piv tmpmarker getauthoryearparenthesismarker collections singletonlist currententry database null unlimauthors else see entry go group previous one: string thismarker getauthoryearparenthesismarker collections singletonlist currententry database null unlimauthors string authorfield getstringcitproperty author field maxauthors getintcitproperty max authors string author getcitationmarkerfield currententry database get currententry authorfield authorlist al authorlist parse author prevalim unlimauthors[i 1] always least thismarker equals tmpmarker al getnumberofauthors maxauthors unlimauthors[i] prevalim match update piv exclude previous entry first check previous entry part group: piv piv grouping: group entries uniquefiers piv tmpmarker thismarker piv finished loop see last entries form group: piv grouping: group entries uniquefiers piv uniquefiers length inparenthesis getauthoryearparenthesismarker entries database uniquefiers unlimauthors else getauthoryearintextmarker entries database uniquefiers unlimauthors modify entry uniquefier arrays facilitate grouped presentation uniquefied entries param entries entry array param uniquefiers uniquefier array param first index group inclusive param last index group inclusive group list<bibentry> entries string[] uniquefiers string separator getstringcitproperty uniquefier separator stringbuilder sb stringbuilder uniquefiers[from] sb append separator sb append uniquefiers[i] entries set null uniquefiers[from] sb tostring method produces author year style citation strings many different forms param entries list bibentry get fields param database map bibentry bibdatabase pairs param uniquifiers optional parameter separate similar citations elements null needed formatted citation string getauthoryearparenthesismarker list<bibentry> entries map<bibentry bibdatabase> database string[] uniquifiers int[] unlimauthors string authorfield getstringcitproperty author field bibtex field providing author names author editor maxa getintcitproperty max authors maximum number authors write full without using etal set always write authors string yearsep getstringcitproperty year separator string separate authors year string startbrace getstringcitproperty bracket opening parenthesis string endbrace getstringcitproperty bracket closing parenthesis string citationseparator getstringcitproperty citation separator string separate citations string yearfield getstringcitproperty year field bibtex field providing year year string andstring getstringcitproperty author last separator string add two last author names stringbuilder sb stringbuilder startbrace entries size bibentry currententry entries get check entry nulled due grouping previous entry ies currententry null continue sb append citationseparator bibdatabase currentdatabase database get currententry unlima unlimauthors null unlimauthors[j] maxauthors unlima unlima maxa string author getcitationmarkerfield currententry currentdatabase authorfield string authorstring createauthorlist author maxauthors andstring yearsep sb append authorstring string year getcitationmarkerfield currententry currentdatabase yearfield year null sb append year uniquifiers null uniquifiers[j] null sb append uniquifiers[j] sb append endbrace sb tostring method produces author year style citation strings many different forms param entries list bibentry get fields param database map bibentry bibdatabase pairs param uniquefiers optional parameters separate similar citations null needed formatted citation string getauthoryearintextmarker list<bibentry> entries map<bibentry bibdatabase> database string[] uniquefiers int[] unlimauthors string authorfield getstringcitproperty author field bibtex field providing author names author editor maxa getintcitproperty max authors maximum number authors write full without using etal set always write authors string yearsep getstringcitproperty text year separator string separate authors year string startbrace getstringcitproperty bracket opening parenthesis string endbrace getstringcitproperty bracket closing parenthesis string citationseparator getstringcitproperty citation separator string separate citations string yearfield getstringcitproperty year field bibtex field providing year year string andstring getstringcitproperty author last separator text string add two last author names andstring null use default one explicit separator text defined andstring getstringcitproperty author last separator stringbuilder sb stringbuilder entries size bibentry currententry entries get check entry nulled due grouping previous entry ies currententry null continue bibdatabase currentdatabase database get currententry unlima unlimauthors null unlimauthors[i] maxauthors unlima unlima maxa sb append citationseparator string author getcitationmarkerfield currententry currentdatabase authorfield string authorstring createauthorlist author maxauthors andstring yearsep sb append authorstring sb append startbrace string year getcitationmarkerfield currententry currentdatabase yearfield year null sb append year uniquefiers null uniquefiers[i] null sb append uniquefiers[i] sb append endbrace sb tostring method looks field entry database number backup fields used primary field empty param entry entry param database database entry belongs param field field succession fields look backup fields needed separate field names use author editor backup specify fieldname orfields fieldname author fieldname editor resolved field content empty string field empty string getcitationmarkerfield bibentry entry bibdatabase database string field string authorfield getstringcitproperty author field string[] fields field split fieldname field separator string fields optional<string> content entry getresolvedfieldoralias database content ispresent content get trim isempty field equals authorfield stringutil isincurlybrackets content get fieldformatter format content get fieldformatter format content get luck? empty string: look nth author proper last name citation markers param al author list param number number author author name empty string inapplicable string getauthorlastname authorlist al number stringbuilder sb stringbuilder al getnumberofauthors number author al getauthor number getvon filter von von isempty ifpresent von sb append von append sb append getlast orelse sb tostring take finished citation insert string end inside end bracket separated pageinfoseparator param citation param pageinfo string insertpageinfo string citation string pageinfo string bracketafter getstringcitproperty bracket citation endswith bracketafter string first citation substring citation length bracketafter length first getstringcitproperty page info separator pageinfo bracketafter else citation getstringcitproperty page info separator pageinfo convenience method checking property whether use number citations author year citations true use numbered citations false otherwise boolean isnumberentries boolean getproperty number entries convenience method checking property whether sort bibliography according order appearance text true sort appearance false sort alphabetically boolean issortbyposition boolean getproperty sort position convenience method checking whether citation markers italicized relevant isformatcitations returns true true indicate citations italics boolean isitaliccitations boolean citproperties get italic citations convenience method checking whether citation markers bold relevant isformatcitations returns true true indicate citations bold boolean isboldcitations boolean citproperties get bold citations convenience method checking whether citation markers formatted according results isitaliccitations isboldcitations methods true indicate citations italics boolean isformatcitations boolean citproperties get format citations boolean isbibtexkeycitemarkers boolean citproperties get bibtex key citations get boolean property param key property key value boolean getbooleancitproperty string key boolean citproperties get key getintcitproperty string key integer citproperties get key string getstringcitproperty string key string citproperties get key string getcitationcharacterformat getstringcitproperty citation character format get style property param propname property name property value null exist object getproperty string propname properties get propname boolean isfromresource fromresource string getlocalcopy localcopy override compareto oobibstyle getname compareto getname override boolean equals object true instanceof oobibstyle oobibstyle otherstyle oobibstyle objects equals path otherstyle path objects equals name otherstyle name objects equals citproperties otherstyle citproperties objects equals properties otherstyle properties false override hashcode objects hash path name citproperties properties string createauthorlist string author maxauthors string andstring string yearsep objects requirenonnull author string etalstring getstringcitproperty et al string string represent authors mentioned et al string authorsep getstringcitproperty author separator string add author names except last two string oxfordcomma getstringcitproperty oxford comma string put second last author case three authors stringbuilder sb stringbuilder authorlist al authorlist parse author al isempty sb append getauthorlastname al al getnumberofauthors al getnumberofauthors maxauthors maxauthors al getnumberofauthors sb append authorsep sb append getauthorlastname al al getnumberofauthors sb append oxfordcomma sb append andstring sb append getauthorlastname al al getnumberofauthors else al getnumberofauthors maxauthors sb append etalstring sb append yearsep sb tostring 
453	JournalAutoCompleter.java	LOGIC	net sf jabref logic autocompleter util list util objects net sf jabref logic journals abbreviation net sf jabref logic journals journalabbreviationloader net sf jabref logic journals journalabbreviationpreferences journalautocompleter entirefieldautocompleter journalabbreviationloader abbreviationloader journalabbreviationpreferences journalabbreviationpreferences journalautocompleter string fieldname autocompletepreferences preferences journalabbreviationloader abbreviationloader super fieldname preferences abbreviationloader objects requirenonnull abbreviationloader journalabbreviationpreferences preferences getjournalabbreviationpreferences override list<string> complete string tocomplete list<string> completions super complete tocomplete also journal names journal abbreviation list abbreviation abbreviation abbreviationloader getrepository journalabbreviationpreferences getabbreviations abbreviation getname startswith tocomplete completions add abbreviation getname completions 
454	AbstractAutoCompleter.java	LOGIC	net sf jabref logic autocompleter util arraylist util hashmap util list util map util objects util set util sortedset util treeset net sf jabref logic layout format latextounicodeformatter delivers possible completions given string author kahlert cordes olly98 see autocompleterfactory abstractautocompleter autocompleter<string> shortest word add autocompletepreferences preferences stores strings treeset<string> indexcasesensitive treeset<> stores strings lowercase treeset<string> indexcaseinsensitive treeset<> stores lowercase string possible expanded strings map<string set<string>> possiblestringsforsearchstring hashmap<> abstractautocompleter autocompletepreferences preferences preferences objects requirenonnull preferences inheritdoc completion case sensitive string contains upper case letters otherwise completion case insensitive override list<string> complete string tocomplete tocomplete null arraylist<> istooshorttocomplete tocomplete arraylist<> string lowercase tocomplete tolowercase lowercase equals tocomplete user typed lower case word case insensitive search string ender abstractautocompleter incrementlastcharacter lowercase sortedset<string> subset indexcaseinsensitive subset lowercase ender subset contains lower case strings determine possible strings hit list<string> result arraylist<> string subset result addall possiblestringsforsearchstring get result else user typed mix upper case lower case assume user wants exact search string ender abstractautocompleter incrementlastcharacter tocomplete sortedset<string> subset indexcasesensitive subset tocomplete ender arraylist<> subset increments last character string example: incrementlastcharacter abc returns abd string incrementlastcharacter string toincrement toincrement isempty char lastchar toincrement charat toincrement length toincrement substring toincrement length character tostring char lastchar returns whether string short completed boolean istooshorttocomplete string tocheck tocheck length preferences getshortestlengthtocomplete override additemtoindex string word word length getlengthofshortestwordtoadd word latextounicodeformatter format word indexcasesensitive add word insensitive treatment first add lower cased word search index second add mapping lower cased word real word string lowercase word tolowercase indexcaseinsensitive add lowercase set<string> set possiblestringsforsearchstring get lowercase set null set treeset<> set add word possiblestringsforsearchstring put lowercase set override string getprefix override string getautocompletetext string item item getlengthofshortestwordtoadd abstractautocompleter shortest word add 
455	DefaultAutoCompleter.java	LOGIC	net sf jabref logic autocompleter util objects util stringtokenizer net sf jabref model entry bibentry delivers possible completions given string stores words given field separated separating chars author kahlert cordes defaultautocompleter abstractautocompleter string fieldname string separating chars \n see autocompleterfactory defaultautocompleter string fieldname autocompletepreferences preferences super preferences fieldname objects requirenonnull fieldname override boolean issingleunitfield false inheritdoc stores words given field separated separating chars override addbibtexentry bibentry entry entry null entry getfield fieldname ifpresent fieldvalue stringtokenizer tok stringtokenizer fieldvalue separating chars tok hasmoretokens additemtoindex tok nexttoken 
456	ContentAutoCompleters.java	LOGIC	net sf jabref logic autocompleter util list util objects net sf jabref logic journals journalabbreviationloader net sf jabref model database bibdatabase contentautocompleters autocompleters contentautocompleters contentautocompleters bibdatabase database autocompletepreferences preferences journalabbreviationloader abbreviationloader objects requirenonnull preferences autocompleterfactory autocompleterfactory autocompleterfactory preferences abbreviationloader list<string> completefields preferences getcompletenames string field completefields autocompleter<string> autocompleter autocompleterfactory getfor field put field autocompleter adddatabase database 
457	AutoCompletePreferences.java	LOGIC	net sf jabref logic autocompleter util list util map util objects net sf jabref logic journals journalabbreviationpreferences net sf jabref preferences jabrefpreferences autocompletepreferences jabrefpreferences preferences string autocompleter shortest complete shortesttocomplete string autocompleter firstname mode autocompfirstnamemode string autocompleter last first autocomplf string autocompleter first last autocompff string autocompleter complete fields autocompletefields putdefaults map<string object> defaults defaults put autocompleter shortest complete defaults put autocompleter firstname mode autocompletefirstnamemode name defaults put autocompleter first last boolean false autocomplete names 'firstname lastname' format defaults put autocompleter last first boolean false autocomplete names 'lastname firstname' format defaults put autocompleter complete fields author editor title journal publisher keywords autocompletepreferences jabrefpreferences preferences preferences objects requirenonnull preferences getshortestlengthtocomplete preferences getint autocompleter shortest complete setshortestlengthtocomplete integer value preferences putint autocompleter shortest complete value returns first names handled full auto completer returns full name smith bob abbreviated auto completer returns first name abbreviated smith auto completer returns versions autocompletefirstnamemode getfirstnamemode try autocompletefirstnamemode valueof preferences get autocompleter firstname mode catch illegalargumentexception ex occur preferences set directly via preferences put via setfirstnamemode autocompletefirstnamemode setfirstnamemode autocompletefirstnamemode mode preferences put autocompleter firstname mode mode name boolean getonlycompletelastfirst preferences getboolean autocompleter last first setonlycompletelastfirst boolean value preferences putboolean autocompleter last first value boolean getonlycompletefirstlast preferences getboolean autocompleter first last setonlycompletefirstlast boolean value preferences putboolean autocompleter first last value list<string> getcompletenames preferences getstringlist autocompleter complete fields string getcompletenamesasstring preferences get autocompleter complete fields setcompletenames string value preferences put autocompleter complete fields value journalabbreviationpreferences getjournalabbreviationpreferences preferences getjournalabbreviationpreferences 
458	AutoCompleteFirstNameMode.java	LOGIC	net sf jabref logic autocompleter enum autocompletefirstnamemode full abbreviated 
459	EntireFieldAutoCompleter.java	LOGIC	net sf jabref logic autocompleter util objects net sf jabref model entry bibentry delivers possible completions given string stores full original value one field given bibtexentries author kahlert cordes entirefieldautocompleter abstractautocompleter string fieldname see autocompleterfactory entirefieldautocompleter string fieldname autocompletepreferences preferences super preferences fieldname objects requirenonnull fieldname override boolean issingleunitfield true inheritdoc stores full original value given field override addbibtexentry bibentry entry entry null entry getfield fieldname ifpresent fieldvalue additemtoindex fieldvalue trim 
460	BibtexKeyAutoCompleter.java	LOGIC	net sf jabref logic autocompleter net sf jabref model entry bibentry delivers possible completions given string based key fields added items author kahlert cordes bibtexkeyautocompleter abstractautocompleter bibtexkeyautocompleter autocompletepreferences preferences super preferences override boolean issingleunitfield false inheritdoc bibtex key entry added index override addbibtexentry bibentry entry entry null entry getcitekeyoptional ifpresent key additemtoindex key trim override getlengthofshortestwordtoadd 
461	AutoCompleter.java	LOGIC	net sf jabref logic autocompleter util list net sf jabref model entry bibentry delivers possible completions given string interface autocompleter<e> formats specified item method called item selected user need determine text inserted textbox param item item format formated string representation item string getautocompletetext item add bibentry autocompleter note autocompleter decides information stored later completion addbibtexentry bibentry entry states whether field consists multiple values false single value true symptom: false net sf jabref gui autocompletelistener#getcurrentword jtextcomponent comp returns current word true returns text beginning buffer boolean issingleunitfield unclear method todo: remove method autocompletelistener removed string getprefix returns one possible completions given string returned completion depends informations stored adding bibtexentries suggestions completions found empty list returned see autocompleter#addbibtexentry bibentry list<e> complete string tocomplete directly adds item autocompleter method called information comes directly bibentry otherwise link #addbibtexentry bibentry preferred param item item add additemtoindex item 
462	AutoCompleters.java	LOGIC	net sf jabref logic autocompleter util hashmap util map net sf jabref model database bibdatabase net sf jabref model entry bibentry autocompleters map<string autocompleter<string>> autocompleters hashmap<> hashtable holds keys names fields autocomplete active references autocompleter objects autocompleter<string> get string fieldname autocompleters get fieldname adddatabase bibdatabase database bibentry entry database getentries addentry entry methods assures words given entry recorded respective completers addentry bibentry bibentry autocompleter<string> autocompleter autocompleters values autocompleter addbibtexentry bibentry put string field autocompleter<string> autocompleter autocompleters put field autocompleter 
463	AutoCompleterFactory.java	LOGIC	net sf jabref logic autocompleter util objects net sf jabref logic journals journalabbreviationloader net sf jabref model entry fieldname net sf jabref model entry fieldproperty net sf jabref model entry internalbibtexfields returns autocompleter given fieldname author kahlert cordes autocompleterfactory autocompletepreferences preferences journalabbreviationloader abbreviationloader autocompleterfactory autocompletepreferences preferences journalabbreviationloader abbreviationloader preferences objects requirenonnull preferences abbreviationloader objects requirenonnull abbreviationloader autocompleter<string> getfor string fieldname objects requirenonnull fieldname internalbibtexfields getfieldproperties fieldname contains fieldproperty person names namefieldautocompleter fieldname preferences else internalbibtexfields getfieldproperties fieldname contains fieldproperty single entry link bibtexkeyautocompleter preferences else internalbibtexfields getfieldproperties fieldname contains fieldproperty journal name fieldname publisher equals fieldname journalautocompleter fieldname preferences abbreviationloader else defaultautocompleter fieldname preferences autocompleter<string> getpersonautocompleter namefieldautocompleter internalbibtexfields getpersonnamefields true preferences 
464	NameFieldAutoCompleter.java	LOGIC	net sf jabref logic autocompleter util arraylist util collections util list util objects net sf jabref model entry author net sf jabref model entry authorlist net sf jabref model entry bibentry delivers possible completions given string interprets given values names stores different permutations complete beginning last name first name author kahlert cordes namefieldautocompleter abstractautocompleter list<string> fieldnames true last names completed separation boolean lastnameonlyandseparationbyspace boolean autocompff boolean autocomplf autocompletefirstnamemode autocompfirstnamemode string prefix see autocompleterfactory namefieldautocompleter string fieldname autocompletepreferences preferences collections singletonlist objects requirenonnull fieldname false preferences namefieldautocompleter list<string> fieldnames boolean lastnameonlyandseparationbyspace autocompletepreferences preferences super preferences fieldnames objects requirenonnull fieldnames lastnameonlyandseparationbyspace lastnameonlyandseparationbyspace preferences getonlycompletefirstlast autocompff true autocomplf false else preferences getonlycompletelastfirst autocompff false autocomplf true else autocompff true autocomplf true autocompfirstnamemode preferences getfirstnamemode null autocompletefirstnamemode preferences getfirstnamemode override boolean issingleunitfield quick hack used entry fields lastnameonlyandseparationbyspace single unit field used search form lastnameonlyandseparationbyspace single unit field reason: search keywords separated space ok last names without prefix lastname works perfectly querying van der lastname interpreted van der lastname van der lastname autocompletion lastname lastnameonlyandseparationbyspace override addbibtexentry bibentry entry entry null string fieldname fieldnames entry getfield fieldname ifpresent fieldvalue authorlist authorlist authorlist parse fieldvalue author author authorlist getauthors handleauthor author side effect: sets variable prefix delimiter: string without prefix string determineprefixandreturnremainder string str string delimiter string result str index result tolowercase lastindexof delimiter index prefix result substring index delimiter length result result substring index delimiter length else prefix result handleauthor author author lastnameonlyandseparationbyspace additemtoindex author getlastonly else autocomplf switch autocompfirstnamemode case abbreviated: additemtoindex author getlastfirst true break case full: additemtoindex author getlastfirst false break case both: additemtoindex author getlastfirst true additemtoindex author getlastfirst false break default: break autocompff switch autocompfirstnamemode case abbreviated: additemtoindex author getfirstlast true break case full: additemtoindex author getfirstlast false break case both: additemtoindex author getfirstlast true additemtoindex author getfirstlast false break default: break override list<string> complete string tocomplete tocomplete null arraylist<> string result normally one would implement using inheritance seemed overengineered lastnameonlyandseparationbyspace result determineprefixandreturnremainder tocomplete else result determineprefixandreturnremainder tocomplete super complete result override string getprefix prefix override getlengthofshortestwordtoadd 
465	ProtectedTermsParser.java	LOGIC	net sf jabref logic protectedterms io bufferedreader io file io fileinputstream io filenotfoundexception io filereader io ioexception io inputstreamreader io reader net url nio charset charset nio charset standardcharsets util arraylist util list util objects net sf jabref logic l10n localization org apache commons logging log org apache commons logging logfactory reads abbreviation files property files using name abbreviation format list abbreviations protectedtermsparser list<string> terms arraylist<> string description localization lang text last line starting used string location log logger logfactory getlog protectedtermsparser readtermsfromresource string resourcefilename string descriptionstring url url objects requirenonnull protectedtermsloader getresource objects requirenonnull resourcefilename description descriptionstring location resourcefilename try readtermslist inputstreamreader url openstream standardcharsets utf catch ioexception logger info could read terms resource resourcefilename readtermsfromfile file file throws filenotfoundexception location file getabsolutepath try filereader reader filereader objects requirenonnull file readtermslist reader catch filenotfoundexception throw catch ioexception logger warn could read terms file file getabsolutepath readtermsfromfile file file charset encoding throws filenotfoundexception location file getabsolutepath try fileinputstream stream fileinputstream objects requirenonnull file inputstreamreader reader inputstreamreader stream objects requirenonnull encoding readtermslist reader catch filenotfoundexception throw catch ioexception logger warn could read terms file file getabsolutepath read given file contain list journal names abbreviations line formatted as: full journal name abbr journal name param readtermslist reader try bufferedreader reader bufferedreader string line line reader readline null addline line catch ioexception ex logger info could read journal list file ex addline string line line startswith description line substring trim terms add line protectedtermslist getprotecttermslist boolean enabled boolean internal protectedtermslist termlist protectedtermslist description terms location internal termlist setenabled enabled termlist 
466	ProtectedTermsPreferences.java	LOGIC	net sf jabref logic protectedterms util list protectedtermspreferences list<string> enabledinternaltermlists list<string> enabledexternaltermlists list<string> disabledinternaltermlists list<string> disabledexternaltermlists protectedtermspreferences list<string> enabledinternaltermlists list<string> enabledexternaltermlists list<string> disabledinternaltermlists list<string> disabledexternaltermlists enabledinternaltermlists enabledinternaltermlists disabledinternaltermlists disabledinternaltermlists enabledexternaltermlists enabledexternaltermlists disabledexternaltermlists disabledexternaltermlists list<string> getenabledinternaltermlists enabledinternaltermlists list<string> getenabledexternaltermlists enabledexternaltermlists list<string> getdisabledinternaltermlists disabledinternaltermlists list<string> getdisabledexternaltermlists disabledexternaltermlists 
467	ProtectedTermsList.java	LOGIC	net sf jabref logic protectedterms io bufferedwriter io ioexception nio charset standardcharsets nio file files nio file path nio file paths nio file standardopenoption util list util objects net sf jabref logic util os org apache commons logging log org apache commons logging logfactory protectedtermslist comparable<protectedtermslist> log logger logfactory getlog protectedtermslist string description list<string> termslist string location boolean internallist boolean enabled protectedtermslist string description list<string> termlist string location boolean internallist description objects requirenonnull description termslist objects requirenonnull termlist location objects requirenonnull location internallist internallist protectedtermslist string description list<string> termlist string location description termlist location false string getdescription description list<string> gettermlist termslist string getlocation location string gettermlisting string join \n termslist override compareto protectedtermslist otherlist getdescription compareto otherlist getdescription boolean isinternallist internallist setenabled boolean enabled enabled enabled boolean isenabled enabled boolean createandwriteheading string newdescription description newdescription addprotectedterm newdescription true boolean addprotectedterm string term addprotectedterm term false boolean addprotectedterm string term boolean create objects requirenonnull term add internal lists internallist false path paths get location string os newline term try bufferedwriter writer files newbufferedwriter standardcharsets utf create standardopenoption create standardopenoption append writer write termslist add term catch ioexception ioe logger warn problem adding term list ioe false true override boolean equals object instanceof protectedtermslist false protectedtermslist otherlist protectedtermslist location equals otherlist location description equals otherlist description override hashcode objects hash location description 
468	ProtectedTermsLoader.java	LOGIC	net sf jabref logic protectedterms io file io filenotfoundexception io ioexception nio charset charset util arraylist util hashmap util hashset util list util map util objects util set net sf jabref logic l10n localization org apache commons logging log org apache commons logging logfactory protectedtermsloader log logger logfactory getlog protectedtermsloader list<protectedtermslist> mainlist arraylist<> map<string string> internallists hashmap<> internallists put protectedterms months weekdays terms localization lang months weekdays english internallists put protectedterms countries territories terms localization lang countries territories english internallists put protectedterms electrical engineering terms localization lang electrical engineering terms list<string> getinternallists arraylist<> internallists keyset protectedtermsloader protectedtermspreferences preferences update preferences update protectedtermspreferences preferences mainlist clear read internal lists string filename preferences getenabledinternaltermlists internallists containskey filename mainlist add readprotectedtermslistfromresource filename internallists get filename true else logger warn terms resource filename longer available string filename preferences getdisabledinternaltermlists internallists containskey filename preferences getenabledinternaltermlists contains filename mainlist add readprotectedtermslistfromresource filename internallists get filename false else logger warn terms resource filename longer available check internal lists emerged string filename internallists keyset preferences getenabledinternaltermlists contains filename preferences getdisabledinternaltermlists contains filename internal list add mainlist add readprotectedtermslistfromresource filename internallists get filename true logger warn terms resource filename available enabled default read external lists string filename preferences getenabledexternaltermlists try mainlist add readprotectedtermslistfromfile file filename true catch filenotfoundexception file found logger warn cannot find terms file filename string filename preferences getdisabledexternaltermlists preferences getenabledexternaltermlists contains filename try mainlist add readprotectedtermslistfromfile file filename false catch filenotfoundexception file found logger warn cannot find terms file filename reloadprotectedtermslist protectedtermslist list try protectedtermslist newlist readprotectedtermslistfromfile file list getlocation list isenabled index mainlist indexof list index mainlist set index newlist else logger warn problem reloading terms file catch ioexception logger warn problem terms file list getlocation list<protectedtermslist> getprotectedtermslists mainlist list<string> getprotectedterms set<string> result hashset<> protectedtermslist list mainlist list isenabled result addall list gettermlist arraylist<> result addprotectedtermslistfromfile string filename boolean enabled try mainlist add readprotectedtermslistfromfile file filename enabled catch filenotfoundexception file found logger warn cannot find terms file filename protectedtermslist readprotectedtermslistfromresource string resource string description boolean enabled protectedtermsparser parser protectedtermsparser parser readtermsfromresource objects requirenonnull resource objects requirenonnull description parser getprotecttermslist enabled true protectedtermslist readprotectedtermslistfromfile file file boolean enabled throws filenotfoundexception logger debug reading term list file file protectedtermsparser parser protectedtermsparser parser readtermsfromfile objects requirenonnull file parser getprotecttermslist enabled false protectedtermslist readprotectedtermslistfromfile file file charset encoding boolean enabled throws filenotfoundexception logger debug reading term list file file protectedtermsparser parser protectedtermsparser parser readtermsfromfile objects requirenonnull file objects requirenonnull encoding parser getprotecttermslist enabled false boolean removeprotectedtermslist protectedtermslist termlist termlist setenabled false mainlist remove termlist protectedtermslist addnewprotectedtermslist string newdescription string newlocation boolean enabled objects requirenonnull newdescription objects requirenonnull newlocation protectedtermslist resultinglist protectedtermslist newdescription arraylist<> newlocation resultinglist setenabled enabled resultinglist createandwriteheading newdescription mainlist add resultinglist resultinglist protectedtermslist addnewprotectedtermslist string newdescription string newlocation addnewprotectedtermslist newdescription newlocation true 
469	Cache.java	LOGIC	net sf jabref logic logging util linkedlist util queue enables caching messages cache default capacity capacity queue<string> queue linkedlist<> string cache boolean cacherefreshneeded true cache default capacity cache capacity capacity capacity synchronized string get ensurecacheisfresh cache ensurecacheisfresh cacherefreshneeded cache string join queue synchronized add string message queue add message iscapacityexceeded reached capacity switch real caching method remove old lines cacherefreshneeded true truncatelog else yet reach capacity append string cache cache still date cache cache message truncatelog iscapacityexceeded log large remove first line need loop formatter may output one line queue poll boolean iscapacityexceeded queue size capacity 
470	JabRefLogger.java	LOGIC	net sf jabref logic logging org apache commons logging log org apache commons logging logfactory org apache logging log4j level org apache logging log4j logmanager org apache logging log4j core loggercontext org apache logging log4j core config configuration org apache logging log4j core config loggerconfig jabreflogger log logger logfactory getlog jabreflogger setdebug setlogleveltodebugforjabrefclasses logger debug showing debug messages setlogleveltodebugforjabrefclasses loggercontext ctx loggercontext logmanager getcontext false configuration config ctx getconfiguration loggerconfig loggerconfig config getloggerconfig net sf jabref loggerconfig setlevel level debug ctx updateloggers 
471	GuiAppender.java	LOGIC	net sf jabref logic logging io serializable org apache logging log4j core filter org apache logging log4j core layout org apache logging log4j core logevent org apache logging log4j core appender abstractappender org apache logging log4j core config plugins plugin org apache logging log4j core config plugins pluginattribute org apache logging log4j core config plugins pluginelement org apache logging log4j core config plugins pluginfactory org apache logging log4j core layout patternlayout plugin name guiappender category core elementtype appender printobject true guiappender abstractappender cache cache cache guiappender string name filter filter layout<? serializable> layout super name filter layout pluginfactory guiappender createappender pluginattribute name string name pluginelement layout layout<?> layout pluginelement filters filter filter name null logger error name provided guiappender null layout null layout patternlayout createdefaultlayout guiappender name filter layout override append logevent event cache add string getlayout tobytearray event 
472	CleanupWorker.java	LOGIC	net sf jabref logic cleanup util arraylist util list util objects net sf jabref logic layout layoutformatterpreferences net sf jabref model fieldchange net sf jabref model cleanup cleanupjob net sf jabref model database bibdatabasecontext net sf jabref model entry bibentry net sf jabref model metadata filedirectorypreferences cleanupworker bibdatabasecontext databasecontext string filenamepattern layoutformatterpreferences prefs filedirectorypreferences filedirectorypreferences unsuccessfulrenames cleanupworker bibdatabasecontext databasecontext cleanuppreferences cleanuppreferences databasecontext databasecontext filenamepattern cleanuppreferences getfilenamepattern prefs cleanuppreferences getlayoutformatterpreferences filedirectorypreferences cleanuppreferences getfiledirectorypreferences getunsuccessfulrenames unsuccessfulrenames list<fieldchange> cleanup cleanuppreset preset bibentry entry objects requirenonnull preset objects requirenonnull entry list<cleanupjob> jobs determinecleanupactions preset list<fieldchange> changes arraylist<> cleanupjob job jobs changes addall job cleanup entry changes list<cleanupjob> determinecleanupactions cleanuppreset preset list<cleanupjob> jobs arraylist<> preset iscleanupupgradeexternallinks jobs add upgradepdfpstofilecleanup preset iscleanupdoi jobs add doicleanup preset iscleanupissn jobs add issncleanup preset isfixfilelinks jobs add filelinkscleanup preset ismovepdf jobs add movefilescleanup databasecontext filedirectorypreferences preset ismakepathsrelative jobs add relativepathscleanup databasecontext filedirectorypreferences preset isrenamepdf renamepdfcleanup cleaner renamepdfcleanup preset isrenamepdfonlyrelativepaths databasecontext filenamepattern prefs filedirectorypreferences jobs add cleaner unsuccessfulrenames cleaner getunsuccessfulrenames preset isconverttobiblatex jobs add biblatexcleanup preset getformattercleanups isenabled jobs addall preset getformattercleanups getconfiguredactions jobs 
473	RelativePathsCleanup.java	LOGIC	net sf jabref logic cleanup io file util arraylist util collections util list util objects util optional net sf jabref logic typedbibentry net sf jabref logic util io fileutil net sf jabref model fieldchange net sf jabref model cleanup cleanupjob net sf jabref model database bibdatabasecontext net sf jabref model entry bibentry net sf jabref model entry parsedfilefield net sf jabref model metadata filedirectorypreferences relativepathscleanup cleanupjob bibdatabasecontext databasecontext filedirectorypreferences filedirectorypreferences relativepathscleanup bibdatabasecontext databasecontext filedirectorypreferences filedirectorypreferences databasecontext objects requirenonnull databasecontext filedirectorypreferences objects requirenonnull filedirectorypreferences override list<fieldchange> cleanup bibentry entry typedbibentry typedentry typedbibentry entry databasecontext list<parsedfilefield> filelist typedentry getfiles list<parsedfilefield> newfilelist arraylist<> boolean changed false parsedfilefield fileentry filelist string oldfilename fileentry getlink string newfilename fileutil shortenfilename file oldfilename databasecontext getfiledirectory filedirectorypreferences tostring parsedfilefield newfileentry fileentry oldfilename equals newfilename newfileentry parsedfilefield fileentry getdescription newfilename fileentry getfiletype changed true newfilelist add newfileentry changed optional<fieldchange> change typedentry setfiles newfilelist change ispresent collections singletonlist change get else collections emptylist collections emptylist 
474	CleanupPreset.java	LOGIC	net sf jabref logic cleanup util arraylist util enumset util objects util set net sf jabref logic util os net sf jabref model cleanup fieldformattercleanups net sf jabref preferences jabrefpreferences cleanuppreset set<cleanupstep> activejobs fieldformattercleanups formattercleanups cleanuppreset set<cleanupstep> activejobs activejobs fieldformattercleanups false arraylist<> cleanuppreset cleanupstep activejob enumset activejob cleanuppreset fieldformattercleanups formattercleanups enumset noneof cleanupstep formattercleanups cleanuppreset set<cleanupstep> activejobs fieldformattercleanups formattercleanups activejobs activejobs formattercleanups objects requirenonnull formattercleanups cleanuppreset loadfrompreferences jabrefpreferences preferences set<cleanupstep> activejobs enumset noneof cleanupstep preferences getboolean jabrefpreferences cleanup doi activejobs add cleanupstep clean doi preferences getboolean jabrefpreferences cleanup issn activejobs add cleanupstep clean issn preferences getboolean jabrefpreferences cleanup move pdf activejobs add cleanupstep move pdf preferences getboolean jabrefpreferences cleanup make paths relative activejobs add cleanupstep make paths relative preferences getboolean jabrefpreferences cleanup rename pdf activejobs add cleanupstep rename pdf preferences getboolean jabrefpreferences cleanup rename pdf relative paths activejobs add cleanupstep rename pdf relative paths preferences getboolean jabrefpreferences cleanup upgrade external links activejobs add cleanupstep clean upgrade external links preferences getboolean jabrefpreferences cleanup convert biblatex activejobs add cleanupstep convert biblatex preferences getboolean jabrefpreferences cleanup fix file links activejobs add cleanupstep fix file links fieldformattercleanups formattercleanups cleanups parse preferences getstringlist jabrefpreferences cleanup formatters cleanuppreset activejobs formattercleanups boolean iscleanupupgradeexternallinks isactive cleanupstep clean upgrade external links boolean iscleanupdoi isactive cleanupstep clean doi boolean iscleanupissn isactive cleanupstep clean issn boolean isfixfilelinks isactive cleanupstep fix file links boolean ismovepdf isactive cleanupstep move pdf boolean ismakepathsrelative isactive cleanupstep make paths relative boolean isrenamepdf isactive cleanupstep rename pdf isactive cleanupstep rename pdf relative paths boolean isconverttobiblatex isactive cleanupstep convert biblatex boolean isrenamepdfonlyrelativepaths isactive cleanupstep rename pdf relative paths storeinpreferences jabrefpreferences preferences preferences putboolean jabrefpreferences cleanup doi isactive cleanupstep clean doi preferences putboolean jabrefpreferences cleanup issn isactive cleanupstep clean issn preferences putboolean jabrefpreferences cleanup move pdf isactive cleanupstep move pdf preferences putboolean jabrefpreferences cleanup make paths relative isactive cleanupstep make paths relative preferences putboolean jabrefpreferences cleanup rename pdf isactive cleanupstep rename pdf preferences putboolean jabrefpreferences cleanup rename pdf relative paths isactive cleanupstep rename pdf relative paths preferences putboolean jabrefpreferences cleanup upgrade external links isactive cleanupstep clean upgrade external links preferences putboolean jabrefpreferences cleanup convert biblatex isactive cleanupstep convert biblatex preferences putboolean jabrefpreferences cleanup fix file links isactive cleanupstep fix file links preferences putstringlist jabrefpreferences cleanup formatters formattercleanups getasstringlist os newline boolean isactive cleanupstep step activejobs contains step fieldformattercleanups getformattercleanups formattercleanups enum cleanupstep removes http: doi moves dois url note filed doi field clean doi make paths relative rename pdf rename pdf relative paths collects file links pdf ps field adds list contained file field clean upgrade external links converts biblatex format convert biblatex move pdf fix file links clean issn 
475	DoiCleanup.java	LOGIC	net sf jabref logic cleanup util arraylist util arrays util list util optional net sf jabref logic formatter bibtexfields clearformatter net sf jabref logic util doi net sf jabref model fieldchange net sf jabref model cleanup cleanupjob net sf jabref model cleanup fieldformattercleanup net sf jabref model entry bibentry net sf jabref model entry fieldname formats doi removes http part also moves dois note url ee field doi field doicleanup cleanupjob fields check dois list<string> fields arrays aslist fieldname note fieldname url ee override list<fieldchange> cleanup bibentry entry list<fieldchange> changes arraylist<> first check doi field empty entry hasfield fieldname doi string doifieldvalue entry getfield fieldname doi orelse null optional<doi> doi doi build doifieldvalue doi ispresent string newvalue doi get getdoi doifieldvalue equals newvalue entry setfield fieldname doi newvalue fieldchange change fieldchange entry fieldname doi doifieldvalue newvalue changes add change doi field seems contain doi cleanup note url ee field string field fields entry getfield field flatmap doi::build ifpresent unused removefieldvalue entry field changes else doi field empty check note url ee field contains doi string field fields optional<doi> doi entry getfield field flatmap doi::build doi ispresent update doi string oldvalue entry getfield fieldname doi orelse null string newvalue doi get getdoi entry setfield fieldname doi newvalue fieldchange change fieldchange entry fieldname doi oldvalue newvalue changes add change removefieldvalue entry field changes changes removefieldvalue bibentry entry string field list<fieldchange> changes cleanupjob eraser fieldformattercleanup field clearformatter changes addall eraser cleanup entry 
476	RenamePdfCleanup.java	LOGIC	net sf jabref logic cleanup io file util arraylist util collections util list util objects util optional net sf jabref logic typedbibentry net sf jabref logic layout layoutformatterpreferences net sf jabref logic util os net sf jabref logic util io fileutil net sf jabref model fieldchange net sf jabref model cleanup cleanupjob net sf jabref model database bibdatabasecontext net sf jabref model entry bibentry net sf jabref model entry parsedfilefield net sf jabref model metadata filedirectorypreferences renamepdfcleanup cleanupjob bibdatabasecontext databasecontext boolean onlyrelativepaths string filenamepattern layoutformatterpreferences prefs filedirectorypreferences filedirectorypreferences unsuccessfulrenames renamepdfcleanup boolean onlyrelativepaths bibdatabasecontext databasecontext string filenamepattern layoutformatterpreferences prefs filedirectorypreferences filedirectorypreferences databasecontext objects requirenonnull databasecontext onlyrelativepaths onlyrelativepaths filenamepattern objects requirenonnull filenamepattern prefs objects requirenonnull prefs filedirectorypreferences filedirectorypreferences override list<fieldchange> cleanup bibentry entry typedbibentry typedentry typedbibentry entry databasecontext list<parsedfilefield> filelist typedentry getfiles list<parsedfilefield> newfilelist arraylist<> boolean changed false parsedfilefield flentry filelist string realoldfilename flentry getlink onlyrelativepaths file realoldfilename isabsolute newfilelist add flentry continue stringbuilder newfilename stringbuilder fileutil createfilenamefrompattern databasecontext getdatabase entry filenamepattern prefs trim add extension newfilename newfilename append append fileutil getfileextension realoldfilename orelse pdf get filename path create path based old path filename optional<file> expandedoldfile fileutil expandfilename realoldfilename databasecontext getfiledirectory filedirectorypreferences expandedoldfile ispresent expandedoldfile get getparent null something went wrong skip entry newfilelist add flentry continue string newpath expandedoldfile get getparent concat os file separator concat newfilename tostring string expandedoldfilepath expandedoldfile get tostring boolean pathsdifferonlybycase newpath equalsignorecase expandedoldfilepath newpath equals expandedoldfilepath file newpath exists pathsdifferonlybycase overwrite files since file exists sometimes case sensitive check pathsdifferonlybycase ensures nonetheless rename files name differs case todo: could check newpath file linked current entry could add link newfilelist add flentry continue rename boolean renamesuccessful fileutil renamefile expandedoldfilepath newpath renamesuccessful changed true change path entry string description flentry getdescription string type flentry getfiletype cannot use newpath generate filelistentry newpath absolute want keep relative paths whenever possible file parent file realoldfilename getparentfile string newfileentryfilename parent null databasecontext getfiledirectory filedirectorypreferences contains parent getabsolutepath newfileentryfilename newfilename tostring else newfileentryfilename parent tostring concat os file separator concat newfilename tostring newfilelist add parsedfilefield description newfileentryfilename type else unsuccessfulrenames changed optional<fieldchange> change typedentry setfiles newfilelist put undo field content file renamed back leads inconsistencies put null undo object change domakepathsrelative would overwrite field value nevertheless change ispresent collections singletonlist change get else collections emptylist collections emptylist getunsuccessfulrenames unsuccessfulrenames 
477	CleanupPreferences.java	LOGIC	net sf jabref logic cleanup net sf jabref logic layout layoutformatterpreferences net sf jabref model metadata filedirectorypreferences cleanuppreferences string filenamepattern layoutformatterpreferences layoutformatterpreferences filedirectorypreferences filedirectorypreferences cleanuppreferences string filenamepattern layoutformatterpreferences layoutformatterpreferences filedirectorypreferences filedirectorypreferences filenamepattern filenamepattern layoutformatterpreferences layoutformatterpreferences filedirectorypreferences filedirectorypreferences string getfilenamepattern filenamepattern layoutformatterpreferences getlayoutformatterpreferences layoutformatterpreferences filedirectorypreferences getfiledirectorypreferences filedirectorypreferences 
478	Cleanups.java	LOGIC	net sf jabref logic cleanup util arraylist util collections util list net sf jabref logic formatter formatters net sf jabref logic formatter identityformatter net sf jabref logic formatter bibtexfields htmltolatexformatter net sf jabref logic formatter bibtexfields htmltounicodeformatter net sf jabref logic formatter bibtexfields normalizedateformatter net sf jabref logic formatter bibtexfields normalizemonthformatter net sf jabref logic formatter bibtexfields normalizepagesformatter net sf jabref logic formatter bibtexfields ordinalstosuperscriptformatter net sf jabref logic formatter bibtexfields unicodetolatexformatter net sf jabref logic layout format latextounicodeformatter net sf jabref model cleanup fieldformattercleanup net sf jabref model cleanup fieldformattercleanups net sf jabref model cleanup formatter net sf jabref model entry fieldname net sf jabref model strings stringutil cleanups fieldformattercleanups default save actions fieldformattercleanups recommend bibtex actions fieldformattercleanups recommend biblatex actions list<formatter> availableformatters availableformatters arraylist<> availableformatters addall formatters list<fieldformattercleanup> defaultformatters arraylist<> defaultformatters add fieldformattercleanup fieldname pages normalizepagesformatter defaultformatters add fieldformattercleanup fieldname date normalizedateformatter defaultformatters add fieldformattercleanup fieldname month normalizemonthformatter default save actions fieldformattercleanups false defaultformatters list<fieldformattercleanup> recommendedbibtexformatters arraylist<> recommendedbibtexformatters addall defaultformatters recommendedbibtexformatters add fieldformattercleanup fieldname title htmltolatexformatter recommendedbibtexformatters add fieldformattercleanup fieldname title unicodetolatexformatter recommendedbibtexformatters add fieldformattercleanup fieldname booktitle unicodetolatexformatter recommendedbibtexformatters add fieldformattercleanup fieldname journal unicodetolatexformatter recommendedbibtexformatters add fieldformattercleanup fieldname author unicodetolatexformatter recommendedbibtexformatters add fieldformattercleanup fieldname editor unicodetolatexformatter recommendedbibtexformatters add fieldformattercleanup fieldname internal text fields field ordinalstosuperscriptformatter recommend bibtex actions fieldformattercleanups false recommendedbibtexformatters list<fieldformattercleanup> recommendedbiblatexformatters arraylist<> recommendedbiblatexformatters addall defaultformatters recommendedbiblatexformatters add fieldformattercleanup fieldname title htmltounicodeformatter recommendedbiblatexformatters add fieldformattercleanup fieldname internal text fields field latextounicodeformatter recommendedbiblatexformatters add fieldformattercleanup fieldname internal text fields field ordinalstosuperscriptformatter recommend biblatex actions fieldformattercleanups false recommendedbiblatexformatters list<formatter> getavailableformatters collections unmodifiablelist availableformatters list<fieldformattercleanup> parse string formatterstring formatterstring null formatterstring isempty save actions defined meta data arraylist<> list<fieldformattercleanup> actions arraylist<> read concrete actions startindex first remove newlines easier parsing string remainingstring formatterstring remainingstring stringutil unifylinebreaks remainingstring try startindex formatterstring length read field name currentindex remainingstring indexof '[' string fieldkey remainingstring substring currentindex endindex remainingstring indexof ']' startindex endindex read formatter tokenindex remainingstring indexof boolean dobreak false tokenindex tokenindex endindex tokenindex remainingstring indexof ']' dobreak true string formatterkey remainingstring substring currentindex tokenindex actions add fieldformattercleanup fieldkey getformatterfromstring formatterkey remainingstring remainingstring substring tokenindex remainingstring startswith dobreak break tokenindex remainingstring indexof currentindex true catch stringindexoutofboundsexception ignore exception occurs remaining part save actions string invalid thus stop parsing take parsed actions actions fieldformattercleanups parse list<string> formattermetalist formattermetalist null formattermetalist size boolean enablementstatus fieldformattercleanups enabled equals formattermetalist get string formatterstring formattermetalist get fieldformattercleanups enablementstatus parse formatterstring else default actions default save actions formatter getformatterfromstring string formattername formatter formatter availableformatters formattername equals formatter getkey formatter identityformatter 
479	MoveFilesCleanup.java	LOGIC	net sf jabref logic cleanup io file util arraylist util collections util list util objects util optional net sf jabref logic typedbibentry net sf jabref logic util io fileutil net sf jabref model fieldchange net sf jabref model cleanup cleanupjob net sf jabref model database bibdatabasecontext net sf jabref model entry bibentry net sf jabref model entry parsedfilefield net sf jabref model metadata filedirectorypreferences movefilescleanup cleanupjob bibdatabasecontext databasecontext filedirectorypreferences filedirectorypreferences movefilescleanup bibdatabasecontext databasecontext filedirectorypreferences filedirectorypreferences databasecontext objects requirenonnull databasecontext filedirectorypreferences objects requirenonnull filedirectorypreferences override list<fieldchange> cleanup bibentry entry databasecontext getmetadata getdefaultfiledirectory ispresent collections emptylist list<string> paths databasecontext getfiledirectory filedirectorypreferences string defaultfiledirectory databasecontext getmetadata getdefaultfiledirectory get optional<file> targetdirectory fileutil expandfilename defaultfiledirectory paths targetdirectory ispresent collections emptylist typedbibentry typedentry typedbibentry entry databasecontext list<parsedfilefield> filelist typedentry getfiles list<parsedfilefield> newfilelist arraylist<> boolean changed false parsedfilefield fileentry filelist string oldfilename fileentry getlink optional<file> oldfile fileutil expandfilename oldfilename paths oldfile ispresent oldfile get exists newfilelist add fileentry continue file targetfile file targetdirectory get oldfile get getname targetfile exists overwrite already existing files newfilelist add fileentry continue oldfile get renameto targetfile string newfilename targetfile getname parsedfilefield newfileentry fileentry oldfilename equals newfilename newfileentry parsedfilefield fileentry getdescription newfilename fileentry getfiletype changed true newfilelist add newfileentry changed optional<fieldchange> change typedentry setfiles newfilelist change ispresent collections singletonlist change get else collections emptylist collections emptylist 
480	BiblatexCleanup.java	LOGIC	net sf jabref logic cleanup util arraylist util list util map util optional net sf jabref model fieldchange net sf jabref model cleanup cleanupjob net sf jabref model entry bibentry net sf jabref model entry entryconverter net sf jabref model entry fieldname converts entry biblatex format biblatexcleanup cleanupjob override list<fieldchange> cleanup bibentry entry list<fieldchange> changes arraylist<> map entry<string string> alias entryconverter field aliases tex ltx entryset string oldfieldname alias getkey string newfieldname alias getvalue entry getfield oldfieldname ifpresent oldvalue oldvalue isempty entry getfield newfieldname ispresent content old field value copy entry setfield newfieldname oldvalue changes add fieldchange entry newfieldname null oldvalue entry clearfield oldfieldname changes add fieldchange entry oldfieldname oldvalue null dates: create date year month save delete old fields entry getfield fieldname date ifpresent date date isempty entry getfieldoralias fieldname date ifpresent newdate optional<string> oldyear entry getfield fieldname year optional<string> oldmonth entry getfield fieldname month entry setfield fieldname date newdate entry clearfield fieldname year entry clearfield fieldname month changes add fieldchange entry fieldname date null newdate changes add fieldchange entry fieldname year oldyear orelse null null changes add fieldchange entry fieldname month oldmonth orelse null null changes 
481	ISSNCleanup.java	LOGIC	net sf jabref logic cleanup util collections util list util optional net sf jabref logic util issn net sf jabref model fieldchange net sf jabref model cleanup cleanupjob net sf jabref model entry bibentry net sf jabref model entry fieldname issncleanup cleanupjob override list<fieldchange> cleanup bibentry entry optional<string> issnstring entry getfield fieldname issn issnstring ispresent collections emptylist issn issn issn issnstring get issn iscanbecleaned string newvalue issn getcleanedissn fieldchange change fieldchange entry fieldname issn issnstring get newvalue entry setfield fieldname issn newvalue collections singletonlist change collections emptylist 
482	UpgradePdfPsToFileCleanup.java	LOGIC	net sf jabref logic cleanup io file util arraylist util hashmap util list util map net sf jabref model fieldchange net sf jabref model cleanup cleanupjob net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model entry filefield net sf jabref model entry parsedfilefield collects file links ps pdf fields add list contained file field upgradepdfpstofilecleanup cleanupjob field name file type name externalfiletypes map<string string> fields hashmap<> upgradepdfpstofilecleanup fields put fieldname pdf pdf fields put fieldname ps postscript override list<fieldchange> cleanup bibentry entry list<fieldchange> changes arraylist<> already links file field keep top: string oldfilecontent entry getfield fieldname file orelse null list<parsedfilefield> filelist arraylist<> filefield parse oldfilecontent olditemcount filelist size map entry<string string> field fields entryset entry getfield field getkey ifpresent trim isempty file file parsedfilefield flentry parsedfilefield getname field getvalue filelist add flentry entry clearfield field getkey changes add fieldchange entry field getkey null filelist size olditemcount string newvalue filefield getstringrepresentation filelist entry setfield fieldname file newvalue changes add fieldchange entry fieldname file oldfilecontent newvalue changes 
483	MoveFieldCleanup.java	LOGIC	net sf jabref logic cleanup util list util optional net sf jabref logic util optionalutil net sf jabref model fieldchange net sf jabref model cleanup cleanupjob net sf jabref model entry bibentry moves content one field another field movefieldcleanup cleanupjob string sourcefield string targetfield movefieldcleanup string sourcefield string targetfield sourcefield sourcefield targetfield targetfield override list<fieldchange> cleanup bibentry entry optional<fieldchange> setfieldchange entry getfield sourcefield flatmap value entry setfield targetfield value optional<fieldchange> clearfieldchange entry clearfield sourcefield optionalutil tolist setfieldchange clearfieldchange 
484	FileLinksCleanup.java	LOGIC	net sf jabref logic cleanup util collections util list util optional net sf jabref model fieldchange net sf jabref model cleanup cleanupjob net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model entry filefield net sf jabref model entry parsedfilefield fixes format file field example file link empty description wrongly contains path filelinkscleanup cleanupjob override list<fieldchange> cleanup bibentry entry optional<string> oldvalue entry getfield fieldname file oldvalue ispresent collections emptylist list<parsedfilefield> filelist filefield parse oldvalue get parsing automatically moves single description link need write filelist back string newvalue filefield getstringrepresentation filelist oldvalue get equals newvalue entry setfield fieldname file newvalue fieldchange change fieldchange entry fieldname file oldvalue get newvalue collections singletonlist change collections emptylist 
485	IdFetcher.java	LOGIC	net sf jabref logic importer net sf jabref model entry bibentry looks article identifier based already present bibliographic information interface idfetcher looks identifier based information stored given link bibentry updates link bibentry found id param entry link bibentry identifier found updated link bibentry containing identifier id found otherwise link bibentry left unchanged bibentry updateidentfier bibentry entry 
486	MimeTypeDetector.java	LOGIC	net sf jabref logic importer io ioexception net url net urlconnection util optional com mashape unirest http unirest org apache commons logging log org apache commons logging logfactory mimetypedetector log logger logfactory getlog mimetypedetector boolean ispdfcontenttype string url optional<string> contenttype getmimetype url contenttype ispresent contenttype get tolowercase startswith application pdf optional<string> getmimetype string url unirest setdefaultheader user agent mozilla macintosh intel mac os en us rv:1 gecko firefox try use head request avoid donloading whole file string contenttype try contenttype unirest head url asstring getheaders get content type get contenttype null optional contenttype catch exception logger debug error getting mime type url via head request use get request alternative head request available try contenttype unirest get url asstring getheaders get content type get contenttype null optional contenttype catch exception logger debug error getting mime type url via get request try resolve local uris try urlconnection connection url url openconnection optional ofnullable connection getcontenttype catch ioexception logger debug error trying get mime type local uri optional empty 
487	ImportException.java	LOGIC	net sf jabref logic importer net sf jabref jabrefexception importexception jabrefexception importexception string errormessage exception cause super errormessage cause importexception string errormessage super errormessage importexception exception cause super cause 
488	ImportFormatPreferences.java	LOGIC	net sf jabref logic importer nio charset charset util set net sf jabref logic bibtex fieldcontentparserpreferences net sf jabref logic bibtexkeypattern bibtexkeypatternpreferences net sf jabref logic importer fileformat customimporter importformatpreferences set<customimporter> customimportlist charset encoding character keywordseparator bibtexkeypatternpreferences bibtexkeypatternpreferences fieldcontentparserpreferences fieldcontentparserpreferences boolean keywordsyncenabled importformatpreferences set<customimporter> customimportlist charset encoding character keywordseparator bibtexkeypatternpreferences bibtexkeypatternpreferences fieldcontentparserpreferences fieldcontentparserpreferences boolean keywordsyncenabled customimportlist customimportlist encoding encoding keywordseparator keywordseparator bibtexkeypatternpreferences bibtexkeypatternpreferences fieldcontentparserpreferences fieldcontentparserpreferences keywordsyncenabled keywordsyncenabled deprecated importer know custom importers deprecated set<customimporter> getcustomimportlist customimportlist charset getencoding encoding character getkeywordseparator keywordseparator bibtexkeypatternpreferences getbibtexkeypatternpreferences bibtexkeypatternpreferences fieldcontentparserpreferences getfieldcontentparserpreferences fieldcontentparserpreferences importformatpreferences withencoding charset newencoding importformatpreferences customimportlist newencoding keywordseparator bibtexkeypatternpreferences fieldcontentparserpreferences keywordsyncenabled deprecated importer keyword synchronization post action deprecated boolean iskeywordsyncenabled keywordsyncenabled 
489	IdBasedFetcher.java	LOGIC	net sf jabref logic importer util optional net sf jabref model entry bibentry searches web resources bibliographic information based identifier interface idbasedfetcher webfetcher looks bibliographic information associated given identifier param identifier string uniquely identifies item link bibentry containing bibliographic information empty optional data found throws fetcherexception optional<bibentry> performsearchbyid string identifier throws fetcherexception 
490	IdBasedParserFetcher.java	LOGIC	net sf jabref logic importer io bufferedinputstream io filenotfoundexception io ioexception io inputstream net malformedurlexception net urisyntaxexception net url util list util optional net sf jabref model cleanup formatter net sf jabref model entry bibentry org apache commons logging log org apache commons logging logfactory org jsoup helper stringutil provides convenient interface id based fetcher follow usual three step procedure: open url based search query parse response get list link bibentry post process fetched entries interface idbasedparserfetcher idbasedfetcher log logger logfactory getlog idbasedparserfetcher constructs url based query param identifier id url geturlforid string identifier throws urisyntaxexception malformedurlexception fetcherexception returns parser used convert response list link bibentry parser getparser performs cleanup fetched entry systematic errors fetcher corrected information consistently contained wrong field wrong format cosmetic issues may depend user's taste example latex code vs html try reuse existing link formatter cleanup example code fieldformattercleanup fieldname title removebracesformatter cleanup entry default cleanup done param entry entry cleaned default dopostcleanup bibentry entry nothing default override default optional<bibentry> performsearchbyid string identifier throws fetcherexception stringutil isblank identifier optional empty try inputstream stream bufferedinputstream geturlforid identifier openstream list<bibentry> fetchedentries getparser parseentries stream fetchedentries isempty optional empty fetchedentries size logger info fetcher getname found one result identifier identifier use first entry bibentry entry fetchedentries get post cleanup dopostcleanup entry optional entry catch urisyntaxexception throw fetcherexception search uri malformed catch filenotfoundexception logger debug id found optional empty catch ioexception todo: catch http response errors report user rights access resource throw fetcherexception exception occurred catch parseexception throw fetcherexception internal parser error occurred 
491	OpenDatabase.java	LOGIC	net sf jabref logic importer io file io ioexception net sf jabref logic importer fileformat bibteximporter net sf jabref logic l10n localization net sf jabref logic specialfields specialfieldsutils net sf jabref logic util io filebasedlock net sf jabref model entry bibentry org apache commons logging log org apache commons logging logfactory opendatabase log logger logfactory getlog opendatabase load database bib file param name name bib file open parserresult never null parserresult loaddatabase string name importformatpreferences importformatpreferences file file file name logger info opening: name file exists parserresult pr parserresult null null null pr setfile file pr setinvalid true logger error localization lang error localization lang file found pr try filebasedlock waitforfilelock file topath logger error localization lang error opening file name file locked another jabref instance parserresult getnullresult parserresult pr opendatabase loaddatabase file importformatpreferences pr setfile file pr haswarnings string awarn pr warnings logger warn awarn pr catch ioexception ex parserresult pr parserresult null null null pr setfile file pr setinvalid true pr seterrormessage ex getmessage logger error problem opening bib file ex pr opens database parserresult loaddatabase file filetoopen importformatpreferences importformatpreferences throws ioexception parserresult result bibteximporter importformatpreferences importdatabase filetoopen topath importformatpreferences getencoding importformatpreferences iskeywordsyncenabled bibentry entry result getdatabase getentries specialfieldsutils syncspecialfieldsfromkeywords entry importformatpreferences getkeywordseparator logger debug synchronized special fields based keywords result 
492	ImportFormatReader.java	LOGIC	net sf jabref logic importer io ioexception nio file path util list util objects util optional util sortedset util treeset net sf jabref logic importer fileformat bibtexmlimporter net sf jabref logic importer fileformat biblioscapeimporter net sf jabref logic importer fileformat bibteximporter net sf jabref logic importer fileformat copacimporter net sf jabref logic importer fileformat customimporter net sf jabref logic importer fileformat endnoteimporter net sf jabref logic importer fileformat freeciteimporter net sf jabref logic importer fileformat inspecimporter net sf jabref logic importer fileformat isiimporter net sf jabref logic importer fileformat medlineimporter net sf jabref logic importer fileformat medlineplainimporter net sf jabref logic importer fileformat modsimporter net sf jabref logic importer fileformat msbibimporter net sf jabref logic importer fileformat ovidimporter net sf jabref logic importer fileformat pdfcontentimporter net sf jabref logic importer fileformat pdfxmpimporter net sf jabref logic importer fileformat repecnepimporter net sf jabref logic importer fileformat risimporter net sf jabref logic importer fileformat silverplatterimporter net sf jabref logic l10n localization net sf jabref logic xmp xmppreferences net sf jabref model database bibdatabases net sf jabref model entry bibentry net sf jabref model strings stringutil importformatreader string bibtex format bibtex formats sorted accordingly link importer#compareto defaults alphabetically name sortedset<importer> formats treeset<> importformatpreferences importformatpreferences resetimportformats importformatpreferences newimportformatpreferences xmppreferences xmppreferences importformatpreferences newimportformatpreferences formats clear formats add biblioscapeimporter formats add bibteximporter importformatpreferences formats add bibtexmlimporter formats add copacimporter formats add endnoteimporter importformatpreferences formats add freeciteimporter importformatpreferences formats add inspecimporter formats add isiimporter formats add medlineimporter formats add medlineplainimporter formats add modsimporter formats add msbibimporter formats add ovidimporter formats add pdfcontentimporter importformatpreferences formats add pdfxmpimporter xmppreferences formats add repecnepimporter importformatpreferences formats add risimporter formats add silverplatterimporter get custom formats customimporter importer importformatpreferences getcustomimportlist formats add importer format given cli id <p> <p>will first format according default order format matches given id p> param cliid cli id format <code>null< code> none matches optional<importer> getbycliid string cliid importer format formats format getid equals cliid optional format optional empty parserresult importfromfile string format path file throws importexception optional<importer> importer getbycliid format importer ispresent throw importexception localization lang unknown format format try importer get importdatabase file importformatpreferences getencoding catch ioexception throw importexception importers <p> <p> elements default order p> custom importers elements type inputformat sortedset<importer> getimportformats formats human readable list known formats name cli id <p> <p>list default order p> human readable list known formats string getimportformatlist stringbuilder sb stringbuilder importer imfo formats pad math max imfo getname length sb append sb append imfo getname sb append stringutil repeatspaces pad sb append sb append imfo getid sb append '\n' sb tostring unknownformatimport string format parserresult parserresult unknownformatimport string format parserresult parserresult format format parserresult parserresult tries file iterating available filters keeping seems promising <p fails method attempts read file bibtex throws importexception fails example suitable importer found unknownformatimport importunknownformat path filepath throws importexception objects requirenonnull filepath first see bibtex file: try parserresult parserresult opendatabase loaddatabase filepath tofile importformatpreferences parserresult getdatabase hasentries parserresult getdatabase hasnostrings parserresult setfile filepath tofile unknownformatimport importformatreader bibtex format parserresult catch ioexception ignore ignored stores ref best result gets updated next loop list<bibentry> bestresult null bestresultcount string bestformatname null cycle importers: importer imfo getimportformats try imfo isrecognizedformat filepath importformatpreferences getencoding continue parserresult parserresult imfo importdatabase filepath importformatpreferences getencoding list<bibentry> entries parserresult getdatabase getentries bibdatabases purgeemptyentries entries entrycount entries size entrycount bestresultcount bestresult entries bestresultcount bestresult size bestformatname imfo getname catch ioexception ex succeed go bestresult null found something parserresult parserresult parserresult bestresult parserresult setfile filepath tofile unknownformatimport bestformatname parserresult throw importexception localization lang could find suitable format 
493	ParserResult.java	LOGIC	net sf jabref logic importer io file util arraylist util collection util collections util hashmap util list util map util objects util optional net sf jabref model database bibdatabase net sf jabref model database bibdatabasecontext net sf jabref model database bibdatabases net sf jabref model entry bibentry net sf jabref model entry entrytype net sf jabref model metadata metadata parserresult parserresult null result parserresult null null null bibdatabase base metadata metadata map<string entrytype> entrytypes bibdatabasecontext bibdatabasecontext file file list<string> warnings arraylist<> list<string> duplicatekeys arraylist<> string errormessage boolean invalid boolean toopentab parserresult collections emptylist parserresult collection<bibentry> entries bibdatabases createdatabase bibdatabases purgeemptyentries entries parserresult bibdatabase database database metadata hashmap<> parserresult bibdatabase base metadata metadata map<string entrytype> entrytypes base base metadata metadata entrytypes entrytypes objects nonnull base objects nonnull metadata bibdatabasecontext bibdatabasecontext base metadata file parserresult fromerrormessage string message parserresult parserresult parserresult parserresult addwarning message parserresult check base marked added currently open tab default false boolean toopentab toopentab settoopentab boolean toopentab toopentab toopentab bibdatabase getdatabase base metadata getmetadata metadata setmetadata metadata md metadata md map<string entrytype> getentrytypes entrytypes optional<file> getfile optional ofnullable file setfile file file add parser warning param string warning text must pretranslated added already dupe addwarning string warnings contains warnings add boolean haswarnings warnings isempty list<string> warnings arraylist<> warnings add key list duplicated bibtex keys found database param key duplicated key addduplicatekey string key duplicatekeys contains key duplicatekeys add key query whether duplicated bibtex keys found database true least one duplicate key boolean hasduplicatekeys duplicatekeys isempty get duplicated keys found database list containing duplicated keys list<string> getduplicatekeys duplicatekeys boolean isinvalid invalid setinvalid boolean invalid invalid invalid string geterrormessage errormessage seterrormessage string errormessage errormessage errormessage bibdatabasecontext getdatabasecontext bibdatabasecontext null bibdatabasecontext bibdatabasecontext base metadata file bibdatabasecontext setdatabasecontext bibdatabasecontext bibdatabasecontext objects requirenonnull bibdatabasecontext bibdatabasecontext bibdatabasecontext boolean hasdatabasecontext objects nonnull bibdatabasecontext boolean isnullresult null result parserresult getnullresult null result 
494	SearchBasedFetcher.java	LOGIC	net sf jabref logic importer util list net sf jabref model entry bibentry searches web resources bibliographic information based free text query may multiple search hits interface searchbasedfetcher webfetcher looks hits matched given free text query param query search string list link bibentry matched query may empty list<bibentry> performsearch string query throws fetcherexception 
495	EntryBasedFetcher.java	LOGIC	net sf jabref logic importer util list net sf jabref model entry bibentry searches web resources bibliographic information based link bibentry useful complete existing entry fetched information may multiple search hits interface entrybasedfetcher webfetcher looks hits matched given link bibentry param entry entry search bibliographic information list link bibentry matched query may empty list<bibentry> performsearch bibentry entry throws fetcherexception 
496	EntryBasedParserFetcher.java	LOGIC	net sf jabref logic importer io bufferedinputstream io ioexception io inputstream net malformedurlexception net urisyntaxexception net url util list util objects net sf jabref model cleanup formatter net sf jabref model entry bibentry provides convenient interface entry based fetcher follow usual three step procedure: open url based entry parse response get list link bibentry post process fetched entries interface entrybasedparserfetcher entrybasedfetcher constructs url based link bibentry param entry entry look information url geturlforentry bibentry entry throws urisyntaxexception malformedurlexception fetcherexception returns parser used convert response list link bibentry parser getparser performs cleanup fetched entry systematic errors fetcher corrected information consistently contained wrong field wrong format cosmetic issues may depend user's taste example latex code vs html try reuse existing link formatter cleanup example code fieldformattercleanup fieldname title removebracesformatter cleanup entry default cleanup done param entry entry cleaned default dopostcleanup bibentry entry nothing default override default list<bibentry> performsearch bibentry entry throws fetcherexception objects requirenonnull entry try inputstream stream bufferedinputstream geturlforentry entry openstream list<bibentry> fetchedentries getparser parseentries stream post cleanup fetchedentries foreach this::dopostcleanup fetchedentries catch urisyntaxexception throw fetcherexception search uri malformed catch ioexception todo: catch http response errors report user rights access resource throw fetcherexception exception occurred catch parseexception throw fetcherexception internal parser error occurred 
497	FulltextFetchers.java	LOGIC	net sf jabref logic importer io ioexception net url util arraylist util list util optional net sf jabref logic importer fetcher acs net sf jabref logic importer fetcher arxiv net sf jabref logic importer fetcher crossref net sf jabref logic importer fetcher doiresolution net sf jabref logic importer fetcher googlescholar net sf jabref logic importer fetcher ieee net sf jabref logic importer fetcher sciencedirect net sf jabref logic importer fetcher springerlink net sf jabref logic util doi net sf jabref model entry bibentry net sf jabref model entry fieldname org apache commons logging log org apache commons logging logfactory utility trying resolve urls full text pdf articles fulltextfetchers log logger logfactory getlog fulltextfetchers list<fulltextfetcher> finders arraylist<> fulltextfetchers importformatpreferences importformatpreferences ordering important authorities first publisher finders add doiresolution finders add sciencedirect finders add springerlink finders add acs finders add arxiv importformatpreferences finders add ieee meta search finders add googlescholar importformatpreferences fulltextfetchers list<fulltextfetcher> fetcher finders addall fetcher optional<url> findfulltextpdf bibentry entry accuracy fetch doi first modify entry bibentry clonedentry bibentry entry clone optional<string> doi clonedentry getfield fieldname doi doi ispresent doi build doi get ispresent crossref finddoi clonedentry ifpresent clonedentry setfield fieldname doi getdoi fulltextfetcher finder finders try optional<url> result finder findfulltext clonedentry result ispresent mimetypedetector ispdfcontenttype result get tostring result catch ioexception fetcherexception logger debug failed find fulltext pdf given url optional empty 
498	SearchBasedParserFetcher.java	LOGIC	net sf jabref logic importer io bufferedinputstream io ioexception io inputstream net malformedurlexception net urisyntaxexception net url util collections util list net sf jabref model cleanup formatter net sf jabref model entry bibentry org jsoup helper stringutil provides convenient interface search based fetcher follow usual three step procedure: open url based search query parse response get list link bibentry post process fetched entries interface searchbasedparserfetcher searchbasedfetcher constructs url based query param query search query url geturlforquery string query throws urisyntaxexception malformedurlexception fetcherexception returns parser used convert response list link bibentry parser getparser performs cleanup fetched entry systematic errors fetcher corrected information consistently contained wrong field wrong format cosmetic issues may depend user's taste example latex code vs html try reuse existing link formatter cleanup example code fieldformattercleanup fieldname title removebracesformatter cleanup entry default cleanup done param entry entry cleaned default dopostcleanup bibentry entry nothing default override default list<bibentry> performsearch string query throws fetcherexception stringutil isblank query collections emptylist try inputstream stream bufferedinputstream geturlforquery query openstream list<bibentry> fetchedentries getparser parseentries stream post cleanup fetchedentries foreach this::dopostcleanup fetchedentries catch urisyntaxexception throw fetcherexception search uri malformed catch ioexception todo: catch http response errors report user rights access resource throw fetcherexception exception occurred catch parseexception throw fetcherexception internal parser error occurred 
499	Importer.java	LOGIC	net sf jabref logic importer io bufferedreader io fileinputstream io ioexception io inputstream io inputstreamreader nio charset charset nio charset standardcharsets nio file path util objects net sf jabref logic util fileextensions role importer jabref importer comparable<importer> using database open read non bibtex file formats used importformatreader todo: field really needed would calling idgenerator next suffice? string default bibtexentry id id check whether source correct format importer effect method primarily avoid unnecessary processing files searching suitable format method returns false routine move next format thus correct behaviour false certain file suitable type true otherwise returning true safe choice certain boolean isrecognizedformat bufferedreader input throws ioexception boolean isrecognizedformat path filepath charset encoding throws ioexception try bufferedreader bufferedreader getreader filepath encoding isrecognizedformat bufferedreader parse database source method called two different contexts either importing specified format importing unknown format latter case jabref cycles available formats error messages feedback displayed individual formats case importing specified format empty database returned jabref reports entries found method never null param input input read parserresult importdatabase bufferedreader input throws ioexception parse database specified file importer facilities detect correct encoding file overwrite method determine encoding call link #importdatabase bufferedreader param filepath path file imported param encoding encoding used decode file parserresult importdatabase path filepath charset encoding throws ioexception try bufferedreader bufferedreader getreader filepath encoding parserresult parserresult importdatabase bufferedreader parserresult getmetadata setencoding encoding parserresult setfile filepath tofile parserresult bufferedreader getutf8reader path filepath throws ioexception getreader filepath standardcharsets utf bufferedreader getutf16reader path filepath throws ioexception getreader filepath standardcharsets utf bufferedreader getreader path filepath charset encoding throws ioexception inputstream stream fileinputstream filepath tofile bufferedreader inputstreamreader stream encoding returns name format <p>the name must unique p> format name must unique <code>null< code> string getname returns file extensions importer read link fileextensions correspoding importer fileextensions getextensions returns one word id identifies format used example identify format used command line id must unique <code>null< code> string getid string id getname stringbuilder result stringbuilder id length id length char id charat character isletterordigit result append character tolowercase result tostring returns description format description specify <ul><li> kind entries sources based specification able li><li> criteria link #isrecognizedformat bufferedreader recognizes format li>< ul> description format string getdescription override hashcode getname hashcode override boolean equals object obj obj true obj instanceof importer false importer importer obj objects equals getname getname override string tostring getname override compareto importer getname compareto getname 
500	ParseException.java	LOGIC	net sf jabref logic importer parseexception exception parseexception throwable cause super cause parseexception string message throwable cause super message cause parseexception string message super message 
501	GvkFetcher.java	LOGIC	net sf jabref logic importer fetcher net malformedurlexception net urisyntaxexception net url util arrays util collection util linkedlist util list util objects util stream collectors net sf jabref logic help helpfile net sf jabref logic importer fetcherexception net sf jabref logic importer parser net sf jabref logic importer searchbasedparserfetcher net sf jabref logic importer fileformat gvkparser org apache http client utils uribuilder gvkfetcher searchbasedparserfetcher string url pattern http: sru gbv de gvk? searchkeys used specify search request example tit stands title searchkey used default searchkey used collection<string> searchkeys arrays aslist tit per thm slw txt num kon ppn bkl erj override string getname gvk override helpfile gethelppage helpfile fetcher gvk string getsearchquerystringforcomplexquery list<string> querylist string query boolean lastwasnokey false string key querylist searchkeys contains key lastwasnokey query query query query pica key else query query key lastwasnokey true query trim string getsearchquerystring string query objects requirenonnull query linkedlist<string> querylist linkedlist<> arrays aslist query split \\s searchkeys contains querylist get getsearchquerystringforcomplexquery querylist else query pica querylist stream collect collectors joining pica override url geturlforquery string query throws urisyntaxexception malformedurlexception fetcherexception string gvkquery getsearchquerystring query uribuilder uribuilder uribuilder url pattern uribuilder addparameter version uribuilder addparameter operation searchretrieve uribuilder addparameter query gvkquery uribuilder addparameter maximumrecords uribuilder addparameter recordschema picaxml uribuilder addparameter sortkeys year uribuilder build tourl override parser getparser gvkparser 
502	DoiResolution.java	LOGIC	net sf jabref logic importer fetcher io ioexception net url util arraylist util list util locale util objects util optional net sf jabref logic importer fulltextfetcher net sf jabref logic importer mimetypedetector net sf jabref logic util doi net sf jabref model entry bibentry net sf jabref model entry fieldname org apache commons logging log org apache commons logging logfactory org jsoup connection org jsoup jsoup org jsoup nodes document org jsoup nodes element org jsoup select elements fulltextfetcher implementation follows doi resolution redirects scans full text pdf url doiresolution fulltextfetcher log logger logfactory getlog doiresolution override optional<url> findfulltext bibentry entry throws ioexception objects requirenonnull entry optional<url> pdflink optional empty optional<doi> doi entry getfield fieldname doi flatmap doi::build doi ispresent string scilink doi get geturiasasciistring follow redirects scan single pdf link scilink isempty try connection connection jsoup connect scilink pretend browser agent referrer connection useragent mozilla windows windowsnt en us rv1 gecko firefox connection referrer http: www google com connection followredirects true connection ignorehttperrors true publishers quite slow default 3s connection timeout document html connection get scan pdf elements elements html body select a[href] list<optional<url>> links arraylist<> element element elements string href element attr abs:href tolowercase locale english string hreftext element text tolowercase locale english check pdf included link inside text acm uses tokens without pdf inside link see https: github com lehner localcopy scrape ideas href contains pdf hreftext contains pdf mimetypedetector ispdfcontenttype href links add optional url href one link found high accuracy links size logger info fulltext pdf found scilink pdflink links get catch ioexception logger warn doiresolution fetcher failed: pdflink 
503	ArXiv.java	LOGIC	net sf jabref logic importer fetcher io ioexception net httpurlconnection net malformedurlexception net urisyntaxexception net url util arraylist util collections util list util objects util optional util stream collectors javax xml parsers documentbuilder javax xml parsers documentbuilderfactory javax xml parsers parserconfigurationexception net sf jabref logic typedbibentry net sf jabref logic help helpfile net sf jabref logic importer fetcherexception net sf jabref logic importer fulltextfetcher net sf jabref logic importer idbasedfetcher net sf jabref logic importer importformatpreferences net sf jabref logic importer searchbasedfetcher net sf jabref logic importer util oai2handler net sf jabref logic util doi net sf jabref logic util io xmlutil net sf jabref model database bibdatabasemode net sf jabref model entry bibentry net sf jabref model entry bibtexentrytypes net sf jabref model entry fieldname net sf jabref model entry parsedfilefield net sf jabref model strings stringutil org apache commons logging log org apache commons logging logfactory org apache http client utils uribuilder org w3c dom document org w3c dom node org xml sax saxexception fetcher arxiv see <a href http: arxiv org help api index >arxiv api< a> overview api see <a href http: arxiv org help api user manual# calling api >arxiv api user's manual< a> detailed description use api similar implementions: <a href https: github com nathangrigg arxiv2bib >arxiv2bib< a> <a href https: arxiv2bibtex org >live< a> <a herf https: gitlab c3sl ufpr br portalmec dspace portalmec blob aa209d15082a9870f9daac42c78a35490ce77b52 dspace api src main org dspace submit lookup arxivservice >dspace portalmec< a> arxiv fulltextfetcher searchbasedfetcher idbasedfetcher log logger logfactory getlog arxiv string api url http: export arxiv org api query importformatpreferences importformatpreferences arxiv importformatpreferences importformatpreferences importformatpreferences importformatpreferences override optional<url> findfulltext bibentry entry throws ioexception objects requirenonnull entry eprint optional<string> identifier entry getfield fieldname eprint stringutil isnotblank identifier try get pdf entry specified id optional<url> pdfurl searchforentrybyid identifier get flatmap arxiventry::getpdfurl pdfurl ispresent logger info fulltext pdf found arxiv pdfurl catch fetcherexception logger warn arxiv eprint api request failed doi optional<doi> doi entry getfield fieldname doi flatmap doi::build doi ispresent string doistring doi get getdoi search entry arxiv linked doi try optional<url> pdfurl searchforentry doi: doistring flatmap arxiventry::getpdfurl pdfurl ispresent logger info fulltext pdf found arxiv pdfurl catch fetcherexception logger warn arxiv doi api request failed optional empty optional<arxiventry> searchforentry string searchquery throws fetcherexception list<arxiventry> entries queryapi searchquery collections emptylist entries size optional entries get else optional empty optional<arxiventry> searchforentrybyid string identifier throws fetcherexception list<arxiventry> entries queryapi collections singletonlist identifier entries size optional entries get else optional empty list<arxiventry> searchforentries string searchquery throws fetcherexception queryapi searchquery collections emptylist list<arxiventry> queryapi string searchquery list<string> ids start maxresults throws fetcherexception document result callapi searchquery ids start maxresults list<node> entries xmlutil aslist result getelementsbytagname entry entries stream map arxiventry::new collect collectors tolist queries api code searchquery given api results article matches query code ids given api results article list code searchquery code ids given api article code ids matches code searchquery allows api act results filter param searchquery search query used find articles <a href http: arxiv org help api user manual#query details >details< a> param ids list arxiv identifiers param start index first returned result zero based param maxresults number maximal results smaller response api xml document atom throws fetcherexception problem building url api accessible document callapi string searchquery list<string> ids start maxresults throws fetcherexception maxresults throw illegalargumentexception arxiv api limits number maximal results try uribuilder uribuilder uribuilder api url arxiv api problems accents remove fréchet frechet stringutil isnotblank searchquery uribuilder addparameter search query stringutil stripaccents searchquery ids isempty uribuilder addparameter id list string join ids uribuilder addparameter start string valueof start uribuilder addparameter max results string valueof maxresults url url uribuilder build tourl documentbuilderfactory factory documentbuilderfactory newinstance documentbuilder builder factory newdocumentbuilder httpurlconnection connection httpurlconnection url openconnection connection getresponsecode bad request error server try get information throw getexception builder parse connection geterrorstream else builder parse connection getinputstream catch saxexception parserconfigurationexception ioexception urisyntaxexception exception throw fetcherexception arxiv api request failed exception fetcherexception getexception document error list<node> entries xmlutil aslist error getelementsbytagname entry check api returned error case error one entry returned error information example: http: export arxiv org api query?id list <entry> <id>http: arxiv org api errors#incorrect id format 0307015< id> <title>error< title> <summary>incorrect id format 0307015< summary> entry> entries size node node entries get optional<string> id xmlutil getnodecontent node id boolean iserror id map idcontent idcontent startswith http: arxiv org api errors orelse false iserror string errormessage xmlutil getnodecontent node summary orelse unknown error fetcherexception errormessage fetcherexception arxiv api request failed override string getname arxiv override helpfile gethelppage helpfile fetcher oai2 arxiv override list<bibentry> performsearch string query throws fetcherexception searchforentries query stream map arxiventry arxiventry tobibentry importformatpreferences getkeywordseparator collect collectors tolist override optional<bibentry> performsearchbyid string identifier throws fetcherexception searchforentrybyid identifier map arxiventry arxiventry tobibentry importformatpreferences getkeywordseparator arxiventry optional<string> title optional<string> urlabstractpage optional<string> publisheddate optional<string> abstracttext list<string> authornames list<string> categories optional<url> pdfurl optional<string> doi optional<string> journalreferencetext optional<string> primarycategory arxiventry node item see http: arxiv org help api user manual# details atom results returned title article result arxiv contains hard line breaks try remove title xmlutil getnodecontent item title map oai2handler::correctlinebreaks url leading page urlabstractpage xmlutil getnodecontent item id date first version published publisheddate xmlutil getnodecontent item published article abstracttext xmlutil getnodecontent item summary map oai2handler::correctlinebreaks map string::trim authors article authornames arraylist<> node authornode xmlutil getnodesbyname item author optional<string> authorname xmlutil getnodecontent authornode name map string::trim authorname ifpresent authornames::add categories arxiv acm msc classification categories arraylist<> node categorynode xmlutil getnodesbyname item category optional<string> category xmlutil getattributecontent categorynode term category ifpresent categories::add links optional<url> pdfurlparsed optional empty node linknode xmlutil getnodesbyname item link optional<string> linktitle xmlutil getattributecontent linknode title linktitle equals optional pdf pdfurlparsed xmlutil getattributecontent linknode href map url try url url catch malformedurlexception null pdfurl pdfurlparsed associated doi doi xmlutil getnodecontent item arxiv:doi journal reference provided author journalreferencetext xmlutil getnodecontent item arxiv:journal ref primary category ex: <arxiv:primary category xmlns:arxiv http: arxiv org schemas atom term math ph scheme http: arxiv org schemas atom primarycategory xmlutil getnode item arxiv:primary category flatmap node xmlutil getattributecontent node term returns url linked pdf optional<url> getpdfurl pdfurl returns arxiv identifier optional<string> getid remove leading http: arxiv org abs url get arxiv id string prefix http: arxiv org abs urlabstractpage map abstracturl abstracturl startswith prefix abstracturl substring prefix length else abstracturl returns date first version put arxiv optional<string> getdate publication string also contains time 09t14:49:43z publisheddate map date date length null else date substring bibentry tobibentry character keyworddelimiter bibentry bibentry bibentry bibentry settype bibtexentrytypes article bibentry setfield fieldname eprinttype arxiv bibentry setfield fieldname author string join authornames bibentry addkeywords categories keyworddelimiter getid ifpresent id bibentry setfield fieldname eprint id title ifpresent titlecontent bibentry setfield fieldname title titlecontent doi ifpresent doicontent bibentry setfield fieldname doi doicontent abstracttext ifpresent abstractcontent bibentry setfield fieldname abstractcontent getdate ifpresent date bibentry setfield fieldname date date primarycategory ifpresent category bibentry setfield fieldname eprintclass category journalreferencetext ifpresent journal bibentry setfield fieldname journaltitle journal getpdfurl ifpresent url typedbibentry bibentry bibdatabasemode biblatex setfiles collections singletonlist parsedfilefield online url pdf bibentry 
504	zbMATH.java	LOGIC	net sf jabref logic importer fetcher net malformedurlexception net urisyntaxexception net url security securerandom security cert certificateexception security cert x509certificate util objects javax net ssl httpsurlconnection javax net ssl sslcontext javax net ssl trustmanager javax net ssl x509trustmanager net sf jabref logic cleanup movefieldcleanup net sf jabref logic formatter bibtexfields removebracesformatter net sf jabref logic importer fetcherexception net sf jabref logic importer importformatpreferences net sf jabref logic importer parser net sf jabref logic importer searchbasedparserfetcher net sf jabref logic importer fileformat bibtexparser net sf jabref model cleanup fieldformattercleanup net sf jabref model entry bibentry net sf jabref model entry fieldname org apache commons logging log org apache commons logging logfactory org apache http client utils uribuilder fetches data zentralblatt math https: www zbmath org zbmath searchbasedparserfetcher log logger logfactory getlog zbmath importformatpreferences preferences zbmath importformatpreferences preferences preferences objects requirenonnull preferences override string getname zbmath todo: implement entrybasedparserfetcher use zbmath citation matcher https: www zbmath org citationmatching instead usual search since tool optimized finding publication based partial information override url geturlforentry bibentry entry throws urisyntaxexception malformedurlexception fetcherexception example: https: zbmath org citationmatching match?q ratiu override url geturlforquery string query throws urisyntaxexception malformedurlexception fetcherexception uribuilder uribuilder uribuilder https: zbmath org bibtexoutput uribuilder addparameter query search fields uribuilder addparameter start start index uribuilder addparameter count items instead default fixsslverification uribuilder build tourl older vms automatically trust zbmath certificate case following exception thrown: sun security validator validatorexception: pkix path building failed: sun security provider certpath suncertpathbuilderexception: unable find valid certification path requested target jm 8u101 may trust certificate default according http: stackoverflow com fix issue accepting certificates ugly jabref rely security relevant information kind ok actually taken http: stackoverflow com fixsslverification logger warn fix ssl exception accepting certificates create trust manager validate certificate chains trustmanager[] trustallcerts trustmanager[] x509trustmanager override checkclienttrusted x509certificate[] x509certificates string throws certificateexception override checkservertrusted x509certificate[] x509certificates string throws certificateexception override x509certificate[] getacceptedissuers x509certificate[0] install trusting trust manager try sslcontext sc sslcontext getinstance tls sc init null trustallcerts securerandom httpsurlconnection setdefaultsslsocketfactory sc getsocketfactory catch exception logger error ssl problem override parser getparser bibtexparser preferences override dopostcleanup bibentry entry movefieldcleanup msc2010 fieldname keywords cleanup entry movefieldcleanup fjournal fieldname journal cleanup entry fieldformattercleanup fieldname journal removebracesformatter cleanup entry fieldformattercleanup fieldname title removebracesformatter cleanup entry 
505	IEEE.java	LOGIC	net sf jabref logic importer fetcher io ioexception net url nio charset standardcharsets util objects util optional util regex matcher util regex pattern net sf jabref logic importer fulltextfetcher net sf jabref logic net urldownload net sf jabref logic util doi net sf jabref model entry bibentry net sf jabref model entry fieldname org apache commons logging log org apache commons logging logfactory finding pdf urls entries ieee first look urls type http: ieeexplore ieee org stamp stamp jsp?[tp ]arnumber found resolve doi starts try find similar link html page ieee fulltextfetcher log logger logfactory getlog ieee pattern stamp pattern pattern compile stamp stamp jsp\\?t?p? ?arnumber [0 9] pattern pdf pattern pattern compile http: ieeexplore ieee org ielx[0 \\ pdf[^\ string ieee doi string base url http: ieeexplore ieee org override optional<url> findfulltext bibentry entry throws ioexception objects requirenonnull entry string stampstring try url first primarily work entries old ieee search optional<string> urlstring entry getfield fieldname url urlstring ispresent url direct link ieee? matcher matcher stamp pattern matcher urlstring get matcher find found stampstring matcher group try doi stampstring isempty optional<doi> doi entry getfield fieldname doi flatmap doi::build doi ispresent doi get getdoi startswith ieee doi doi get geturi ispresent download html page ieee string resolveddoipage urldownload doi get geturi get tourl downloadtostring standardcharsets utf try find link matcher matcher stamp pattern matcher resolveddoipage matcher find found stampstring matcher group success? stampstring isempty optional empty download html page containing frame pdf string framepage urldownload base url stampstring downloadtostring standardcharsets utf try find direct pdf link matcher matcher pdf pattern matcher framepage matcher find pdf found logger debug full text document found ieee xplore optional url matcher group optional empty 
506	CrossRef.java	LOGIC	net sf jabref logic importer fetcher util locale util objects util optional net sf jabref logic formatter bibtexfields removebracesformatter net sf jabref logic util doi net sf jabref model entry bibentry net sf jabref model entry fieldname com mashape unirest http httpresponse com mashape unirest http jsonnode com mashape unirest http unirest com mashape unirest http exceptions unirestexception info debatty stringsimilarity levenshtein org apache commons logging log org apache commons logging logfactory org json jsonarray org json jsonexception org json jsonobject fetching dois crossref see https: github com crossref rest api doc crossref log logger logfactory getlog crossref removebracesformatter remove braces formatter removebracesformatter string api url http: api crossref org levenshtein metric distance levenshtein metric threshold optional<doi> finddoi bibentry entry objects requirenonnull entry optional<doi> doi optional empty title minimum requirement optional<string> title entry getfield fieldname title title ispresent title get isempty doi string query enhancequery title get entry try httpresponse<jsonnode> response unirest get api url works querystring query query querystring rows asjson jsonarray items response getbody getobject getjsonobject message getjsonarray items quality check checkvalidity entry items string datadoi items getjsonobject getstring doi logger debug doi datadoi title get found doi build datadoi catch unirestexception logger warn unable query crossref api: getmessage doi string enhancequery string query bibentry entry stringbuilder enhancedquery stringbuilder query author entry getfield fieldname author ifpresent author author isempty enhancedquery append append author year entry getfield fieldname year ifpresent year year isempty enhancedquery append append year enhancedquery tostring boolean checkvalidity bibentry entry jsonarray result string entrytitle remove braces formatter format entry getlatexfreefield fieldname title orelse currently title based title: mind hurts heals body subtitle: try title jsonobject data result getjsonobject string datatitle data getjsonarray title getstring editdistanceignorecase entrytitle datatitle metric threshold true subtitle additional check sometimes subtitle needed sometimes duplicates title data getjsonarray subtitle length string datawithsubtitle datatitle data getjsonarray subtitle getstring editdistanceignorecase entrytitle datawithsubtitle metric threshold false catch jsonexception ex false editdistanceignorecase string string todo: locale dependent language strings? metric distance distance tolowercase locale english tolowercase locale english 
507	DoiFetcher.java	LOGIC	net sf jabref logic importer fetcher io ioexception net url nio charset standardcharsets util optional net sf jabref logic formatter bibtexfields normalizepagesformatter net sf jabref logic help helpfile net sf jabref logic importer fetcherexception net sf jabref logic importer idbasedfetcher net sf jabref logic importer importformatpreferences net sf jabref logic importer fileformat bibtexparser net sf jabref logic l10n localization net sf jabref logic net urldownload net sf jabref logic util doi net sf jabref model entry bibentry doifetcher idbasedfetcher importformatpreferences preferences doifetcher importformatpreferences preferences preferences preferences string cleanupencoding string bibtex normalizepagesformatter format bibtex override string getname doi override helpfile gethelppage helpfile fetcher doi bibtex override optional<bibentry> performsearchbyid string identifier throws fetcherexception optional<doi> doi doi build identifier try doi ispresent url doiurl url doi get geturiasasciistring bibtex data urldownload download urldownload doiurl download addparameters accept application bibtex string bibtexstring download downloadtostring standardcharsets utf bibtex entry bibtexparser singlefromstring cleanupencoding bibtexstring preferences else throw fetcherexception localization lang invalid doi: 0' identifier catch ioexception throw fetcherexception localization lang invalid url 
508	DBLPFetcher.java	LOGIC	net sf jabref logic importer fetcher net malformedurlexception net urisyntaxexception net url util objects net sf jabref logic cleanup doicleanup net sf jabref logic formatter bibtexfields clearformatter net sf jabref logic help helpfile net sf jabref logic importer fetcherexception net sf jabref logic importer importformatpreferences net sf jabref logic importer parser net sf jabref logic importer searchbasedparserfetcher net sf jabref logic importer fileformat bibtexparser net sf jabref model cleanup fieldformattercleanup net sf jabref model entry bibentry net sf jabref model entry fieldname org apache http client utils uribuilder fetches bibtex data dblp dblp org see <a href http: dblp dagstuhl de faq >basic api documentation< a> dblpfetcher searchbasedparserfetcher string basic search url http: www dblp org search api importformatpreferences importformatpreferences dblpfetcher importformatpreferences importformatpreferences objects requirenonnull importformatpreferences importformatpreferences importformatpreferences override url geturlforquery string query throws urisyntaxexception malformedurlexception fetcherexception uribuilder uribuilder uribuilder basic search url uribuilder addparameter query uribuilder addparameter string valueof number hits uribuilder addparameter string valueof need auto completion uribuilder addparameter string valueof index first hit download uribuilder addparameter format bib1 uribuilder build tourl override parser getparser bibtexparser importformatpreferences override dopostcleanup bibentry entry doicleanup doicleaner doicleanup fieldformattercleanup cleartimestampformatter fieldformattercleanup fieldname timestamp clearformatter doicleaner cleanup entry cleartimestampformatter cleanup entry override string getname dblp override helpfile gethelppage helpfile fetcher dblp 
509	IsbnFetcher.java	LOGIC	net sf jabref logic importer fetcher net malformedurlexception net urisyntaxexception net url net sf jabref logic formatter bibtexfields clearformatter net sf jabref logic formatter bibtexfields normalizepagesformatter net sf jabref logic help helpfile net sf jabref logic importer fetcherexception net sf jabref logic importer idbasedparserfetcher net sf jabref logic importer importformatpreferences net sf jabref logic importer parser net sf jabref logic importer fileformat bibtexparser net sf jabref logic l10n localization net sf jabref logic util isbn net sf jabref model cleanup fieldformattercleanup net sf jabref model entry bibentry net sf jabref model entry fieldname org apache http client utils uribuilder fetcher isbn using http: www ebook de isbnfetcher idbasedparserfetcher importformatpreferences importformatpreferences isbnfetcher importformatpreferences importformatpreferences importformatpreferences importformatpreferences override string getname isbn override helpfile gethelppage helpfile fetcher isbn bibtex override url geturlforid string identifier throws urisyntaxexception malformedurlexception fetcherexception isbn isbn isbn identifier isbn isvalid throw fetcherexception localization lang invalid isbn: 0' identifier uribuilder uribuilder uribuilder http: www ebook de de tools isbn2bibtex uribuilder addparameter isbn identifier uribuilder build tourl override parser getparser bibtexparser importformatpreferences override dopostcleanup bibentry entry fieldformattercleanup fieldname url clearformatter cleanup entry fetcher returns page numbers seiten remove every non digit character pagetotal field entry getfield fieldname pagetotal ifpresent pages entry setfield fieldname pagetotal pages replaceall [\\d] fieldformattercleanup fieldname pagetotal normalizepagesformatter cleanup entry 
510	BibsonomyScraper.java	LOGIC	net sf jabref logic importer fetcher io ioexception net url nio charset standardcharsets util optional net sf jabref logic importer importformatpreferences net sf jabref logic importer fileformat bibtexparser net sf jabref logic net urldownload net sf jabref model entry bibentry org apache commons logging log org apache commons logging logfactory convenience getting bibtex entries bibsonomy scraper url pointing entry bibsonomyscraper string bibsonomy scraper http: scraper bibsonomy org service?url string bibsonomy scraper post format bibtex log logger logfactory getlog bibsonomyscraper bibentry looking given url bibsonomy scraper param entryurl optional<bibentry> getentry string entryurl importformatpreferences importformatpreferences try replace special characters corresponding sequences: string cleanurl entryurl replace replace 3a replace 2f replace 3f replace replace 3d url url url bibsonomyscraper bibsonomy scraper cleanurl bibsonomyscraper bibsonomy scraper post string bibtex urldownload url downloadtostring standardcharsets utf bibtexparser singlefromstring bibtex importformatpreferences catch ioexception ex logger warn could download entry ex optional empty catch runtimeexception ex logger warn could get entry ex optional empty 
511	SpringerLink.java	LOGIC	net sf jabref logic importer fetcher io ioexception net url util objects util optional net sf jabref logic importer fulltextfetcher net sf jabref logic util doi net sf jabref model entry bibentry net sf jabref model entry fieldname com mashape unirest http httpresponse com mashape unirest http jsonnode com mashape unirest http unirest com mashape unirest http exceptions unirestexception org apache commons logging log org apache commons logging logfactory org json jsonobject fulltextfetcher implementation attempts find pdf url springerlink uses springer api see link https: dev springer com springerlink fulltextfetcher log logger logfactory getlog springerlink string api url http: api springer com meta v1 json string api key b0c7151179b3d9c1119cf325bca8460d string content host link springer com override optional<url> findfulltext bibentry entry throws ioexception objects requirenonnull entry optional<url> pdflink optional empty try unique doi first optional<doi> doi entry getfield fieldname doi flatmap doi::build doi ispresent available catalog? try httpresponse<jsonnode> jsonresponse unirest get api url querystring api key api key querystring string format doi: doi get getdoi asjson jsonobject json jsonresponse getbody getobject results json getjsonarray result getjsonobject getint total results logger info fulltext pdf found springer pdflink optional url http content host string format content pdf pdf doi get getdoi catch unirestexception logger warn springerlink api request failed pdflink 
512	ScienceDirect.java	LOGIC	net sf jabref logic importer fetcher io ioexception net url util objects util optional net sf jabref logic importer fulltextfetcher net sf jabref logic util doi net sf jabref model entry bibentry net sf jabref model entry fieldname com mashape unirest http httpresponse com mashape unirest http jsonnode com mashape unirest http unirest com mashape unirest http exceptions unirestexception org apache commons logging log org apache commons logging logfactory org json jsonarray org json jsonexception org json jsonobject org jsoup jsoup org jsoup nodes document org jsoup nodes element fulltextfetcher implementation attempts find pdf url sciencedirect see http: dev elsevier com sciencedirect fulltextfetcher log logger logfactory getlog sciencedirect string api url http: api elsevier com content article doi string api key fb82f2e692b3c72dafe5f4f1fa0ac00b override optional<url> findfulltext bibentry entry throws ioexception objects requirenonnull entry optional<url> pdflink optional empty try unique doi first optional<doi> doi entry getfield fieldname doi flatmap doi::build doi ispresent available catalog? try string scilink geturlbydoi doi get getdoi scilink isempty retrieve pdf link document html jsoup connect scilink ignorehttperrors true get element link html getelementbyid pdflink link null logger info fulltext pdf found sciencedirect pdflink optional url link attr pdfurl catch unirestexception logger warn sciencedirect api request failed pdflink string geturlbydoi string doi throws unirestexception string scilink try string request api url doi httpresponse<jsonnode> jsonresponse unirest get request header els apikey api key querystring httpaccept application json asjson jsonobject json jsonresponse getbody getobject jsonarray links json getjsonobject full text retrieval response getjsonobject coredata getjsonarray link links length jsonobject link links getjsonobject link getstring rel equals scidir scilink link getstring href scilink catch jsonexception logger debug sciencedirect link found api request scilink 
513	MedlineFetcher.java	LOGIC	net sf jabref logic importer fetcher io bufferedreader io ioexception io inputstreamreader net malformedurlexception net urisyntaxexception net url net urlconnection nio charset standardcharsets util arraylist util collections util linkedlist util list javax xml stream xmlinputfactory javax xml stream xmlstreamconstants javax xml stream xmlstreamexception javax xml stream xmlstreamreader net sf jabref logic help helpfile net sf jabref logic importer fetcherexception net sf jabref logic importer idbasedparserfetcher net sf jabref logic importer parser net sf jabref logic importer parserresult net sf jabref logic importer searchbasedfetcher net sf jabref logic importer fileformat medlineimporter net sf jabref logic l10n localization net sf jabref model entry bibentry org apache commons logging log org apache commons logging logfactory org apache http client utils uribuilder fetch search pubmed <a href http: www ncbi nlm nih gov sites entrez >www ncbi nlm nih gov< a> medlinefetcher fetches entries pubmed database see <a href http: help jabref org en medlineris >help jabref org< a> detailed documentation available fields medlinefetcher idbasedparserfetcher searchbasedfetcher log logger logfactory getlog medlinefetcher number fetch string id url https: eutils ncbi nlm nih gov entrez eutils efetch fcgi string search url https: eutils ncbi nlm nih gov entrez eutils esearch fcgi numberofresultsfound replaces commas given string param query input remove commas input without commas string replacecommawithand string query query replaceall replaceall using 'esearch fcgi?db <database> term <query>' get list ids matching query input: text query term output: list uids matching query see <a href https: www ncbi nlm nih gov books nbk25500 >www ncbi nlm nih gov books nbk25500 a> list<string> getpubmedidsfromquery string query throws fetcherexception boolean fetchids false boolean firstoccurrenceofcount false list<string> idlist arraylist<> try url ncbi createsearchurl query xmlinputfactory inputfactory xmlinputfactory newfactory xmlstreamreader streamreader inputfactory createxmlstreamreader ncbi openstream fetchloop: streamreader hasnext event streamreader geteventtype switch event case xmlstreamconstants start element: streamreader getname tostring equals count firstoccurrenceofcount true streamreader getname tostring equals idlist fetchids true break case xmlstreamconstants characters: firstoccurrenceofcount numberofresultsfound integer parseint streamreader gettext firstoccurrenceofcount false fetchids idlist add streamreader gettext break case xmlstreamconstants end element: everything relevant listed idlist break loop right idlist tag closes streamreader getname tostring equals idlist break fetchloop streamreader next streamreader close idlist catch ioexception urisyntaxexception throw fetcherexception unable get pubmed ids localization lang unable get pubmed ids catch xmlstreamexception throw fetcherexception error parsing id list localization lang error parsing id list override string getname medline override helpfile gethelppage helpfile fetcher medline override url geturlforid string identifier throws urisyntaxexception malformedurlexception fetcherexception uribuilder uribuilder uribuilder id url uribuilder addparameter db pubmed uribuilder addparameter retmode xml uribuilder addparameter id identifier uribuilder build tourl override parser getparser medlineimporter override dopostcleanup bibentry entry entry clearfield journal abbreviation entry clearfield status entry clearfield copyright override list<bibentry> performsearch string query throws fetcherexception list<bibentry> entrylist linkedlist<> query isempty collections emptylist else string searchterm replacecommawithand query searching pubmed ids matching query list<string> idlist getpubmedidsfromquery searchterm idlist isempty logger info results found collections emptylist numberofresultsfound number fetch logger info numberofresultsfound results found relevant results fetched default pass list ids fetchmedline download like id fetcher mutliple ids entrylist fetchmedline idlist entrylist url createsearchurl string term throws urisyntaxexception malformedurlexception term replacecommawithand term uribuilder uribuilder uribuilder search url uribuilder addparameter db pubmed uribuilder addparameter sort relevance uribuilder addparameter retmax string valueof number fetch uribuilder addparameter term term uribuilder build tourl fetch parse medline item eutils ncbi nlm nih gov utilities generate huge xml file containing entries ids param ids list ids search empty list error list<bibentry> fetchmedline list<string> ids throws fetcherexception try separate ids comma search multiple entries url fetchurl geturlforid string join ids urlconnection data fetchurl openconnection parserresult result medlineimporter importdatabase bufferedreader inputstreamreader data getinputstream standardcharsets utf result haswarnings logger warn result geterrormessage list<bibentry> resultlist result getdatabase getentries resultlist foreach this::dopostcleanup resultlist catch urisyntaxexception malformedurlexception throw fetcherexception error generating fetch url localization lang error generating fetch url catch ioexception throw fetcherexception error fetching medline localization lang error fetching medline 
514	DiVA.java	LOGIC	net sf jabref logic importer fetcher net malformedurlexception net urisyntaxexception net url net sf jabref logic help helpfile net sf jabref logic importer fetcherexception net sf jabref logic importer idbasedparserfetcher net sf jabref logic importer importformatpreferences net sf jabref logic importer parser net sf jabref logic importer fileformat bibtexparser org apache http client utils uribuilder http: www diva portal org smash aboutdiva jsf?dswid diva portal contains research publications student theses swedish universities research institutions diva idbasedparserfetcher importformatpreferences importformatpreferences diva importformatpreferences importformatpreferences importformatpreferences importformatpreferences override string getname diva override helpfile gethelppage helpfile fetcher diva bibtex override url geturlforid string identifier throws urisyntaxexception malformedurlexception fetcherexception uribuilder uribuilder uribuilder http: www diva portal org smash getreferences uribuilder addparameter referenceformat bibtex uribuilder addparameter pids identifier uribuilder build tourl override parser getparser bibtexparser importformatpreferences boolean isvalidid string identifier identifier startswith diva2: 
515	MathSciNet.java	LOGIC	net sf jabref logic importer fetcher io bufferedreader io inputstreamreader net malformedurlexception net urisyntaxexception net url util arraylist util list util objects util regex matcher util regex pattern util stream collectors net sf jabref logic cleanup movefieldcleanup net sf jabref logic formatter bibtexfields clearformatter net sf jabref logic importer entrybasedparserfetcher net sf jabref logic importer fetcherexception net sf jabref logic importer importformatpreferences net sf jabref logic importer parser net sf jabref logic importer searchbasedparserfetcher net sf jabref logic importer fileformat bibtexparser net sf jabref logic util os net sf jabref model cleanup fieldformattercleanup net sf jabref model entry bibentry net sf jabref model entry fieldname org apache http client utils uribuilder fetches data mathscinet http: www ams org mathscinet mathscinet searchbasedparserfetcher entrybasedparserfetcher importformatpreferences preferences mathscinet importformatpreferences preferences preferences objects requirenonnull preferences override string getname mathscinet use mr lookup http: www ams org mrlookup instead usual search since tool also available without subscription moreover optimized finding publication based partial information override url geturlforentry bibentry entry throws urisyntaxexception malformedurlexception fetcherexception uribuilder uribuilder uribuilder http: www ams org mrlookup uribuilder addparameter format bibtex entry getfieldoralias fieldname title ifpresent title uribuilder addparameter ti title entry getfieldoralias fieldname author ifpresent author uribuilder addparameter au author entry getfieldoralias fieldname journal ifpresent journal uribuilder addparameter jrnl journal entry getfieldoralias fieldname year ifpresent year uribuilder addparameter year year uribuilder build tourl override url geturlforquery string query throws urisyntaxexception malformedurlexception fetcherexception uribuilder uribuilder uribuilder http: www ams org mathscinet search publications html uribuilder addparameter pg7 allf search fields uribuilder addparameter s7 query query uribuilder addparameter start index uribuilder addparameter extend items instead default uribuilder addparameter fmt bibtex bibtex format uribuilder build tourl override parser getparser mathscinet returns bibtex result embedded html extract bibtex string <pre>bibtex< pre> tags pass content bibtex parser inputstream string response bufferedreader inputstreamreader inputstream lines collect collectors joining os newline list<bibentry> entries arraylist<> bibtexparser bibtexparser bibtexparser preferences pattern pattern pattern compile <pre> ?s pre> matcher matcher pattern matcher response matcher find string bibtexentrystring matcher group entries addall bibtexparser parseentries bibtexentrystring entries override dopostcleanup bibentry entry movefieldcleanup fjournal fieldname journal cleanup entry movefieldcleanup mrclass fieldname keywords cleanup entry fieldformattercleanup fieldname url clearformatter cleanup entry 
516	ACS.java	LOGIC	net sf jabref logic importer fetcher io ioexception net url util objects util optional net sf jabref logic importer fulltextfetcher net sf jabref logic util doi net sf jabref model entry bibentry net sf jabref model entry fieldname org apache commons logging log org apache commons logging logfactory org jsoup jsoup org jsoup nodes document org jsoup nodes element fulltextfetcher implementation attempts find pdf url acs acs fulltextfetcher log logger logfactory getlog acs string source http: pubs acs org doi abs tries find fulltext url given bibtex entry currently uses doi found param entry bibtex entry fulltext pdf url optional found empty optional found throws nullpointerexception bibtex entry given throws io ioexception override optional<url> findfulltext bibentry entry throws ioexception objects requirenonnull entry optional<url> pdflink optional empty doi search optional<doi> doi entry getfield fieldname doi flatmap doi::build doi ispresent string source string format source doi get getdoi retrieve pdf link document html jsoup connect source ignorehttperrors true get element link html select pdf high res first link null logger info fulltext pdf found acs pdflink optional url source replacefirst abs pdf pdflink 
517	AstrophysicsDataSystem.java	LOGIC	net sf jabref logic importer fetcher io ioexception io inputstream net malformedurlexception net urisyntaxexception net url net urlconnection util collections util list util objects net sf jabref logic formatter bibtexfields clearformatter net sf jabref logic formatter bibtexfields normalizenamesformatter net sf jabref logic formatter bibtexfields removebracesformatter net sf jabref logic help helpfile net sf jabref logic importer entrybasedparserfetcher net sf jabref logic importer fetcherexception net sf jabref logic importer idbasedparserfetcher net sf jabref logic importer importformatpreferences net sf jabref logic importer parseexception net sf jabref logic importer parser net sf jabref logic importer searchbasedparserfetcher net sf jabref logic importer fileformat bibtexparser net sf jabref logic l10n localization net sf jabref model cleanup fieldformattercleanup net sf jabref model entry bibentry net sf jabref model entry fieldname org apache http client utils uribuilder org jsoup helper stringutil fetches data sao nasa astrophysics data system http: www adsabs harvard edu search query based: http: adsabs harvard edu basic search html entry based: http: adsabs harvard edu service html also api https: github com adsabs adsabs dev api returns json least needs multiple calls get bibtex status: september astrophysicsdatasystem idbasedparserfetcher searchbasedparserfetcher entrybasedparserfetcher string api query url http: adsabs harvard edu cgi bin nph basic connect string api entry url http: adsabs harvard edu cgi bin nph abs connect string api doi url http: adsabs harvard edu doi string patternremovedoi doi: doi: importformatpreferences preferences astrophysicsdatasystem importformatpreferences preferences preferences objects requirenonnull preferences override string getname sao nasa astrophysics data system uribuilder getbaseurl string apiurl throws urisyntaxexception uribuilder uribuilder uribuilder apiurl uribuilder addparameter data type bibtexplus uribuilder addparameter start nr string valueof uribuilder addparameter nr string valueof uribuilder override url geturlforquery string query throws urisyntaxexception malformedurlexception fetcherexception uribuilder uribuilder getbaseurl api query url uribuilder addparameter qsearch query uribuilder build tourl override url geturlforentry bibentry entry throws urisyntaxexception malformedurlexception fetcherexception uribuilder uribuilder getbaseurl api entry url search astronomy physics arxiv db uribuilder addparameter db key ast uribuilder addparameter db key phy uribuilder addparameter db key pre add title search entry getfieldoralias fieldname title ifpresent title uribuilder addparameter ttl logic uribuilder addparameter title title uribuilder addparameter ttl syn yes synonym replacement uribuilder addparameter ttl wt weight uribuilder addparameter ttl wgt yes consider weight add author search entry getfieldoralias fieldname author ifpresent author uribuilder addparameter aut logic uribuilder addparameter author author uribuilder addparameter aut syn yes synonym replacement uribuilder addparameter aut wt weight uribuilder addparameter aut wgt yes consider weight uribuilder build tourl override url geturlforid string identifier throws urisyntaxexception malformedurlexception fetcherexception string key identifier replaceall patternremovedoi uribuilder uribuilder uribuilder api doi url key uribuilder addparameter data type bibtexplus uribuilder build tourl override helpfile gethelppage helpfile fetcher ads override parser getparser bibtexparser preferences override list<bibentry> performsearch string query throws fetcherexception stringutil isblank query collections emptylist try urlconnection connection geturlforquery query openconnection connection setrequestproperty user agent mozilla windows nt rv:31 gecko firefox try inputstream stream connection getinputstream list<bibentry> fetchedentries getparser parseentries stream post cleanup fetchedentries foreach this::dopostcleanup fetchedentries catch ioexception throw fetcherexception exception occurred catch urisyntaxexception malformedurlexception throw fetcherexception search uri malformed catch ioexception throw fetcherexception exception occurred catch parseexception throw fetcherexception error occurred parsing entry localization lang error occurred parsing entry override dopostcleanup bibentry entry fieldformattercleanup fieldname removebracesformatter cleanup entry fieldformattercleanup fieldname title removebracesformatter cleanup entry fieldformattercleanup fieldname author normalizenamesformatter cleanup entry remove url ads page fieldformattercleanup adsnote clearformatter cleanup entry fieldformattercleanup adsurl clearformatter cleanup entry 
518	GoogleScholar.java	LOGIC	net sf jabref logic importer fetcher io ioexception io stringreader net httpcookie net urisyntaxexception net url nio charset standardcharsets util arraylist util collection util list util objects util optional util regex matcher util regex pattern net sf jabref logic help helpfile net sf jabref logic importer fetcherexception net sf jabref logic importer fulltextfetcher net sf jabref logic importer importformatpreferences net sf jabref logic importer parserresult net sf jabref logic importer searchbasedfetcher net sf jabref logic importer fileformat bibtexparser net sf jabref logic l10n localization net sf jabref logic net urldownload net sf jabref model entry bibentry net sf jabref model entry fieldname org apache commons logging log org apache commons logging logfactory org apache http client utils uribuilder org jsoup jsoup org jsoup nodes document org jsoup select elements fulltextfetcher implementation attempts find pdf url googlescholar googlescholar fulltextfetcher searchbasedfetcher log logger logfactory getlog googlescholar pattern link bib pattern pattern compile https:\\ \\ scholar googleusercontent com\\ scholar bib[^\ string basic search url https: scholar google com scholar? string search title url https: scholar google com scholar? num results importformatpreferences importformatpreferences googlescholar importformatpreferences importformatpreferences objects requirenonnull importformatpreferences importformatpreferences importformatpreferences override optional<url> findfulltext bibentry entry throws ioexception fetcherexception objects requirenonnull entry optional<url> pdflink optional empty search title entry hasfield fieldname title pdflink try uribuilder uribuilder uribuilder search title url uribuilder addparameter uribuilder addparameter epq entry getfield fieldname title orelse null uribuilder addparameter occt title document doc jsoup connect uribuilder tostring useragent mozilla windows nt rv:31 gecko firefox identify crawler get check results pdf link todo: link always first result none? num results elements link doc select string format #gs ggsw link first null string link first attr href link present? equals todo: check title inside pdf length? todo: report error function needed? query result logger info fulltext pdf found google: pdflink optional url break catch urisyntaxexception throw fetcherexception building uri failed pdflink override string getname google scholar override helpfile gethelppage helpfile fetcher google scholar override list<bibentry> performsearch string query throws fetcherexception try obtainandmodifycookie list<bibentry> foundentries arraylist<> uribuilder uribuilder uribuilder basic search url uribuilder addparameter hl en uribuilder addparameter btng search uribuilder addparameter query addhitsfromquery foundentries uribuilder tostring foundentries size uribuilder addparameter start addhitsfromquery foundentries uribuilder tostring foundentries catch urisyntaxexception throw fetcherexception error fetching getname catch ioexception much requests ip adress google answering redirecting captcha challenge caught ioexception looks example like this: io ioexception: server returned http response code: url: https: ipv4 google com sorry index?continue https: scholar google com scholar 3fhl 3den 26btng 3dsearch 26q 3dbpmn hl en cgmsbi0nbdkyuqy9wauigqdxp4nlqcwbiey1hjph5zfjhv4anpgdwj0 getmessage contains server returned http response code: url throw fetcherexception fetching google scholar failed localization lang might caused reaching traffic limitation google scholar see 'help' details else throw fetcherexception error fetching getname addhitsfromquery list<bibentry> entrylist string queryurl throws ioexception fetcherexception string content urldownload createurldownloadwithbrowseruseragent queryurl downloadtostring standardcharsets utf matcher matcher link bib pattern matcher content matcher find string citationspageurl matcher group replace amp bibentry newentry downloadentry citationspageurl entrylist add newentry bibentry downloadentry string link throws ioexception fetcherexception string downloadedcontent urldownload createurldownloadwithbrowseruseragent link downloadtostring standardcharsets utf bibtexparser parser bibtexparser importformatpreferences parserresult result parser parse stringreader downloadedcontent result null result getdatabase null throw fetcherexception parsing entries google scholar bib file failed else collection<bibentry> entries result getdatabase getentries entries size logger debug entries size entries found link throw fetcherexception parsing entries google scholar bib file failed else bibentry entry entries iterator next entry obtainandmodifycookie throws fetcherexception try urldownload downloader urldownload createurldownloadwithbrowseruseragent https: scholar google com list<httpcookie> cookies downloader getcookiefromurl httpcookie cookie cookies append cf represents citation format bibtex cookie setvalue cookie getvalue :cf catch ioexception throw fetcherexception cookie configuration google scholar failed 
519	FulltextFetcher.java	LOGIC	net sf jabref logic importer io ioexception net url util optional net sf jabref model entry bibentry interface used classes try resolve full text pdf url bibtex entry implementing classes specialize specific article sites see link http: libguides mit edu apis functionalinterface interface fulltextfetcher tries find fulltext url given bibtex entry param entry bibtex entry fulltext pdf url optional found empty optional found throws nullpointerexception bibtex entry given throws io ioexception optional<url> findfulltext bibentry entry throws ioexception fetcherexception 
520	FetcherException.java	LOGIC	net sf jabref logic importer net sf jabref jabrefexception fetcherexception jabrefexception fetcherexception string errormessage throwable cause super errormessage cause fetcherexception string errormessage super errormessage fetcherexception string errormessage string localizedmessage throwable cause super errormessage localizedmessage cause 
521	Parser.java	LOGIC	net sf jabref logic importer io inputstream util list net sf jabref model entry bibentry parser converts link inputstream list link bibentry interface parser list<bibentry> parseentries inputstream inputstream throws parseexception 
522	OvidImporter.java	LOGIC	net sf jabref logic importer fileformat io bufferedreader io ioexception util arraylist util hashmap util list util map util regex matcher util regex pattern net sf jabref logic importer importer net sf jabref logic importer parserresult net sf jabref logic util fileextensions net sf jabref model entry authorlist net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model entry idgenerator imports ovid file ovidimporter importer pattern ovid source pattern pattern compile source \\w \\ :] \\ [0 9] \\ [\\w\\ \\ [0 9] \\ ?[0 9] \\ [0 9][0 9][0 9][0 9] pattern ovid source pattern issue pattern compile source \\w \\ :] \\ [0 9] [0 9] \\ ?[0 9] \\ [0 9][0 9][0 9][0 9] pattern ovid source pattern pattern compile \\w \\ \\ vol [0 9] \\ [\\w\\ \\ [a za z] [0 9][0 9][0 9][0 9] [0 9] \\ ?[0 9] pattern incollection pattern pattern compile \\ [0 9][0 9][0 9][0 9] \\ \\ \\w \\ :] \\ \\ pp [0 9] \\ ?[0 9] \\ [a za z0 pp\\ [\\w [\\w pattern book pattern pattern compile \\ [0 9][0 9][0 9][0 9] \\ \\ [a za [0 9] pp\\ [\\w [\\w string ovid pattern string <[0 9] pattern ovid pattern pattern compile ovid pattern string max items override string getname ovid override fileextensions getextensions fileextensions ovid override string getdescription imports ovid file override boolean isrecognizedformat bufferedreader reader throws ioexception string str str reader readline null max items ovidimporter ovid pattern matcher str find true false override parserresult importdatabase bufferedreader reader throws ioexception list<bibentry> bibitems arraylist<> stringbuilder sb stringbuilder string line line reader readline null line isempty line charat sb append newfield sb append line sb append '\n' string[] items sb tostring split ovid pattern string items length map<string string> hashmap<> string[] fields items[i] split newfield string field fields linebreak field indexof '\n' string fieldname field substring linebreak trim string content field substring linebreak trim check author field due minor special treatment field boolean isauthor fieldname indexof author fieldname contains author keywords fieldname contains author mail remove unnecessary dots end lines unless author field case dot end could significant: isauthor content endswith content content substring content length isauthor put fieldname author content else fieldname startswith title content content replaceall \\[ \\] trim content endswith content content substring content length put fieldname title content else fieldname startswith chapter title put chaptertitle content else fieldname startswith source matcher matcher matcher ovidimporter ovid source pattern matcher content find put fieldname journal matcher group put fieldname volume matcher group put fieldname issue matcher group put fieldname pages matcher group put fieldname year matcher group else matcher ovidimporter ovid source pattern issue matcher content find may missing issue put fieldname journal matcher group put fieldname volume matcher group put fieldname pages matcher group put fieldname year matcher group else matcher ovidimporter ovid source pattern matcher content find put fieldname journal matcher group put fieldname volume matcher group put fieldname issue matcher group put fieldname month matcher group put fieldname year matcher group put fieldname pages matcher group else matcher ovidimporter incollection pattern matcher content find put fieldname editor matcher group replace ed put fieldname year matcher group put fieldname booktitle matcher group put fieldname pages matcher group put fieldname address matcher group put fieldname publisher matcher group else matcher ovidimporter book pattern matcher content find put fieldname year matcher group put fieldname pages matcher group put fieldname address matcher group put fieldname publisher matcher group add hyphens page ranges: get fieldname pages null put fieldname pages get fieldname pages replace else equals fieldname put fieldname content else publication type equals fieldname content contains book put bibentry type header book else content contains journal put bibentry type header article else content contains conference paper put bibentry type header inproceedings else fieldname startswith language put fieldname language content else fieldname startswith author keywords content content replace replace put fieldname keywords content else fieldname startswith issn put fieldname issn content else fieldname startswith doi number put fieldname doi content need check book entry given editors author field rearrange: string auth get fieldname author auth null auth contains [ed] remove fieldname author put fieldname editor auth replace [ed] rearrange names properly: auth get fieldname author auth null put fieldname author fixnames auth auth get fieldname editor auth null put fieldname editor fixnames auth set entrytype properly: string entrytype containskey bibentry type header get bibentry type header bibentry default type remove bibentry type header book equals entrytype containskey chaptertitle means incollection entry entrytype incollection move chaptertitle title put fieldname title remove chaptertitle bibentry bibentry idgenerator next entrytype setfield bibitems add parserresult bibitems convert string author names bibtex compatible format param content name string formatted names string fixnames string content string names content indexof ln fn [ln fn names content replaceall [^\\ za \\ replace else content indexof string[] snames content split stringbuilder sb stringbuilder snames length sb append sb append snames[i] replacefirst names sb tostring else names content authorlist fixauthorlastnamefirst names 
523	package-info.java	LOGIC	file generated javatm architecture xml binding jaxb reference implementation v2 see <a href http: sun com xml jaxb >http: sun com xml jaxb< a> modifications file lost upon recompilation source schema generated on: 06:51:34 pm cest needs src main ensure namespace mapped prefix mods done gradle task moment javax xml bind annotation xmlschema namespace http: www loc gov mods v3 xmlns xmlns prefix mods namespaceuri http: www loc gov mods v3 elementformdefault javax xml bind annotation xmlnsform qualified net sf jabref logic importer fileformat mods javax xml bind annotation xmlns 
524	SilverPlatterImporter.java	LOGIC	net sf jabref logic importer fileformat io bufferedreader io ioexception util arraylist util hashmap util list util map util regex pattern net sf jabref logic importer importer net sf jabref logic importer parserresult net sf jabref logic util fileextensions net sf jabref model entry authorlist net sf jabref model entry bibentry net sf jabref model entry fieldname imports silverplatter exported file poor format parse currently handle everything correctly silverplatterimporter importer pattern start pattern pattern compile record inspec override string getname silverplatter override fileextensions getextensions fileextensions silver platter override string getdescription imports silverplatter exported file override boolean isrecognizedformat bufferedreader reader throws ioexception format similar inspec two fold strategy: see flag signaling inspec file false flag appear first entry prevent us accepting inspec format look title entry string str str reader readline null start pattern matcher str find false inspec file false str length ti: equals str substring true false override parserresult importdatabase bufferedreader reader throws ioexception list<bibentry> bibitems arraylist<> boolean ischapter false string str stringbuilder sb stringbuilder str reader readline null str length sb append :: append str else sb append newfield append str string[] entries sb tostring split :: string type map<string string> hashmap<> string entry entries entry trim length continue clear string[] fields entry split newfield string field fields field length continue string f3 field substring string frest field substring ti equals f3 put fieldname title frest else au equals f3 frest trim endswith ed string ed frest trim ed ed substring ed length put fieldname editor authorlist fixauthorlastnamefirst ed replace replace else put fieldname author authorlist fixauthorlastnamefirst frest replace replace else ab equals f3 put fieldname frest else de equals f3 string kw frest replace tolowercase put fieldname keywords kw substring kw length else equals f3 frest indexof string jr frest substring put fieldname journal jr replace frest frest substring frest indexof string yr frest substring trim put fieldname year yr frest frest substring frest indexof ':' issueindex frest indexof endissueindex frest indexof string pg frest substring trim put fieldname pages pg put fieldname volume frest substring issueindex trim put fieldname issue frest substring issueindex endissueindex trim else pb equals f3 frest indexof ':' string jr frest substring put fieldname publisher jr replace trim frest frest substring frest indexof frest length string yr frest substring trim try integer parseint yr put fieldname year yr catch numberformatexception ex let's assume number since parsed integer else af equals f3 put fieldname school frest trim else dt equals f3 frest frest trim monograph equals frest type book else frest startswith dissertation type phdthesis else frest tolowercase contains fieldname journal type article else contribution equals frest chapter equals frest type incollection entry type contains page numbers booktitle title field ischapter true else type frest replace ischapter string titleo get fieldname title titleo null string title titleo trim inpos title indexof inpos put fieldname title title substring inpos bibentry bibentry default bibtexentry id type id assumes existing database create one setfield bibitems add parserresult bibitems 
525	BibtexImporter.java	LOGIC	net sf jabref logic importer fileformat io bufferedreader io ioexception nio charset charset nio file path util objects util optional net sf jabref logic exporter savepreferences net sf jabref logic importer importformatpreferences net sf jabref logic importer importer net sf jabref logic importer parserresult net sf jabref logic util fileextensions importer exists enable importtoopen someentry bib` intended bib file done via option action treats metadata fields metadata required read called bibteximporter importer signature written top bib file earlier versions string signature file created jabref importformatpreferences importformatpreferences bibteximporter importformatpreferences importformatpreferences importformatpreferences importformatpreferences true effective way decide whether file bibtex format see https: github com jabref jabref pull 379#issuecomment details override boolean isrecognizedformat bufferedreader reader objects requirenonnull reader true override parserresult importdatabase path filepath charset defaultencoding throws ioexception want check jabref signature file would tell us character encoding used however read signature must using compatible encoding first place since signature contain fancy characters read regardless encoding either utf utf that's hypothesis rate bit likely try first: optional<charset> suppliedencoding try bufferedreader utf8reader getutf8reader filepath suppliedencoding getsuppliedencoding utf8reader get us anywhere check bit encoding: suppliedencoding ispresent try bufferedreader utf16reader getutf16reader filepath suppliedencoding getsuppliedencoding utf16reader suppliedencoding ispresent super importdatabase filepath suppliedencoding get else super importdatabase filepath defaultencoding override parserresult importdatabase bufferedreader reader throws ioexception bibtexparser parse reader importformatpreferences override string getname bibtex override fileextensions getextensions fileextensions bibtex db override string getdescription importer exists enable importtoopen someentry bib`\n intended bib file done via option action treats metadata fields \n metadata required read called searches file encoding: myencoding returns found supplied encoding optional<charset> getsuppliedencoding bufferedreader reader try string line line reader readline null line line trim line start comment lines us stop parsing line startswith optional empty keep part line line substring trim line startswith bibteximporter signature signature line keep reading skip next line else line startswith savepreferences encoding prefix line starts encoding: rest line contain name encoding except already symbol signaling starting bibentry integer atsymbolindex line indexof string encoding atsymbolindex encoding line substring savepreferences encoding prefix length atsymbolindex else encoding line substring savepreferences encoding prefix length optional charset forname encoding else line recognized stop parsing optional empty catch ioexception ignored ignored optional empty 
526	GvkParser.java	LOGIC	net sf jabref logic importer fileformat io ioexception io inputstream util linkedlist util list javax xml parsers documentbuilder javax xml parsers documentbuilderfactory javax xml parsers parserconfigurationexception net sf jabref logic importer parseexception net sf jabref logic importer parser net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model entry idgenerator com google common base strings org apache commons logging log org apache commons logging logfactory org w3c dom document org w3c dom element org w3c dom node org w3c dom nodelist org xml sax saxexception gvkparser parser log logger logfactory getlog gvkparser override list<bibentry> parseentries inputstream inputstream throws parseexception try documentbuilder dbuild documentbuilderfactory newinstance newdocumentbuilder document content dbuild parse inputstream parseentries content catch parserconfigurationexception saxexception ioexception exception throw parseexception exception list<bibentry> parseentries document content list<bibentry> result linkedlist<> used creating test cases xmlutil printdocument content namespace srwnamespace namespace getnamespace srw http: www loc gov zing srw schleife ueber allen teilergebnissen element root content getdocumentelement element root element content getelementsbytagname zs:searchretrieveresponse item element srwrecords getchild zs:records root srwrecords null records found empty list result list<element> records getchildren zs:record srwrecords element record records element getchild zs:recorddata record null getchild record null result add parseentry result bibentry parseentry element string author null string editor null string title null string publisher null string year null string address null string series null string edition null string isbn null string issn null string number null string pagetotal null string volume null string pages null string journal null string ppn null string booktitle null string url null string note null string quelle string mak string subtitle string entrytype book default alle relevanten informationen einsammeln list<element> datafields getchildren datafield element datafield datafields string tag datafield getattribute tag logger debug tag: tag mak equals tag mak getsubfield datafield mak null mak ppn equals tag ppn getsubfield datafield author 028a equals tag string vorname getsubfield datafield string nachname getsubfield datafield author null author else author author concat author author concat vorname nachname author weiterer 028b equals tag string vorname getsubfield datafield string nachname getsubfield datafield author null author else author author concat author author concat vorname nachname editor 028c equals tag string vorname getsubfield datafield string nachname getsubfield datafield editor null editor else editor editor concat editor editor concat vorname nachname title subtitle 021a equals tag title getsubfield datafield subtitle getsubfield datafield publisher address 033a equals tag publisher getsubfield datafield address getsubfield datafield year equals tag year getsubfield datafield year volume number pages year bei zeitschriften evtl redundant mit 031a equals tag year getsubfield datafield volume getsubfield datafield number getsubfield datafield pages getsubfield datafield 036d seems contain information fields overwrite information using field 036d also contains information normally found 036e 036d equals tag might present title null convert old title contained 021a volume title startswith indicates number title title substring number title title subtitle title getsubfield datafield subtitle getsubfield datafield volume getsubfield datafield series number 036e equals tag series getsubfield datafield number getsubfield datafield string kor getsubfield datafield kor null series series kor note 037a equals tag note getsubfield datafield edition equals tag edition getsubfield datafield isbn 004a equals tag string isbn10 getsubfield datafield string isbn13 getsubfield datafield isbn10 null isbn isbn10 isbn13 null isbn isbn13 hochschulschriftenvermerk bei einer verlagsdissertation ist der ort schon eingetragen 037c equals tag address null address getsubfield datafield address null address removesortcharacters address string st getsubfield datafield st null st contains diss entrytype phdthesis journal oder booktitle problematiken hier: sowohl für artikel zeitschriften als für beiträge büchern wird 027d verwendet der titel muß je nach fall booktitle oder journal zugeordnet werden auch bei zeitschriften werden hier ggf verlag und ort angegeben sind dann eigentlich überflüssig während bei buchbeiträgen verlag und ort wichtig sind sonst kategorie 033a 027d equals tag journal getsubfield datafield booktitle getsubfield datafield address getsubfield datafield publisher getsubfield datafield pagetotal 034d equals tag pagetotal getsubfield datafield pagetotal null etc entfernen pagetotal pagetotal replaceall s\\ ?$ behandlung von konferenzen 030f equals tag address getsubfield datafield proceedings equals entrytype subtitle getsubfield datafield entrytype proceedings wenn eine verlagsdiss vorliegt phdthesis equals entrytype isbn null entrytype book hilfskategorien zur entscheidung article oder incollection hier könnte man auch die isbn herausparsen als erleichterung für das auffinden der quelle die über die sru schnittstelle gelieferten daten zur quelle unvollständig sind nicht serie und nummer angegeben werden 039b equals tag quelle getsubfield datafield 046r equals tag quelle null quelle isempty quelle getsubfield datafield urls behandeln 009p equals tag equals datafield getattribute occurrence equals datafield getattribute occurrence url null url getsubfield datafield abfangen von nulleintraegen quelle null quelle nichtsortierzeichen entfernen author null author removesortcharacters author editor null editor removesortcharacters editor title null title removesortcharacters title subtitle null subtitle removesortcharacters subtitle dokumenttyp bestimmen und eintrag anlegen mak startswith entrytype bibentry default type quelle contains isbn entrytype incollection quelle contains zdb id entrytype article else mak isempty entrytype bibentry default type else mak startswith entrytype bibentry default type fixme: online available biblatex entrytype online wahrscheinlichkeit dass zdb id vorhanden ist ist größer als isbn bei buchbeiträgen daher bei as? sätzen besten immer dann incollection annehmen wenn weder isbn noch zdb id vorhanden sind bibentry result bibentry idgenerator next entrytype zuordnung der felder abhängigkeit vom dokumenttyp author null result setfield fieldname author author editor null result setfield fieldname editor editor title null result setfield fieldname title title strings isnullorempty subtitle ensure first letter upper case letter could edge case string one character long therefore special treatment apache commons lang stringutils capitalize https: commons apache org proper commons lang javadocs api release org apache commons lang3 stringutils html#capitalize 28java lang string want add additional dependency 'org apache commons:commons lang3:3 4' stringbuilder newsubtitle stringbuilder character tostring character touppercase subtitle charat subtitle length newsubtitle append subtitle substring result setfield fieldname subtitle newsubtitle tostring publisher null result setfield fieldname publisher publisher year null result setfield fieldname year year address null result setfield fieldname address address series null result setfield fieldname series series edition null result setfield fieldname edition edition isbn null result setfield fieldname isbn isbn issn null result setfield fieldname issn issn number null result setfield fieldname number number pagetotal null result setfield fieldname pagetotal pagetotal pages null result setfield fieldname pages pages volume null result setfield fieldname volume volume journal null result setfield fieldname journal journal ppn null result setfield ppn gvk ppn url null result setfield fieldname url url note null result setfield fieldname note note article equals entrytype journal null result setfield fieldname journal journal else incollection equals entrytype booktitle null result setfield fieldname booktitle booktitle result string getsubfield string element datafield list<element> liste getchildren subfield datafield element subfield liste subfield getattribute code equals subfield gettextcontent null element getchild string name element nodelist children getchildnodes children getlength node test children item test getnodetype node element node element entry element test entry gettagname equals name entry null list<element> getchildren string name element list<element> result linkedlist<> nodelist children getchildnodes children getlength node test children item test getnodetype node element node element entry element test entry gettagname equals name result add entry result string removesortcharacters string input input replaceall \\ 
527	FreeCiteImporter.java	LOGIC	net sf jabref logic importer fileformat io bufferedreader io ioexception io outputstreamwriter io unsupportedencodingexception net malformedurlexception net url net urlconnection net urlencoder nio charset standardcharsets util arraylist util list util objects util scanner javax xml stream xmlinputfactory javax xml stream xmlstreamconstants javax xml stream xmlstreamexception javax xml stream xmlstreamreader net sf jabref jabrefgui net sf jabref logic bibtexkeypattern bibtexkeypatternutil net sf jabref logic importer importformatpreferences net sf jabref logic importer importer net sf jabref logic importer parserresult net sf jabref logic l10n localization net sf jabref logic util fileextensions net sf jabref logic util os net sf jabref model entry bibentry net sf jabref model entry bibtexentrytypes net sf jabref model entry entrytype net sf jabref model entry fieldname org apache commons logging log org apache commons logging logfactory importer parses text format citations using online api freecite open source citation parser http: freecite library brown edu freeciteimporter importer log logger logfactory getlog freeciteimporter importformatpreferences importformatpreferences freeciteimporter importformatpreferences importformatpreferences importformatpreferences importformatpreferences override boolean isrecognizedformat bufferedreader reader throws ioexception objects requirenonnull reader todo: know recognize text files therefore false false override parserresult importdatabase bufferedreader reader throws ioexception try scanner scan scanner reader string text scan usedelimiter \\a next importentries text parserresult importentries string text urlencode string transmission string urlencodedcitation null try urlencodedcitation urlencoder encode text standardcharsets utf name catch unsupportedencodingexception logger warn unsupported encoding send request url url urlconnection conn try url url http: freecite library brown edu citations create conn url openconnection catch malformedurlexception logger warn bad url parserresult catch ioexception logger warn could download parserresult try conn setrequestproperty accept text xml conn setdooutput true outputstreamwriter writer outputstreamwriter conn getoutputstream string data citation urlencodedcitation write parameters writer write data writer flush catch illegalstateexception logger warn already connected catch ioexception logger warn unable connect freecite online service parserresult fromerrormessage localization lang unable connect freecite online service output conn getinputstream inputstreamreader conn getinputstream list<bibentry> res arraylist<> xmlinputfactory factory xmlinputfactory newinstance try xmlstreamreader parser factory createxmlstreamreader conn getinputstream parser hasnext parser geteventtype xmlstreamconstants start element citation equals parser getlocalname parser nexttag stringbuilder notesb stringbuilder bibentry bibentry fallback type entrytype type bibtexentrytypes inproceedings parser geteventtype xmlstreamconstants end element citation equals parser getlocalname parser geteventtype xmlstreamconstants start element string ln parser getlocalname authors equals ln stringbuilder sb stringbuilder parser nexttag parser geteventtype xmlstreamconstants start element author directly nested authors assert author equals parser getlocalname string author parser getelementtext sb length first author sb append author else sb append sb append author assert parser geteventtype xmlstreamconstants end element assert author equals parser getlocalname parser nexttag current tag either begin:author end:authors setfield fieldname author sb tostring else fieldname journal equals ln guess entry journal alternative way parse ctx:context objects ctx:context object ctx:referent ctx:metadata val ctx:metadata journal rft:genre drawback ctx:context objects nested citation separate element would change whole parser parse format type bibtexentrytypes article setfield ln parser getelementtext else tech equals ln type bibtexentrytypes techreport content tech field seems contain number technical report setfield fieldname number parser getelementtext else fieldname doi equals ln fieldname institution equals ln fieldname location equals ln fieldname number equals ln fieldname note equals ln fieldname title equals ln fieldname pages equals ln fieldname publisher equals ln fieldname volume equals ln fieldname year equals ln setfield ln parser getelementtext else fieldname booktitle equals ln string booktitle parser getelementtext booktitle startswith special treatment parsing proceedings references booktitle booktitle substring setfield fieldname booktitle booktitle else raw string equals ln raw input string ignored else tags stored note notesb append ln notesb append ':' notesb append parser getelementtext notesb append os newline parser next notesb length string note hasfield fieldname note note could set parsing freecite also returns note note getfield fieldname note get concat os newline concat notesb tostring else note notesb tostring setfield fieldname note note type derived genre done label generation label generation dependent entry type settype type autogenerate label bibtex key bibtexkeypatternutil makelabel jabrefgui getmainframe getcurrentbasepanel getbibdatabasecontext getmetadata getcitekeypattern importformatpreferences getbibtexkeypatternpreferences getkeypattern jabrefgui getmainframe getcurrentbasepanel getdatabase importformatpreferences getbibtexkeypatternpreferences res add parser next parser close catch ioexception xmlstreamexception ex logger warn could parse ex parserresult parserresult res override string getname text citations override fileextensions getextensions fileextensions freecite override string getdescription importer parses text format citations using online api freecite 
528	MsBibImporter.java	LOGIC	net sf jabref logic importer fileformat io bufferedreader io ioexception util objects javax xml parsers documentbuilder javax xml parsers documentbuilderfactory net sf jabref logic importer importer net sf jabref logic importer parserresult net sf jabref logic msbib msbibdatabase net sf jabref logic util fileextensions org w3c dom document org xml sax inputsource importer ms office xml bibliography format mahbub murshed msbibimporter importer override boolean isrecognizedformat bufferedreader reader throws ioexception objects requirenonnull reader correct behaviour false certain file msbib type true otherwise returning true safe choice certain document docin try documentbuilder dbuild documentbuilderfactory newinstance newdocumentbuilder docin dbuild parse inputsource reader catch exception false docin null docin getdocumentelement gettagname contains sources override parserresult importdatabase bufferedreader reader throws ioexception objects requirenonnull reader msbibdatabase dbase msbibdatabase parserresult dbase importentriesfromxml reader override string getname msbib override fileextensions getextensions fileextensions msbib override string getdescription importer ms office xml bibliography format 
529	BibtexParser.java	LOGIC	net sf jabref logic importer fileformat io bufferedreader io ioexception io inputstream io inputstreamreader io pushbackreader io reader io stringreader nio charset standardcharsets util collection util collections util deque util hashmap util linkedlist util list util map util objects util optional net sf jabref logic bibtex fieldcontentparser net sf jabref logic exporter bibtexdatabasewriter net sf jabref logic exporter savepreferences net sf jabref logic importer importformatpreferences net sf jabref logic importer parseexception net sf jabref logic importer parser net sf jabref logic importer parserresult net sf jabref logic importer util metadataparser net sf jabref logic l10n localization net sf jabref model database bibdatabase net sf jabref model database keycollisionexception net sf jabref model entry bibentry net sf jabref model entry bibtexstring net sf jabref model entry customentrytype net sf jabref model entry entrytype net sf jabref model entry fieldname net sf jabref model entry fieldproperty net sf jabref model entry idgenerator net sf jabref model entry internalbibtexfields net sf jabref model metadata metadata org apache commons logging log org apache commons logging logfactory importing bibtex files <p> use: <p> bibtexparser parser bibtexparser reader <p> parserresult result parser parse <p> <p> parserresult result bibtexparser parse reader <p> used stand alone bibtexparser parser log logger logfactory getlog bibtexparser pushbackreader pushbackreader bibdatabase database map<string entrytype> entrytypes boolean eof line fieldcontentparser fieldcontentparser parserresult parserresult integer lookahead deque<character> puretextfromfile linkedlist<> importformatpreferences importformatpreferences bibtexparser importformatpreferences importformatpreferences importformatpreferences objects requirenonnull importformatpreferences fieldcontentparser fieldcontentparser importformatpreferences getfieldcontentparserpreferences shortcut usage create parser read input param reader read throws ioexception deprecated inline method parserresult parse reader importformatpreferences importformatpreferences throws ioexception bibtexparser importformatpreferences parse parses bibtexentries given string returns collection entries found param bibtexstring returns returns empty collection entries found error occurred deprecated use parseentries deprecated list<bibentry> fromstring string bibtexstring importformatpreferences importformatpreferences bibtexparser parser bibtexparser importformatpreferences try parser parseentries bibtexstring catch exception logger warn bibtexparser fromstring string getmessage collections emptylist parses bibtexentries given string returns one entry found null none found <p> undetermined entry returned use case know one entry string param bibtexstring optional<bibentry> optional empty non found error occurred optional<bibentry> singlefromstring string bibtexstring importformatpreferences importformatpreferences collection<bibentry> entries bibtexparser fromstring bibtexstring importformatpreferences entries null entries isempty optional empty optional entries iterator next override list<bibentry> parseentries inputstream inputstream throws parseexception bufferedreader reader bufferedreader inputstreamreader inputstream standardcharsets utf parseentries reader list<bibentry> parseentries reader reader throws parseexception try parse reader getdatabase getentries catch ioexception throw parseexception list<bibentry> parseentries string bibtexstring throws parseexception parseentries stringreader bibtexstring parse bibtex data found reading reader ignores encoding supplied file encoding: myencoding <p> reader consumed <p> multiple calls parse results parserresult throws ioexception parserresult parse reader throws ioexception objects requirenonnull pushbackreader pushbackreader bibtexparser lookahead bibtex related contents initializeparserresult parsedatabaseid skipwhitespace try parsefilecontent catch keycollisionexception kce throw ioexception duplicate id bibtex file: kce initializeparserresult database bibdatabase entrytypes hashmap<> store custom entry types parsed parserresult parserresult database null entrytypes parsedatabaseid throws ioexception eof skipwhitespace char char read skipwhitespace string label parsetexttoken trim label equals bibtexdatabasewriter database id prefix skipwhitespace database setshareddatabaseid parsetexttoken trim else unread break parserresult parsefilecontent throws ioexception map<string string> meta hashmap<> eof boolean found consumeuncritically found break skipwhitespace try read entry type string entrytype parsetexttoken tolowercase trim preamble equals entrytype database setpreamble parsepreamble consume line signals end preamble skiponenewline preamble saved verbatim anyways text read far dropped dumptextreadsofartostring else string equals entrytype parsebibtexstring else comment equals entrytype parsejabrefcomment meta else comment preamble string thus entry parseandaddentry entrytype skipwhitespace instantiate meta data: try parserresult setmetadata metadataparser parse meta importformatpreferences getkeywordseparator catch parseexception exception parserresult addwarning exception getlocalizedmessage parseremainingcontent parserresult parseremainingcontent database setepilog dumptextreadsofartostring trim parseandaddentry string type morten alver aug 2006: trying make parser robust exception thrown parsing entry drop entry try resume parsing add warning user try collect comments entry type definition front actual entry least type` string commentsandentrytypedefinition dumptextreadsofartostring bibentry entry parseentry type store comments collected without type definition entry setcommentsbeforeentry commentsandentrytypedefinition substring commentsandentrytypedefinition lastindexof store complete parsed serialization comments type definition type contents entry setparsedserialization commentsandentrytypedefinition dumptextreadsofartostring boolean duplicatekey database insertentry entry duplicatekey parserresult addduplicatekey entry getcitekey else entry getcitekeyoptional ispresent entry getcitekeyoptional get isempty parserresult addwarning localization lang empty bibtex key entry getauthortitleyear localization lang grouping may work entry catch ioexception ex logger debug could parse entry ex parserresult addwarning localization lang error occurred parsing entry ex getmessage localization lang skipped entry parsejabrefcomment map<string string> meta stringbuilder buffer null try buffer parsebracketedtextexactly catch ioexception get io exception unbracketed comment means comment picked arbitrary text parser logger info found unbracketed comment string comment buffer tostring replaceall [\\x0d\\x0a] comment substring math min comment length metadata meta flag length equals metadata meta flag comment substring metadata meta flag length equals metadata meta flag string rest comment substring metadata meta flag length pos rest indexof ':' pos remove line breaks metadata inserted prevent long lines file saved part data meta put rest substring pos rest substring pos meta comments always written jabref stored file dumptextreadsofartostring else comment substring math min comment length customentrytype entrytype flag length equals customentrytype entrytype flag custom entry type also stored comment optional<customentrytype> typ customentrytype parse comment typ ispresent entrytypes put typ get getname typ get else parserresult addwarning localization lang ill formed entrytype comment bib file comment custom entry types always written jabref stored file dumptextreadsofartostring parsebibtexstring throws ioexception bibtexstring bibtexstring parsestring bibtexstring setparsedserialization dumptextreadsofartostring try database addstring bibtexstring catch keycollisionexception ex parserresult addwarning localization lang duplicate string name bibtexstring getname puts text read reader including newlines etc since last call method string removes jabref file header found text read far string dumptextreadsofartostring string result getpuretextfromfile indexofat result indexof entry found simply content necessary parse text remaining last entry indexofat purgeeofcharacters result else result contains bibtexdatabasewriter database id prefix purge result bibtexdatabasewriter database id prefix else result contains savepreferences encoding prefix purge result savepreferences encoding prefix else result string purge string context string stringtopurge purge encoding line exists runningindex context indexof stringtopurge indexofat context indexof runningindex indexofat context charat runningindex '\n' break else context charat runningindex '\r' context charat runningindex '\n' runningindex break runningindex context substring runningindex string getpuretextfromfile stringbuilder entry stringbuilder puretextfromfile isempty entry append puretextfromfile pollfirst entry tostring removes eof characters stringbuilder returns string resulting content string without eof characters string purgeeofcharacters string input stringbuilder remainingtext stringbuilder character character input tochararray iseofcharacter character remainingtext append character remainingtext tostring skipwhitespace throws ioexception character true character read iseofcharacter character eof true character iswhitespace char character found non whitespace char unread character break skipspace throws ioexception character true character read iseofcharacter character eof true char character found non space char unread character break skiponenewline throws ioexception skipspace peek '\r' read peek '\n' read boolean iseofcharacter character character character string skipandrecordwhitespace character throws ioexception stringbuilder stringbuilder stringbuilder character stringbuilder append char character true nextcharacter read iseofcharacter nextcharacter eof true stringbuilder tostring character iswhitespace char nextcharacter nextcharacter stringbuilder append char nextcharacter else found non whitespace char unread nextcharacter break stringbuilder tostring peek throws ioexception character read unread character character read throws ioexception character pushbackreader read iseofcharacter character puretextfromfile offerlast char character character '\n' line character unread character throws ioexception character '\n' line pushbackreader unread character puretextfromfile getlast character puretextfromfile polllast bibtexstring parsestring throws ioexception skipwhitespace consume skipwhitespace logger debug parsing string name string name parsetexttoken logger debug parsed string name skipwhitespace logger debug contents consume string content parsefieldcontent name logger debug i'm going consume consume consume line signals end entry skiponenewline logger debug finished string parsing string id idgenerator next bibtexstring id name content string parsepreamble throws ioexception skipwhitespace parsebracketedtext tostring bibentry parseentry string entrytype throws ioexception string id idgenerator next bibentry result bibentry id entrytype skipwhitespace consume character peek character '\n' character '\r' skipwhitespace string key parsekey result setcitekey key skipwhitespace true character peek character character break character consume skipwhitespace character peek character character break parsefield result consume consume line signals end entry skiponenewline result parsefield bibentry entry throws ioexception string key parsetexttoken tolowercase skipwhitespace consume string content parsefieldcontent key content isempty entry hasfield key following hack enables parser deal multiple author editor lines stringing together instead getting one multiple author editor lines allowed bibtex format least one online database exports bibtex like making inconvenient users jabref accept internalbibtexfields getfieldproperties key contains fieldproperty person names entry setfield key entry getfield key get content else fieldname keywords equals key multiple keywords fields combined one entry addkeyword content importformatpreferences getkeywordseparator else entry setfield key content string parsefieldcontent string key throws ioexception skipwhitespace stringbuilder value stringbuilder character character peek character character eof throw ioexception error line line eof mid string character stringbuilder text parsequotedfieldexactly value append fieldcontentparser format text key else character value string enclosed brackets pairs brackets inside field need count brackets know string finished stringbuilder text parsebracketedtextexactly value append fieldcontentparser format text key else character isdigit char character value number string number parsetexttoken value append number else character '#' consume '#' else string texttoken parsetexttoken texttoken isempty throw ioexception error line line above: empty text token \nthis could caused missing comma two fields value append '#' append texttoken append '#' skipwhitespace value tostring method used parse string labels field names entry type numbers outside brackets string parsetexttoken throws ioexception stringbuilder token stringbuilder true character read character eof true token tostring character isletterordigit char character indexof character token append char character else unread character token tostring tries restore key rest key success otherwise empty string throws ioexception reader error string fixkey throws ioexception stringbuilder key stringbuilder lookaheadused char currentchar find char ends key '\n' entryfield currentchar char read key append currentchar lookaheadused currentchar currentchar '\n' currentchar lookaheadused bibtexparser lookahead consumed char much back reader remove key: unread currentchar key deletecharat key length restore possible: switch currentchar case ': get entryfieldname push back take rest key key key reverse boolean matchedalpha false key length currentchar key charat skip spaces: matchedalpha currentchar continue matchedalpha true begin entryfieldname author push back: unread currentchar currentchar currentchar '\n' found whitespaces entryfieldname completed key keybuffer skip whitespaces stringbuilder newkey stringbuilder key length currentchar key charat character iswhitespace currentchar newkey append currentchar finished reverse newkey remove whitespaces: parserresult addwarning localization lang line 0: found corrupted bibtex key string valueof line key newkey reverse break case ': parserresult addwarning localization lang line 0: found corrupted bibtex key contains whitespaces string valueof line break case '\n': parserresult addwarning localization lang line 0: found corrupted bibtex key comma missing string valueof line break default: lookahead give up: unreadbuffer key removewhitespaces key tostring returns <code>stringbuilder< code> corresponds <code>toremove< code> without whitespaces param toremove stringbuilder removewhitespaces stringbuilder toremove stringbuilder result stringbuilder char current toremove length current toremove charat character iswhitespace current result append current result pushes buffer back input param stringbuilder throws ioexception thrown buffer bigger lookahead unreadbuffer stringbuilder stringbuilder throws ioexception stringbuilder length unread stringbuilder charat method used parse bibtex key entry string parsekey throws ioexception stringbuilder token stringbuilder true character read character eof true token tostring character iswhitespace char character character isletterordigit char character character ':' \ufffd indexof character token append char character else character iswhitespace char character encountered white space instead comma end key possibly comma missing try found key try restore rest fixkey token fixkey else character character unread character token tostring else character find sign either error entry lacked comma signifying end key token tostring else throw ioexception error line line character char character allowed bibtex keys stringbuffer parsebracketedtext throws ioexception stringbuffer value stringbuffer consume brackets isclosingbracketnext brackets character read iseofcharacter character throw ioexception error line line eof mid string else character character brackets else character character brackets encounter whitespace kind read simple space ignore others follow immediately '\n' peek '\n' value append '\n' else character iswhitespace char character string whitespacesreduced skipandrecordwhitespace character whitespacesreduced isempty \n\t equals whitespacesreduced whitespacesreduced whitespacesreduced replace \t remove tabulators value append whitespacesreduced else value append else value append char character consume value boolean isclosingbracketnext try peek peek boolean iscurlybracket peek boolean isroundbracket peek iscurlybracket isroundbracket catch ioexception false stringbuilder parsebracketedtextexactly throws ioexception stringbuilder value stringbuilder consume brackets char character char lastcharacter '\0' true character char read boolean isclosingbracket character lastcharacter '\\' isclosingbracket brackets value else iseofcharacter character throw ioexception error line line eof mid string else character isescapesymbol lastcharacter brackets else isclosingbracket brackets value append character lastcharacter character boolean isescapesymbol char character '\\' character stringbuilder parsequotedfieldexactly throws ioexception stringbuilder value stringbuilder consume brackets peek brackets read iseofcharacter throw ioexception error line line eof mid string else brackets else brackets value append char consume value consume char expected throws ioexception character read character expected throw ioexception error line line expected expected received char character boolean consumeuncritically char expected throws ioexception character character read character expected character character iseofcharacter character eof true true actually found character looking for: character expected consume char firstoption char secondoption throws ioexception consumes one two care appears character read character firstoption character secondoption throw ioexception error line line expected firstoption secondoption received char character 
530	CopacImporter.java	LOGIC	net sf jabref logic importer fileformat io bufferedreader io ioexception util linkedlist util list util objects util regex pattern net sf jabref logic importer importer net sf jabref logic importer parserresult net sf jabref logic util fileextensions net sf jabref model entry bibentry net sf jabref model entry fieldname importer copac format documentation found online at: http: copac ac uk faq #format copacimporter importer pattern copac pattern pattern compile ^\\s ti override string getname copac override fileextensions getextensions fileextensions copac override string getid cpc override string getdescription importer copac format override boolean isrecognizedformat bufferedreader reader throws ioexception string str str reader readline null copacimporter copac pattern matcher str find true false override parserresult importdatabase bufferedreader reader throws ioexception objects requirenonnull reader list<string> entries linkedlist<> stringbuilder sb stringbuilder preprocess entries string str str reader readline null str length continue string code str substring equals code sb append append str trim else begining item ti equals str substring sb length entries add sb tostring sb stringbuilder sb append '\n' append str sb length entries add sb tostring list<bibentry> results linkedlist<> string entry entries copac contain enough information type document book assumed bibentry bibentry default bibtexentry id book string[] lines entry split \n string line1 lines string line line1 trim line length continue string code line substring ti equals code setorappend fieldname title line substring trim else au equals code setorappend fieldname author line substring trim else py equals code setorappend fieldname year line substring trim else pu equals code setorappend fieldname publisher line substring trim else se equals code setorappend fieldname series line substring trim else equals code setorappend fieldname isbn line substring trim else kw equals code setorappend fieldname keywords line substring trim else nt equals code setorappend fieldname note line substring trim else pd equals code setorappend physicaldimensions line substring trim else dt equals code setorappend documenttype line substring trim else setorappend code substring line substring trim results add parserresult results setorappend bibentry string field string value string separator hasfield field setfield field getfield field get separator value else setfield field value 
531	CustomImporter.java	LOGIC	net sf jabref logic importer fileformat io bufferedreader io ioexception net url net urlclassloader nio file path nio file paths util arrays util list util objects net sf jabref logic importer importer net sf jabref logic importer parserresult net sf jabref logic util fileextensions object data custom importer <p>is also responsible instantiating loader p> customimporter importer string classname path basepath importer importer customimporter string basepath string classname throws classnotfoundexception basepath paths get basepath classname classname try importer load basepath touri tourl classname catch ioexception instantiationexception illegalaccessexception exception throw classnotfoundexception exception importer load url basepathurl string classname throws ioexception classnotfoundexception instantiationexception illegalaccessexception try urlclassloader cl urlclassloader url[] basepathurl class<?> clazz forname classname true cl importer clazz newinstance list<string> getasstringlist arrays aslist basepath tostring replace '\\' classname string getclassname classname path getbasepath basepath override boolean equals object true instanceof customimporter false customimporter otherimporter customimporter objects equals classname otherimporter classname objects equals basepath otherimporter basepath override boolean isrecognizedformat bufferedreader input throws ioexception importer isrecognizedformat input override parserresult importdatabase bufferedreader input throws ioexception importer importdatabase input override string getname importer getname override fileextensions getextensions importer getextensions override string getid importer getid override string getdescription importer getdescription override hashcode objects hash classname basepath override string tostring getname 
532	ModsImporter.java	LOGIC	net sf jabref logic importer fileformat io bufferedreader io ioexception util arraylist util hashmap util list util map util objects util optional util regex pattern util stream collectors javax xml bind jaxbcontext javax xml bind jaxbelement javax xml bind jaxbexception javax xml bind unmarshaller net sf jabref logic importer importer net sf jabref logic importer parserresult net sf jabref logic importer fileformat mods abstractdefinition net sf jabref logic importer fileformat mods datedefinition net sf jabref logic importer fileformat mods detaildefinition net sf jabref logic importer fileformat mods extentdefinition net sf jabref logic importer fileformat mods genredefinition net sf jabref logic importer fileformat mods hierarchicalgeographicdefinition net sf jabref logic importer fileformat mods identifierdefinition net sf jabref logic importer fileformat mods issuancedefinition net sf jabref logic importer fileformat mods languagedefinition net sf jabref logic importer fileformat mods languagetermdefinition net sf jabref logic importer fileformat mods locationdefinition net sf jabref logic importer fileformat mods modscollectiondefinition net sf jabref logic importer fileformat mods modsdefinition net sf jabref logic importer fileformat mods namedefinition net sf jabref logic importer fileformat mods namepartdefinition net sf jabref logic importer fileformat mods notedefinition net sf jabref logic importer fileformat mods origininfodefinition net sf jabref logic importer fileformat mods partdefinition net sf jabref logic importer fileformat mods physicallocationdefinition net sf jabref logic importer fileformat mods placedefinition net sf jabref logic importer fileformat mods placetermdefinition net sf jabref logic importer fileformat mods recordinfodefinition net sf jabref logic importer fileformat mods relateditemdefinition net sf jabref logic importer fileformat mods stringpluslanguage net sf jabref logic importer fileformat mods stringpluslanguageplusauthority net sf jabref logic importer fileformat mods stringpluslanguageplussupplied net sf jabref logic importer fileformat mods subjectdefinition net sf jabref logic importer fileformat mods titleinfodefinition net sf jabref logic importer fileformat mods urldefinition net sf jabref logic util fileextensions net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref preferences jabrefpreferences com google common base joiner org apache commons logging log org apache commons logging logfactory importer mods format <br> details format found <a href http: www loc gov standards mods >http: www loc gov standards mods a> <br> newest xml schema also found <a href www loc gov standards mods mods schemas html >www loc gov standards mods mods schemas html a> modsimporter importer log logger logfactory getlog modsimporter string keyword separator jabrefpreferences getinstance getimportformatpreferences getkeywordseparator pattern mods pattern pattern compile <mods jaxbcontext context override boolean isrecognizedformat bufferedreader input throws ioexception input lines anymatch line mods pattern matcher line find override parserresult importdatabase bufferedreader input throws ioexception objects requirenonnull input list<bibentry> bibitems arraylist<> try context null context jaxbcontext newinstance net sf jabref logic importer fileformat mods unmarshaller unmarshaller context createunmarshaller unmarshalled object jaxbelement jaxbelement<?> unmarshalledobject jaxbelement<?> unmarshaller unmarshal input optional<modscollectiondefinition> collection getelement unmarshalledobject getvalue modscollectiondefinition optional<modsdefinition> mods getelement unmarshalledobject getvalue modsdefinition collection ispresent list<modsdefinition> modsdefinitions collection get getmods parsemodscollection bibitems modsdefinitions else mods ispresent modsdefinition modsdefinition mods get parsemods bibitems modsdefinition else logger warn expected root element found catch jaxbexception logger debug could parse document parserresult fromerrormessage getlocalizedmessage parserresult bibitems parsemodscollection list<bibentry> bibitems list<modsdefinition> mods modsdefinition modsdefinition mods parsemods bibitems modsdefinition parsemods list<bibentry> bibitems modsdefinition modsdefinition bibentry entry bibentry map<string string> fields hashmap<> modsdefinition getid null entry setcitekey modsdefinition getid modsdefinition getmodsgroup null parsemodsgroup fields modsdefinition getmodsgroup entry entry setfield fields bibitems add entry parsemodsgroup map<string string> fields list<object> modsgroup bibentry entry list<string> keywords arraylist<> list<string> authors arraylist<> list<string> notes arraylist<> object groupelement modsgroup get element one elements empty optional optional<abstractdefinition> abstractdefinition getelement groupelement abstractdefinition optional<genredefinition> genredefinition getelement groupelement genredefinition optional<languagedefinition> languagedefinition getelement groupelement languagedefinition optional<locationdefinition> locationdefinition getelement groupelement locationdefinition optional<namedefinition> namedefinition getelement groupelement namedefinition optional<origininfodefinition> origininfodefinition getelement groupelement origininfodefinition optional<recordinfodefinition> recordinfodefinition getelement groupelement recordinfodefinition optional<notedefinition> notedefinition getelement groupelement notedefinition optional<relateditemdefinition> relateditemdefinition getelement groupelement relateditemdefinition optional<subjectdefinition> subjectdefinition getelement groupelement subjectdefinition optional<identifierdefinition> identifierdefinition getelement groupelement identifierdefinition optional<titleinfodefinition> titleinfodefinition getelement groupelement titleinfodefinition parse information element present abstractdefinition ifpresent abstractdef putifvaluenotnull fields fieldname abstractdef getvalue genredefinition ifpresent genre entry settype genre getvalue languagedefinition ifpresent languagedef languagedef getlanguageterm stream map languagetermdefinition::getvalue foreach language putifvaluenotnull fields fieldname language language locationdefinition ifpresent location parselocationandurl fields location namedefinition ifpresent name handleauthorsinnamepart name authors fields origininfodefinition ifpresent origininfo origininfo getplaceorpublisherordateissued stream foreach element putplaceorpublisherordate fields element getname getlocalpart element getvalue recordinfodefinition ifpresent recordinfo parserecordinfo fields recordinfo notedefinition ifpresent note notes add note getvalue relateditemdefinition ifpresent relateditem parserelatedmodsgroup fields relateditem getmodsgroup subjectdefinition ifpresent subject parsetopic fields subject gettopicorgeographicortemporal keywords identifierdefinition ifpresent identifier parseidentifier fields identifier entry titleinfodefinition ifpresent titleinfo parsetitle fields titleinfo gettitleorsubtitleorpartnumber element subject appear one time that's keywords put loop putiflistisnotempty fields keywords fieldname keywords keyword separator goes authors notes putiflistisnotempty fields authors fieldname author putiflistisnotempty fields notes fieldname note parsetitle map<string string> fields list<object> titleorsubtitleorpartnumber object object titleorsubtitleorpartnumber object instanceof jaxbelement jaxbelement<stringpluslanguage> element jaxbelement<stringpluslanguage> object title equals element getname getlocalpart stringpluslanguage title element getvalue fields put fieldname title title getvalue parseidentifier map<string string> fields identifierdefinition identifier bibentry entry string type identifier gettype citekey equals type entry getcitekeyoptional ispresent entry setcitekey identifier getvalue else local equals type citekey equals type put identifiers doi issn isbn except local citekey putifvaluenotnull fields identifier gettype identifier getvalue parsetopic map<string string> fields list<jaxbelement<?>> topicorgeographicortemporal list<string> keywords jaxbelement<?> jaxbelement topicorgeographicortemporal object value jaxbelement getvalue string elementname jaxbelement getname getlocalpart value instanceof hierarchicalgeographicdefinition hierarchicalgeographicdefinition hierarchichalgeographic hierarchicalgeographicdefinition value parsegeographicinformation fields hierarchichalgeographic else value instanceof stringpluslanguageplusauthority topic equals elementname stringpluslanguageplusauthority topic stringpluslanguageplusauthority value keywords add topic getvalue trim returns optional contains instance given given element cast element cast given empty optional returned param groupelement element cast param clazz groupelement cast optional contains groupelement instance clazz groupelement cast clazz empty optional groupelement cast clazz <t> optional<t> getelement object groupelement class<t> clazz clazz isassignablefrom groupelement getclass optional clazz cast groupelement optional empty parsegeographicinformation map<string string> fields hierarchicalgeographicdefinition hierarchichalgeographic list<jaxbelement<? stringpluslanguage>> areaorcontinentorcountry hierarchichalgeographic getextraterrestrialareaorcontinentorcountry jaxbelement<? stringpluslanguage> element areaorcontinentorcountry string localname element getname getlocalpart city equals localname stringpluslanguage city element getvalue putifvaluenotnull fields city city getvalue else country equals localname stringpluslanguage country element getvalue putifvaluenotnull fields country country getvalue parselocationandurl map<string string> fields locationdefinition locationdefinition list<string> locations locationdefinition getphysicallocation stream map physicallocationdefinition::getvalue collect collectors tolist putiflistisnotempty fields locations fieldname location list<string> urls locationdefinition geturl stream map urldefinition::getvalue collect collectors tolist putiflistisnotempty fields urls fieldname url parserecordinfo map<string string> fields recordinfodefinition recordinfo list<jaxbelement<?>> recordcontent recordinfo getrecordcontentsourceorrecordcreationdateorrecordchangedate jaxbelement<?> jaxbelement recordcontent object value jaxbelement getvalue value instanceof stringpluslanguageplusauthority stringpluslanguageplusauthority source stringpluslanguageplusauthority value putifvaluenotnull fields source source getvalue else value instanceof languagedefinition languagedefinition language languagedefinition value list<languagetermdefinition> languageterms language getlanguageterm list<string> languages languageterms stream map languagetermdefinition::getvalue collect collectors tolist putiflistisnotempty fields languages fieldname language puts information relatedmodsgroup elements like modsgroup informations like volume issue pages appear instead modsgroup also appears title field indicates name journal article belongs parserelatedmodsgroup map<string string> fields list<object> relatedmodsgroup object groupelement relatedmodsgroup groupelement instanceof partdefinition partdefinition part partdefinition groupelement list<object> detailorextentordate part getdetailorextentordate object object detailorextentordate object instanceof detaildefinition detaildefinition detail detaildefinition object list<jaxbelement<stringpluslanguage>> numberorcaptionortitle detail getnumberorcaptionortitle loop value element belongs detail null jaxbelement<stringpluslanguage> jaxbelement numberorcaptionortitle stringpluslanguage value jaxbelement getvalue put details like volume issue putifvaluenotnull fields detail gettype value getvalue else object instanceof extentdefinition extentdefinition extentdefinition extentdefinition object putpageinformation extentdefinition fields else groupelement instanceof titleinfodefinition titleinfodefinition titleinfo titleinfodefinition groupelement list<object> titleorsubtitleorpartnumber titleinfo gettitleorsubtitleorpartnumber object object titleorsubtitleorpartnumber object instanceof jaxbelement jaxbelement<stringpluslanguage> element jaxbelement<stringpluslanguage> object title equals element getname getlocalpart stringpluslanguage journal element getvalue fields put fieldname journal journal getvalue putpageinformation extentdefinition extentdefinition map<string string> fields extentdefinition gettotal null putifvaluenotnull fields fieldname pages string valueof extentdefinition gettotal else extentdefinition getstart null putifvaluenotnull fields fieldname pages extentdefinition getstart getvalue extentdefinition getend null string endpage extentdefinition getend getvalue end appears start page appeared get put together end page string startpage fields get fieldname pages fields put fieldname pages startpage endpage putplaceorpublisherordate map<string string> fields string elementname object object optional<issuancedefinition> issuancedefinition getelement object issuancedefinition optional<placedefinition> placedefinition getelement object placedefinition optional<datedefinition> datedefinition getelement object datedefinition optional<stringpluslanguageplussupplied> publisheroredition getelement object stringpluslanguageplussupplied issuancedefinition ifpresent issuance putifvaluenotnull fields issuance issuance value list<string> places arraylist<> placedefinition ifpresent place place getplaceterm stream filter placeterm placeterm getvalue null map placetermdefinition::getvalue foreach element places add element putiflistisnotempty fields places fieldname address datedefinition ifpresent date putdate fields elementname date publisheroredition ifpresent pubored putpublisheroredition fields elementname pubored putpublisheroredition map<string string> fields string elementname stringpluslanguageplussupplied pubored publisher equals elementname putifvaluenotnull fields fieldname publisher pubored getvalue else edition equals elementname putifvaluenotnull fields fieldname edition pubored getvalue putdate map<string string> fields string elementname datedefinition date date getvalue null switch elementname case dateissued first digits dateissued year fields put fieldname year date getvalue substring break case datecreated year date issued take year date created fields get fieldname year null fields put fieldname year date getvalue substring fields put created date getvalue break case datecaptured fields put captured date getvalue break case datemodified fields put modified date getvalue break default: break putiflistisnotempty map<string string> fields list<string> list string key string separator list isempty fields put key joiner separator join list handleauthorsinnamepart namedefinition name list<string> authors map<string string> fields list<jaxbelement<?>> namepartordisplayformoraffiliation name getnamepartordisplayformoraffiliation list<string> forename arraylist<> string familyname string author jaxbelement<?> element namepartordisplayformoraffiliation object value element getvalue string elementname element getname getlocalpart value instanceof namepartdefinition namepartdefinition namepart namepartdefinition value string type namepart getattype type null namepart getvalue null authors add namepart getvalue else family equals type namepart getvalue null family come first family appears set author comes check forename family name empty case first author forename isempty familyname isempty set add old author author familyname joiner join forename authors add author remove old forenames forename clear else forename isempty familyname isempty authors add familyname familyname namepart getvalue else given equals type namepart getvalue null forename add namepart getvalue else value instanceof stringpluslanguage affiliation equals elementname stringpluslanguage affiliation stringpluslanguage value putifvaluenotnull fields affiliation affiliation getvalue last author added forename isempty familyname isempty author familyname joiner join forename authors add author trim forename clear else forename isempty familyname isempty authors add familyname trim putifvaluenotnull map<string string> fields string modskey string value value null fields put modskey value override string getname mods override fileextensions getextensions fileextensions mods override string getdescription importer mods format 
533	PdfXmpImporter.java	LOGIC	net sf jabref logic importer fileformat io bufferedreader io ioexception nio charset charset nio file path util objects net sf jabref logic importer importer net sf jabref logic importer parserresult net sf jabref logic l10n localization net sf jabref logic util fileextensions net sf jabref logic xmp xmppreferences net sf jabref logic xmp xmputil wraps xmputility function used importer pdfxmpimporter importer xmppreferences xmppreferences pdfxmpimporter xmppreferences xmppreferences xmppreferences xmppreferences override string getname localization lang xmp annotated pdf override fileextensions getextensions fileextensions xmp override parserresult importdatabase bufferedreader reader throws ioexception objects requirenonnull reader throw unsupportedoperationexception pdfxmpimporter support importdatabase bufferedreader reader instead use importdatabase path filepath charset defaultencoding override parserresult importdatabase path filepath charset defaultencoding objects requirenonnull filepath try parserresult xmputil readxmp filepath xmppreferences catch ioexception exception parserresult fromerrormessage exception getlocalizedmessage override boolean isrecognizedformat bufferedreader reader throws ioexception objects requirenonnull reader throw unsupportedoperationexception pdfxmpimporter support isrecognizedformat bufferedreader reader instead use isrecognizedformat path filepath charset defaultencoding returns whether given stream contains data pdf contains least one bibentry override boolean isrecognizedformat path filepath charset defaultencoding throws ioexception objects requirenonnull filepath xmputil hasmetadata filepath xmppreferences override string getid xmp override string getdescription wraps xmputility function used importer 
534	RisImporter.java	LOGIC	net sf jabref logic importer fileformat io bufferedreader io ioexception util arraylist util hashmap util list util locale util map util optional util regex pattern net sf jabref logic importer importer net sf jabref logic importer parserresult net sf jabref logic util fileextensions net sf jabref logic util os net sf jabref model entry authorlist net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model entry monthutil imports biblioscape tag file format described http: www biblioscape com manual bsp biblioscape tag file htm several biblioscape field types ignored others included bibtex field comment risimporter importer pattern recognized format pattern pattern compile ty override string getname ris override fileextensions getextensions fileextensions ris override string getdescription imports biblioscape tag file override boolean isrecognizedformat bufferedreader reader throws ioexception strategy look ty line reader lines anymatch line recognized format pattern matcher line find override parserresult importdatabase bufferedreader reader throws ioexception list<bibentry> bibitems arraylist<> use optional exception thrown file empty optional<string> optionallines reader lines reduce line nextline line \n nextline string linesasstring optionallines ispresent optionallines get string[] entries linesasstring replace \u2013 replace \u2014 replace \u2015 split er \\n string entry1 entries string type string author string editor string startpage string endpage string comment map<string string> fields hashmap<> string[] lines entry1 split \n lines length stringbuilder current stringbuilder lines[j] boolean done false done lines length lines[j 1] length equals lines[j 1] substring current length character iswhitespace current charat current length character iswhitespace lines[j 1] charat current append current append lines[j 1] else done true string entry current tostring entry length continue else string tag entry substring string value entry substring trim ty equals tag book equals value type book else jour equals value mgzn equals value type article else thes equals value type phdthesis else unpb equals value type unpublished else rprt equals value type techreport else conf equals value type inproceedings else chap equals value type incollection inbook else pat equals value type patent else type else t1 equals tag ti equals tag string oldval fields get fieldname title oldval null fields put fieldname title value else oldval endswith oldval endswith oldval endswith fields put fieldname title oldval value else fields put fieldname title oldval value fields put fieldname title fields get fieldname title replaceall \\s normalize whitespaces else bt equals tag fields put fieldname booktitle value else t2 equals tag jo equals tag fields put fieldname journal value else t3 equals tag fields put fieldname series value else au equals tag a1 equals tag equals author author value else author value else a2 equals tag a3 equals tag a4 equals tag editor isempty editor value else editor value else ja equals tag jf equals tag inproceedings equals type fields put fieldname booktitle value else fields put fieldname journal value else la equals tag fields put fieldname language value else ca equals tag fields put caption value else db equals tag fields put database value else equals tag fields put fieldname number value else sp equals tag startpage value else pb equals tag phdthesis equals type fields put fieldname school value else fields put fieldname publisher value else ad equals tag cy equals tag fields put fieldname address value else ep equals tag endpage value endpage isempty endpage endpage else et equals tag fields put fieldname edition value else sn equals tag fields put fieldname issn value else vl equals tag fields put fieldname volume value else n2 equals tag ab equals tag string oldab fields get fieldname oldab null fields put fieldname value else fields put fieldname oldab os newline value else ur equals tag fields put fieldname url value else y1 equals tag py equals tag da equals tag value length fields put fieldname year value substring string[] parts value split parts length parts[1] isempty try monthnumber integer parseint parts[1] monthutil month month monthutil getmonthbynumber monthnumber month isvalid fields put fieldname month month bibtexformat catch numberformatexception ex month part unparseable ignore else kw equals tag fields containskey fieldname keywords string kw fields get fieldname keywords fields put fieldname keywords kw value else fields put fieldname keywords value else u1 equals tag u2 equals tag n1 equals tag comment isempty comment comment comment comment value added id morten alver: else id equals tag fields put refid value else m3 equals tag equals tag adddoi fields value fix authors author isempty author authorlist fixauthorlastnamefirst author fields put fieldname author author editor isempty editor authorlist fixauthorlastnamefirst editor fields put fieldname editor editor comment isempty fields put comment comment fields put fieldname pages startpage endpage bibentry bibentry default bibtexentry id type id assumes existing database remove empty fields: fields entryset removeif key key getvalue null key getvalue trim isempty create one setfield fields bibitems add parserresult bibitems adddoi map<string string> hm string val string doi val tolowercase locale english doi startswith doi: doi doi replaceall ?i doi: trim hm put fieldname doi doi 
535	MedlinePlainImporter.java	LOGIC	net sf jabref logic importer fileformat io bufferedreader io ioexception util arraylist util hashmap util list util locale util map util optional util regex pattern net sf jabref logic importer importer net sf jabref logic importer parserresult net sf jabref logic util fileextensions net sf jabref logic util os net sf jabref model entry authorlist net sf jabref model entry bibentry net sf jabref model entry fieldname importer medline plain format check details format http: www nlm nih gov bsd mms medlineelements html author vegeziel medlineplainimporter importer pattern pmid pattern pattern compile pmid pattern pmc pattern pattern compile pmc pattern pmcr pattern pattern compile pmcr pattern create date pattern pattern compile \\d [0123]?\\d \\s?[012]\\d:[0 5]\\d pattern complete date pattern pattern compile \\d override string getname medlineplain override fileextensions getextensions fileextensions medline plain override string getdescription importer medlineplain format override boolean isrecognizedformat bufferedreader reader throws ioexception strategy look pmid pmc pmcr line pubmed unique identifier pubmed central identifier pubmed central release string str str reader readline null pmid pattern matcher str find pmc pattern matcher str find pmcr pattern matcher str find true false override parserresult importdatabase bufferedreader reader throws ioexception list<bibentry> bibitems arraylist<> use optional exception thrown file empty optional<string> optionallines reader lines reduce line nextline line \n nextline string linesasstring optionallines ispresent optionallines get string[] entries linesasstring replace \u2013 replace \u2014 replace \u2015 split \\n\\n string entry1 entries entry1 trim isempty entry1 contains continue string type bibentry default type string author string editor string comment map<string string> fields hashmap<> string[] lines entry1 split \n lines length stringbuilder current stringbuilder lines[j] boolean done false done lines length lines[j 1] length continue lines[j 1] charat current length character iswhitespace current charat current length current append current append lines[j 1] trim else done true string entry current tostring checklinevalidity entry continue string label entry substring entry indexof trim string value entry substring entry indexof trim pt equals label type addsourcetype value type adddates fields label value addabstract fields label value addtitles fields label value type addids fields label value addstandardnumber fields label value fau equals label equals author author value else author value else fed equals label equals editor editor value else editor value store fields map map<string string> hashmap hashmap<> hashmap put pg fieldname pages hashmap put pl fieldname address hashmap put phst history hashmap put pst publication status hashmap put vi fieldname volume hashmap put la fieldname language hashmap put pubm model hashmap put rn registry number hashmap put nm substance name hashmap put oci copyright owner hashmap put cn corporate hashmap put ip fieldname issue hashmap put en fieldname edition hashmap put gs gene symbol hashmap put gn fieldname note hashmap put gr grantno hashmap put source hashmap put nr number references hashmap put sfm space flight mission hashmap put stat status hashmap put sb subset hashmap put oto termowner hashmap put fieldname owner add fields hm map entry<string string> mapentry hashmap entryset string medlinekey mapentry getkey string bibtexkey mapentry getvalue medlinekey equals label fields put bibtexkey value irad equals label ir equals label fir equals label string oldinvestigator fields get investigator oldinvestigator null fields put investigator value else fields put investigator oldinvestigator value else mh equals label ot equals label fields containskey fieldname keywords fields put fieldname keywords value else string kw fields get fieldname keywords fields put fieldname keywords kw value else con equals label cin equals label ein equals label efr equals label cri equals label crf equals label prin equals label prof equals label rpi equals label rpf equals label rin equals label rof equals label uin equals label uof equals label spin equals label ori equals label comment isempty comment comment \n comment comment value fixauthors fields author fieldname author fixauthors fields editor fieldname editor comment isempty fields put comment comment bibentry bibentry default bibtexentry id type id assumes existing database remove empty fields: fields entryset stream filter getvalue trim isempty foreach fields::remove create one setfield fields bibitems add parserresult bibitems boolean checklinevalidity string line line length line charat string addsourcetype string value string type string val value tolowercase locale english string thetype type switch val case book thetype book break case journal article case classical article case corrected republished article case historical article case introductory journal article case newspaper article thetype article break case clinical conference case consensus development conference case consensus development conference nih thetype conference break case technical report thetype techreport break case editorial thetype inproceedings break case overall thetype proceedings break default: break equals thetype thetype thetype addstandardnumber map<string string> hm string lab string value equals lab string key fieldname issn possible two issn one electronic print two comes end brackets electronic print search brackets value indexof keystart value indexof keyend value indexof key value substring keystart keyend key string numbervalue value substring keystart hm put key numbervalue else hm put key value else isbn equals lab hm put fieldname isbn value fixauthors map<string string> hm string author string field author isempty string fixedauthor authorlist fixauthorlastnamefirst author hm put field fixedauthor addids map<string string> hm string lab string value aid equals lab string key article id string idvalue value value startswith doi: idvalue idvalue replaceall ?i doi: trim key fieldname doi else value indexof '[' startofidentifier value indexof '[' endofidentifier value indexof ']' key article value substring startofidentifier endofidentifier idvalue value substring startofidentifier hm put key idvalue else lid equals lab hm put location id value else mid equals lab hm put manuscript id value else jid equals lab hm put nlm unique id value else oid equals lab hm put id value else si equals lab hm put second id value addtitles map<string string> hm string lab string val string type ti equals lab string oldval hm get fieldname title oldval null hm put fieldname title val else oldval endswith oldval endswith oldval endswith hm put fieldname title oldval val else hm put fieldname title oldval val else bti equals lab cti equals lab hm put fieldname booktitle val else jt equals lab inproceedings equals type hm put fieldname booktitle val else hm put fieldname journal val else cti equals lab hm put collection title val else ta equals lab hm put title abbreviation val else tt equals lab hm put transliterated title val else vti equals lab hm put volume title val addabstract map<string string> hm string lab string value string abstractvalue ab equals lab adds copyright information comes end value contains copyright copyrightindex value lastindexof copyright remove copyright field since name field copyright string copyrightinfo value substring copyrightindex value length replaceall copyright hm put copyright copyrightinfo abstractvalue value substring copyrightindex else abstractvalue value string oldab hm get fieldname oldab null hm put fieldname abstractvalue else hm put fieldname oldab os newline abstractvalue else oab equals lab oabl equals lab hm put value adddates map<string string> hm string lab string val crdt equals lab iscreatedateformat val hm put create date val else dep equals lab isdateformat val hm put electronic publication val else da equals lab isdateformat val hm put date created val else dcom equals lab isdateformat val hm put completed val else lr equals lab isdateformat val hm put revised val else dp equals lab string[] parts val split hm put fieldname year parts[0] parts length parts[1] isempty hm put fieldname month parts[1] else edat equals lab iscreatedateformat val hm put publication val else mhda equals lab iscreatedateformat val hm put mesh date val boolean iscreatedateformat string value create date pattern matcher value matches boolean isdateformat string value complete date pattern matcher value matches 
536	BibTeXMLImporter.java	LOGIC	net sf jabref logic importer fileformat io bufferedreader io ioexception lang reflect invocationtargetexception lang reflect method math biginteger util arraylist util arrays util hashmap util list util map util objects util regex pattern javax xml bind jaxbcontext javax xml bind jaxbelement javax xml bind jaxbexception javax xml bind unmarshaller javax xml datatype xmlgregoriancalendar net sf jabref logic importer importer net sf jabref logic importer parserresult net sf jabref logic importer fileformat bibtexml entry net sf jabref logic importer fileformat bibtexml file net sf jabref logic importer fileformat bibtexml inbook net sf jabref logic importer fileformat bibtexml incollection net sf jabref logic util fileextensions net sf jabref model entry bibentry net sf jabref model entry fieldname org apache commons logging log org apache commons logging logfactory importer bibtexml format <p> check details format http: bibtexml sourceforge net bibtexmlimporter importer log logger logfactory getlog bibtexmlimporter pattern start pattern pattern compile bibtex: ?file list<string> ignored methods arrays aslist getclass getannotate getcontents getprice getsize getchapter override string getname bibtexml override fileextensions getextensions fileextensions bibtexml override string getdescription importer bibtexml format override boolean isrecognizedformat bufferedreader reader throws ioexception strategy look <bibtex:file line string str str reader readline null start pattern matcher str find true false override parserresult importdatabase bufferedreader reader throws ioexception objects requirenonnull reader list<bibentry> bibitems arraylist<> try jaxbcontext context jaxbcontext newinstance net sf jabref logic importer fileformat bibtexml unmarshaller unmarshaller context createunmarshaller file file file unmarshaller unmarshal reader list<entry> entries file getentry map<string string> fields hashmap<> entry entry entries bibentry bibentry bibentry entry getarticle null bibentry settype article parse entry getarticle fields else entry getbook null bibentry settype book parse entry getbook fields else entry getbooklet null bibentry settype booklet parse entry getbooklet fields else entry getconference null bibentry settype conference parse entry getconference fields else entry getinbook null bibentry settype inbook parseinbook entry getinbook fields else entry getincollection null bibentry settype incollection incollection incollection entry getincollection incollection getchapter null fields put fieldname chapter string valueof incollection getchapter parse incollection fields else entry getinproceedings null bibentry settype inproceedings parse entry getinproceedings fields else entry getmanual null bibentry settype manual parse entry getmanual fields else entry getmastersthesis null bibentry settype mastersthesis parse entry getmastersthesis fields else entry getmisc null bibentry settype misc parse entry getmisc fields else entry getphdthesis null bibentry settype phdthesis parse entry getphdthesis fields else entry getproceedings null bibentry settype proceedings parse entry getproceedings fields else entry gettechreport null bibentry settype techreport parse entry gettechreport fields else entry getunpublished null bibentry settype unpublished parse entry getunpublished fields entry getid null bibentry setcitekey entry getid bibentry setfield fields bibitems add bibentry catch jaxbexception logger error error xml parser configuration parserresult fromerrormessage getlocalizedmessage parserresult bibitems use generic method work real classes behaviour call get methods needed use value prevent writing similar methods every type <p> method <code>get< code> methods entrytype used value put fields null example entrytype method <code>getabstract< code> put key fields value <code>getabstract< code> put value fields <code>get< code> methods mapped fields <code>getclass< code> example skipped param entrytype possible bibtex types contains fields entry values param fields map name value fields entry contains put <t> parse entrytype map<string string> fields method[] declaredmethods entrytype getclass getdeclaredmethods method method declaredmethods try method getname equals getyear putyear fields xmlgregoriancalendar method invoke entrytype continue else method getname equals getnumber putnumber fields biginteger method invoke entrytype continue else ismethodtoignore method getname continue else method getname startswith get putifvaluenotnull fields method getname replace get string method invoke entrytype catch illegalargumentexception invocationtargetexception illegalaccessexception logger error could invoke method returns whether value given method name mapped whether method ignored param methodname name method string true method ignored else false boolean ismethodtoignore string methodname ignored methods contains methodname inbook needs special treatment <code>inbook getcontent code> returns list <code>jaxbelements< code> types <code>get< code> methods values strings parseinbook inbook inbook map<string string> fields list<jaxbelement<?>> content inbook getcontent jaxbelement<?> element content string localname element getname getlocalpart object elementvalue element getvalue elementvalue instanceof string string value string elementvalue putifvaluenotnull fields localname value else elementvalue instanceof biginteger biginteger value biginteger elementvalue fieldname number equals localname fields put fieldname number string valueof value else fieldname chapter equals localname fields put fieldname chapter string valueof value else elementvalue instanceof xmlgregoriancalendar xmlgregoriancalendar value xmlgregoriancalendar elementvalue fieldname year equals localname putyear fields value else logger info unexpected field found else logger info unexpected field found putyear map<string string> fields xmlgregoriancalendar year year null fields put fieldname year string valueof year putnumber map<string string> fields biginteger number number null fields put fieldname number string valueof number putifvaluenotnull map<string string> fields string key string value value null fields put key value 
537	MedlineImporter.java	LOGIC	net sf jabref logic importer fileformat io bufferedreader io ioexception io inputstream io inputstreamreader io serializable nio charset standardcharsets util arraylist util collections util hashmap util list util locale util map util objects javax xml bind jaxbcontext javax xml bind jaxbelement javax xml bind jaxbexception javax xml bind unmarshaller javax xml stream xmlinputfactory javax xml stream xmlstreamexception javax xml stream xmlstreamreader net sf jabref logic importer importer net sf jabref logic importer parseexception net sf jabref logic importer parser net sf jabref logic importer parserresult net sf jabref logic importer fileformat medline net sf jabref logic importer fileformat medline abstracttext net sf jabref logic importer fileformat medline affiliationinfo net sf jabref logic importer fileformat medline articleid net sf jabref logic importer fileformat medline articleidlist net sf jabref logic importer fileformat medline articletitle net sf jabref logic importer fileformat medline author net sf jabref logic importer fileformat medline authorlist net sf jabref logic importer fileformat medline book net sf jabref logic importer fileformat medline bookdocument net sf jabref logic importer fileformat medline booktitle net sf jabref logic importer fileformat medline chemical net sf jabref logic importer fileformat medline contributiondate net sf jabref logic importer fileformat medline datecompleted net sf jabref logic importer fileformat medline datecreated net sf jabref logic importer fileformat medline daterevised net sf jabref logic importer fileformat medline elocationid net sf jabref logic importer fileformat medline genesymbollist net sf jabref logic importer fileformat medline generalnote net sf jabref logic importer fileformat medline issn net sf jabref logic importer fileformat medline investigator net sf jabref logic importer fileformat medline investigatorlist net sf jabref logic importer fileformat medline journal net sf jabref logic importer fileformat medline journalissue net sf jabref logic importer fileformat medline keyword net sf jabref logic importer fileformat medline keywordlist net sf jabref logic importer fileformat medline medlinecitation net sf jabref logic importer fileformat medline medlinejournalinfo net sf jabref logic importer fileformat medline meshheading net sf jabref logic importer fileformat medline meshheadinglist net sf jabref logic importer fileformat medline otherid net sf jabref logic importer fileformat medline pagination net sf jabref logic importer fileformat medline personalnamesubject net sf jabref logic importer fileformat medline personalnamesubjectlist net sf jabref logic importer fileformat medline pubdate net sf jabref logic importer fileformat medline publicationtype net sf jabref logic importer fileformat medline publisher net sf jabref logic importer fileformat medline pubmedarticle net sf jabref logic importer fileformat medline pubmedarticleset net sf jabref logic importer fileformat medline pubmedbookarticle net sf jabref logic importer fileformat medline pubmedbookarticleset net sf jabref logic importer fileformat medline pubmedbookdata net sf jabref logic importer fileformat medline qualifiername net sf jabref logic importer fileformat medline section net sf jabref logic importer fileformat medline sections net sf jabref logic importer fileformat medline text net sf jabref logic util fileextensions net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model entry idgenerator net sf jabref model strings stringutil com google common base joiner org apache commons logging log org apache commons logging logfactory importer medline pubmed format <p> check details format https: www nlm nih gov bsd licensee elements descriptions html medlineimporter importer parser log logger logfactory getlog medlineimporter string keyword separator locale english locale english override string getname medline override fileextensions getextensions fileextensions medline override string getid medline override string getdescription importer medline format override boolean isrecognizedformat bufferedreader reader throws ioexception string str str reader readline null str tolowercase english contains <pubmedarticle> str tolowercase english contains <pubmedbookarticle> true false override parserresult importdatabase bufferedreader reader throws ioexception objects requirenonnull reader list<bibentry> bibitems arraylist<> try jaxbcontext context jaxbcontext newinstance net sf jabref logic importer fileformat medline xmlinputfactory xmlinputfactory xmlinputfactory newfactory xmlstreamreader xmlstreamreader xmlinputfactory createxmlstreamreader reader go root element xmlstreamreader isstartelement xmlstreamreader next unmarshaller unmarshaller context createunmarshaller object unmarshalledobject unmarshaller unmarshal xmlstreamreader check whether article set article book article book article set unmarshalledobject instanceof pubmedarticleset pubmedarticleset articleset pubmedarticleset unmarshalledobject object article articleset getpubmedarticleorpubmedbookarticle article instanceof pubmedarticle pubmedarticle currentarticle pubmedarticle article parsearticle currentarticle bibitems article instanceof pubmedbookarticle pubmedbookarticle currentarticle pubmedbookarticle article parsebookarticle currentarticle bibitems else unmarshalledobject instanceof pubmedarticle pubmedarticle article pubmedarticle unmarshalledobject parsearticle article bibitems else unmarshalledobject instanceof pubmedbookarticle pubmedbookarticle currentarticle pubmedbookarticle unmarshalledobject parsebookarticle currentarticle bibitems else pubmedbookarticleset bookarticleset pubmedbookarticleset unmarshalledobject pubmedbookarticle bookarticle bookarticleset getpubmedbookarticle parsebookarticle bookarticle bibitems catch jaxbexception xmlstreamexception logger debug could parse document parserresult fromerrormessage getlocalizedmessage parserresult bibitems parsebookarticle pubmedbookarticle currentarticle list<bibentry> bibitems map<string string> fields hashmap<> currentarticle getbookdocument null bookdocument bookdocument currentarticle getbookdocument fields put fieldname pmid bookdocument getpmid getcontent bookdocument getdaterevised null daterevised daterevised bookdocument getdaterevised adddaterevised fields daterevised bookdocument getabstract null abs bookdocument getabstract addabstract fields abs bookdocument getpagination null pagination pagination bookdocument getpagination addpagination fields pagination bookdocument getsections null arraylist<string> result arraylist<> sections sections bookdocument getsections section section sections getsection serializable content section getsectiontitle getcontent content instanceof string result add string content fields put sections join result bookdocument getkeywordlist null addkeywords fields bookdocument getkeywordlist bookdocument getcontributiondate null addcontributiondate fields bookdocument getcontributiondate bookdocument getpublicationtype null list<string> result arraylist<> publicationtype type bookdocument getpublicationtype type getcontent null result add type getcontent fields put pubtype join result bookdocument getarticletitle null articletitle articletitle bookdocument getarticletitle arraylist<string> titles arraylist<> serializable content articletitle getcontent content instanceof string titles add string content fields put article join titles bookdocument getbook null addbookinformation fields bookdocument getbook currentarticle getpubmedbookdata null pubmedbookdata bookdata currentarticle getpubmedbookdata putifvaluenotnull fields pubstatus bookdata getpublicationstatus bibentry entry bibentry idgenerator next article entry setfield fields bibitems add entry addbookinformation map<string string> fields book book book getpublisher null publisher publisher book getpublisher putifvaluenotnull fields publocation publisher getpublisherlocation putstringfromserializablelist fields fieldname publisher publisher getpublishername getcontent book getbooktitle null booktitle title book getbooktitle putstringfromserializablelist fields fieldname title title getcontent book getpubdate null addpubdate fields book getpubdate book getauthorlist null list<authorlist> authorlists book getauthorlist authorlists size one authorlists size authorlist authorlist authorlists handleauthors fields authorlist else logger info string format size authorlist authorlists size putifvaluenotnull fields fieldname volume book getvolume putifvaluenotnull fields fieldname edition book getedition putifvaluenotnull fields medium book getmedium putifvaluenotnull fields reportnumber book getreportnumber book getelocationid null elocationid id book getelocationid addelocationid fields id book getisbn null fields put fieldname isbn join book getisbn putstringfromserializablelist map<string string> fields string medlinekey list<serializable> contentlist stringbuilder result stringbuilder serializable content contentlist content instanceof string result append string content result length fields put medlinekey result tostring addcontributiondate map<string string> fields contributiondate contributiondate contributiondate getday null contributiondate getmonth null contributiondate getyear null string result converttodateformat contributiondate getyear contributiondate getmonth contributiondate getday fields put contribution result string converttodateformat string year string month string day string format year month day parsearticle pubmedarticle article list<bibentry> bibitems map<string string> fields hashmap<> article getpubmeddata null article getmedlinecitation getdaterevised null daterevised daterevised article getmedlinecitation getdaterevised adddaterevised fields daterevised putifvaluenotnull fields pubstatus article getpubmeddata getpublicationstatus article getpubmeddata getarticleidlist null articleidlist articleidlist article getpubmeddata getarticleidlist addarticleidlist fields articleidlist article getmedlinecitation null medlinecitation medlinecitation article getmedlinecitation fields put status medlinecitation getstatus datecreated datecreated medlinecitation getdatecreated fields put created converttodateformat datecreated getyear datecreated getmonth datecreated getday fields put pubmodel medlinecitation getarticle getpubmodel medlinecitation getdatecompleted null datecompleted datecompleted medlinecitation getdatecompleted fields put completed converttodateformat datecompleted getyear datecompleted getmonth datecompleted getday fields put fieldname pmid medlinecitation getpmid getcontent fields put fieldname owner medlinecitation getowner addarticleinformation fields medlinecitation getarticle getcontent medlinejournalinfo medlinejournalinfo medlinecitation getmedlinejournalinfo putifvaluenotnull fields country medlinejournalinfo getcountry putifvaluenotnull fields journal abbreviation medlinejournalinfo getmedlineta putifvaluenotnull fields nlm id medlinejournalinfo getnlmuniqueid putifvaluenotnull fields issn linking medlinejournalinfo getissnlinking medlinecitation getchemicallist null medlinecitation getchemicallist getchemical null addchemicals fields medlinecitation getchemicallist getchemical medlinecitation getcitationsubset null fields put citation subset join medlinecitation getcitationsubset medlinecitation getgenesymbollist null addgenesymbols fields medlinecitation getgenesymbollist medlinecitation getmeshheadinglist null addmeashheading fields medlinecitation getmeshheadinglist putifvaluenotnull fields references medlinecitation getnumberofreferences medlinecitation getpersonalnamesubjectlist null addpersonalnames fields medlinecitation getpersonalnamesubjectlist medlinecitation getotherid null addotherid fields medlinecitation getotherid medlinecitation getkeywordlist null addkeywords fields medlinecitation getkeywordlist medlinecitation getspaceflightmission null fields put space flight mission join medlinecitation getspaceflightmission medlinecitation getinvestigatorlist null addinvestigators fields medlinecitation getinvestigatorlist medlinecitation getgeneralnote null addnotes fields medlinecitation getgeneralnote bibentry entry bibentry idgenerator next article entry setfield fields bibitems add entry addarticleidlist map<string string> fields articleidlist articleidlist articleid id articleidlist getarticleid id getidtype null pubmed equals id getidtype fields put pmid id getcontent else fields put id getidtype id getcontent addnotes map<string string> fields list<generalnote> generalnote list<string> notes arraylist<> generalnote note generalnote note null notes add note getcontent fields put fieldname note join notes addinvestigators map<string string> fields investigatorlist investigatorlist list<string> investigatornames arraylist<> list<string> affiliationinfos arraylist<> string name add investigators like authors investigatorlist getinvestigator null list<investigator> investigators investigatorlist getinvestigator investigator investigator investigators name investigator getlastname investigator getforename null name investigator getforename investigatornames add name add affiliation info investigator getaffiliationinfo null affiliationinfo info investigator getaffiliationinfo serializable affiliation info getaffiliation getcontent affiliation instanceof string affiliationinfos add string affiliation fields put affiliation join affiliationinfos fields put investigator join investigatornames addkeywords map<string string> fields list<keywordlist> allkeywordlists list<string> keywordstrings arraylist<> add keywords list keywordlist keywordlist allkeywordlists keyword keyword keywordlist getkeyword serializable content keyword getcontent content instanceof string keywordstrings add string content check whether meshheadinglist exist fields get fieldname keywords null fields put fieldname keywords join keywordstrings keyword separator else keywordstrings size exists combine meshheading keywords string result join keywordstrings result fields get fieldname keywords keyword separator result fields put fieldname keywords result addotherid map<string string> fields list<otherid> otherid otherid id otherid id getsource null id getcontent null fields put id getsource id getcontent addpersonalnames map<string string> fields personalnamesubjectlist personalnamesubjectlist fields get fieldname author null authors appear add personal names authors list<string> personalnames arraylist<> personalnamesubjectlist getpersonalnamesubject null list<personalnamesubject> personalnamesubject personalnamesubjectlist getpersonalnamesubject personalnamesubject personalname personalnamesubject string name personalname getlastname personalname getforename null name personalname getforename tostring personalnames add name fields put fieldname author join personalnames addmeashheading map<string string> fields meshheadinglist meshheadinglist arraylist<string> keywords arraylist<> meshheading keyword meshheadinglist getmeshheading string result keyword getdescriptorname getcontent keyword getqualifiername null qualifiername qualifier keyword getqualifiername result qualifier getcontent keywords add result fields put fieldname keywords join keywords keyword separator addgenesymbols map<string string> fields genesymbollist genesymbollist list<string> genesymbols genesymbollist getgenesymbol fields put gene symbols join genesymbols addchemicals map<string string> fields list<chemical> chemicals list<string> chemicalnames arraylist<> chemical chemical chemicals chemical null chemicalnames add chemical getnameofsubstance getcontent fields put chemicals join chemicalnames addarticleinformation map<string string> fields list<object> content object object content object instanceof journal journal journal journal object putifvaluenotnull fields fieldname journal journal gettitle issn issn journal getissn issn null putifvaluenotnull fields fieldname issn issn getcontent journalissue journalissue journal getjournalissue putifvaluenotnull fields fieldname volume journalissue getvolume putifvaluenotnull fields fieldname issue journalissue getissue addpubdate fields journalissue getpubdate else object instanceof articletitle articletitle articletitle articletitle object fields put fieldname title stringutil stripbrackets articletitle getcontent tostring else object instanceof pagination pagination pagination pagination object addpagination fields pagination else object instanceof elocationid elocationid elocationid elocationid object addelocationid fields elocationid else object instanceof abs object addabstract fields abs else object instanceof authorlist authorlist authors authorlist object handleauthors fields authors addelocationid map<string string> fields elocationid elocationid fieldname doi equals elocationid geteidtype fields put fieldname doi elocationid getcontent pii equals elocationid geteidtype fields put pii elocationid getcontent addpubdate map<string string> fields pubdate pubdate pubdate getyear null year pubdate null medlinedate null fields put fieldname year extractyear pubdate getmedlinedate else fields put fieldname year pubdate getyear pubdate getmonth null fields put fieldname month pubdate getmonth else pubdate getseason null fields put season pubdate getseason addabstract map<string string> fields abs putifvaluenotnull fields copyright abs getcopyrightinformation list<string> abstracttext arraylist<> abstracttext text abs getabstracttext serializable textcontent text getcontent textcontent instanceof string abstracttext add string textcontent fields put fieldname join abstracttext addpagination map<string string> fields pagination pagination string startpage string endpage jaxbelement<string> element pagination getcontent medlinepgn equals element getname getlocalpart putifvaluenotnull fields fieldname pages fixpagerange element getvalue else startpage equals element getname getlocalpart could happen article start page startpage element getvalue endpage putifvaluenotnull fields fieldname pages startpage else endpage equals element getname getlocalpart endpage element getvalue happen endpage appears without startpage fields put fieldname pages fixpagerange startpage endpage string extractyear string medlinedate year medlinedate first digits medlinedate substring handleauthors map<string string> fields authorlist authors list<string> authornames arraylist<> author author authors getauthor author getcollectivename null text collectivenames author getcollectivename serializable content collectivenames getcontent content instanceof string authornames add string content else string authorname author getlastname author getforename null authorname author getforename authornames add authorname fields put fieldname author join authornames string join list<string> list string string joiner string join list adddaterevised map<string string> fields daterevised daterevised daterevised getday null daterevised getmonth null daterevised getyear null fields put revised converttodateformat daterevised getyear daterevised getmonth daterevised getday putifvaluenotnull map<string string> fields string medlinekey string value value null fields put medlinekey value convert medline page ranges short form full form medline reports page ranges shorthand format last page reported using digits differ first page refers actual range string fixpagerange string pagerange minuspos pagerange indexof minuspos pagerange string startpage pagerange substring minuspos trim string endpage pagerange substring minuspos trim lengthofendpage endpage length lengthofstartpage startpage length lengthofendpage lengthofstartpage endpage startpage substring lengthofstartpage lengthofendpage endpage startpage endpage override list<bibentry> parseentries inputstream inputstream throws parseexception try importdatabase bufferedreader inputstreamreader inputstream standardcharsets utf getdatabase getentries catch ioexception logger error getlocalizedmessage collections emptylist 
538	RepecNepImporter.java	LOGIC	net sf jabref logic importer fileformat io bufferedreader io ioexception text parseexception text simpledateformat util arraylist util arrays util calendar util collection util date util gregoriancalendar util list util objects net sf jabref logic importer importformatpreferences net sf jabref logic importer importer net sf jabref logic importer parserresult net sf jabref logic util fileextensions net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model entry idgenerator org apache commons logging log org apache commons logging logfactory imports economics papers message repec nep service <p> <p><a href http: www repec org >repec research papers economics a> collaborative effort volunteers countries enhance dissemination research economics heart project decentralized database working papers journal articles software components repec material freely available p> time writing repec holds items p> <p> <p><a href http: nep repec org >nep economic papers a> announcement service filters information additions repec edited reports goal provide subscribers date information research literature p> <p> <p>this importer capable importing nep messages jabref p> <p> <p>there officially defined message format nep nep messages assumed almost always form given following semi formal grammar: <pre> nepmessage: messagesection nepmessage messagesection messagesection: overviewmessagesection othermessagesection skip overview overviewmessagesection: 'in issue have: sectionseparator otherstuff othermessagesection: sectionseparator othermessagesectioncontent skip stuff read full working paper references othermessagesectioncontent: workingpaper emptyline othermessagesectioncontent otherstuff emptyline othermessagesectioncontent '' otherstuff: nonemptyline otherstuff nonemptyline nonemptyline: non empty string start number followed working papers recognized number followed non overview section workingpaper: number' whitespace titlestring emptyline authors emptyline additionalfields number' whitespace titlestring additionalfields additionalfields titlestring: string may span several lines joined must least one author authors: author '\n' authors author '\n' optionally institution given author author: authorname authorname institution rules name may firstname lastname lastname firstname anything else authorname: non empty string without characters spanning one line institution: non empty string may span several lines abstract: possibly empty string may span several lines additionalfields: additionalfield '\n' additionalfields emptyline additionalfields '' additionalfield: 'keywords:' keywordlist 'url:' non empty string 'date:' datestring 'jel:' jelclassificationlist 'by': authors keywordlist: keyword keywordlist keyword keywordlist keyword keyword: non empty string contain may contain whitespace date given current year given system clock assumed datestring: 'yyyy mm dd' 'yyyy mm' 'yyyy' jelclassificationlist: jelclassification jelclassificationlist jelclassification jel classifications set bibtex field 'jel' appear add field one bibtex entry sections jelclassification: one allowed classes see http: ideas repec org sectionseparator: '\n pre> p> author andreas sf rudert home dot de see <a href http: nep repec org >nep< a> repecnepimporter importer log logger logfactory getlog repecnepimporter collection<string> recognized fields arrays aslist keywords jel date url line string lastline string preline boolean inoverviewsection importformatpreferences importformatpreferences repecnepimporter importformatpreferences importformatpreferences importformatpreferences importformatpreferences override string getname repec economic papers nep override string getid repecnep override fileextensions getextensions fileextensions repec override string getdescription imports economics papers message repec nep service override boolean isrecognizedformat bufferedreader reader throws ioexception read first couple lines nep message usually contain string 'nep: economics papers' nep repec org stringbuilder startofmessage stringbuilder string tmpline reader readline tmpline null startofmessage append tmpline tmpline reader readline startofmessage tostring contains nep: economics papers startofmessage tostring contains nep repec org boolean startswithkeyword collection<string> keywords boolean result lastline indexof ':' result string possiblekeyword lastline substring lastline indexof ':' result keywords contains possiblekeyword result readline bufferedreader throws ioexception line preline lastline lastline readline read multiple lines <p> <p>reads multiple lines either <ul> <li>an empty line< li> <li>the end file< li> <li>the next working paper or< li> <li>a keyword< li> ul> found whitespace start end lines trimmed except one blank character p> result string readmultiplelines bufferedreader throws ioexception stringbuilder result stringbuilder lastline trim readline lastline null equals lastline trim startswithkeyword repecnepimporter recognized fields isstartofworkingpaper result append lastline isempty lastline trim lastline trim readline result tostring grammar rule titlestring param throws ioexception parsetitlestring bibentry bufferedreader throws ioexception skip article number lastline lastline substring lastline indexof lastline length setfield fieldname title readmultiplelines grammar rule authors param throws ioexception parseauthors bibentry bufferedreader throws ioexception read authors institutions list<string> authors arraylist<> stringbuilder institutions stringbuilder lastline null equals lastline startswithkeyword repecnepimporter recognized fields read single author string author stringbuilder institution stringbuilder boolean institutiondone lastline indexof author lastline substring lastline indexof trim institutiondone lastline indexof institution append lastline substring lastline indexof institutiondone lastline indexof lastline indexof lastline indexof lastline length trim else author lastline substring lastline length trim institutiondone true readline institutiondone lastline null institutiondone lastline indexof institution append lastline substring institutiondone lastline indexof lastline length trim readline authors add author institution length institutions append institutions length institution tostring institution tostring authors isempty setfield fieldname author string join authors institutions length setfield fieldname institution institutions tostring grammar rule param throws ioexception parseabstract bibentry bufferedreader throws ioexception string theabstract readmultiplelines equals theabstract setfield fieldname theabstract grammar rule additionalfields param throws ioexception parseadditionalfields bibentry boolean multilineurlfieldallowed bufferedreader throws ioexception one empty line possible fields start lastline null equals lastline trim readline read fields lastline null isstartofworkingpaper startswithkeyword repecnepimporter recognized fields equals lastline multiple lines field allowed field consists multiple lines join string keyword equals lastline lastline substring lastline indexof ':' trim skip keyword lastline equals lastline lastline substring lastline indexof ':' lastline length trim parse keywords field keywords equals keyword string content readmultiplelines string[] keywords content split addkeywords arrays aslist keywords importformatpreferences getkeywordseparator parse jel field else jel equals keyword setfield jel readmultiplelines parse date field else keyword startswith date date date null string content readmultiplelines string[] recognizeddateformats string[] yyyy mm dd yyyy mm yyyy recognizeddateformats length date null try date simpledateformat recognizeddateformats[i] parse content catch parseexception wrong format calendar cal gregoriancalendar cal settime date null date date setfield fieldname year string valueof cal get calendar year date null recognizeddateformats[i 1] contains mm setfield fieldname month string valueof cal get calendar month date null recognizeddateformats[i 1] contains dd setfield fieldname day string valueof cal get calendar day month parse url field else keyword startswith url string content multilineurlfieldallowed content readmultiplelines else content lastline readline setfield fieldname url content authors field else keyword startswith parse authors parseauthors else readline line starts string form 'x overview section working paper entry interested boolean isstartofworkingpaper lastline matches \\d \\ \\s inoverviewsection equals preline trim override parserresult importdatabase bufferedreader reader throws ioexception objects requirenonnull reader list<bibentry> bibitems arraylist<> string papernostr null line try readline reader skip header editor information lastline null lastline startswith inoverviewsection preline startswith issue isstartofworkingpaper bibentry bibentry idgenerator next settype techreport papernostr lastline substring lastline indexof parsetitlestring reader startswithkeyword repecnepimporter recognized fields parseadditionalfields false reader else readline reader skip empty line parseauthors reader readline reader skip empty line startswithkeyword repecnepimporter recognized fields parseabstract reader parseadditionalfields true reader bibitems add papernostr null else preline lastline readline reader catch exception string message error repec nep line line papernostr null message paper papernostr message getlocalizedmessage logger error message parserresult fromerrormessage message parserresult bibitems 
539	PdfContentImporter.java	LOGIC	net sf jabref logic importer fileformat io bufferedreader io fileinputstream io ioexception io stringwriter nio charset charset nio file path util arraylist util objects util optional util regex matcher util regex pattern net sf jabref logic importer fetcherexception net sf jabref logic importer importformatpreferences net sf jabref logic importer importer net sf jabref logic importer parserresult net sf jabref logic importer fetcher doifetcher net sf jabref logic l10n localization net sf jabref logic util doi net sf jabref logic util fileextensions net sf jabref logic xmp encryptedpdfsnotsupportedexception net sf jabref logic xmp xmputil net sf jabref model entry bibentry net sf jabref model entry bibtexentrytypes net sf jabref model entry entrytype net sf jabref model entry fieldname com google common base strings org apache pdfbox pdmodel pddocument org apache pdfbox util pdftextstripper pdfcontentimporter parses data first page pdf creates bibtex entry <p> currently springer ieee formats supported <p> integrating xmp support future work pdfcontentimporter importer pattern year extract pattern pattern compile \\d input lines several lines string[] lines current index lines string curstring string year importformatpreferences importformatpreferences pdfcontentimporter importformatpreferences importformatpreferences importformatpreferences importformatpreferences removes non letter characters end <p> exception: closing bracket removed p> <p> todo: additionally replace multiple subsequent spaces one space cause rename method p> string removenonlettersatend string input string result input trim result isempty result char lastc result charat result length character isletter lastc lastc asterix dot something else end: remove result result substring result length result isempty break else lastc result charat result length result string streamlinenames string names todo: replace normalizenamesformatter? string res supported formats: matthias schrepfer1 johannes wolf1 jan mendling1 hajo reijers2 names contains string[] splitnames names split res boolean isfirst true string splitname splitnames string curname removenonlettersatend splitname curname indexof skip possible ands names curname curname substring trim else posand curname indexof posand string namebefore curname substring posand cannot first name contained string res res concat concat removenonlettersatend namebefore curname curname substring posand equals curname et al equalsignorecase curname curname others isfirst isfirst false else res res concat res res concat curname else assumption: names separated space string[] splitnames names split splitnames length empty names something really wrong boolean workedonfirstormiddle false boolean isfirst true res workedonfirstormiddle last item first middle name check whether middle name add item last name add splitnames[i] contains found middle name res res concat splitnames[i] concat else last name found res res concat removenonlettersatend splitnames[i] splitnames[i] isempty character islowercase splitnames[i] charat probably van vom rely fact things written lower case letters finish name res res concat else finish name workedonfirstormiddle false else equalsignorecase splitnames[i] nothing increment end iteration else isfirst isfirst false else res res concat et equalsignorecase splitnames[i] splitnames length al equalsignorecase splitnames[i 1] res res concat others break else res res concat splitnames[i] concat workedonfirstormiddle true splitnames length res string streamlinetitle string title removenonlettersatend title override boolean isrecognizedformat bufferedreader reader throws ioexception objects requirenonnull reader false override parserresult importdatabase bufferedreader reader throws ioexception objects requirenonnull reader throw unsupportedoperationexception pdfcontentimporter support importdatabase bufferedreader reader instead use importdatabase path filepath charset defaultencoding override parserresult importdatabase path filepath charset defaultencoding arraylist<bibentry> result arraylist<> try fileinputstream filestream fileinputstream filepath tofile pddocument document xmputil loadwithautomaticdecryption filestream string firstpagecontents getfirstpagecontents document optional<doi> doi doi findintext firstpagecontents doi ispresent parserresult parserresult parserresult result optional<bibentry> entry doifetcher importformatpreferences performsearchbyid doi get getdoi entry ifpresent parserresult getdatabase ::insertentry parserresult idea: split[] contains different lines blocks separated empty lines treat block special treatment authors broken therefore line based block based splitting points current line curstring mostly contains current block different lines joined one thereby separated lines firstpagecontents split system lineseparator proceedtonextnonemptyline lines length pdf could parsed empty empty list parserresult start current line curstring lines[i] might get incremented later curstring modified string author string editor null string abstractt null string keywords null string title string conference null string doi null string series null string volume null string number null string pages null year variable method extractyear uses string publisher null entrytype type bibtexentrytypes inproceedings curstring length special case: possibly conference first line page extractyear curstring contains conference fillcurstringwithnonemptylines conference curstring curstring else copyright genetics society america future work: get year using regex string lower curstring tolowercase lower contains copyright fillcurstringwithnonemptylines publisher curstring curstring start: title fillcurstringwithnonemptylines title streamlinetitle curstring curstring points next non empty line title: authors author null lines length equals lines[i] author names unlikely lines among different lines treat line line curstring streamlinenames lines[i] author null author curstring else equals curstring lines[i] returned streamlinenames nothing else author author concat concat curstring curstring keywords follow lines length curstring lines[i] curstring length length equalsignorecase curstring substring length curstring length length word found skip line curstring else curstring curstring substring length trim concat system lineseparator fillcurstringwithnonemptylines cannot used uses line separator whereas need linebreak separator lines length equals lines[i] curstring curstring concat lines[i] concat system lineseparator abstractt curstring trim else curstring length keywords length keywords equalsignorecase curstring substring keywords length curstring length keywords length word keywords found skip line curstring else curstring curstring substring keywords length trim fillcurstringwithnonemptylines keywords removenonlettersatend curstring else string lower curstring tolowercase pos lower indexof technical pos type bibtexentrytypes techreport pos curstring trim lastindexof pos assumption: last character curstring otherwise pos leads bounds exception number curstring substring pos proceedtonextnonemptyline lines length last block: doi detailed information sometimes information third last block etc therefore read beginning file readlastblock points block curstring contains last block separated extractyear pos curstring indexof eds pos publisher null looks like springer last line g: persson stirna eds poem lnbip pp publisher springer editor streamlinenames curstring substring pos curstring curstring substring pos eds length eds subsequent space string[] springersplit curstring split springersplit length conference springersplit[0] string seriesdata springersplit[1] lastspace seriesdata lastindexof series seriesdata substring lastspace volume seriesdata substring lastspace pages springersplit[2] substring springersplit[3] length year springersplit[3] substring else doi null pos curstring indexof doi pos pos curstring indexof fieldname doi pos pos char delimiter curstring charat pos delimiter ':' delimiter pos nextspace curstring indexof pos nextspace doi curstring substring pos nextspace else doi curstring substring pos publisher null curstring contains ieee ieee conference things end publisher ieee year extracted extractyear otherwise could determine follows: string yearstr curstring substring curstring length isyear yearstr year yearstr conference null pos curstring indexof '$' pos found price price issn stated skip pos pos curstring charat pos pos pos conference curstring substring pos bibentry entry bibentry entry settype type todo: institution parsing missing author null entry setfield fieldname author author editor null entry setfield fieldname editor editor abstractt null entry setfield fieldname abstractt strings isnullorempty keywords entry setfield fieldname keywords keywords title null entry setfield fieldname title title conference null entry setfield fieldname booktitle conference doi null entry setfield fieldname doi doi series null entry setfield fieldname series series volume null entry setfield fieldname volume volume number null entry setfield fieldname number number pages null entry setfield fieldname pages pages year null entry setfield fieldname year year publisher null entry setfield fieldname publisher publisher result add entry catch encryptedpdfsnotsupportedexception parserresult fromerrormessage localization lang decryption supported catch ioexception exception parserresult fromerrormessage exception getlocalizedmessage catch fetcherexception parserresult fromerrormessage getmessage parserresult result string getfirstpagecontents pddocument document throws ioexception pdftextstripper stripper pdftextstripper stripper setstartpage stripper setendpage stripper setsortbyposition true stripper setparagraphend system lineseparator stringwriter writer stringwriter stripper writetext document writer writer tostring extract year curstring yet defined extractyear year null matcher year extract pattern matcher curstring find year curstring substring start end pdftextstripper normally produce multiple empty lines besides strange pdfs strange pdfs handled here: proceed next non empty line proceedtonextnonemptyline lines length equals lines[i] trim fill curstring lines found trailing space added advanced next non empty line ignoring white space <p> lines containing white spaces ignored considered <p> uses global variables lines curline fillcurstringwithnonemptylines ensure curstring end curstring curstring trim lines length equals lines[i] string curline lines[i] trim equals curline curstring isempty insert separating space necessary curstring curstring concat curstring curstring concat lines[i] proceedtonextnonemptyline resets curstring curstring contains last block reached trailing space added <p> invariant after: points line last handled block readlastblock equals lines[i] trim end block end find beginning equals lines[i] line beginning block fulfills invariant curstring end curstring curstring concat lines[j] trim end curstring curstring concat override string getname pdfcontent override fileextensions getextensions fileextensions pdf content override string getdescription pdfcontentimporter parses data first page pdf creates bibtex entry currently springer ieee formats supported 
540	InspecImporter.java	LOGIC	net sf jabref logic importer fileformat io bufferedreader io ioexception util arraylist util hashmap util list util map util regex pattern net sf jabref logic importer importer net sf jabref logic importer parserresult net sf jabref logic util fileextensions net sf jabref model entry authorlist net sf jabref model entry bibentry net sf jabref model entry fieldname inspec format importer inspecimporter importer pattern inspec pattern pattern compile record inspec override string getname inspec override fileextensions getextensions fileextensions inspec override string getdescription inspec format importer override boolean isrecognizedformat bufferedreader reader throws ioexception strategy look py <year> line string str str reader readline null inspec pattern matcher str find true false override parserresult importdatabase bufferedreader reader throws ioexception list<bibentry> bibitems arraylist<> stringbuilder sb stringbuilder string str str reader readline null str length continue str indexof record sb append :: append str else sb append newfield append str string[] entries sb tostring split :: string type map<string string> hashmap<> string entry entries entry indexof record continue clear string[] fields entry split newfield string fields string f3 substring string frest substring ti equals f3 put fieldname title frest else py equals f3 put fieldname year frest else au equals f3 put fieldname author authorlist fixauthorlastnamefirst frest replace replace else ab equals f3 put fieldname frest else id equals f3 put fieldname keywords frest else equals f3 frest indexof string jr frest substring put fieldname journal jr replace frest frest substring frest indexof string yr frest substring trim put fieldname year yr frest frest substring frest indexof ':' string pg frest substring trim put fieldname pages pg string vol frest substring trim put fieldname volume vol else rt equals f3 frest frest trim journal paper equals frest type article else conference paper equals frest conference paper journal paper equals frest type inproceedings else type frest replace bibentry bibentry default bibtexentry id type id assumes existing database create one setfield bibitems add parserresult bibitems 
541	IsiImporter.java	LOGIC	net sf jabref logic importer fileformat io bufferedreader io ioexception util arraylist util hashmap util list util map util objects util regex matcher util regex pattern net sf jabref logic formatter casechanger titlecaseformatter net sf jabref logic importer importer net sf jabref logic importer parserresult net sf jabref logic util fileextensions net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model entry monthutil importer isi web science inspec medline format <p> documentation isi wos format: <p> <ul> <li>http: wos isitrial com help helpprn html< li> ul> <p> <ul> <li>check compatibility isi2bib tools like: http: www lab imr tohoku ac jp ~t nissie computer software isi http: www tug org tex archive biblio bibtex utils isi2bibtex isi2bibtex http: web mit edu emilio www utils html< li> <li>deal capitalization correctly< li> ul> isiimporter importer pattern sub sup pattern pattern compile sub sup \\s \\s 05: modified pattern avoid false positives files due extra end: pattern isi pattern pattern compile fn isi export format vr py \\d override string getname isi override fileextensions getextensions fileextensions isi override string getid isi override string getdescription importer isi web science inspec medline format override boolean isrecognizedformat bufferedreader reader throws ioexception string str str reader readline null following line gives false positives ris files uncommented hypen characteristic ris format str str replace isiimporter isi pattern matcher str find true false processsubsup map<string string> map string[] subsup fieldname title fieldname fieldname review notes string asubsup subsup map containskey asubsup matcher isiimporter sub sup pattern matcher map get asubsup stringbuffer sb stringbuffer find string group2 group group2 group2 replaceall \\$ \\\\\\\\\\\\\\$ escaping insanity group2 length group2 group2 sub equals group appendreplacement sb \\$ group2 \\$ else appendreplacement sb \\$^ group2 \\$ appendtail sb map put asubsup sb tostring processcapitalization map<string string> map string[] subsup fieldname title fieldname journal fieldname publisher string asubsup subsup map containskey asubsup string map get asubsup touppercase equals titlecaseformatter format map put asubsup override parserresult importdatabase bufferedreader reader throws ioexception objects requirenonnull reader list<bibentry> bibitems arraylist<> stringbuilder sb stringbuilder pattern fieldpattern pattern compile ^au ^ti ^so ^dt ^c1 ^ab ^id ^bp ^py ^se ^py ^vl ^is string str str reader readline null str length continue beginning item pt equals str substring sb append :: append str else string beg str substring trim could used fieldpattern regular expression instead however seems quick dirty works beg length sb append ## mark beginning field sb append str else sb append eoleol mark end line sb append str trim remove initial spaces string[] entries sb tostring split :: map<string string> hm hashmap<> skip first entry either empty document header string entry entries string[] fields entry split ## fields length fields entry split \n string type string pt string pages hm clear string field fields empty field anything field length continue string beg field substring string value field substring value startswith value value substring value value trim pt equals beg value startswith pt article else pt value type article make pt? else ty equals beg jour equals value type article else conf equals value type inproceedings else jo equals beg hm put fieldname booktitle value else au equals beg string author isiimporter isiauthorsconvert value replace eoleol already someone append hm get fieldname author null author hm get fieldname author author hm put fieldname author author else ti equals beg hm put fieldname title value replace eoleol else equals beg ja equals beg hm put fieldname journal value replace eoleol else id equals beg kw equals beg value value replace eoleol string existingkeywords hm get fieldname keywords existingkeywords null existingkeywords contains value existingkeywords value else existingkeywords value hm put fieldname keywords existingkeywords else ab equals beg hm put fieldname value replace eoleol else bp equals beg br equals beg sp equals beg pages value else ep equals beg detpos value indexof tweak ieee explore detpos value substring detpos trim isempty value value substring detpos pages pages value else ps equals beg pages isiimporter parsepages value else ar equals beg pages value else equals beg hm put fieldname number value else py equals beg hm put fieldname year value else vl equals beg hm put fieldname volume value else pu equals beg hm put fieldname publisher value else di equals beg hm put fieldname doi value else pd equals beg string month isiimporter parsemonth value month null hm put fieldname month month else dt equals beg type value review equals type type article set review note comment? else type startswith article type startswith journal article equals pt type article else type bibentry default type else cr equals beg hm put citedreferences value replace eoleol trim else preserve entries except er equals beg ef equals beg vr equals beg fn equals beg continue hm put beg tolowercase value equals pages hm put fieldname pages pages skip empty entries hm isempty continue bibentry bibentry default bibtexentry id type id assumes existing database remove empty fields: list<object> toremove arraylist<> map entry<string string> field hm entryset string content field getvalue content null content trim isempty toremove add field getkey object atoremove toremove hm remove atoremove polish entries isiimporter processsubsup hm isiimporter processcapitalization hm setfield hm bibitems add parserresult bibitems string parsepages string value lastdash value lastindexof value substring lastdash value substring lastdash string parsemonth string value string[] parts value split \\s \\ string part1 parts monthutil month month monthutil getmonthbyshortname part1 tolowercase month isvalid month bibtexformat try two digit month string part parts try number integer parseint part monthutil month month monthutil getmonthbynumber number month isvalid month bibtexformat catch numberformatexception ignored ignored null expand isi first names <p> fixed bug from: http: sourceforge net tracker index php?func detail aid group id atid string isiauthorconvert string author string[] author split length author stringbuilder sb stringbuilder string last s[0] trim sb append last append string first s[1] trim string[] firstparts first split \\s firstparts length first firstparts[i] uppercase chars? first touppercase equals first first first replace first length sb append first charat append first length sb append else sb append first firstparts length sb append sb tostring string[] isiauthorsconvert string[] authors string[] result string[authors length] result length result[i] isiimporter isiauthorconvert authors[i] result string isiauthorsconvert string authors string[] isiimporter isiauthorsconvert authors split string join 
542	EndnoteImporter.java	LOGIC	net sf jabref logic importer fileformat io bufferedreader io ioexception util arraylist util hashmap util list util map util regex pattern net sf jabref logic bibtexkeypattern bibtexkeypatternutil net sf jabref logic importer importformatpreferences net sf jabref logic importer importer net sf jabref logic importer parserresult net sf jabref logic util fileextensions net sf jabref model entry authorlist net sf jabref model entry bibentry net sf jabref model entry fieldname importer refer endnote format modified use article number pages pages missing journals physical review letters use pages anymore check details format http: libguides csuchico edu php?g endnoteimporter importer string endofrecord eoreor pattern pattern pattern compile pattern pattern pattern compile importformatpreferences preferences endnoteimporter importformatpreferences preferences preferences preferences override string getname refer endnote override fileextensions getextensions fileextensions endnote override string getid refer override string getdescription importer refer endnote format modified use article number pages pages missing override boolean isrecognizedformat bufferedreader reader throws ioexception strategy look line string str str reader readline null pattern matcher str matches pattern matcher str matches true false override parserresult importdatabase bufferedreader reader throws ioexception list<bibentry> bibitems arraylist<> stringbuilder sb stringbuilder string str boolean first true str reader readline null str str trim str indexof first first false else sb append endofrecord sb append str else sb append str sb append '\n' string[] entries sb tostring split endofrecord map<string string> hm hashmap<> string author string type string editor string artnum string entry entries hm clear author type bibentry default type editor artnum boolean iseditedbook false string[] fields entry trim substring split \n string field fields field length continue details refer format journal article book: generic ref journal article book code author author author year year year title title title secondary author series editor secondary title journal series title place published city publisher publisher volume volume volume number volumes number volumes number issue pages pages number pages edition edition subsidiary author translator alternate title alternate journal label label label keywords keywords keywords notes notes notes string prefix field substring string val field substring equals prefix equals author author val else author val else equals prefix equals editor editor val else editor val else equals prefix hm put fieldname title val else equals prefix val indexof journal type article else val indexof book section type incollection else val indexof book type book else val indexof edited book type book iseditedbook true else val indexof conference type inproceedings else val indexof report type techreport else val indexof review type article else val indexof thesis type phdthesis else type bibentry default type else equals prefix hm put fieldname edition val else equals prefix hm put fieldname address val else equals prefix hm put fieldname year val else equals prefix hm put fieldname date val else equals prefix alternate journal let's set journal set hm putifabsent fieldname journal val else equals prefix prefix stands journal journal entry series book entry article equals type hm put fieldname journal val else book equals type inbook equals type hm put fieldname series val else type inproceedings hm put fieldname booktitle val else equals prefix phdthesis equals type hm put fieldname school val else hm put fieldname publisher val replace single dash page ranges dashes else equals prefix hm put fieldname pages val replaceall [0 9] [0 9] $1 $2 else equals prefix hm put fieldname volume val else equals prefix hm put fieldname number val else equals prefix hm put fieldname url val else equals prefix string doi val doi startswith doi: doi doi substring hm put fieldname doi doi else equals prefix notes may contain article number val startswith artn string[] tokens val split \\s artnum tokens[1] else hm put fieldname note val else equals prefix hm put fieldname keywords val else equals prefix hm put fieldname val else equals prefix val indexof ph type phdthesis val indexof masters type mastersthesis else equals prefix hm put bibentry key field bibtexkeypatternutil checklegalkey val preferences getbibtexkeypatternpreferences isenforcelegalkey edited book endnote puts editors author field want editor field bibtex knows edited book iseditedbook equals editor editor author author fixauthorscomma equals author hm put fieldname author fixauthor author equals editor hm put fieldname editor fixauthor editor pages missing article number given use article number hm get fieldname pages null equals hm get fieldname pages equals artnum hm put fieldname pages artnum bibentry bibentry default bibtexentry id type id assumes existing database create one setfield hm getfieldnames isempty bibitems add parserresult bibitems must careful author names since presented differently different sources normally tag brings one name get authors separated correct behaviour one source lists names separated comma comma end detect format fix param author string fixed author string string fixauthor string index indexof index authorlist fixauthorlastnamefirst look comma end: index lastindexof index length string mod substring length replace authorlist fixauthorlastnamefirst mod else authorlist fixauthorlastnamefirst 
543	BiblioscapeImporter.java	LOGIC	net sf jabref logic importer fileformat io bufferedreader io ioexception util arraylist util hashmap util list util map util objects net sf jabref logic importer importer net sf jabref logic importer parserresult net sf jabref logic util fileextensions net sf jabref model entry bibentry net sf jabref model entry fieldname imports biblioscape tag file format described http: www biblioscape com download biblioscape8 pdf several biblioscape field types ignored others included bibtex field comment biblioscapeimporter importer override string getname biblioscape override fileextensions getextensions fileextensions bilbioscape override string getdescription imports biblioscape tag file \n several biblioscape field types ignored others included bibtex field comment\ override boolean isrecognizedformat bufferedreader reader objects requirenonnull reader true override parserresult importdatabase bufferedreader reader throws ioexception list<bibentry> bibitems arraylist<> string line map<string string> hm hashmap<> map<string stringbuilder> lines hashmap<> stringbuilder previousline null line reader readline null line isempty continue ignore empty lines file end entry delimiter item complete equals line string[] type string[2] string[] pages string[2] string country null string address null string titlest null string titleti null list<string> comments arraylist<> add item map entry<string stringbuilder> entry lines entryset au equals entry getkey hm put fieldname author entry getvalue tostring else ti equals entry getkey titleti entry getvalue tostring else st equals entry getkey titlest entry getvalue tostring else yp equals entry getkey hm put fieldname year entry getvalue tostring else vl equals entry getkey hm put fieldname volume entry getvalue tostring else nb equals entry getkey hm put fieldname number entry getvalue tostring else ps equals entry getkey pages[0] entry getvalue tostring else pe equals entry getkey pages[1] entry getvalue tostring else kw equals entry getkey hm put fieldname keywords entry getvalue tostring else rt equals entry getkey type[0] entry getvalue tostring else sb equals entry getkey comments add subject: entry getvalue else sa equals entry getkey comments add secondary authors: entry getvalue else nt equals entry getkey hm put fieldname note entry getvalue tostring else pb equals entry getkey hm put fieldname publisher entry getvalue tostring else ta equals entry getkey comments add tertiary authors: entry getvalue else tt equals entry getkey comments add tertiary title: entry getvalue else ed equals entry getkey hm put fieldname edition entry getvalue tostring else tw equals entry getkey type[1] entry getvalue tostring else qa equals entry getkey comments add quaternary authors: entry getvalue else qt equals entry getkey comments add quaternary title: entry getvalue else equals entry getkey hm put fieldname isbn entry getvalue tostring else ab equals entry getkey hm put fieldname entry getvalue tostring else ad equals entry getkey address entry getvalue tostring else lg equals entry getkey hm put fieldname language entry getvalue tostring else co equals entry getkey country entry getvalue tostring else ur equals entry getkey equals entry getkey string entry getvalue tostring trim hm put startswith http: startswith ftp: fieldname url fieldname pdf entry getvalue tostring else c1 equals entry getkey comments add custom1: entry getvalue else c2 equals entry getkey comments add custom2: entry getvalue else c3 equals entry getkey comments add custom3: entry getvalue else c4 equals entry getkey comments add custom4: entry getvalue else c5 equals entry getkey comments add custom5: entry getvalue else c6 equals entry getkey comments add custom6: entry getvalue else de equals entry getkey hm put fieldname annote entry getvalue tostring else ca equals entry getkey comments add categories: entry getvalue else th equals entry getkey comments add short title: entry getvalue else se equals entry getkey hm put fieldname chapter entry getvalue tostring else entry getkey equals ac hm put entry getvalue tostring else entry getkey equals lp hm put entry getvalue tostring string bibtextype bibentry default type find type first check tw rt bibentry default type equals bibtextype type[i] null continue type[i] type[i] tolowercase type[i] contains article bibtextype article else type[i] contains journal bibtextype article else type[i] contains book section bibtextype inbook else type[i] contains book bibtextype book else type[i] contains conference bibtextype inproceedings else type[i] contains proceedings bibtextype inproceedings else type[i] contains report bibtextype techreport else type[i] contains thesis type[i] contains master bibtextype mastersthesis else type[i] contains thesis bibtextype phdthesis depending bibtextype decide place titlert titleti article equals bibtextype titlest null hm put fieldname journal titlest titleti null hm put fieldname title titleti else inbook equals bibtextype titlest null hm put fieldname booktitle titlest titleti null hm put fieldname title titleti else titlest null hm put fieldname booktitle titlest happen think titleti null hm put fieldname title titleti concatenate pages pages[0] null pages[1] null hm put fieldname pages pages[0] null pages[0] pages[1] null pages[1] concatenate address country address null hm put fieldname address address country null country comments isempty set comment present hm put comment string join comments bibentry bibentry default bibtexentry id bibtextype setfield hm bibitems add hm clear lines clear previousline null continue key line startswith line length equals line substring previousline stringbuilder line substring lines put line substring previousline continue continuation folding previous line previousline null parserresult previousline append line trim parserresult bibitems 
544	WebFetcher.java	LOGIC	net sf jabref logic importer net sf jabref logic help helpfile searches web resources bibliographic information interface webfetcher returns localized name fetcher title used display fetcher menu side pane localized name string getname returns help page fetcher link helpfile enum constant help page default helpfile gethelppage null help page default 
545	ImportInspector.java	LOGIC	net sf jabref logic importer net sf jabref model entry bibentry importinspector passed entryfetcher receive entries fetched somewhere currently two implementations: importinspectiondialog importinspectioncommandline interface importinspector notify importinspector progress operation inspector instance could display progress bar given values param current number related work already done param max current estimate total amount work done setprogress current max add given entry list entries managed inspector param entry entry add addentry bibentry entry 
546	OutputPrinter.java	LOGIC	net sf jabref logic importer interface outputprinter setstatus string showmessage string message string title msgtype showmessage string string 
547	OAI2Handler.java	LOGIC	net sf jabref logic importer util util optional net sf jabref model entry bibentry net sf jabref model entry fieldname org xml sax attributes org xml sax saxexception org xml sax helpers defaulthandler sax handler parse oai2 xml files author ulrich st auml rk author christian kopf author christopher oezbek oai2handler defaulthandler bibentry entry stringbuffer authors string keyname string forenames stringbuffer characters oai2handler bibentry entry override startdocument throws saxexception authors stringbuffer override characters char[] ch start length throws saxexception characters append ch start length override startelement string uri string localname string qualifiedname attributes attributes throws saxexception characters stringbuffer override endelement string uri string localname string qualifiedname throws saxexception string content characters tostring error equals qualifiedname throw runtimeexception content else id equals qualifiedname entry setfield fieldname eprint content else keyname equals qualifiedname keyname content else forenames equals qualifiedname forenames content else journal ref equals qualifiedname string journal content replacefirst [0 9] entry setfield fieldname journal journal string volume content replacefirst journal volume volume replacefirst entry setfield fieldname volume volume string year content replacefirst ?\\ year year replacefirst \\ entry setfield fieldname year year string pages content replacefirst journal pages pages replacefirst volume pages pages replacefirst \\ year \\ pages pages replace entry setfield fieldname pages pages else datestamp equals qualifiedname optional<string> year entry getfield fieldname year year ispresent year get isempty entry setfield fieldname year content replacefirst else title equals qualifiedname entry setfield fieldname title content else equals qualifiedname entry setfield fieldname content else comments equals qualifiedname entry setfield fieldname comments content else report equals qualifiedname entry setfield fieldname reportno content else doi equals qualifiedname entry setfield fieldname doi content else author equals qualifiedname string author forenames keyname authors length authors append authors append author override enddocument throws saxexception entry setfield fieldname author authors tostring string correctlinebreaks string string result replaceall \\n \\s \\n result result replaceall \\s \\n\\s \n result replaceall replaceall ^\\s \\s 
548	INSPIREBibtexFilterReader.java	LOGIC	net sf jabref logic importer util io bufferedreader io filterreader io ioexception io reader util regex pattern warning generic filter read implemented note: quick port original spiresbibtexfilterreader author fedor bezrukov author sheer el showk version $id$ todo: fix grammar bibtex entries invalid bibkeys space inspirebibtexfilterreader filterreader bufferedreader inreader string line pos boolean pre pattern pattern pattern compile article\\ inspirebibtexfilterreader reader initialreader super initialreader inreader bufferedreader initialreader pos pre false string readpreline throws ioexception string inreader readline null null contains <pre> pre true inreader readline null null contains pre> pre false pre string fixbibkey string preliminaryline preliminaryline null null pattern matcher preliminaryline find preliminaryline replace else preliminaryline override read throws ioexception pos line fixbibkey readpreline pos line null pos line length pos '\n' line charat pos 
549	MetaDataParser.java	LOGIC	net sf jabref logic importer util io ioexception io reader io stringreader util arraylist util collections util hashmap util list util map util optional net sf jabref logic cleanup cleanups net sf jabref logic groups groupsparser net sf jabref logic importer parseexception net sf jabref model database bibdatabasemode net sf jabref model metadata metadata net sf jabref model metadata saveorderconfig org apache commons logging log org apache commons logging logfactory metadataparser log logger logfactory getlog metadataparser parses given data map returns resulting link metadata instance metadata parse map<string string> data character keywordseparator throws parseexception parse metadata data keywordseparator parses data map changes given link metadata instance respectively metadata parse metadata metadata map<string string> data character keywordseparator throws parseexception list<string> defaultcitekeypattern arraylist<> map<string list<string>> nondefaultcitekeypatterns hashmap<> map entry<string string> entry data entryset list<string> value getaslist entry getvalue entry getkey startswith selector ignore old content selector metadata continue entry getkey startswith metadata prefix keypattern string entrytype entry getkey substring metadata prefix keypattern length nondefaultcitekeypatterns put entrytype collections singletonlist getsingleitem value continue entry getkey startswith metadata file directory user name comes directly file directory string user entry getkey substring metadata file directory length metadata setuserfiledirectory user getsingleitem value continue switch entry getkey case metadata groupstree: metadata setgroups groupsparser importgroups value keywordseparator break case metadata save actions: metadata setsaveactions cleanups parse value break case metadata database type: metadata setmode bibdatabasemode parse getsingleitem value break case metadata keypatterndefault: defaultcitekeypattern collections singletonlist getsingleitem value break case metadata flag meta: boolean parseboolean getsingleitem value metadata markasprotected else metadata markasnotprotected break case metadata file directory: metadata setdefaultfiledirectory getsingleitem value break case metadata save order config: metadata setsaveorderconfig saveorderconfig parse value break case groupsversion case groups keys used previous jabref versions support anymore ignored break defaultcitekeypattern isempty nondefaultcitekeypatterns isempty metadata setcitekeypattern defaultcitekeypattern nondefaultcitekeypatterns metadata returns first item list specified list contain exactly one item link parseexception thrown param value string getsingleitem list<string> value throws parseexception value size value get else throw parseexception expected single item received value tostring list<string> getaslist string value throws parseexception stringreader valuereader stringreader value list<string> orderedvalue arraylist<> must allow escape sequences try optional<string> unit unit getnextunit valuereader ispresent orderedvalue add unit get catch ioexception ex logger error weird error parsing meta data ex throw parseexception weird error parsing meta data ex orderedvalue reads next unit units delimited metadata separator character optional<string> getnextunit reader reader throws ioexception boolean escape false stringbuilder res stringbuilder reader read escape res append char escape false else metadata escape character escape true else metadata separator character break else res append char res length optional res tostring optional empty 
550	JSONEntryParser.java	LOGIC	net sf jabref logic importer util util arraylist util list net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model entry monthutil org apache commons logging log org apache commons logging logfactory org json jsonarray org json jsonobject jsonentryparser log logger logfactory getlog jsonentryparser convert jsonobject containing bibjson entry bibentry param bibjsonentry jsonobject convert converted bibentry bibentry parsebibjsontobibtex jsonobject bibjsonentry character keywordseparator fields directly accessible top level bibjson object string[] singlefieldstrings fieldname year fieldname title fieldname fieldname month fields accessible journal part bibjson object string[] journalsinglefieldstrings fieldname publisher fieldname number fieldname volume bibentry entry bibentry entry settype article authors bibjsonentry author jsonarray authors bibjsonentry getjsonarray author list<string> authorlist arraylist<> authors length authors getjsonobject name authorlist add authors getjsonobject getstring name else logger info empty author name entry setfield fieldname author string join authorlist else logger info author found direct accessible fields string field singlefieldstrings bibjsonentry field entry setfield field bibjsonentry getstring field page numbers bibjsonentry start page bibjsonentry end page entry setfield fieldname pages bibjsonentry getstring start page bibjsonentry getstring end page else entry setfield fieldname pages bibjsonentry getstring start page journal bibjsonentry journal jsonobject journal bibjsonentry getjsonobject journal journal title journal title entry setfield fieldname journal journal getstring title else logger info journal title found journal related fields string field journalsinglefieldstrings journal field entry setfield field journal getstring field else logger info journal information found keywords bibjsonentry keywords jsonarray keywords bibjsonentry getjsonarray keywords keywords length keywords isnull entry addkeyword keywords getstring keywordseparator identifiers bibjsonentry identifier jsonarray identifiers bibjsonentry getjsonarray identifier identifiers length string type identifiers getjsonobject getstring type doi equals type entry setfield fieldname doi identifiers getjsonobject getstring id else pissn equals type entry setfield fieldname issn identifiers getjsonobject getstring id else eissn equals type entry setfield fieldname issn identifiers getjsonobject getstring id links bibjsonentry link jsonarray links bibjsonentry getjsonarray link links length links getjsonobject type string type links getjsonobject getstring type fulltext equals type links getjsonobject url entry setfield fieldname url links getjsonobject getstring url entry convert jsonobject obtained http: api springer com metadata json bibentry param springerjsonentry jsonobject search results converted bibentry bibentry parsespringerjsontobibtex jsonobject springerjsonentry fields directly accessible top level json object string[] singlefieldstrings fieldname issn fieldname volume fieldname fieldname doi fieldname title fieldname number fieldname publisher bibentry entry bibentry string nametype guess publication type string isbn springerjsonentry optstring isbn com google common base strings isnullorempty isbn probably article entry settype article nametype fieldname journal else probably book chapter proceeding go book chapter entry settype incollection nametype fieldname booktitle entry setfield fieldname isbn isbn authors springerjsonentry creators jsonarray authors springerjsonentry getjsonarray creators list<string> authorlist arraylist<> authors length authors getjsonobject creator authorlist add authors getjsonobject getstring creator else logger info empty author name entry setfield fieldname author string join authorlist else logger info author found direct accessible fields string field singlefieldstrings springerjsonentry field string text springerjsonentry getstring field text isempty entry setfield field text page numbers springerjsonentry startingpage springerjsonentry getstring startingpage isempty springerjsonentry endpage springerjsonentry getstring endpage isempty entry setfield fieldname pages springerjsonentry getstring startingpage springerjsonentry getstring endpage else entry setfield fieldname pages springerjsonentry getstring startingpage journal springerjsonentry publicationname entry setfield nametype springerjsonentry getstring publicationname url springerjsonentry url jsonarray urlarray springerjsonentry optjsonarray url urlarray null entry setfield fieldname url springerjsonentry optstring url else entry setfield fieldname url urlarray getjsonobject optstring value date springerjsonentry publicationdate string date springerjsonentry getstring publicationdate entry setfield fieldname date date biblatex string[] dateparts date split entry setfield fieldname year dateparts[0] entry setfield fieldname month monthutil getmonthbynumber integer parseint dateparts[1] bibtexformat clean often starting entry getfield fieldname ifpresent abstractcontents abstractcontents startswith entry setfield fieldname abstractcontents substring entry 
551	WebFetchers.java	LOGIC	net sf jabref logic importer util optional net sf jabref logic importer fetcher arxiv net sf jabref logic importer fetcher doifetcher net sf jabref logic importer fetcher isbnfetcher net sf jabref model entry fieldname webfetchers optional<idbasedfetcher> getidbasedfetcherforfield string field importformatpreferences preferences idbasedfetcher fetcher switch field case fieldname doi: fetcher doifetcher preferences break case fieldname isbn: fetcher isbnfetcher preferences break case fieldname eprint: fetcher arxiv preferences break default: optional empty optional fetcher 
552	BibEntryWriter.java	LOGIC	net sf jabref logic bibtex io ioexception io writer util hashset util list util optional util set util treeset util function predicate net sf jabref logic typedbibentry net sf jabref logic util os net sf jabref model entrytypes net sf jabref model database bibdatabasemode net sf jabref model entry bibentry net sf jabref model entry entrytype net sf jabref model entry internalbibtexfields net sf jabref model strings stringutil bibentrywriter latexfieldformatter fieldformatter boolean write bibentrywriter latexfieldformatter fieldformatter boolean write fieldformatter fieldformatter write write write bibentry entry writer bibdatabasemode bibdatabasemode throws ioexception write entry bibdatabasemode false writes given bibentry using given writer param entry entry write param writer use param bibdatabasemode database mode bibtex biblatex param reformat entry case even change occurred? write bibentry entry writer bibdatabasemode bibdatabasemode boolean reformat throws ioexception entry modified write reformat entry haschanged write entry getparsedserialization writeusercomments entry write os newline writerequiredfieldsfirstremainingfieldssecond entry bibdatabasemode write os newline writeusercomments bibentry entry writer throws ioexception string usercomments entry getusercomments usercomments isempty write usercomments os newline writewithoutprependednewlines bibentry entry writer bibdatabasemode bibdatabasemode throws ioexception entry modified write entry haschanged write entry getparsedserialization trim writerequiredfieldsfirstremainingfieldssecond entry bibdatabasemode write fields order requiredfields optionalfields fields sort fields param entry param throws ioexception writerequiredfieldsfirstremainingfieldssecond bibentry entry writer bibdatabasemode bibdatabasemode throws ioexception write header type bibtex key typedbibentry typedentry typedbibentry entry bibdatabasemode write typedentry gettypefordisplay writekeyfield entry set<string> written hashset<> written add bibentry key field indentation getlengthoflongestfieldname entry entrytype type entrytypes gettypeordefault entry gettype bibdatabasemode write required fields first list<string> fields type getrequiredfieldsflat fields null string value fields writefield entry value indentation written add value optional fields fields type getoptionalfields fields null string value fields written contains value field appears req opt repeat writefield entry value indentation written add value write remaining fields alphabetic order set<string> remainingfields treeset<> string key entry getfieldnames boolean writeit write internalbibtexfields iswriteablefield key internalbibtexfields isdisplayablefield key written contains key writeit remainingfields add key string field remainingfields writefield entry field indentation finally end entry write writekeyfield bibentry entry writer throws ioexception string keyfield stringutil shavestring entry getcitekeyoptional orelse write keyfield os newline write single field content param entry entry write param target write param name field name throws ioexception case io error writefield bibentry entry writer string name indentation throws ioexception optional<string> field entry getfield name write field empty field ifpresent work ioexception may thrown field ispresent field get trim isempty write getfielddisplayname name indentation try write fieldformatter format field get name write os newline catch ioexception ex throw ioexception error field name ': ex getmessage getlengthoflongestfieldname bibentry entry predicate<string> isnotbibtexkey field bibentry key field equals field entry getfieldnames stream filter isnotbibtexkey maptoint string::length max orelse get display version entry field <p> bibtex case insensitive therefore difference between: howpublished howpublished howpublished etc <p> long discussion jabref write fields see https: github com jabref jabref issues <p> team decided biblatex way use lower case field names param field name field display version field name string getfielddisplayname string field intendation string actualfield field actualfield isempty hard coded unknown assigned field without name actualfield unknown actualfield tolowercase stringutil repeatspaces intendation actualfield length 
553	FieldComparatorStack.java	LOGIC	net sf jabref logic bibtex comparator util comparator util list represents list comparators first comparator takes precedence time comparator returns next one attempted comparators result fieldcomparatorstack<t> comparator<t> list<? comparator<? super t>> comparators fieldcomparatorstack list<? comparator<? super t>> comparators comparators comparators override compare o1 o2 comparator<? super t> comp comparators res comp compare o1 o2 res res 
554	EntryComparator.java	LOGIC	net sf jabref logic bibtex comparator util comparator util objects net sf jabref model entry authorlist net sf jabref model entry bibentry net sf jabref model entry fieldproperty net sf jabref model entry internalbibtexfields implementation comparator takes care details sorting bibtex entries jabref structured node linked list comparators node contain link comparator decides ordering recursion one can't find difference next node given construction time arbitrary number nodes included entries equal comparator next entry entries' unique ids decide ordering entrycomparator comparator<bibentry> string sortfield boolean descending boolean binary boolean numeric comparator<bibentry> next entrycomparator boolean binary boolean descending string field comparator<bibentry> next binary binary sortfield field descending descending next next numeric internalbibtexfields isnumeric sortfield entrycomparator boolean binary boolean descending string field binary binary sortfield field descending descending next null numeric internalbibtexfields isnumeric sortfield override compare bibentry e1 bibentry e2 default equals todo: default equals identical objects objects id fields objects equals e1 e2 object f1 e1 getfield sortfield orelse null object f2 e2 getfield sortfield orelse null binary separate set unset fields: f1 null f2 null next null idcompare e1 e2 next compare e1 e2 else f2 null next null idcompare e1 e2 next compare e1 e2 field author editor rearrange names sorted according last name internalbibtexfields getfieldproperties sortfield contains fieldproperty person names f1 null f1 authorlist fixauthorforalphabetization string f1 tolowercase f2 null f2 authorlist fixauthorforalphabetization string f2 tolowercase else sortfield equals bibentry type header sort type f1 e1 gettype f2 e2 gettype else numeric try integer i1 integer parseint string f1 integer i2 integer parseint string f2 ok parsing successful update f1 f2: f1 i1 f2 i2 catch numberformatexception ex parsing failed give treating numbers todo: check failed sort based that? f2 null f1 null next null idcompare e1 e2 next compare e1 e2 else f1 null f2 null automatically result f1 instanceof integer f2 instanceof integer result integer f1 compareto integer f2 else f2 instanceof integer integer f1asinteger integer valueof f1 tostring result f1asinteger compareto integer f2 else f1 instanceof integer integer f2asinteger integer valueof f2 tostring result integer f1 compareto f2asinteger else string string f1 tolowercase string string f2 tolowercase comp compareto result comp result descending result result primary sort next null idcompare e1 e2 still equal use unique ids else next compare e1 e2 secondary sort existent idcompare bibentry b1 bibentry b2 b1 getid compareto b2 getid 
555	FieldComparator.java	LOGIC	net sf jabref logic bibtex comparator text collator text parseexception text rulebasedcollator util comparator util locale util objects util optional net sf jabref model entry authorlist net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model entry fieldproperty net sf jabref model entry internalbibtexfields net sf jabref model entry monthutil net sf jabref model metadata saveorderconfig net sf jabref model strings stringutil comparator bibentry fields fieldcomparator comparator<bibentry> collator collator getcollator enum fieldtype name type year month string[] field string fieldname fieldtype fieldtype boolean isnumeric multiplier fieldcomparator string field field false fieldcomparator saveorderconfig sortcriterion sortcriterion sortcriterion field sortcriterion descending fieldcomparator string field boolean descending fieldname objects requirenonnull field field fieldname split fieldname field separator fieldtype determinefieldtype isnumeric internalbibtexfields isnumeric field[0] multiplier descending collator getcollator try rulebasedcollator rulebasedcollator collator getinstance getrules replace <'\u005f' <' '<'\u005f' catch parseexception collator getinstance fieldtype determinefieldtype bibentry type header equals field[0] fieldtype type else internalbibtexfields getfieldproperties field[0] contains fieldproperty person names fieldtype name else fieldname year equals field[0] fieldtype year else fieldname month equals field[0] fieldtype month else fieldtype string getfield bibentry entry string afield field optional<string> entry getfieldoraliaslatexfree afield ispresent get null override compare bibentry e1 bibentry e2 string f1 string f2 fieldtype fieldtype type sort type f1 e1 gettype f2 e2 gettype else field author editor rearrange names sorted according last name f1 getfield e1 f2 getfield e2 catch cases involving null: f1 null f2 null else f1 null multiplier else f2 null multiplier know f1 f2 null fieldtype fieldtype name f1 authorlist fixauthorforalphabetization f1 f2 authorlist fixauthorforalphabetization f2 else fieldtype fieldtype year integer f1year stringutil intvalueofoptional f1 orelse integer f2year stringutil intvalueofoptional f2 orelse comparisonresult integer compare f1year f2year comparisonresult multiplier else fieldtype fieldtype month integer compare monthutil getmonth f1 number monthutil getmonth f2 number multiplier isnumeric optional<integer> i1 stringutil intvalueofoptional f1 optional<integer> i2 stringutil intvalueofoptional f2 i2 ispresent i1 ispresent ok parsing successful update f1 f2: i1 get compareto i2 get multiplier else i1 ispresent first one parseable second one means consider one two multiplier else i2 ispresent second one parseable first one means consider one two multiplier else none parseable fall back comparing strings string f1 tolowercase locale english string f2 tolowercase locale english collator compare multiplier returns field comparator compares field name string getfieldname fieldname 
556	IdComparator.java	LOGIC	net sf jabref logic bibtex comparator util comparator net sf jabref model entry bibentry comparator sorting bibentry objects based id used sort entries back order created provided ids given entries lexically monotonically increasing idcomparator comparator<bibentry> override compare bibentry one bibentry two one getid compareto two getid 
557	CrossRefEntryComparator.java	LOGIC	net sf jabref logic bibtex comparator util comparator net sf jabref model entry bibentry net sf jabref model entry fieldname compares bibtex entries based 'crossref' fields entries including field deemed smaller entries without field serves purpose always placing referenced entries referring entries bib file criterion comes comparisons individual fields crossrefentrycomparator comparator<bibentry> override compare bibentry e1 bibentry e2 boolean crentry1 e1 hasfield fieldname crossref boolean crentry2 e2 hasfield fieldname crossref crentry1 crentry2 crentry1 crentry2 crentry1 else 
558	BibtexStringComparator.java	LOGIC	net sf jabref logic bibtex comparator util comparator net sf jabref model entry bibtexstring bibtexstringcomparator comparator<bibtexstring> boolean considerrefs param considerrefs indicates whether strings sorted according internal references addition alphabetical sorting bibtexstringcomparator boolean considerrefs considerrefs considerrefs override compare bibtexstring s1 bibtexstring s2 res first check names: string name1 s1 getname tolowercase string name2 s2 getname tolowercase res name1 compareto name2 res res supposed see ordering needs changed one string referring considerrefs first order them: bibtexstring pre bibtexstring post res pre s1 post s2 else pre s2 post s1 see pre refers post situation must change ordering: string namepost post getname tolowercase string textpre pre getcontent tolowercase case reverse order found: textpre contains namepost res res res 
559	LatexFieldFormatter.java	LOGIC	net sf jabref logic bibtex util arraylist util list net sf jabref logic util os net sf jabref model entry internalbibtexfields net sf jabref model strings stringutil currently implementation net sf jabref exporter fieldformatter <p> obeys following settings: jabrefpreferences resolve strings fields jabrefpreferences resolve strings jabrefpreferences writefield wrapfield latexfieldformatter fieldname indicate field treated bibtex string used writing database file string bibtex string string stringbuilder stringbuilder boolean neverfailonhashes latexfieldformatterpreferences prefs fieldcontentparser parser char field start char field end latexfieldformatter latexfieldformatterpreferences prefs true prefs latexfieldformatter boolean neverfailonhashes latexfieldformatterpreferences prefs neverfailonhashes neverfailonhashes prefs prefs parser fieldcontentparser prefs getfieldcontentparserpreferences latexfieldformatter buildignorehashes latexfieldformatterpreferences prefs latexfieldformatter true prefs formats content field param content content field param fieldname name field used trigger different serializations turning resolution strings formatted string suitable output throws illegalargumentexception correct bibtex string improperly balanced braces using paired string format string content string fieldname throws illegalargumentexception content null field start string valueof field end string result content normalize newlines boolean shouldnormalizenewlines result contains os newline result contains \n shouldnormalizenewlines real lines pseudo newlines replace win always true multiline fields result result replace \n os newline field non standard append braces wrap write boolean resolvestrings shouldresolvestrings fieldname resolvestrings formatwithoutresolvingstrings result fieldname trim whitespace result result trim formatandresolvestrings result fieldname string formatandresolvestrings string content string fieldname stringbuilder stringbuilder pivot pos1 pos2 assume user encloses bibtex strings #jan# #feb# written file like this: jan feb checkbraces content pivot content length gofrom pivot pos1 pivot gofrom pos1 pos1 content indexof '#' gofrom pos1 content charat pos1 '\\' gofrom pos1 pos1 else gofrom pos1 ends loop pos1 pos1 content length occurrences found pos2 else pos2 content indexof '#' pos1 pos2 neverfailonhashes pos1 content length write rest text throw exception else throw illegalargumentexception character allowed bibtex strings unless escaped '\\#' \n jabref use pairs characters indicate string \n note entry causing problem selected pos1 pivot writetext content pivot pos1 pos1 content length pos2 pos1 check string label empty means occurrence ## simply ignored instead cause error message? writestringlabel content pos1 pos2 pos1 pivot pos2 content length pos2 pivot pos2 else pivot pos1 tell system exit parser format stringbuilder fieldname boolean shouldresolvestrings string fieldname boolean resolvestrings true prefs isresolvestringsallfields resolve strings fields except some: string exception prefs getdonotresolvestringsfor exception equals fieldname resolvestrings false break else default operation resolve strings standard fields: resolvestrings internalbibtexfields isstandardfield fieldname bibtex string equals fieldname resolvestrings string formatwithoutresolvingstrings string content string fieldname checkbraces content stringbuilder stringbuilder string valueof field start stringbuilder append parser format content fieldname stringbuilder append field end stringbuilder tostring writetext string text startpos endpos stringbuilder append field start boolean escape false boolean incommandname false boolean incommand false boolean incommandoption false nestedenvironments stringbuilder commandname stringbuilder char startpos endpos text charat track whether latex command sort character isletter escape incommandname incommandname true incommandoption commandname append else character iswhitespace incommand incommandoption whitespace else incommandname means command name ended perhaps beginning argument: '[' incommandoption true else incommandoption ']' end argument: incommandoption false else incommandoption incommandname false incommand true else simply end command altogether: commandname delete commandname length incommandname false command body see ended: incommand begin equals commandname tostring nestedenvironments nestedenvironments end equals commandname tostring nestedenvironments commandname delete commandname length incommand false add backslash ampersand characters one exception: inside \\url command write maybe escape incommand url equals commandname tostring nestedenvironments stringbuilder append \\ else stringbuilder append escape '\\' stringbuilder append field end writestringlabel string text startpos endpos boolean first boolean last putin first text substring startpos endpos last putin string stringbuilder append stringutil wrap prefs getlinelength os newline checkbraces string text throws illegalargumentexception list<integer> left arraylist<> list<integer> right arraylist<> current first collect occurrences: current text indexof current left add current current text indexof current right add current throw exception error criteria met right isempty left isempty throw illegalargumentexception character ends string prematurely right isempty right get left get throw illegalargumentexception character ends string prematurely left size right size throw illegalargumentexception braces match 
560	LatexFieldFormatterPreferences.java	LOGIC	net sf jabref logic bibtex util collections util list latexfieldformatterpreferences boolean resolvestringsallfields list<string> donotresolvestringsfor linelength constant fieldcontentparserpreferences fieldcontentparserpreferences latexfieldformatterpreferences boolean resolvestringsallfields list<string> donotresolvestringsfor fieldcontentparserpreferences fieldcontentparserpreferences resolvestringsallfields resolvestringsallfields donotresolvestringsfor donotresolvestringsfor fieldcontentparserpreferences fieldcontentparserpreferences latexfieldformatterpreferences constructor allow empty constructor savepreferences true collections emptylist fieldcontentparserpreferences boolean isresolvestringsallfields resolvestringsallfields list<string> getdonotresolvestringsfor donotresolvestringsfor getlinelength linelength fieldcontentparserpreferences getfieldcontentparserpreferences fieldcontentparserpreferences 
561	FieldContentParserPreferences.java	LOGIC	net sf jabref logic bibtex util collections util list fieldcontentparserpreferences list<string> nonwrappablefields fieldcontentparserpreferences constructor allow empty constructor savepreferences nonwrappablefields collections emptylist fieldcontentparserpreferences list<string> nonwrappablefields nonwrappablefields nonwrappablefields list<string> getnonwrappablefields nonwrappablefields 
562	FieldContentParser.java	LOGIC	net sf jabref logic bibtex util hashset util objects util set util regex pattern net sf jabref logic util os net sf jabref model entry fieldname net sf jabref model strings stringutil provides reformatting needed reading bibtex fields formatted jabref style reformatting must undo formatting done jabref writing fields fieldcontentparser set<string> multilinefields 's' matches space tab line carriage pattern whitespace pattern compile \\s fieldcontentparser fieldcontentparserpreferences prefs objects requirenonnull prefs multilinefields hashset<> following two also coded net sf jabref logic bibtex latexfieldformatter format string string multilinefields add fieldname multilinefields add fieldname review file field formatted therefore treat multi line field multilinefields addall prefs getnonwrappablefields performs reformatting param fieldcontent content format param bibtexfield name bibtex field formatted field content string format string fieldcontent string bibtexfield multilinefields contains bibtexfield unify line breaks stringutil unifylinebreaks fieldcontent os newline whitespace matcher fieldcontent replaceall string format stringbuilder fieldcontent string bibtexfield format fieldcontent tostring bibtexfield 
563	AuxParserResult.java	LOGIC	net sf jabref logic auxparser util arraylist util hashset util list util set net sf jabref logic l10n localization net sf jabref model database bibdatabase auxparserresult bibdatabase masterdatabase set<string> uniquekeys hashset<> list<string> unresolvedkeys arraylist<> bibdatabase auxdatabase bibdatabase nestedauxcount crossrefentriescount auxparserresult bibdatabase masterdatabase masterdatabase masterdatabase bibdatabase getgeneratedbibdatabase auxdatabase list<string> getunresolvedkeys unresolvedkeys getfoundkeysinaux uniquekeys size getresolvedkeyscount auxdatabase getentrycount crossrefentriescount getunresolvedkeyscount unresolvedkeys size query number extra entries pulled due crossrefs entries number additional entries pulled due crossref getcrossrefentriescount crossrefentriescount increasecrossrefentriescounter crossrefentriescount increasenestedauxfilescounter nestedauxcount prints parsing statistics param includemissingentries string getinformation boolean includemissingentries stringbuilder result stringbuilder result append localization lang keys database append append masterdatabase getentrycount append '\n' append localization lang found aux file append append getfoundkeysinaux append '\n' append localization lang resolved append append getresolvedkeyscount append '\n' append localization lang found append append getunresolvedkeyscount append '\n' append localization lang crossreferenced entries included append append crossrefentriescount append '\n' includemissingentries getunresolvedkeyscount string entry unresolvedkeys result append entry append '\n' nestedauxcount result append localization lang nested aux files append append nestedauxcount result tostring set<string> getuniquekeys uniquekeys 
564	AuxParser.java	LOGIC	net sf jabref logic auxparser io bufferedreader io file io filenotfoundexception io filereader io ioexception nio file path util arraylist util list util optional util regex matcher util regex pattern net sf jabref model database bibdatabase net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model entry idgenerator org apache commons logging log org apache commons logging logfactory latex aux bibtex parser <p> extracts subset bibtex entries bibdatabase included aux file also supports nested aux files latex \\include exists specification aux file every document write aux file aux file consists latex macros read \begin document \end document bibtex citation: \citation biblatex citation: \abx aux cite nested aux files: input auxparser log logger logfactory getlog auxparser pattern cite pattern pattern compile \\\\ citation abx aux cite \\ \\ pattern input pattern pattern compile \\\\ input\\ \\ string auxfile bibdatabase masterdatabase generates database based given aux file bibtex database param auxfile path latex aux file param database bibtex database auxparser string auxfile bibdatabase database auxfile auxfile masterdatabase database executes parsing logic returns result containing information generated bibdatabase auxparserresult containing generated bibdatabase parsing statistics auxparserresult parse parseauxfile auxparserresult parseauxfile auxparserresult result auxparserresult masterdatabase nested aux files list<string> filelist arraylist<> filelist add auxfile fileindex fileindex filelist size string file filelist get fileindex try bufferedreader br bufferedreader filereader file string line line br readline null matchcitation result line matchnestedaux result filelist line catch filenotfoundexception logger info cannot locate input file catch ioexception logger warn problem opening file fileindex resolvetags result result matchnestedaux auxparserresult result list<string> filelist string line matcher inputmatch input pattern matcher line inputmatch find string inputstring inputmatch group string inputfile inputstring path rootpath file auxfile topath getparent rootpath null inputfile rootpath resolve inputstring tostring filelist contains inputfile filelist add inputfile result increasenestedauxfilescounter matchcitation auxparserresult result string line matcher citematch cite pattern matcher line citematch find string keystring citematch group string[] keys keystring split string key keys result getuniquekeys add key trim try find equivalent bibtex entry inside reference database keys inside aux file resolvetags auxparserresult result string key result getuniquekeys optional<bibentry> entry masterdatabase getentrybykey key entry ispresent insertentry entry get result resolvecrossreferences entry get result else result getunresolvedkeys add key copy database definitions result getgeneratedbibdatabase hasentries result getgeneratedbibdatabase copypreamble masterdatabase result getgeneratedbibdatabase copystrings masterdatabase resolves adds crossref entries resolvecrossreferences bibentry entry auxparserresult result entry getfield fieldname crossref ifpresent crossref result getgeneratedbibdatabase getentrybykey crossref ispresent optional<bibentry> refentry masterdatabase getentrybykey crossref refentry ispresent insertentry refentry get result result increasecrossrefentriescounter else result getunresolvedkeys add crossref insert clone given entry clone given unique id insertentry bibentry entry auxparserresult result bibentry clonedentry bibentry entry clone clonedentry setid idgenerator next result getgeneratedbibdatabase insertentry clonedentry 
565	HelpFile.java	LOGIC	net sf jabref logic help enum globally defines help pages name markdown file help repository github see <a href https: github com jabref help jabref org>help jabref org github< a> enum helpfile command line empty refers toc index contents entry editor entryeditor string editor stringeditor search search group groups content selector contentselector special fields specialfields bibtex key pattern bibtexkeypatterns owner owner timestamp timestamp custom exports customexports custom exports name formatter customexports#nameformatter custom imports customimports general fields generalfields inspection importinspectiondialog remote remote journal abbrev journalabbreviations regex search externalfiles#regularexpressionsearch preview preview autosave autosave help page covers oo lo openoffice libreoffice openofficeintegration fetcher acm acmportal fetcher ads ads fetcher citeseerx citeseer fetcher dblp dblp fetcher diva bibtex divatobibtex fetcher doaj doaj fetcher doi bibtex doitobibtex fetcher google scholar googlescholar fetcher gvk gvk fetcher ieeexplore ieeexplore fetcher inspire inspire fetcher isbn bibtex isbntobibtex fetcher medline medline fetcher oai2 arxiv arxiv fetcher springer springer fetcher sciencedirect fetcher bibsonomy scraper database properties databaseproperties find duplicates findduplicates sql database migration sqldatabasemigration sql database sqldatabase string pagename sets url path part help page param pagename url path part help page helpfile string pagename pagename pagename returns url path part help page url path part help page string getpagename pagename 
566	IdentityFormatter.java	LOGIC	net sf jabref logic formatter util objects net sf jabref logic l10n localization net sf jabref model cleanup formatter may seem useless needed fallback option identityformatter formatter override string getname localization lang identity override string getkey identity override string format string value objects requirenonnull value value override string getdescription localization lang nothing override string getexampleinput jabref override hashcode defaulthashcode override boolean equals object obj defaultequals obj 
567	UnicodeToLatexFormatter.java	LOGIC	net sf jabref logic formatter bibtexfields util map util objects net sf jabref logic l10n localization net sf jabref logic layout layoutformatter net sf jabref model cleanup formatter net sf jabref model strings htmlunicodeconversionmaps org apache commons logging log org apache commons logging logfactory unicodetolatexformatter layoutformatter formatter log logger logfactory getlog unicodetolatexformatter override string format string text string result objects requirenonnull text result isempty result standard symbols map entry<string string> unicodelatexpair htmlunicodeconversionmaps unicode latex conversion map entryset result result replace unicodelatexpair getkey unicodelatexpair getvalue combining accents stringbuilder sb stringbuilder boolean consumed false result length consumed result length cpcurrent result codepointat integer cpnext result codepointat string code htmlunicodeconversionmaps escaped accents get cpnext code null sb append char cpcurrent else sb append \\ append code append append char cpcurrent append consumed true else consumed false consumed sb append char result codepointat result length result sb tostring check symbols converted result length cp result codepointat cp logger warn unicode character converted: cp result override string getdescription localization lang converts unicode characters latex encoding override string getexampleinput mönch override string getname localization lang unicode latex override string getkey unicode latex 
568	UnitsToLatexFormatter.java	LOGIC	net sf jabref logic formatter bibtexfields util arraylist util arrays util collections util list util objects net sf jabref logic l10n localization net sf jabref logic util strings stringlengthcomparator net sf jabref model cleanup formatter unitstolatexformatter formatter list<string> unit list arrays aslist ampere ah ampere hours byte bq bequerel coulomb farad gy gray henry hz hertz joule kelvin newton \\$\\\\omega\\$ ohm pa pascal siemens samples sa samples sv sv tesla volt va volt ampere watt wb weber wh watt hours bar bar bit cd candela db decibel dbm decibel dbc decibel ev electron volts inch inch kat katal lm lumen lx lux meters mol mol rad radians seconds sr steradians list<string> unit prefix list arrays aslist yocto zepto atto femto pico nano \\$\\\\mu\\$ micro micro milli centi deci prefix da deca hekto kilo mega giga tera peta exa zetta yotta list<string> prefixunitcombinations unitstolatexformatter prefixunitcombinations arraylist<> unitstolatexformatter unit list size unitstolatexformatter unit prefix list size string unit unitstolatexformatter unit list string prefix unitstolatexformatter unit prefix list prefixunitcombinations add prefix unit collections sort prefixunitcombinations stringlengthcomparator sort based string length override string format string text objects requirenonnull text text isempty text replace hyphen bit etc non breaking hyphen also avoid bad casing bit string result text replaceall [0 \\ [bb][ii][tt] $1\\\\mbox\\ \\ $2 replace space bit etc non breaking space also avoid bad casing bit result result replaceall [0 \\ [bb][ii][tt] $1~$2 word list string listofword prefixunitcombinations add character space start string followed result result replaceall [0 9] listofword $1\\ $2\\ add brackets keep case result result replaceall [0 9] listofword $1\\\\mbox\\ \\ \\ $2\\ replace hyphen non break hyphen result result replaceall [0 9] listofword $1~\\ $2\\ replace space hard space result override string getdescription localization lang converts units latex formatting override string getexampleinput hz override string getname localization lang units latex override string getkey units latex 
569	NormalizeDateFormatter.java	LOGIC	net sf jabref logic formatter bibtexfields time format datetimeformatter time format datetimeparseexception time temporal temporalaccessor util arrays util list util optional net sf jabref logic l10n localization net sf jabref model cleanup formatter transforms date format yyyy mm dd yyyy mm normalizedateformatter formatter override string getname localization lang normalize date override string getkey normalize date format date string yyyy mm dd yyyy mm keeps existing string match one following formats: covers mmmm dd yyyy covers september september yyyy mm dd covers uuuu covers override string format string value optional<temporalaccessor> parseddate tryparsedate value parseddate ispresent value datetimeformatter dateformatter datetimeformatter ofpattern uuuu mm[ dd] dateformatter format parseddate get override string getdescription localization lang normalizes date iso date format override string getexampleinput try parse following formats covers mmmm dd yyyy covers september september yyyy mm dd covers uuuu covers uuuu covers code essentially taken http: stackoverflow com questions parse dates multiple formats using simpledateformat optional<temporalaccessor> tryparsedate string datestring list<string> formatstrings arrays aslist uuuu uuuu uu uuuu mmmm uuuu mmmm uuuu uuuu uuuu string formatstring formatstrings try optional datetimeformatter ofpattern formatstring parse datestring catch datetimeparseexception ignored ignored optional empty override hashcode defaulthashcode override boolean equals object obj defaultequals obj 
570	NormalizeMonthFormatter.java	LOGIC	net sf jabref logic formatter bibtexfields util objects net sf jabref logic l10n localization net sf jabref model cleanup formatter net sf jabref model entry monthutil normalizemonthformatter formatter override string getname localization lang normalize month override string getkey normalize month override string format string value objects requirenonnull value monthutil month month monthutil getmonth value month isvalid month bibtexformat else value override string getdescription localization lang normalize month bibtex standard abbreviation override string getexampleinput december 
571	HtmlToLatexFormatter.java	LOGIC	net sf jabref logic formatter bibtexfields util objects util set util regex matcher util regex pattern net sf jabref logic l10n localization net sf jabref logic layout layoutformatter net sf jabref model cleanup formatter net sf jabref model strings htmlunicodeconversionmaps org apache commons logging log org apache commons logging logfactory htmltolatexformatter layoutformatter formatter log logger logfactory getlog htmltolatexformatter max tag length pattern escaped pattern pattern compile [x] [0] \\p xdigit pattern escaped pattern2 pattern compile [x] [0] \\p xdigit pattern escaped pattern3 pattern compile [x] [0] \\p xdigit pattern escaped pattern4 pattern compile \\w override string format string text string result objects requirenonnull text result isempty result stringbuilder sb stringbuilder deal form <sup>k< sup>and <sub>k< sub> result result replaceall <[ ]?sup> [^<] sup> \\\\textsuperscript\\ $1\\ result result replaceall <[ ]?sub> [^<] sub> \\\\textsubscript\\ $1\\ todo: maybe rewrite based regular expressions instead note least ieee xplore fetcher must fixed relies current way remove tags image alt tag equation converter result length result charat '<' readtag result else sb append char result sb tostring handle text based html entities set<string> patterns htmlunicodeconversionmaps html latex conversion map keyset string pattern patterns result result replace pattern htmlunicodeconversionmaps html latex conversion map get pattern handle numerical html entities matcher escaped pattern matcher result find num integer decode group replace group htmlunicodeconversionmaps numerical latex conversion map containskey num result result replace group group group htmlunicodeconversionmaps numerical latex conversion map get num combining accents escaped pattern2 matcher result find num integer decode group replace group htmlunicodeconversionmaps escaped accents containskey num equals group result result replace group group group group \\ htmlunicodeconversionmaps escaped accents get num \\i else equals group result result replace group group group group \\ htmlunicodeconversionmaps escaped accents get num \\j else result result replace group group group group \\ htmlunicodeconversionmaps escaped accents get num group find non converted numerical characters escaped pattern3 matcher result find num integer decode group replace group logger warn html escaped char converted: group group group integer tostring num remove $$ case two adjacent conversions result result replace $$ find non covered special characters alphabetic codes escaped pattern4 matcher result find logger warn html escaped char converted: group result trim override string getdescription localization lang converts html code latex code override string getexampleinput <strong>jabref< strong> readtag string text position read character starts tag index text indexof '>' position index position index position max tag length index skip tag else position anything override string getname localization lang html latex override string getkey html latex 
572	ClearFormatter.java	LOGIC	net sf jabref logic formatter bibtexfields util objects net sf jabref logic l10n localization net sf jabref model cleanup formatter clearformatter formatter override string getname localization lang clear override string getkey clear override string format string oldstring objects requirenonnull oldstring override string getdescription localization lang clears field completely override string getexampleinput obsolete text 
573	RemoveBracesFormatter.java	LOGIC	net sf jabref logic formatter bibtexfields util objects net sf jabref logic l10n localization net sf jabref model cleanup formatter removes matching braces around string removebracesformatter formatter override string getname localization lang remove enclosing braces override string getkey remove braces override string format string value objects requirenonnull value string formatted value formatted length formatted charat formatted charat formatted length string trimmed formatted substring formatted length could removed braces matching example test results test case trimmed closing without opening hasnegativebracecount trimmed formatted else formatted trimmed formatted override string getdescription localization lang removes braces encapsulating complete field content override string getexampleinput cdma check string point ending braces opening ones true string dna blahblal epa param value string check true index brace count negative boolean hasnegativebracecount string value bracecount index index value length index char charatindex value charat index charatindex bracecount else charatindex bracecount bracecount true false 
574	LatexCleanupFormatter.java	LOGIC	net sf jabref logic formatter bibtexfields net sf jabref logic l10n localization net sf jabref model cleanup formatter latexcleanupformatter formatter override string getname localization lang latex cleanup override string getkey latex cleanup override string format string oldstring string newvalue oldstring remove redundant part command argument: \mbox gps adjusted newvalue newvalue replace $$ replaceall ?< \\\\[\\p alpha \\ [^\\ \\ ]? \\ $1 move numbers brackets equations newvalue newvalue replaceall [^$] \\\\\\$ \\$ $1 replace \$ newvalue newvalue replaceall [^ [^ $1\\$$2 replace every newvalue newvalue replaceall [0 9\\ \\ \\$ \\$$1\\\\ move numbers followed space left inside equation $\mu$m newvalue newvalue replaceall [0 9\\ \\ ]?[ ]?[ ]? \\$ \\$$1 move numbers possibly operators left equation newvalue newvalue replaceall ]?[ ]?[ ]?[0 9\\ \\ $1 move numbers right equation newvalue newvalue replace replace newvalue newvalue replace clean newvalue newvalue replace $$ newvalue newvalue replace newvalue override string getdescription localization lang cleans latex code override string getexampleinput vlsi dsp 
575	OrdinalsToSuperscriptFormatter.java	LOGIC	net sf jabref logic formatter bibtexfields util objects util regex matcher util regex pattern net sf jabref logic l10n localization net sf jabref model cleanup formatter transforms ordinal numbers latex superscripts ordinalstosuperscriptformatter formatter find possible superscripts word boundaries pattern superscript detect pattern pattern compile \\b \\d st nd rd th \\b pattern case insensitive pattern multiline string superscript replace pattern $1\\\\textsuperscript $2 override string getname localization lang ordinals latex superscript override string getkey ordinals superscript converts ordinal numbers superscripts 1st 2nd 3rd replace ordinal numbers even semantically wrong 21rd <example> 1st conf cloud computing 1\textsuperscript st conf cloud computing example> override string format string value objects requirenonnull value value isempty nothing value matcher matcher superscript detect pattern matcher value replace globally adds superscript tag matcher replaceall superscript replace pattern override string getdescription localization lang converts ordinals latex superscripts override string getexampleinput 11th 
576	NormalizePagesFormatter.java	LOGIC	net sf jabref logic formatter bibtexfields util objects util regex matcher util regex pattern net sf jabref logic l10n localization net sf jabref model cleanup formatter com google common base strings includes sensible defaults consistent formatting bibtex page numbers bibtex manual: one page numbers range numbers last example indicates pages following form simple range make easier maintain scribe compatible databases standard styles convert single dash dash used tex denote number ranges normalizepagesformatter formatter pattern pages detect pattern pattern compile \\a \\d ?: \\d ?\\z string reject literals [^a za z0 \\ \\ string pages replace pattern $1 $2 string single page replace pattern $1 override string getname localization lang normalize page numbers override string getkey normalize page numbers format page numbers separated either commas hyphens converts range number format <code>pages< code> field page number page number removes unwanted literals except letters numbers signs keeps existing string resulting field match expected regex <example> invalid invalid example> override string format string value objects requirenonnull value value isempty nothing value remove pages prefix string cleanvalue value replace pp replace remove unwanted literals incl whitespace cleanvalue cleanvalue replaceall \u2013 \u2014 replaceall reject literals try find pages pattern matcher matcher pages detect pattern matcher cleanvalue matcher matches replace strings isnullorempty matcher group matcher replacefirst single page replace pattern else matcher replacefirst pages replace pattern replacement value override string getdescription localization lang normalize pages bibtex standard override string getexampleinput override hashcode defaulthashcode override boolean equals object obj defaultequals obj 
577	HtmlToUnicodeFormatter.java	LOGIC	net sf jabref logic formatter bibtexfields net sf jabref logic l10n localization net sf jabref logic layout layoutformatter net sf jabref model cleanup formatter org apache commons lang3 stringescapeutils htmltounicodeformatter layoutformatter formatter override string getname html unicode override string getkey html unicode override string getdescription localization lang converts html code unicode override string getexampleinput <b>bread< b> amp butter override string format string fieldtext stringescapeutils converts characters regex kills tags stringescapeutils unescapehtml4 fieldtext replaceall \\<[^>] 
578	NormalizeNamesFormatter.java	LOGIC	net sf jabref logic formatter bibtexfields util objects net sf jabref logic l10n localization net sf jabref model cleanup formatter net sf jabref model entry authorlist formatter normalizing list person names bibtex format normalizenamesformatter formatter override string getname localization lang normalize names persons override string getkey normalize names override string format string namelist objects requirenonnull namelist authorlist authorlist authorlist parse namelist authorlist getaslastfirstnameswithand false override string getdescription localization lang normalizes lists persons bibtex standard override string getexampleinput albert einstein alan turing 
579	MinifyNameListFormatter.java	LOGIC	net sf jabref logic formatter minifier util objects net sf jabref logic l10n localization net sf jabref model cleanup formatter replaces three authors others minifynamelistformatter formatter override string getname localization lang minify list person names override string getkey minify name list replaces three authors others <example> stefan kolb stefan kolb stefan kolb simon harrer stefan kolb simon harrer stefan kolb simon harrer jörg lenhard stefan kolb others example> override string format string value objects requirenonnull value value isempty nothing value abbreviateauthor value override string getdescription localization lang shortens lists persons persons et al override string getexampleinput stefan kolb simon harrer oliver kopp string abbreviateauthor string authorfield single author string authorseparator authorfield contains authorseparator authorfield string[] authors authorfield split authorseparator trim authors authors length authors[i] authors[i] trim already abbreviated others equals authors[authors length 1] authors length authorfield abbreviate authors length authorfield authors[0] authorseparator others 
580	Formatters.java	LOGIC	net sf jabref logic formatter util arraylist util arrays util list util objects util optional net sf jabref logic formatter bibtexfields clearformatter net sf jabref logic formatter bibtexfields htmltolatexformatter net sf jabref logic formatter bibtexfields htmltounicodeformatter net sf jabref logic formatter bibtexfields latexcleanupformatter net sf jabref logic formatter bibtexfields normalizedateformatter net sf jabref logic formatter bibtexfields normalizemonthformatter net sf jabref logic formatter bibtexfields normalizenamesformatter net sf jabref logic formatter bibtexfields normalizepagesformatter net sf jabref logic formatter bibtexfields ordinalstosuperscriptformatter net sf jabref logic formatter bibtexfields removebracesformatter net sf jabref logic formatter bibtexfields unicodetolatexformatter net sf jabref logic formatter bibtexfields unitstolatexformatter net sf jabref logic formatter casechanger capitalizeformatter net sf jabref logic formatter casechanger lowercaseformatter net sf jabref logic formatter casechanger protecttermsformatter net sf jabref logic formatter casechanger sentencecaseformatter net sf jabref logic formatter casechanger titlecaseformatter net sf jabref logic formatter casechanger uppercaseformatter net sf jabref logic formatter minifier minifynamelistformatter net sf jabref logic layout format latextounicodeformatter net sf jabref model cleanup formatter formatters list<formatter> converters arrays aslist htmltolatexformatter htmltounicodeformatter latextounicodeformatter unicodetolatexformatter list<formatter> case changers arrays aslist capitalizeformatter lowercaseformatter protecttermsformatter sentencecaseformatter titlecaseformatter uppercaseformatter list<formatter> others arrays aslist clearformatter latexcleanupformatter minifynamelistformatter normalizedateformatter normalizemonthformatter normalizenamesformatter normalizepagesformatter ordinalstosuperscriptformatter removebracesformatter unitstolatexformatter list<formatter> arraylist<> optional<formatter> getformatterformodifier string modifier objects requirenonnull modifier optional<formatter> formatter stream filter getkey equals modifier findany formatter ispresent formatter switch modifier case lower optional lowercaseformatter case upper optional uppercaseformatter default: optional empty addall converters addall case changers addall others 
581	CapitalizeFormatter.java	LOGIC	net sf jabref logic formatter casechanger net sf jabref logic l10n localization net sf jabref model cleanup formatter capitalizeformatter formatter override string getname localization lang capitalize override string getkey capitalize converts first character word given string upper case others lower case change words starting override string format string input title title title input title getwords stream foreach word::toupperfirst title tostring override string getdescription localization lang changes first letter words capital case remaining letters lower case override string getexampleinput dream 
582	SentenceCaseFormatter.java	LOGIC	net sf jabref logic formatter casechanger net sf jabref logic l10n localization net sf jabref model cleanup formatter sentencecaseformatter formatter override string getname localization lang sentence case override string getkey sentence case converts first character first word given string upper case remaining characters first word lower case change anything word starts override string format string input title title title lowercaseformatter format input title getwords stream findfirst ifpresent word::toupperfirst title tostring override string getdescription localization lang capitalize first word changes words lower case override string getexampleinput aa dream 
583	TitleCaseFormatter.java	LOGIC	net sf jabref logic formatter casechanger net sf jabref logic l10n localization net sf jabref model cleanup formatter titlecaseformatter formatter override string getname localization lang title case override string getkey title case converts words upper case converts articles prepositions conjunctions lower case capitalizes first last word change words starting override string format string input title title title input title getwords stream filter word::issmallerword foreach word::tolowercase title getwords stream filter word::islargerword foreach word::toupperfirst title getfirstword ifpresent word::toupperfirst title getlastword ifpresent word::toupperfirst title getwords size title getwords get endswithcolon title getwords get toupperfirst title tostring override string getdescription localization lang capitalize words converts articles prepositions conjunctions lower case override string getexampleinput bpmn conformance open source engines 
584	UpperCaseFormatter.java	LOGIC	net sf jabref logic formatter casechanger net sf jabref logic l10n localization net sf jabref model cleanup formatter uppercaseformatter formatter override string getname localization lang upper case override string getkey upper case converts characters given string upper case change words starting override string format string input title title title input title getwords stream foreach word::touppercase title tostring override string getdescription localization lang changes letters upper case override string getexampleinput kde amarok 
585	Word.java	LOGIC	net sf jabref logic formatter casechanger util arrays util collections util hashset util objects util set represents word title bibtex entry <p> word chars enclosed may small word word set<string> smaller words set<string> smallerwords hashset<> articles smallerwords addall arrays aslist prepositions smallerwords addall arrays aslist across along among around behind beneath beside beyond except inside like near onto since toward upon within without conjunctions smallerwords addall arrays aslist yet unmodifiable thread safety smaller words collections unmodifiableset smallerwords char[] chars boolean[] protectedchars word char[] chars boolean[] protectedchars chars objects requirenonnull chars protectedchars objects requirenonnull protectedchars chars length protectedchars length throw illegalargumentexception chars protectedchars array must length change letters word unprotected upper case touppercase chars length protectedchars[i] continue chars[i] character touppercase chars[i] change letters word unprotected lower case tolowercase chars length protectedchars[i] continue chars[i] character tolowercase chars[i] toupperfirst chars length protectedchars[i] continue chars[i] character touppercase chars[i] else chars[i] character tolowercase chars[i] boolean issmallerword word: still small word smaller words contains tostring replace tolowercase boolean islargerword issmallerword override string tostring string chars boolean endswithcolon tostring endswith 
586	Title.java	LOGIC	net sf jabref logic formatter casechanger util collections util linkedlist util list util optional util stream collectors represents title bibtex entry title list<word> words linkedlist<> title string title words addall titleparser parse title list<word> getwords collections unmodifiablelist words optional<word> getfirstword getwords isempty optional empty optional getwords get optional<word> getlastword getwords isempty optional empty optional getwords get getwords size override string tostring words stream map word::tostring collect collectors joining 
587	TitleParser.java	LOGIC	net sf jabref logic formatter casechanger util linkedlist util list util optional parses title list words titleparser stringbuffer buffer wordstart list<word> parse string title list<word> words linkedlist<> boolean[] isprotected determineprotectedchars title reset index char title tochararray character iswhitespace createword isprotected ifpresent words::add else wordstart wordstart index buffer append index createword isprotected ifpresent words::add words optional<word> createword boolean[] isprotected buffer length optional empty char[] chars buffer tostring tochararray boolean[] protectedchars boolean[chars length] system arraycopy isprotected wordstart protectedchars chars length reset optional word chars protectedchars reset wordstart buffer stringbuffer boolean[] determineprotectedchars string title boolean[] isprotected boolean[title length char[] chars title tochararray brackets title length chars[i] brackets else chars[i] brackets else isprotected[i] brackets isprotected 
588	ProtectTermsFormatter.java	LOGIC	net sf jabref logic formatter casechanger util list util objects net sf jabref logic l10n localization net sf jabref logic protectedterms protectedtermsloader net sf jabref logic util strings stringlengthcomparator net sf jabref model cleanup formatter protecttermsformatter formatter protectedtermsloader protectedtermsloader deprecated use protecttermsformatter protectedtermsloader instead deprecated protecttermsformatter protecttermsformatter protectedtermsloader protectedtermsloader protecttermsformatter protectedtermsloader protectedtermsloader must called jabrefmain deprecated use protecttermsformatter protectedtermsloader instead deprecated setprotectedtermsloader protectedtermsloader loader protectedtermsloader loader string format string text list<string> listofwords string result text listofwords sort stringlengthcomparator word list string listofword listofwords add character space start string followed result result replaceall \\[ listofword [^a za $1\\ listofword \\ $2 result override string format string text objects requirenonnull text text isempty text objects requirenonnull protecttermsformatter protectedtermsloader format text protecttermsformatter protectedtermsloader getprotectedterms override string getdescription localization lang adds brackets around acronyms month names countries preserve case override string getexampleinput cdma override string getname localization lang protect terms override string getkey protect terms 
589	LowerCaseFormatter.java	LOGIC	net sf jabref logic formatter casechanger net sf jabref logic l10n localization net sf jabref model cleanup formatter lowercaseformatter formatter override string getname localization lang lower case override string getkey lower case converts characters string lower case change words starting override string format string input title title title input title getwords stream foreach word::tolowercase title tostring override hashcode defaulthashcode override boolean equals object obj defaultequals obj override string getdescription localization lang changes letters lower case override string getexampleinput kde amarok 
590	TypedBibEntry.java	LOGIC	net sf jabref logic util arraylist util list util objects util optional net sf jabref model entrytypes net sf jabref model fieldchange net sf jabref model database bibdatabase net sf jabref model database bibdatabasecontext net sf jabref model database bibdatabasemode net sf jabref model entry bibentry net sf jabref model entry entrytype net sf jabref model entry fieldname net sf jabref model entry filefield net sf jabref model entry parsedfilefield net sf jabref model strings stringutil typedbibentry bibentry entry optional<bibdatabase> database bibdatabasemode mode typedbibentry bibentry entry bibdatabasemode mode entry optional empty mode typedbibentry bibentry entry optional<bibdatabase> database bibdatabasemode mode entry objects requirenonnull entry database objects requirenonnull database mode mode typedbibentry bibentry entry bibdatabasecontext databasecontext entry optional databasecontext getdatabase databasecontext getmode returns true entry contains fields needs complete boolean hasallrequiredfields optional<entrytype> type entrytypes gettype entry gettype mode type ispresent entry allfieldspresent type get getrequiredfields database orelse null else true gets display name type entry string gettypefordisplay optional<entrytype> entrytype entrytypes gettype entry gettype mode entrytype ispresent entrytype get getname else stringutil capitalizefirst entry gettype gets list linked files list linked files never null empty list<parsedfilefield> getfiles extract path optional<string> oldvalue entry getfield fieldname file oldvalue ispresent arraylist<> filefield parse oldvalue get optional<fieldchange> setfiles list<parsedfilefield> files optional<string> oldvalue entry getfield fieldname file string newvalue filefield getstringrepresentation files oldvalue ispresent oldvalue get equals newvalue optional empty entry setfield fieldname file newvalue optional fieldchange entry fieldname file oldvalue orelse newvalue 
591	DatabaseSearcher.java	LOGIC	net sf jabref logic search util collections util list util objects util stream collectors net sf jabref model database bibdatabase net sf jabref model database bibdatabases net sf jabref model entry bibentry org apache commons logging log org apache commons logging logfactory author silberer zirn databasesearcher searchquery query bibdatabase database log logger logfactory getlog databasesearcher databasesearcher searchquery query bibdatabase database query objects requirenonnull query database objects requirenonnull database list<bibentry> getmatches logger debug search term: query query isvalid logger warn search failed: illegal search expression collections emptylist list<bibentry> matchentries database getentries stream filter query::ismatch collect collectors tolist bibdatabases purgeemptyentries matchentries 
592	SearchDescribers.java	LOGIC	net sf jabref logic search rules describer net sf jabref model search rules containbasedsearchrule net sf jabref model search rules grammarbasedsearchrule net sf jabref model search rules regexbasedsearchrule net sf jabref model search rules searchrule searchdescribers get search describer given search rule given search query param searchrule rule encodes search logic param query search query search describer turn search something human understandable searchdescriber getsearchdescriberfor searchrule searchrule string query searchrule instanceof grammarbasedsearchrule grammarbasedsearchrule grammarbasedsearchrule grammarbasedsearchrule searchrule grammarbasedsearchruledescriber grammarbasedsearchrule iscasesensitivesearch grammarbasedsearchrule isregexpsearch grammarbasedsearchrule gettree else searchrule instanceof containbasedsearchrule containbasedsearchrule containbasedsearchrule containbasedsearchrule searchrule containsandregexbasedsearchruledescriber containbasedsearchrule iscasesensitive false query else searchrule instanceof regexbasedsearchrule regexbasedsearchrule regexbasedsearchrule regexbasedsearchrule searchrule containsandregexbasedsearchruledescriber regexbasedsearchrule iscasesensitive true query else throw illegalstateexception cannot find describer searchrule searchrule query query 
593	ContainsAndRegexBasedSearchRuleDescriber.java	LOGIC	net sf jabref logic search rules describer util linkedlist util list net sf jabref logic l10n localization net sf jabref model search rules sentenceanalyzer net sf jabref model strings stringutil containsandregexbasedsearchruledescriber searchdescriber boolean regexp boolean casesensitive string query containsandregexbasedsearchruledescriber boolean casesensitive boolean regexp string query casesensitive casesensitive regexp regexp query query override string getdescription list<string> words sentenceanalyzer query getwords string firstword words isempty words get stringbuilder searchdescription stringbuilder regexp localization lang search contains entries field contains regular expression <b> 0< b> stringutil quoteforhtml firstword localization lang search contains entries field contains term <b> 0< b> stringutil quoteforhtml firstword words size list<string> unprocessedwords words sublist words size list<string> unprocessedwordsinhtmlformat linkedlist<> string word unprocessedwords unprocessedwordsinhtmlformat add string format <b> s< b> stringutil quoteforhtml word string andseparator string format localization lang searchdescription append string join andseparator unprocessedwordsinhtmlformat string casesensitivedescription getcasesensitivedescription string genericdescription <p><br> localization lang hint: search specific fields enter example:<p><tt>author smith title electrical< tt> string format searchdescription tostring casesensitivedescription genericdescription string getcasesensitivedescription casesensitive localization lang case sensitive else localization lang case insensitive 
594	SearchDescriber.java	LOGIC	net sf jabref logic search rules describer functionalinterface interface searchdescriber string getdescription 
595	GrammarBasedSearchRuleDescriber.java	LOGIC	net sf jabref logic search rules describer util objects util optional util regex pattern net sf jabref logic l10n localization net sf jabref model search rules grammarbasedsearchrule net sf jabref model strings stringutil net sf jabref search searchbasevisitor net sf jabref search searchparser org antlr v4 runtime tree parsetree grammarbasedsearchruledescriber searchdescriber boolean casesensitive boolean regexp parsetree parsetree grammarbasedsearchruledescriber boolean casesensitive boolean regexp parsetree parsetree casesensitive casesensitive regexp regexp parsetree objects requirenonnull parsetree override string getdescription stringbuilder stringbuilder stringbuilder describe advanced search expression stringbuilder append localization lang search contains entries append append searchbasevisitor<string> override string visitstart searchparser startcontext context visit context expression override string visitunaryexpression searchparser unaryexpressioncontext context string format localization lang visit context expression override string visitparenexpression searchparser parenexpressioncontext context string format context expression override string visitbinaryexpression searchparser binaryexpressioncontext context equalsignorecase context operator gettext string format visit context left localization lang visit context right else string format visit context left localization lang visit context right override string visitcomparison searchparser comparisoncontext context optional<searchparser namecontext> fielddescriptor optional ofnullable context left string value stringutil unquote context right gettext fielddescriptor ispresent containsandregexbasedsearchruledescriber casesensitive regexp value getdescription string field stringutil unquote fielddescriptor get gettext grammarbasedsearchrule comparisonoperator operator grammarbasedsearchrule comparisonoperator build context operator gettext boolean regexpfieldspec pattern matches \\w field string termquoted stringutil quoteforhtml value string fieldspecquoted regexpfieldspec localization lang field matches regular expression <b> 0< b> stringutil quoteforhtml field localization lang field <b> 0< b> stringutil quoteforhtml field operator grammarbasedsearchrule comparisonoperator contains regexp localization lang contains regular expression <b> 1< b> fieldspecquoted termquoted localization lang contains term <b> 1< b> fieldspecquoted termquoted else operator grammarbasedsearchrule comparisonoperator exact regexp localization lang matches regular expression <b> 1< b> fieldspecquoted termquoted localization lang matches term <b> 1< b> fieldspecquoted termquoted else operator grammarbasedsearchrule comparisonoperator contain regexp localization lang contain regular expression <b> 1< b> fieldspecquoted termquoted localization lang contain term <b> 1< b> fieldspecquoted termquoted else throw illegalstateexception cannot happen visit parsetree stringbuilder append stringbuilder append casesensitive localization lang search case sensitive localization lang search case insensitive stringbuilder tostring 
596	SearchQueryHighlightListener.java	LOGIC	net sf jabref logic search util optional util regex pattern com google common eventbus subscribe every listener wants receive events search needs implement interface author ben functionalinterface interface searchqueryhighlightlistener pattern one determine highlight param words null nothing searched subscribe highlightpattern optional<pattern> highlightpattern 
597	SearchQueryHighlightObservable.java	LOGIC	net sf jabref logic search util list util objects util optional util stringjoiner util regex pattern com google common eventbus eventbus searchqueryhighlightobservable eventbus eventbus eventbus optional<pattern> pattern optional empty adds searchqueryhighlightlistener search bar added listener immediately informed current search subscribers notified searches param newlistener searchqueryhighlightlistener added addsearchlistener searchqueryhighlightlistener newlistener objects requirenonnull newlistener eventbus register newlistener newlistener highlightpattern pattern removesearchlistener searchqueryhighlightlistener listener objects requirenonnull listener eventbus unregister listener fires event search started cleared param searchquery search query firesearchlistenerevent searchquery searchquery objects requirenonnull searchquery parse search string words pattern getpatternforwords searchquery getsearchwords searchquery isregularexpression searchquery iscasesensitive update reset pattern optional empty update update fire event every listener eventbus post pattern returns regular expression pattern form w1 w2 wi escaped regular expression search enabled optional<pattern> getpatternforwords list<string> words boolean useregex boolean iscasesensitive words null words isempty words get isempty optional empty compile words regular expression form w1 w2 w3 stringjoiner joiner stringjoiner string word words joiner add useregex word pattern quote word string searchpattern joiner tostring iscasesensitive optional pattern compile searchpattern else optional pattern compile searchpattern pattern case insensitive 
598	SearchQuery.java	LOGIC	net sf jabref logic search util collections util list util objects net sf jabref logic l10n localization net sf jabref logic search rules describer searchdescribers net sf jabref model entry bibentry net sf jabref model search searchmatcher net sf jabref model search rules containbasedsearchrule net sf jabref model search rules grammarbasedsearchrule net sf jabref model search rules searchrule net sf jabref model search rules searchrules net sf jabref model search rules sentenceanalyzer searchquery searchmatcher string query boolean casesensitive boolean regularexpression searchrule rule string description searchquery string query boolean casesensitive boolean regularexpression query objects requirenonnull query casesensitive casesensitive regularexpression regularexpression rule searchrules getsearchrulebyquery query casesensitive regularexpression description searchdescribers getsearchdescriberfor rule query getdescription override string tostring string format s\ getquery getcasesensitivedescription getregularexpressiondescription override boolean ismatch bibentry entry rule applyrule getquery entry boolean isvalid rule validatesearchstrings getquery boolean iscontainsbasedsearch rule instanceof containbasedsearchrule string getcasesensitivedescription iscasesensitive case sensitive else case insensitive string getregularexpressiondescription isregularexpression regular expression else plain text string localize string format s\ getquery getlocalizedcasesensitivedescription getlocalizedregularexpressiondescription string getlocalizedcasesensitivedescription iscasesensitive localization lang case sensitive else localization lang case insensitive string getlocalizedregularexpressiondescription isregularexpression localization lang regular expression else localization lang plain text boolean isgrammarbasedsearch rule instanceof grammarbasedsearchrule string getquery query boolean iscasesensitive casesensitive boolean isregularexpression regularexpression string getdescription description returns list words query searches returned strings regular expression list<string> getsearchwords isregularexpression collections singletonlist getquery else parses search query valid words returns list words example great vikinger give great vikinger sentenceanalyzer getquery getwords 
599	SpecialFieldsUtils.java	LOGIC	net sf jabref logic specialfields util arraylist util list util optional net sf jabref logic util updatefield net sf jabref model fieldchange net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model entry keyword net sf jabref model entry keywordlist net sf jabref model entry specialfields specialfield deprecated refactored partly integrated bibentry instead synchronizing special fields keyword field bibentry method setspecialfield field newvalue synctokeyword directly performs correct action sets field newvalue case synctokeyword false adds newvalue keywords sync true deprecated specialfieldsutils param field field handled param value may null state field emptied param entry bibtexentry handled param nullfieldifvalueisthesame true: field nulled value current value list<fieldchange> updatefield specialfield field string value bibentry entry boolean nullfieldifvalueisthesame boolean iskeywordsyncenabled character keyworddelimiter list<fieldchange> fieldchanges arraylist<> updatefield updatefield entry field getfieldname value nullfieldifvalueisthesame ifpresent fieldchange fieldchanges add fieldchange cannot use value updatefield side effects: nullfieldifvalueisthesame nulls field value fieldchanges addall specialfieldsutils exportfieldtokeywords field entry iskeywordsyncenabled keyworddelimiter fieldchanges list<fieldchange> exportfieldtokeywords specialfield specialfield bibentry entry boolean iskeywordsyncenabled character keyworddelimiter list<fieldchange> fieldchanges arraylist<> iskeywordsyncenabled fieldchanges optional<keyword> newvalue entry getfield specialfield getfieldname map keyword::new keywordlist keywords specialfield getkeywords optional<fieldchange> change entry replacekeywords keywords newvalue keyworddelimiter change ifpresent changevalue fieldchanges add changevalue fieldchanges update keywords according values special fields list<fieldchange> synckeywordsfromspecialfields bibentry entry boolean iskeywordsyncenabled character keyworddelimiter list<fieldchange> fieldchanges arraylist<> specialfield field: specialfield values fieldchanges addall specialfieldsutils exportfieldtokeywords field entry iskeywordsyncenabled keyworddelimiter fieldchanges list<fieldchange> importkeywordsforfield keywordlist keywordlist specialfield field bibentry entry list<fieldchange> fieldchanges arraylist<> keywordlist values field getkeywords optional<keyword> newvalue optional empty keyword keyword values keywordlist contains keyword newvalue optional keyword break updatefield updatenondisplayablefield entry field getfieldname newvalue map keyword::tostring orelse null ifpresent fieldchange fieldchanges add fieldchange fieldchanges updates field values according keywords list<fieldchange> syncspecialfieldsfromkeywords bibentry entry character keyworddelimiter list<fieldchange> fieldchanges arraylist<> entry hasfield fieldname keywords fieldchanges keywordlist keywordlist entry getkeywords keyworddelimiter specialfield field: specialfield values fieldchanges addall specialfieldsutils importkeywordsforfield keywordlist field entry fieldchanges synchronizespecialfields keywordlist keywordstoadd keywordlist keywordstoremove need check whether special field added field: check something added yes add keywords special fields keywords removed keywordlist clone priority clone keywordstoadd createclone specialfield field: specialfield values clone retainall field getkeywords clone isempty keywordstoremove addall field getkeywords 
600	EncodingControl.java	LOGIC	net sf jabref logic l10n io ioexception io inputstream io inputstreamreader net url net urlconnection nio charset charset util locale util propertyresourcebundle util resourcebundle util resourcebundle control link control allowing properties bundles different encodings see <a href http: stackoverflow com questions use utf resource properties resourcebundle >utf property files< a> encodingcontrol control charset encoding encodingcontrol charset encoding encoding encoding override resourcebundle newbundle string basename locale locale string format classloader loader boolean reload throws illegalaccessexception instantiationexception ioexception copy default implementation string bundlename tobundlename basename locale string resourcename toresourcename bundlename properties resourcebundle bundle null reload url url loader getresource resourcename url null urlconnection connection url openconnection connection null connection setusecaches false try inputstream stream connection getinputstream bundle propertyresourcebundle inputstreamreader stream encoding else try inputstream stream loader getresourceasstream resourcename bundle propertyresourcebundle inputstreamreader stream encoding bundle 
601	Localization.java	LOGIC	net sf jabref logic l10n nio charset standardcharsets util locale util missingresourceexception util objects util optional util resourcebundle org apache commons logging log org apache commons logging logfactory localization log logger logfactory getlog localization string resource prefix l10n jabref string menu resource prefix l10n menu resourcebundle messages resourcebundle menutitles setlanguage string language optional<locale> knownlanguage languages converttosupportedlocale language knownlanguage ispresent logger warn language language supported jabref default: locale getdefault setlanguage en locale locale knownlanguage get locale setdefault locale javax swing jcomponent setdefaultlocale locale try createresourcebundles locale catch missingresourceexception ex happen scripts enforce logger warn could find bundles language locale switching full english language ex setlanguage en createresourcebundles locale locale messages resourcebundle getbundle resource prefix locale encodingcontrol standardcharsets utf menutitles resourcebundle getbundle menu resource prefix locale encodingcontrol standardcharsets utf translation replaced respective params given param resbundle resourcebundle use param idforerrormessage output translation found param key key lookup resbundle param params list strings replace string translate resourcebundle resbundle string idforerrormessage string key string params objects requirenonnull resbundle string translation null try string propertieskey localizationkey key getpropertieskeyunescaped translation resbundle getstring propertieskey catch missingresourceexception ex logger warn warning: could get idforerrormessage translation key locale locale getdefault translation null translation isempty logger warn warning: idforerrormessage translation key locale locale getdefault translation key localizationkeyparams translation params replaceplaceholders string lang string key string params messages null setlanguage en translate messages message key params string menutitle string key string params menutitles null setlanguage en translate menutitles menu item key params 
602	LocalizationKeyParams.java	LOGIC	net sf jabref logic l10n util arrays util list util regex matcher localizationkeyparams localizationkey key list<string> params localizationkeyparams string key string params key localizationkey key params arrays aslist params params size throw illegalstateexception translations parameters string replaceplaceholders string translation key gettranslationvalue params size string param params get translation translation replaceall matcher quotereplacement param translation 
603	LocalizationKey.java	LOGIC	net sf jabref logic l10n util objects localizationkey string key localizationkey string key key objects requirenonnull key string getpropertieskeyunescaped space allowed properties file keys key replace string getpropertieskey space allowed properties file keys beginning key easier escape every instance key replace replace \\# replace \\ replace \\ replace \\: replace \\\\ \\ string gettranslationvalue key replace replace \\# replace \\ replace \\ replace \\: 
604	Languages.java	LOGIC	net sf jabref logic l10n util locale util map util objects util optional util treemap languages map<string string> languages languages treemap<> languages contains mappings supported languages languages put dansk da languages put deutsch de languages put english en languages put español es languages put persian فارسی fa languages put français fr languages put bahasa indonesia languages put italiano languages put japanese ja languages put nederlands nl languages put norsk languages put brazilian portuguese pt br languages put russian ru languages put svenska sv languages put turkish tr languages put vietnamese vi languages put simplified chinese zh optional<locale> converttosupportedlocale string language objects requirenonnull language languages values contains language language contains optional empty string lang language split [0] languages values contains lang optional empty optional locale lang optional locale language 
605	Encodings.java	LOGIC	net sf jabref logic l10n nio charset charset util list util stream collectors encodings charset[] encodings string[] encodings displaynames list<charset> encodingslist charset availablecharsets values stream distinct collect collectors tolist list<string> encodingsstringlist encodingslist stream map charset::displayname distinct collect collectors tolist encodings encodingslist toarray charset[encodingslist size encodings displaynames encodingsstringlist toarray string[encodingsstringlist size 
606	LayoutFormatter.java	LOGIC	net sf jabref logic layout layoutformatter used filter design pattern implementing classes accept string returned formatted version example: john von neumann von neumann john version documentation co functionalinterface interface layoutformatter failure mode: <p> formatters robust sense always relevant string <p> formatter detect invalid input original string otherwise may simply wrong output param fieldtext text layout layouted text string format string fieldtext 
607	LayoutFormatterPreferences.java	LOGIC	net sf jabref logic layout util hashmap util map util optional net sf jabref logic journals journalabbreviationloader net sf jabref logic journals journalabbreviationpreferences net sf jabref logic layout format filelinkpreferences net sf jabref logic layout format nameformatterpreferences layoutformatterpreferences nameformatterpreferences nameformatterpreferences journalabbreviationpreferences journalabbreviationpreferences filelinkpreferences filelinkpreferences map<string string> customexportnameformatters hashmap<> journalabbreviationloader journalabbreviationloader layoutformatterpreferences nameformatterpreferences nameformatterpreferences journalabbreviationpreferences journalabbreviationpreferences filelinkpreferences filelinkpreferences journalabbreviationloader journalabbreviationloader nameformatterpreferences nameformatterpreferences journalabbreviationpreferences journalabbreviationpreferences filelinkpreferences filelinkpreferences journalabbreviationloader journalabbreviationloader nameformatterpreferences getnameformatterpreferences nameformatterpreferences journalabbreviationpreferences getjournalabbreviationpreferences journalabbreviationpreferences filelinkpreferences getfilelinkpreferences filelinkpreferences journalabbreviationloader getjournalabbreviationloader journalabbreviationloader clearcustomexportnameformatters customexportnameformatters clear putcustomexportnameformatter string formattername string contents customexportnameformatters put formattername contents optional<string> getcustomexportnameformatter string formattername optional ofnullable customexportnameformatters get formattername 
608	StringInt.java	LOGIC	net sf jabref logic layout string integer value author wegnerj stringint io serializable description field string description field constructor stringint object param description parameter param description parameter stringint string 
609	LayoutHelper.java	LOGIC	net sf jabref logic layout io ioexception io pushbackreader io reader util arraylist util list util objects helper get layout object <code> layouthelper helper layouthelper reader layout layout helper getlayoutfromtext code> layouthelper layout text simple field field start field end option field group start group end encoding name filename filepath string currentgroup pushbackreader list<stringint> parsedentries arraylist<> layoutformatterpreferences prefs boolean endoffile layouthelper reader layoutformatterpreferences prefs pushbackreader objects requirenonnull prefs objects requirenonnull prefs layout getlayoutfromtext throws ioexception parse stringint parsedentry parsedentries parsedentry layouthelper simple field parsedentry layouthelper field start parsedentry layouthelper field end parsedentry layouthelper group start parsedentry layouthelper group end parsedentry parsedentry trim tolowercase layout parsedentries prefs string getcurrentgroup layouthelper currentgroup setcurrentgroup string newgroup layouthelper currentgroup newgroup dobracketedfield field throws ioexception stringbuilder buffer null boolean start false endoffile read endoffile true buffer null parsedentries add stringint buffer tostring field buffer null parsedentries add stringint buffer tostring field else start true else buffer null buffer stringbuilder start buffer append char dobracketedoptionfield throws ioexception stringbuilder buffer null boolean start false boolean inquotes false boolean donewithoptions false string option null string tmp endoffile read endoffile true buffer null option null tmp buffer tostring else tmp buffer tostring '\n' option parsedentries add stringint tmp layouthelper option field inquotes ']' '[' donewithoptions ']' donewithoptions changed section start arudert buffer may null parameters ']' buffer null changed section end arudert option buffer tostring buffer null start false donewithoptions true else changed section begin arudert bracketed option must followed optionally empty parameter empty parameter set whitespace avoid tokenizer splits string later ignores empty parameter string parameter buffer null buffer tostring option null tmp parameter else tmp parameter '\n' option parsedentries add stringint tmp layouthelper option field changed section end arudert changed section start arudert changed section end arudert else start true else inquotes inquotes buffer null buffer stringbuilder buffer append else buffer null buffer stringbuilder start changed section begin arudert keep backslash know wether fieldname ordinary parameter '\\' buffer append char changed section end arudert parse throws ioexception stringindexoutofboundsexception skipwhitespace stringbuilder buffer null boolean escaped false endoffile read endoffile true co 11: added check null otherwise layout finishes curly brace throws npe buffer null parsedentries add stringint buffer tostring layouthelper layout text '\\' peek '\\' escaped buffer null parsedentries add stringint buffer tostring layouthelper layout text buffer null parsefield make sure next character backslash get ignored since previous holds backslash: escaped false else buffer null buffer stringbuilder '\\' escaped previous '\\' buffer append char escaped '\\' escaped parsefield throws ioexception stringbuilder buffer null string name endoffile read endoffile true character isletter char unread name buffer null buffer tostring name isempty stringbuilder lastfive stringbuilder stringint entry parsedentries sublist math max parsedentries size parsedentries size lastfive append entry throw stringindexoutofboundsexception backslash parsing error near \' lastfive tostring replace \n '\'' begin equalsignorecase name get field name dobracketedfield layouthelper field start else begingroup equalsignorecase name get field name dobracketedfield layouthelper group start else format equalsignorecase name '[' get format parameter get field name dobracketedoptionfield else get field name dobracketedfield layouthelper option field else filename equalsignorecase name print name database bib file supported begin end layouts entry layouts parsedentries add stringint name layouthelper filename else filepath equalsignorecase name print full path database bib file supported begin end layouts entry layouts parsedentries add stringint name layouthelper filepath else end equalsignorecase name get field name dobracketedfield layouthelper field end else endgroup equalsignorecase name get field name dobracketedfield layouthelper group end else encoding equalsignorecase name print name current encoding used export supported begin end layouts entry layouts parsedentries add stringint name layouthelper encoding name cases parsedentries add stringint name layouthelper simple field else buffer null buffer stringbuilder buffer append char peek throws ioexception read unread read throws ioexception read skipwhitespace throws ioexception true read endoffile true character iswhitespace char unread break unread throws ioexception unread 
610	ParamLayoutFormatter.java	LOGIC	net sf jabref logic layout interface layoutformatter adding capability taking additional parameter parameter specified layout file following construct: \format[myformatter argument \field myformatter paramlayoutformatter set argument given parenthesis way method setargument string argument given formatter invoked without setargument method called first interface paramlayoutformatter layoutformatter method setting argument formatter param arg string argument setargument string arg 
611	AbstractParamLayoutFormatter.java	LOGIC	net sf jabref logic layout util arraylist util list implementation paramlayoutformatter provides functionality handling argument strings abstractparamlayoutformatter paramlayoutformatter char separator parse argument string parts argument parts separated commas escaped commas reduced literal commas param arg argument string list strings representing parts argument list<string> parseargument string arg list<string> parts arraylist<> stringbuilder current stringbuilder boolean escaped false arg length arg charat abstractparamlayoutformatter separator escaped parts add current tostring current stringbuilder else arg charat '\\' escaped escaped false current append arg charat else escaped true else escaped handle newline tab: arg charat 'n' current append '\n' else arg charat 't' current append '\t' else arg charat arg charat current append '\\' current append arg charat escaped false else current append arg charat parts add current tostring parts 
612	Layout.java	LOGIC	net sf jabref logic layout nio charset charset util arraylist util list net sf jabref model database bibdatabase net sf jabref model database bibdatabasecontext net sf jabref model entry bibentry org apache commons logging log org apache commons logging logfactory main formatting document layout list<layoutentry> layoutentries list<string> missingformatters arraylist<> log logger logfactory getlog layout layout list<stringint> parsedentries layoutformatterpreferences prefs list<layoutentry> tmpentries arraylist<> parsedentries size list<stringint> blockentries null layoutentry le string blockstart null stringint parsedentry parsedentries switch parsedentry case layouthelper layout text: case layouthelper simple field: case layouthelper option field: nothing break case layouthelper field start: case layouthelper group start: blockentries arraylist<> blockstart parsedentry break case layouthelper field end: case layouthelper group end: blockstart null blockentries null blockstart equals parsedentry blockentries add parsedentry le layoutentry blockentries parsedentry layouthelper field end layouthelper field start layouthelper group start prefs tmpentries add le blockentries null else logger debug blockstart '\n' parsedentry logger warn nested field group entries implemented thread dumpstack break default: break blockentries null tmpentries add layoutentry parsedentry prefs else blockentries add parsedentry layoutentries arraylist<> tmpentries layoutentry layoutentry layoutentries missingformatters addall layoutentry getinvalidformatters setpostformatter layoutformatter formatter layoutentry layoutentry layoutentries layoutentry setpostformatter formatter returns processed bibtex entry database argument null string references resolved otherwise valid string references replaced strings' contents even recursive string references resolved string dolayout bibentry bibtex bibdatabase database stringbuilder sb stringbuilder layoutentry layoutentry layoutentries string fieldtext layoutentry dolayout bibtex database alver following change means treat null fields fix problem whitespace disappearing missing fields hoping side effects fieldtext null fieldtext sb append fieldtext sb tostring returns processed text database argument null string references resolved otherwise valid string references replaced strings' contents even recursive string references resolved string dolayout bibdatabasecontext databasecontext charset encoding stringbuilder sb stringbuilder string fieldtext layoutentry layoutentry layoutentries fieldtext layoutentry dolayout databasecontext encoding fieldtext null fieldtext sb append fieldtext sb tostring added section end arudert list<string> getmissingformatters arraylist<> missingformatters 
613	NameFormatter.java	LOGIC	net sf jabref logic layout format util hashmap util list util map net sf jabref logic bst bibtexnameformatter net sf jabref logic layout layoutformatter net sf jabref model entry authorlist layout formatter uses bibtex name format$ method provides ultimate flexibility: formatter needs parameter passed follows following format: <case1> <range11> <format> <range12> <format> <range13> <case2> <range21> individual cases separated items case cases integers character tell formatter apply following formats less equal authors given cases must strict increasing order last position instance: case1 case2 case3 ranges either <integer> <integer> <integer> character using based index indexing authors given authorlist integer indexes negative denote start end list last author instance authorlist joe doe mary jane bruce bar arthur kay affect joe mary bruce affect arthur affect affect mary bruce arthur <format> uses bibtex formatter format: four letter indicate name parts von first last jr used within curly braces single letter indicates name abbreviated put quote format string quote using mh work yet give examples would rather point bibtex documentation turn joe doe doe complete example: turn: joe doe mary jane bruce bar arthur kay doe jane bar kay would use yeah trouble write work examples see test cases nameformatter layoutformatter string default format ff vv jj ff vv jj ff vv jj string parameter nameformatter default format string format string toformat authorlist al string[] formats stringbuilder sb stringbuilder al getnumberofauthors al getnumberofauthors formats length equals formats[j] sb append bibtexnameformatter formatname toformat formats[j 1] null break else string[] range formats[j] split \\ \\ range length integer parseint range[0] integer parseint range[1] else integer parseint range[0] temp temp sb append bibtexnameformatter formatname toformat formats[j 1] null break sb tostring string format string toformat string inparameters authorlist al authorlist parse toformat string parameters inparameters null inparameters isempty parameters :\ ff vv jj else parameters inparameters string[] cases parameters split string acase cases string[] formatstring acase split formatstring length error toformat equals formatstring[0] format toformat al formatstring else al getnumberofauthors integer parseint formatstring[0] format toformat al formatstring toformat override string format string fieldtext format fieldtext parameter setparameter string parameter parameter parameter map<string string> getnameformatters nameformatterpreferences prefs map<string string> result hashmap<> list<string> names prefs getnameformatterkey list<string> formats prefs getnameformattervalue names size formats size result put names get formats get else result put names get default format result 
614	AuthorLF_FF.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter net sf jabref model entry authorlist authorlf ff layoutformatter override string format string fieldtext authorlist al authorlist parse fieldtext al getaslastfirstfirstlastnameswithand false 
615	RemoveLatexCommandsFormatter.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter net sf jabref model strings stringutil removelatexcommandsformatter layoutformatter override string format string field stringbuilder sb stringbuilder stringbuilder currentcommand null char boolean escaped false boolean incommand false field length field charat escaped '\\' sb append '\\' escaped false else '\\' escaped true incommand true currentcommand stringbuilder else incommand swallow brace else character isletter stringutil special command chars contains string valueof escaped false incommand currentcommand append currentcommand length stringutil special command chars contains currentcommand tostring indicates command type \^o \~ incommand false escaped false else sb append else character isletter escaped false incommand command keep letter currentcommand append else sb append else incommand character iswhitespace sb append else sb append incommand false escaped false sb tostring 
616	ToLowerCase.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter convert contents lower case tolowercase layoutformatter override string format string fieldtext fieldtext null null fieldtext tolowercase 
617	Ordinal.java	LOGIC	net sf jabref logic layout format util regex matcher util regex pattern net sf jabref logic layout layoutformatter converts number ordinal ordinal layoutformatter detect last digit number directly followed letter plus number pattern number pattern pattern compile 1?\\d\\b override string format string fieldtext fieldtext null null matcher number pattern matcher fieldtext stringbuffer sb stringbuffer find string result group value integer parseint result string ordinalstring switch value case 1: ordinalstring st break case 2: ordinalstring nd break case 3: ordinalstring rd break default: ordinalstring th break appendreplacement sb result ordinalstring appendtail sb sb tostring 
618	AuthorAbbreviator.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter net sf jabref model entry authorlist duplicate authorlastfirstabbreviator see authorlastfirstabbreviator author carlos silla authorabbreviator layoutformatter non javadoc see net sf jabref export layout layoutformatter#format lang string override string format string fieldtext authorlist list authorlist parse fieldtext list getaslastfirstnameswithand true 
619	AuthorLastFirstCommas.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter net sf jabref model entry authorlist <ul> <li>names given order: von last jr first li> <li>first names abbreviated li> <li>individual authors separated commas li> <li>there comma 'and' end list three authors< li> ul> author mkovtun author christopher oezbek <oezi oezi de> authorlastfirstcommas layoutformatter override string format string fieldtext authorlist fixauthorlastnamefirstcommas fieldtext false false 
620	RemoveBrackets.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter remove brackets formatter <example> stefan kolb stefan kolb example> removebrackets layoutformatter override string format string fieldtext stringbuilder builder stringbuilder fieldtext length char c: fieldtext tochararray builder append builder tostring 
621	AuthorFirstLastCommas.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter net sf jabref model entry authorlist <ul> <li>names given first name von last name li> <li>first names abbreviated li> <li>individual authors separated comma li> <li>there comma list three authors li> ul> author mkovtun author christopher oezbek <oezi oezi de> authorfirstlastcommas layoutformatter override string format string fieldtext authorlist fixauthorfirstnamefirstcommas fieldtext false false 
622	CreateDocBookEditors.java	LOGIC	net sf jabref logic layout format net sf jabref model entry authorlist net sf jabref model entry fieldname create docbook editors formatter createdocbookeditors createdocbookauthors override string format string fieldtext <editor><firstname>l firstname><surname>xue< surname>< editor> stringbuilder sb stringbuilder authorlist al authorlist parse fieldtext addbody sb al fieldname editor sb tostring 
623	AuthorFirstFirstCommas.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter net sf jabref model entry authorlist <ul> <li>names given order: first von last jr li> <li>first names abbreviated li> <li>individual authors separated commas li> <li>there comma 'and' end list three authors< li> ul> author morten alver christopher oezbek <oezi oezi de> authorfirstfirstcommas layoutformatter override string format string fieldtext authorlist fixauthorfirstnamefirstcommas fieldtext false false 
624	AuthorLastFirst.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter net sf jabref model entry authorlist authorlastfirst layoutformatter override string format string fieldtext authorlist fixauthorlastnamefirst fieldtext 
625	GetOpenOfficeType.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter change type record match one used openoffice formatter based removebrackets revision mortenalver author $author$ version $revision$ getopenofficetype layoutformatter override string format string fieldtext article equalsignorecase fieldtext book equalsignorecase fieldtext booklet equalsignorecase fieldtext inbook equalsignorecase fieldtext incollection equalsignorecase fieldtext inproceedings equalsignorecase fieldtext manual equalsignorecase fieldtext mastersthesis equalsignorecase fieldtext misc equalsignorecase fieldtext equalsignorecase fieldtext phdthesis equalsignorecase fieldtext proceedings equalsignorecase fieldtext techreport equalsignorecase fieldtext unpublished equalsignorecase fieldtext default miscelaneous 
626	RisMonth.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter net sf jabref model entry monthutil rismonth layoutformatter override string format string month month null monthutil month monthutil getmonthbyshortname month isvalid twodigitnumber else month tolowercase 
627	WrapFileLinks.java	LOGIC	net sf jabref logic layout format io file io ioexception util arraylist util hashmap util list util map util optional net sf jabref logic layout abstractparamlayoutformatter net sf jabref logic util io fileutil net sf jabref model entry filefield net sf jabref model entry parsedfilefield org apache commons logging log org apache commons logging logfactory formatter iterates file links file links specified type outputting format string given first argument format string contain number escape sequences indicating file link information inserted string <p formatter take optional second argument specifying name file type specified iteration include files file type matching given name case insensitively specified empty argument file links included <p second argument pairs additional arguments added order specify regular expression replacements done upon inserted link information insertion output string non paired argument ignored order specify replacements without filtering file types use empty second argument <p <p <p escape sequences embedding information follows: <p \i inserts iteration index starting useful output list files enumerated \p inserts file path file link relative links file directory expanded absolute path \r inserts file path without expanding relative links \f inserts name file link's type \x inserts file's extension \d inserts file link's description <p instance entry could contain file link file home john report pdf pdf type description john's report <p using wrapfilelinks formatter following argument: <p \format[wrapfilelinks \i \d \p \file <p would give following output: john's report home john report pdf <p entry contained second file link file home john draft txt text file type description 'an early draft output would follows: john's report home john report pdf early draft home john draft txt <p formatter called second argument list would filtered instance: \format[wrapfilelinks \i \d \p text file \file <p would show text file: early draft home john draft txt <p wanted output part xml styled output quotes file description could cause problems adding two additional arguments translate quotes xml characters solves this: \format[wrapfilelinks \i \d \p text file quot \file <p would give following output: early quot draft quot home john draft txt additional pairs replacements added wrapfilelinks abstractparamlayoutformatter log logger logfactory getlog wrapfilelinks string filetype list<formatentry> format map<string string> replacements hashmap<> define codes various escape sequences inserted: string iteration count file path file type file extension file description relative file path define escape sequences give results: map<character integer> escape seq hashmap<> filelinkpreferences prefs wrapfilelinks escape seq put 'i' wrapfilelinks iteration count wrapfilelinks escape seq put 'p' wrapfilelinks file path wrapfilelinks escape seq put 'r' wrapfilelinks relative file path wrapfilelinks escape seq put 'f' wrapfilelinks file type wrapfilelinks escape seq put 'x' wrapfilelinks file extension wrapfilelinks escape seq put 'd' wrapfilelinks file description wrapfilelinks filelinkpreferences filelinkpreferences prefs filelinkpreferences override setargument string arg list<string> parts abstractparamlayoutformatter parseargument arg format parseformatstring parts get parts size parts get trim isempty filetype parts get parts size parts size replacements put parts get parts get override string format string field field null stringbuilder sb stringbuilder build list containing links: list<parsedfilefield> filelist filefield parse field piv counter relevant iterations parsedfilefield flentry filelist use entry discriminate types type fits: filetype null flentry getfiletype equalsignorecase filetype formatentry entry format switch entry gettype case string: sb append entry getstring break case iteration count: sb append piv break case file path: list<string> dirs need resolve file directory database's metadata available formatter therefore ugly hack export routine set global variable starting export contains database's file directory: prefs getfiledirfordatabase null prefs getfiledirfordatabase isempty dirs prefs getgenerateddirfordatabase else dirs prefs getfiledirfordatabase optional<file> fileutil expandfilename flentry getlink dirs stumbled investigating https: sourceforge net tracker index php?func detail aid group id atid ispresent try sb append replacestrings get getcanonicalpath catch ioexception ex logger warn problem getting path ex sb append replacestrings get getpath else sb append replacestrings flentry getlink break case relative file path: stumbled investigating https: sourceforge net tracker index php?func detail aid group id atid sb append replacestrings flentry getlink touri tostring break case file extension: fileutil getfileextension flentry getlink ifpresent extension sb append replacestrings extension break case file type: sb append replacestrings flentry getfiletype break case file description: sb append replacestrings flentry getdescription break default: break piv update counter sb tostring string replacestrings string text string result text map entry<string string> stringstringentry replacements entryset string stringstringentry getvalue result result replaceall stringstringentry getkey result parse format string list formatentry objects format string basically marked \i marking iteration number inserted \p marking file path current iteration inserted plus additional markers param format marked string resulting format entries list<formatentry> parseformatstring string format list<formatentry> arraylist<> stringbuilder sb stringbuilder boolean escaped false format length char format charat escaped escaped false know we'll escape mode check escape sequence meaningful: '\\' escaped backslash: means add backslash: sb append '\\' else wrapfilelinks escape seq containskey ok code add previous string entry indicated escape sequence: sb length add formatentry sb tostring clear buffer: sb stringbuilder add formatentry wrapfilelinks escape seq get else unknown escape sequence sb append '\\' sb append else check start escape sequence: '\\' escaped true else sb append finished scanning string collected text end add entry it: sb length add formatentry sb tostring defines building blocks parsed format strings formatentry represents either literal string piece information pertaining file link exported iteration series file links literal strings encapsulates literal types information type code provided subclass needs fill proper information based file link exported iteration status formatentry type string string formatentry type type type formatentry string value type wrapfilelinks string string value gettype type string getstring string 
628	AuthorNatBib.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter net sf jabref model entry authorlist natbib style: last names two authors separated three authors given smith et al author morten alver authornatbib layoutformatter override string format string fieldtext authorlist fixauthornatbib fieldtext 
629	DOIStrip.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter net sf jabref logic util doi strip prefixes doi field order output doi number doistrip layoutformatter override string format string fieldtext fieldtext null null doi build fieldtext map doi::getdoi orelse fieldtext 
630	FirstPage.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter formatter returns first page pages field set instance pages field set formatter firstpage layoutformatter override string format string null string[] pageparts split \\ pageparts length pageparts[0] else 
631	EntryTypeFormatter.java	LOGIC	net sf jabref logic layout format net sf jabref logic typedbibentry net sf jabref logic layout layoutformatter net sf jabref model database bibdatabasemode net sf jabref model entry bibentry camel casing entry type string unknown entry types gets leading capital example known inbook inbook example unknown banana banana entrytypeformatter layoutformatter input: entry type string override string format string entrytype bibentry entry bibentry entry settype entrytype typedbibentry typedentry typedbibentry entry bibdatabasemode biblatex typedentry gettypefordisplay 
632	AuthorOrgSci.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter net sf jabref model entry author net sf jabref model entry authorlist authors match orgsci format: <ul> <li>that first author lastfirst others firstlast li> <li>first names abbreviated< li> <li>spaces abbreviated first names removed use nospacebetweenabbreviations achieve li> ul> <p> see testcase examples p> <p> idea from: http: stuermer ch blog bibliography reference management jabref html p> authororgsci layoutformatter override string format string fieldtext authorlist authorlist parse fieldtext isempty fieldtext author first getauthor stringbuilder sb stringbuilder sb append first getlastfirst true getnumberofauthors sb append append getauthor getfirstlast true sb tostring 
633	CreateBibORDFAuthors.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter author $author$ version $revision: createbibordfauthors layoutformatter methods override string format string fieldtext yeah format quite verbose sorry <bibo:contribution> <bibo:contribution> <bibo:role rdf:resource http: purl org ontology bibo roles author <bibo:contributor><foaf:person foaf:name ola spjuth >< bibo:contributor> <bibo:position>1< bibo:position> bibo:contribution> bibo:contribution> stringbuilder sb stringbuilder fieldtext contains singleauthor sb fieldtext else string[] names fieldtext split names length singleauthor sb names[i] names length sb append '\n' sb tostring param sb param author param position singleauthor stringbuilder sb string author position sb append <bibo:contribution>\n sb append <bibo:contribution>\n sb append <bibo:role rdf:resource http: purl org ontology bibo roles author\ >\n sb append <bibo:contributor><foaf:person foaf:name append author append >< bibo:contributor>\n sb append <bibo:position> append position append bibo:position>\n sb append bibo:contribution>\n sb append bibo:contribution>\n 
634	AuthorFirstAbbrLastCommas.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter net sf jabref model entry authorlist <ul> <li>names given first name von last name li> <li>first names abbreviated li> <li>individual authors separated comma li> <li>there command front list three authors li> ul> author christopher oezbek <oezi oezi de> authorfirstabbrlastcommas layoutformatter override string format string fieldtext authorlist fixauthorfirstnamefirstcommas fieldtext true false 
635	Iso690NamesAuthors.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter author usuario iso690namesauthors layoutformatter override string format string null trim isempty stringbuilder sb stringbuilder string[] authors split parte el string en los distintos autores authors length parte el string author en varios campos según el separador string[] author authors[i] split separa apellidos nombre con coma author length caso 1: nombre apellidos parte el string author en varios campos según el separador author authors[i] split declaramos damos un valor para evitar problemas string name string surname author length caso 0: sólo un campo sb append author[0] trim touppercase else author length caso 1: nombre apellido primer campo nombre name author[0] trim segundo campo apellido surname author[1] trim touppercase añadimos los campos modificados al string sb append surname sb append sb append name else author length caso 2: nombre apellido1 apellido2 primer campo nombre name author[0] trim segundo tercer campo apellido1 apellido2 surname author[1] trim touppercase author[2] trim touppercase añadimos los campos modificados al string sb append surname sb append sb append name else author length caso 3: nombre segundonombre apellido1 apellido2 primer segundo campo nombre segundonombre name author[0] trim author[1] trim tercer cuarto campo apellido1 apellido2 surname author[2] trim touppercase author[3] trim touppercase añadimos los campos modificados al string sb append surname sb append sb append name else caso 2: apellidos nombre campo apellidos lo pasamos mayusculas string surname author[0] trim touppercase campo nombre string name author[1] trim añadimos los campos modificados al string sb append surname sb append sb append name authors length si hay mas de autores lo separamos por sb append else authors length si hay autores lo separamos por sb append sb tostring retorna el string creado de autores 
636	DOICheck.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter net sf jabref logic util doi used fix export html table doi url prepend http: doi org doi url given doicheck layoutformatter override string format string fieldtext fieldtext null null string result fieldtext result startswith result result substring doi build result map doi::geturiasasciistring orelse result 
637	HTMLChars.java	LOGIC	net sf jabref logic layout format util map net sf jabref logic layout layoutformatter net sf jabref model strings htmlunicodeconversionmaps net sf jabref model strings stringutil formatter escapes characters suitable html htmlchars layoutformatter map<string string> html chars htmlunicodeconversionmaps latex html conversion map override string format string infield string field infield replaceall \\\\ amp replace amp replaceall [\\n] <p> replace line breaks <p> replace \n <br> replace single line breaks <br> replace \\$ dollar replace \$ dollar replaceall \\$ [^\\$] \\$ \\ $1\\ replace simplify conversion stringbuilder sb stringbuilder stringbuilder currentcommand null char boolean escaped false boolean incommand false field length field charat escaped '\\' sb append '\\' escaped false else '\\' incommand close command string command currentcommand tostring string result html chars get command result null sb append command else sb append result escaped true incommand true currentcommand stringbuilder else incommand swallow brace else character isletter stringutil special command chars contains string valueof escaped false incommand sb append else currentcommand append testcharcom: currentcommand length stringutil special command chars contains currentcommand tostring indicates command type \^o \~ field length break testcharcom string command currentcommand tostring field charat string commandbody string part stringutil getpart field false part length commandbody part else commandbody field substring string result html chars get command commandbody result null sb append commandbody else sb append result incommand false escaped false else already end string? field length string command currentcommand tostring string result html chars get command found use translated version keep text parameter intact result null sb append command else sb append result else incommand sb append else character iswhitespace string command currentcommand tostring test dealing formatting command handle string tag gethtmltag command tag isempty string part stringutil getpart field true part length sb append '<' append tag append '>' append part append append tag append '>' else string argument stringutil getpart field true argument length handle common case general latex command string result html chars get command argument found use translated version keep text parameter intact result null argument isempty maybe separator \latex use command sb append command else otherwise use argument sb append argument else sb append result else end brace terminates command case constructs like \aa correct behaviour substitute evaluated command swallow brace: string result html chars get command result null command unknown print it: sb append command else sb append result else string result html chars get command result null sb append command else sb append result sb append else todo: point reached apparently command terminated strange way $\omega$ also command causes us get former issue maybe little difficult address since involves latex math mode complete latex parser maybe better ignore commands? incommand false escaped false sb tostring replace nbsp replace remaining nbsp non breaking spaces string gethtmltag string latexcommand string result switch latexcommand italic case textit case result break emphasize case emph case em result em break bold font case textbf case bf result break underline case underline result break strikeout sout standard command although actually based ulem case sout result break monospace font case texttt result tt break superscript case textsuperscript result sup break subscript case textsubscript result sub break default: break result 
638	AuthorFirstFirst.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter net sf jabref model entry authorlist author first first prints authorfirstfirst layoutformatter override string format string fieldtext authorlist fixauthorfirstnamefirst fieldtext 
639	Number.java	LOGIC	net sf jabref logic layout format net sf jabref logic exporter exportformats net sf jabref logic layout paramlayoutformatter formatter outputs sequence number current entry sequence number tied entry's position order number calls formatter number paramlayoutformatter override setargument string arg effect currently override string format string fieldtext string valueof exportformats entrynumber 
640	DateFormatter.java	LOGIC	net sf jabref logic layout format time localdate time format datetimeformatter net sf jabref logic layout paramlayoutformatter dateformatter paramlayoutformatter string formatstring yyyy mm dd use iso format default override string format string fieldtext datetimeformatter formatter datetimeformatter ofpattern formatstring localdate date localdate parse fieldtext datetimeformatter iso local date date format formatter override setargument string arg formatstring arg 
641	LatexToUnicodeFormatter.java	LOGIC	net sf jabref logic layout format net sf jabref logic l10n localization net sf jabref logic layout layoutformatter net sf jabref model cleanup formatter net sf jabref model strings latextounicode formatter converts latex character sequences equivalent unicode characters removes latex commands without handling latextounicodeformatter layoutformatter formatter latextounicode formatter latextounicode override string getname localization lang latex unicode override string getkey latex unicode override string format string infield formatter format infield override string getdescription localization lang converts latex encoding unicode characters override string getexampleinput \\\ nch 
642	FormatPagesForHTML.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter formatpagesforhtml layoutformatter override string format string field field replace 
643	AuthorAndsCommaReplacer.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter replaces and's case two authors case two authors author carlos silla authorandscommareplacer layoutformatter non javadoc see net sf jabref export layout layoutformatter#format lang string override string format string fieldtext string[] authors fieldtext split string switch authors length case 1: nothing authors[0] break case 2: authors[0] authors[1] break default: authors length stringbuilder sb stringbuilder sb append authors[i] append sb append authors[i] append append authors[i 1] sb tostring break 
644	JournalAbbreviator.java	LOGIC	net sf jabref logic layout format util objects net sf jabref logic journals journalabbreviationloader net sf jabref logic journals journalabbreviationpreferences net sf jabref logic layout layoutformatter journalabbreviator formats given text abbreviated form according journal abbreviation lists given input text abbreviated according journal abbreviation lists abbreviation input found list already abbreviated input returned unmodified usage: \format[journalabbreviator] \journal example result: phys rev lett instead physical review letters author meigel journalabbreviator layoutformatter journalabbreviationloader repostioryloader journalabbreviationpreferences journalabbreviationpreferences journalabbreviator journalabbreviationloader repostioryloader journalabbreviationpreferences journalabbreviationpreferences repostioryloader objects requirenonnull repostioryloader journalabbreviationpreferences objects requirenonnull journalabbreviationpreferences override string format string fieldtext repostioryloader getrepository journalabbreviationpreferences getisoabbreviation fieldtext orelse fieldtext 
645	AuthorLastFirstAbbrOxfordCommas.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter net sf jabref model entry authorlist <ul> <li>names given order: von last jr first li> <li>first names abbreviated li> <li>individual authors separated commas li> <li>the 'and' list three authors preceeded comma oxford comma li> ul> author mkovtun author christopher oezbek <oezi oezi de> authorlastfirstabbroxfordcommas layoutformatter override string format string fieldtext authorlist fixauthorlastnamefirstcommas fieldtext true true 
646	AuthorLF_FFAbbr.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter net sf jabref model entry authorlist authorlf ffabbr layoutformatter override string format string fieldtext authorlist al authorlist parse fieldtext al getaslastfirstfirstlastnameswithand true 
647	RisKeywords.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter net sf jabref logic util os net sf jabref model entry keyword net sf jabref model entry keywordlist riskeywords layoutformatter override string format string null stringbuilder sb stringbuilder keywordlist keywords keywordlist parse keyword keyword keywords sb append kw sb append keyword tostring keywords size sb append os newline sb tostring 
648	CreateDocBookAuthors.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter net sf jabref model entry author net sf jabref model entry authorlist net sf jabref model entry fieldname create docbook authors formatter createdocbookauthors layoutformatter xmlchars xml chars xmlchars override string format string fieldtext stringbuilder sb stringbuilder authorlist al authorlist parse fieldtext addbody sb al fieldname author sb tostring addbody stringbuilder sb authorlist al string tagname al getnumberofauthors sb append '<' append tagname append '>' author al getauthor getfirst filter first first isempty ifpresent first sb append <firstname> append createdocbookauthors xml chars format first append firstname> getvon filter von von isempty ifpresent von sb append <othername> append createdocbookauthors xml chars format von append othername> getlast filter last last isempty ifpresent last sb append <surname> append createdocbookauthors xml chars format last getjr filter jr jr isempty ifpresent jr sb append append createdocbookauthors xml chars format jr sb append surname> al getnumberofauthors sb append append tagname append >\n else sb append append tagname append '>' 
649	RisAuthors.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout paramlayoutformatter net sf jabref logic util os net sf jabref model entry authorlist risauthors paramlayoutformatter string arg override string format string null stringbuilder sb stringbuilder string[] authors authorlist fixauthorlastnamefirst split authors length sb append arg sb append sb append authors[i] authors length sb append os newline sb tostring override setargument string arg arg arg 
650	RemoveTilde.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter replace non command tilde space useful formatting latex code removetilde layoutformatter override string format string fieldtext stringbuilder result stringbuilder fieldtext length char[] fieldtext tochararray length c[i] '~' result append else result append c[i] skip next character current one backslash c[i] '\\' length result append c[i] result tostring 
651	RemoveBracketsAddComma.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter remove brackets formatter removebracketsaddcomma layoutformatter override string format string fieldtext stringbuilder builder stringbuilder fieldtext length char c: fieldtext tochararray builder append else builder append builder tostring 
652	ToUpperCase.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter convert contents upper case touppercase layoutformatter override string format string fieldtext fieldtext null null fieldtext touppercase 
653	Replace.java	LOGIC	net sf jabref logic layout format util list net sf jabref logic layout abstractparamlayoutformatter formatter regexp replacement use formatter two part argument must given parts separated comma indicate comma character use escape sequence: inserting newlines tabs arguments use \n \t respectively first part regular expression search remember commma character must preceded backslash consequently literal backslash must written pair backslashes description regular expressions found at: http: sun com j2se docs api util regex pattern html second part text replace matches instance: \format[replace \author output author field replacing occurences \format[replace \s \author output author field replacing whitespace underscores \format[replace \author output author field replacing commas semicolons replace abstractparamlayoutformatter string regex string replacewith override setargument string arg list<string> parts abstractparamlayoutformatter parseargument arg parts size todo: arguments print error message here? regex parts get replacewith parts get override string format string fieldtext fieldtext null regex null fieldtext todo: argument missing invalid print error message here? fieldtext replaceall regex replacewith 
654	LastPage.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter formatter returns last page pages field set instance pages field set formatter lastpage layoutformatter override string format string null string[] pageparts split [\\ pageparts length pageparts[1] else pageparts length pageparts[0] else 
655	CompositeFormat.java	LOGIC	net sf jabref logic layout format util arrays util collections util list net sf jabref logic layout layoutformatter layout formatter composite given formatters executed order compositeformat layoutformatter list<layoutformatter> formatters called constructor formatter nothing compositeformat formatters collections emptylist compositeformat layoutformatter first layoutformatter second formatters arrays aslist first second compositeformat layoutformatter[] formatters formatters arrays aslist formatters override string format string fieldtext string result fieldtext layoutformatter formatter formatters result formatter format result result 
656	FileLink.java	LOGIC	net sf jabref logic layout format io file io ioexception util list util optional net sf jabref logic layout paramlayoutformatter net sf jabref logic util io fileutil net sf jabref model entry filefield net sf jabref model entry parsedfilefield org apache commons logging log org apache commons logging logfactory export formatter handles file link list jabref later selecting first file link specified field filelink paramlayoutformatter log logger logfactory getlog filelink string filetype filelinkpreferences prefs filelink filelinkpreferences filelinkpreferences prefs filelinkpreferences override string format string field field null list<parsedfilefield> filelist filefield parse field string link null filetype null file type specified simply take first link filelist isempty link filelist get getlink else file type specified: parsedfilefield flentry filelist flentry getfiletype equalsignorecase filetype link flentry getlink break link null list<string> dirs need resolve file directory database's metadata available formatter therefore ugly hack export routine set global variable starting export contains database's file directory: prefs getfiledirfordatabase null dirs prefs getgenerateddirfordatabase else dirs prefs getfiledirfordatabase optional<file> fileutil expandfilename link dirs stumbled investigating https: sourceforge net tracker index php?func detail aid group id atid ispresent try get getcanonicalpath touri tostring catch ioexception logger warn problem getting path get getpath else link method called layout file specifies argument formatter use indicator file type look param arg file type override setargument string arg filetype arg 
657	NameFormatterPreferences.java	LOGIC	net sf jabref logic layout format util list nameformatterpreferences list<string> nameformatterkey list<string> nameformattervalue nameformatterpreferences list<string> nameformatterkey list<string> nameformattervalue nameformatterkey nameformatterkey nameformattervalue nameformattervalue list<string> getnameformatterkey nameformatterkey list<string> getnameformattervalue nameformattervalue 
658	IfPlural.java	LOGIC	net sf jabref logic layout format util list net sf jabref logic layout abstractparamlayoutformatter author ralmond formatter takes two arguments examines field text field text represents multiple individuals contains string field text replaced first argument otherwise replaced second example: \format[ifplural eds ed \editor expand 'eds document one editor 'ed one ifplural abstractparamlayoutformatter string pluraltext string singulartext override setargument string arg list<string> parts abstractparamlayoutformatter parseargument arg parts size todo: arguments print error message here? pluraltext parts get singulartext parts get override string format string fieldtext fieldtext null fieldtext isempty pluraltext null todo: argument missing invalid print error message here? fieldtext matches \\sand\\s pluraltext else singulartext 
659	NotFoundFormatter.java	LOGIC	net sf jabref logic layout format net sf jabref logic l10n localization net sf jabref logic layout layoutformatter formatter used signal formatter found used graceful degradation layout uses undefined format notfoundformatter layoutformatter string notfound notfoundformatter string notfound notfound notfound string getnotfound notfound override string format string fieldtext '[' localization lang formatter found: notfound fieldtext 
660	AuthorAndsReplacer.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter replaces and's case two authors case two authors author carlos silla authorandsreplacer layoutformatter non javadoc see net sf jabref export layout layoutformatter#format lang string override string format string fieldtext fieldtext null null string[] authors fieldtext split string switch authors length case 1: nothing authors[0] break case 2: authors[0] authors[1] break default: authors length stringbuilder sb stringbuilder sb append authors[i] append sb append authors[i] append append authors[i 1] sb tostring break 
661	AuthorFirstLastOxfordCommas.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter net sf jabref model entry authorlist <ul> <li>names given first name von last name li> <li>individual authors separated comma li> <li>the list three authors preceeded comma oxford comma li> ul> author mkovtun author christopher oezbek <oezi oezi de> authorfirstlastoxfordcommas layoutformatter override string format string fieldtext authorlist fixauthorfirstnamefirstcommas fieldtext false true 
662	WrapContent.java	LOGIC	net sf jabref logic layout format util list net sf jabref logic layout abstractparamlayoutformatter formatter outputs input value adding prefix postfix long input value non empty input value empty empty string output prefix postfix output case formatter requires argument containing prefix postix separated comma include comma character either use escape sequence wrapcontent abstractparamlayoutformatter string string override setargument string arg list<string> parts abstractparamlayoutformatter parseargument arg parts size parts get parts get override string format string fieldtext fieldtext null null null fieldtext fieldtext isempty else fieldtext 
663	HTMLParagraphs.java	LOGIC	net sf jabref logic layout format util regex matcher util regex pattern net sf jabref logic layout layoutformatter interpret two consecutive newlines start paragraph thus wrap paragraph html tags htmlparagraphs layoutformatter pattern lines pattern pattern compile \\n\\s \\n override string format string fieldtext fieldtext null fieldtext string trimmedfieldtext fieldtext trim trimmedfieldtext isempty trimmedfieldtext matcher htmlparagraphs lines pattern matcher trimmedfieldtext stringbuffer stringbuffer find string middle group trim middle isempty append <p>\n appendreplacement group append \n< p>\n append <p>\n appendtail append \n< p> tostring 
664	Default.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout paramlayoutformatter layout formatter puts default value given argument field empty empty means null empty string default paramlayoutformatter string defvalue override setargument string arg defvalue arg override string format string fieldtext fieldtext null fieldtext isempty defvalue fieldtext 
665	AuthorLastFirstAbbreviator.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter uses input fields author editor lastfirst format formater enables abbreviate authors name following way: ex: someone van something abbreviated someone author carlos silla author christopher oezbek <oezi oezi de> version created version fixed bug http: sourceforge net tracker index php?func detail aid group id atid authorlastfirstabbreviator layoutformatter see net sf jabref logic layout layoutformatter#format lang string override string format string fieldtext formatter duplicate authorabbreviator simply call one authorabbreviator format fieldtext 
666	NoSpaceBetweenAbbreviations.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter <p> layoutformatter removes space abbreviated first names p> <p> regular expression might also remove spaces fit pattern p> <p> example: tolkien becomes tolkien p> <p> see testcase examples <p> nospacebetweenabbreviations layoutformatter match followed spaces followed uppercase char followed include last dot capturing group replace match removing spaces see net sf jabref export layout layoutformatter#format lang string override string format string fieldtext fieldtext replaceall \\ \\s \\p lu \\ \\ $1 
667	RTFChars.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter net sf jabref logic layout stringint net sf jabref logic util strings rtfcharmap net sf jabref model strings stringutil org apache commons logging log org apache commons logging logfactory transform latex string rtf method will: remove latex command sequences replace latex special chars rtf aquivalents replace emph textit textbf rtf replacements take special care save unicode characters correctly replace \emdash \endash rtfchars layoutformatter log logger logfactory getlog layoutformatter rtfcharmap rtf chars rtfcharmap override string format string field stringbuilder sb stringbuilder stringbuilder currentcommand null boolean escaped false boolean incommand false field length char field charat escaped '\\' sb append '\\' escaped false else '\\' escaped true incommand true currentcommand stringbuilder else incommand swallow brace else character isletter stringutil special command chars contains string valueof escaped false incommand else command keep letter currentcommand append testcharcom: currentcommand length stringutil special command chars contains currentcommand tostring indicates command type \^o \~ field length break testcharcom string command currentcommand tostring field charat string combody stringint part getpart field true part combody part else combody field substring string result rtf chars get command combody result null sb append result incommand false escaped false else sb append else testcontent: incommand character iswhitespace sb append else assert incommand first test braces may part latex command: currentcommand length seen something like probably start command like aa swallow brace continue else currentcommand length seems end command like aa look up: string command currentcommand tostring string result rtf chars get command result null sb append result incommand false escaped false continue look italics etc first check already end string field length break testcontent currentcommand length string command currentcommand tostring test dealing italics bold command handle em equals command emph equals command textit equals command equals command stringint part getpart field part sb append \\i append part append else textbf equals command bf equals command stringint part getpart field part sb append \\b append part append else logger info unknown command command command separated content add space else sb append incommand false escaped false char[] chars sb tostring tochararray sb stringbuilder char chars sb append else sb append \\u append long append transformspecialcharacter long sb tostring replace \\emdash replace \\endash replace `` \\ldblquote replace '' \\rdblquote param text text extract part param position start param commandnestedinbraces true command nested braces \emph xy false spaces sued \emph xy tuple number added characters extracted part stringint getpart string text boolean commandnestedinbraces char count icount stringbuilder part stringbuilder loop: count icount text length icount text charat icount switch case ': count break case ': count break case ': commandnestedinbraces case space terminates loop break loop break default: break part append string res part tostring wrong end removed format res stringint format res part length method transforms unicode special character base character: param long returns basic character given unicode string transformspecialcharacter long ae ae oe oe th ss 
668	AuthorFirstAbbrLastOxfordCommas.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter net sf jabref model entry authorlist <ul> <li>names given first name von last name li> <li>first names abbreviated li> <li>individual authors separated comma li> <li>the list three authors preceeded comma oxford comma li> ul> author mkovtun author christopher oezbek <oezi oezi de> authorfirstabbrlastoxfordcommas layoutformatter override string format string fieldtext authorlist fixauthorfirstnamefirstcommas fieldtext true true 
669	Iso690FormatDate.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter author usuario iso690formatdate layoutformatter override string format string null trim isempty stringbuilder sb stringbuilder string[] date split de parte el string en los distintos campos de la fecha date length sólo pone el año sb append date[0] trim else date length primer campo mes segundo campo año cambiamos al formato año mes sb append date[1] trim append append date[0] trim else date length primer campo día segundo campo mes tercer campo año cambiamos al formato año mes día sb append date[2] trim append append date[1] trim append append date[0] trim sb tostring retorna el string creado con la fecha 
670	XMLChars.java	LOGIC	net sf jabref logic layout format util hashmap util map net sf jabref logic layout layoutformatter net sf jabref logic util strings xmlcharsmap changes \^o \^ xmlchars layoutformatter xmlcharsmap xml chars xmlcharsmap map<string string> ascii xml chars hashmap<> boolean[] forcereplace ascii xml chars put lt ascii xml chars put quot ascii xml chars put gt override string format string fieldtext fieldtext null fieldtext string formattedfieldtext firstformat fieldtext map entry<string string> entry xml chars entryset string entry getkey string repl entry getvalue repl null formattedfieldtext formattedfieldtext replaceall repl restformat formattedfieldtext string firstformat string replaceall \\\\ #x0026 replace #x2013 string restformat string toformat string fieldtext toformat replace replace copy paste problems often occuring abstracts copied pdf and: accepted bibtex files forced catch cases forcereplace null forcereplace boolean[126] forcereplace[i] true forcereplace[32] false int[] forcereplace[i] true stringbuilder buffer stringbuilder fieldtext length fieldtext length code fieldtext charat checking case character already escaped push buffer keep going next char code fieldtext charat buffer append code fieldtext charat todo: check whether correct whether rather code forcereplace[code] buffer append append code append else buffer append char code fieldtext buffer tostring use common abbreviations instead code map entry<string string> entry ascii xml chars entryset fieldtext fieldtext replace entry getkey entry getvalue fieldtext 
671	FormatPagesForXML.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter formatpagesforxml layoutformatter override string format string field field replace #x2013 
672	Authors.java	LOGIC	net sf jabref logic layout format util arraylist util list util regex pattern net sf jabref logic layout abstractparamlayoutformatter net sf jabref model entry author net sf jabref model entry authorlist versatile author name formatter takes arguments control formatting style authors abstractparamlayoutformatter authorsort [firstfirst lastfirst lastfirstfirstfirst] authorabbr [fullname initials firstinitial middleinitial initialsnospace lastname] authorsep [comma colon semicolon sep <string>] authorlastsep [and comma colon semicolon amp oxford lastsep <string>] authorpunc [fullpunc nopunc nocomma noperiod] authornumber [inf <number>] authornumberetal <number>] etalstring et al etal <string>] list<string> author order arraylist<> list<string> author abrv arraylist<> list<string> author punc arraylist<> list<string> separators arraylist<> list<string> last separators arraylist<> pattern number pattern pattern compile [0 9] authors author order add firstfirst authors author order add lastfirst authors author order add lastfirstfirstfirst authors author abrv add fullname authors author abrv add initials authors author abrv add firstinitial authors author abrv add middleinitial authors author abrv add lastname authors author abrv add initialsnospace authors author punc add fullpunc authors author punc add nopunc authors author punc add nocomma authors author punc add noperiod authors separators add comma authors separators add authors separators add colon authors separators add semicolon authors separators add sep authors last separators add authors last separators add colon authors last separators add semicolon authors last separators add amp authors last separators add oxford authors last separators add lastsep first first last first lf ff string comma string amp string colon string semicolon string string oxford flmode boolean abbreviate true boolean firstinitialonly boolean middleinitial boolean lastnameonly boolean abbrdots true boolean abbrspaces true boolean setsep boolean setmaxauthors maxauthors authornumberetal string lastfirstseparator string separator authors comma string lastseparator authors string etalstring et al override setargument string arg list<string> parts abstractparamlayoutformatter parseargument arg string part parts index part indexof index string key part substring index string value part substring index handleargument key value else handleargument part handleargument string key string value authors author order contains key trim tolowercase comp key firstfirst flmode authors first first else comp key lastfirst flmode authors last first else comp key lastfirstfirstfirst flmode authors lf ff else authors author abrv contains key trim tolowercase comp key fullname abbreviate false else comp key initials abbreviate true firstinitialonly false else comp key firstinitial abbreviate true firstinitialonly true else comp key middleinitial abbreviate true middleinitial true else comp key lastname lastnameonly true else comp key initialsnospace abbreviate true abbrspaces false else authors author punc contains key trim tolowercase comp key fullpunc abbrdots true lastfirstseparator else comp key nopunc abbrdots false lastfirstseparator else comp key nocomma abbrdots true lastfirstseparator else comp key noperiod abbrdots false lastfirstseparator authorsep [comma colon semicolon sep <string>] authorlastsep [and comma colon semicolon amp oxford lastsep <string>] else authors separators contains key trim tolowercase authors last separators contains key trim tolowercase comp key comma setsep lastseparator authors comma else separator authors comma setsep true else comp key setsep lastseparator authors else separator authors setsep true else comp key colon setsep lastseparator authors colon else separator authors colon setsep true else comp key semicolon setsep lastseparator authors semicolon else separator authors semicolon setsep true else comp key oxford lastseparator authors oxford else comp key amp lastseparator authors amp else comp key sep value isempty separator value setsep true else comp key lastsep value isempty lastseparator value else etal equalsignorecase key trim etalstring value else authors number pattern matcher key trim matches number: num integer parseint key trim setmaxauthors authornumberetal num else maxauthors num setmaxauthors true check case insensitive equality two strings removing white space beginning end first string param one first string whitespace trimmed param two second string true strings deemed equal boolean comp string one string two one trim equalsignorecase two override string format string fieldtext fieldtext null stringbuilder sb stringbuilder authorlist al authorlist parse fieldtext maxauthors al getnumberofauthors maxauthors al getnumberofauthors author al getauthor addsinglename sb flmode authors first first flmode authors lf ff al getnumberofauthors sb append separator else al getnumberofauthors sb append lastseparator else math min al getnumberofauthors authornumberetal sb append separator addsinglename sb al getauthor flmode authors first first sb append etalstring sb tostring addsinglename stringbuilder sb author boolean firstfirst stringbuilder lastnamesb stringbuilder getvon filter von von isempty ifpresent von lastnamesb append von append getlast ifpresent lastnamesb::append string jrseparator getjr filter jr jr isempty ifpresent jr lastnamesb append jrseparator append jr string firstnameresult getfirst ispresent abbreviate firstnameresult getfirstabbr orelse firstinitialonly firstnameresult length firstnameresult firstnameresult substring else middleinitial string abbr firstnameresult firstnameresult getfirst get index firstnameresult indexof system println firstnamepart system println index index firstnameresult firstnameresult substring index abbr length firstnameresult firstnameresult abbr substring abbrdots firstnameresult firstnameresult replace abbrspaces firstnameresult firstnameresult replace else firstnameresult getfirst get lastnameonly firstnameresult isempty sb append lastnamesb else firstfirst string firstfirstseparator sb append firstnameresult append firstfirstseparator sb append lastnamesb else sb append lastnamesb append lastfirstseparator append firstnameresult 
673	AuthorLastFirstAbbrCommas.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter net sf jabref model entry authorlist <ul> <li>names given order: von last jr first li> <li>first names abbreviated li> <li>individual authors separated commas li> <li>there comma 'and' end list three authors< li> ul> author mkovtun author christopher oezbek <oezi oezi de> authorlastfirstabbrcommas layoutformatter override string format string fieldtext authorlist fixauthorlastnamefirstcommas fieldtext true false 
674	CurrentDate.java	LOGIC	net sf jabref logic layout format time zoneddatetime time format datetimeformatter net sf jabref logic layout layoutformatter inserts current date time database exported <p>if fieldtext given must valid link datetimeformatter pattern none given format pattern <code>yyyy mm dd hh:mm:ss z< code> follows iso reason: <a href https: xkcd com >https: xkcd com a> p> author andreas sf rudert home dot de currentdate layoutformatter default time stamp follows iso reason: https: xkcd com string default format yyyy mm dd hh:mm:ss non javadoc see net sf jabref export layout layoutformatter#format lang string override string format string fieldtext string format currentdate default format fieldtext null fieldtext trim isempty format fieldtext zoneddatetime format datetimeformatter ofpattern format 
675	AuthorLastFirstOxfordCommas.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter net sf jabref model entry authorlist <ul> <li>names given order: von last jr first li> <li>first names abbreviated li> <li>individual authors separated commas li> <li>the 'and' list three authors preceeded comma oxford comma li> author mkovtun author christopher oezbek <oezi oezi de> authorlastfirstoxfordcommas layoutformatter override string format string fieldtext authorlist fixauthorlastnamefirstcommas fieldtext false true 
676	FileLinkPreferences.java	LOGIC	net sf jabref logic layout format util list filelinkpreferences list<string> generateddirfordatabase list<string> filedirfordatabase filelinkpreferences list<string> generateddirfordatabase list<string> filedirfordatabase generateddirfordatabase generateddirfordatabase filedirfordatabase filedirfordatabase list<string> getgenerateddirfordatabase generateddirfordatabase list<string> getfiledirfordatabase filedirfordatabase 
677	RemoveWhitespace.java	LOGIC	net sf jabref logic layout format net sf jabref logic layout layoutformatter remove non printable character formatter based removebrackets revision mortenalver removewhitespace layoutformatter override string format string fieldentry fieldentry null null stringbuilder sb stringbuilder fieldentry length char fieldentry tochararray character iswhitespace character isspacechar sb append sb tostring 
678	LayoutEntry.java	LOGIC	net sf jabref logic layout io file nio charset charset util arraylist util arrays util collections util list util map util optional net sf jabref logic formatter bibtexfields htmltolatexformatter net sf jabref logic formatter bibtexfields unicodetolatexformatter net sf jabref logic layout format authorabbreviator net sf jabref logic layout format authorandscommareplacer net sf jabref logic layout format authorandsreplacer net sf jabref logic layout format authorfirstabbrlastcommas net sf jabref logic layout format authorfirstabbrlastoxfordcommas net sf jabref logic layout format authorfirstfirst net sf jabref logic layout format authorfirstfirstcommas net sf jabref logic layout format authorfirstlastcommas net sf jabref logic layout format authorfirstlastoxfordcommas net sf jabref logic layout format authorlf ff net sf jabref logic layout format authorlf ffabbr net sf jabref logic layout format authorlastfirst net sf jabref logic layout format authorlastfirstabbrcommas net sf jabref logic layout format authorlastfirstabbroxfordcommas net sf jabref logic layout format authorlastfirstabbreviator net sf jabref logic layout format authorlastfirstcommas net sf jabref logic layout format authorlastfirstoxfordcommas net sf jabref logic layout format authornatbib net sf jabref logic layout format authororgsci net sf jabref logic layout format authors net sf jabref logic layout format compositeformat net sf jabref logic layout format createbibordfauthors net sf jabref logic layout format createdocbookauthors net sf jabref logic layout format currentdate net sf jabref logic layout format doicheck net sf jabref logic layout format doistrip net sf jabref logic layout format dateformatter net sf jabref logic layout format default net sf jabref logic layout format entrytypeformatter net sf jabref logic layout format filelink net sf jabref logic layout format firstpage net sf jabref logic layout format formatpagesforhtml net sf jabref logic layout format formatpagesforxml net sf jabref logic layout format getopenofficetype net sf jabref logic layout format htmlchars net sf jabref logic layout format htmlparagraphs net sf jabref logic layout format ifplural net sf jabref logic layout format iso690formatdate net sf jabref logic layout format iso690namesauthors net sf jabref logic layout format journalabbreviator net sf jabref logic layout format lastpage net sf jabref logic layout format latextounicodeformatter net sf jabref logic layout format nameformatter net sf jabref logic layout format nospacebetweenabbreviations net sf jabref logic layout format notfoundformatter net sf jabref logic layout format number net sf jabref logic layout format ordinal net sf jabref logic layout format rtfchars net sf jabref logic layout format removebrackets net sf jabref logic layout format removebracketsaddcomma net sf jabref logic layout format removelatexcommandsformatter net sf jabref logic layout format removetilde net sf jabref logic layout format removewhitespace net sf jabref logic layout format replace net sf jabref logic layout format risauthors net sf jabref logic layout format riskeywords net sf jabref logic layout format rismonth net sf jabref logic layout format tolowercase net sf jabref logic layout format touppercase net sf jabref logic layout format wrapcontent net sf jabref logic layout format wrapfilelinks net sf jabref logic layout format xmlchars net sf jabref logic openoffice oopreformatter net sf jabref model database bibdatabase net sf jabref model database bibdatabasecontext net sf jabref model entry bibentry net sf jabref model strings stringutil org apache commons logging log org apache commons logging logfactory layoutentry log logger logfactory getlog layoutentry list<layoutformatter> option formatter run formatters: layoutformatter postformatter string text list<layoutentry> layoutentries type list<string> invalidformatter arraylist<> layoutformatterpreferences prefs layoutentry stringint si layoutformatterpreferences prefs prefs prefs type si switch type case layouthelper layout text: text si break case layouthelper simple field: text si trim break case layouthelper option field: dooptionfield si break case layouthelper field start: case layouthelper field end: default: break layoutentry list<stringint> parsedentries layouttype layoutformatterpreferences prefs prefs prefs list<layoutentry> tmpentries arraylist<> string blockstart parsedentries get string blockend parsedentries get parsedentries size blockstart equals blockend logger warn field start end entry must equal type layouttype text blockend list<stringint> blockentries null stringint parsedentry parsedentries sublist parsedentries size switch parsedentry case layouthelper field start: case layouthelper group start: blockentries arraylist<> blockstart parsedentry break case layouthelper field end: case layouthelper group end: blockstart equals parsedentry blockentries add parsedentry grouptype parsedentry layouthelper group end layouthelper group start layouthelper field start layoutentry le layoutentry blockentries grouptype prefs tmpentries add le blockentries null else logger warn nested field entries implemented break case layouthelper layout text: case layouthelper simple field: case layouthelper option field: default: nothing break blockentries null tmpentries add layoutentry parsedentry prefs else blockentries add parsedentry layoutentries arraylist<> tmpentries layoutentry layoutentry layoutentries invalidformatter addall layoutentry getinvalidformatters setpostformatter layoutformatter formatter postformatter formatter string dolayout bibentry bibtex bibdatabase database switch type case layouthelper layout text: text case layouthelper simple field: string value bibtex getresolvedfieldoralias text database orelse post formatter set call it: postformatter null value postformatter format value value case layouthelper field start: case layouthelper group start: handlefieldorgroupstart bibtex database case layouthelper field end: case layouthelper group end: case layouthelper option field: handleoptionfield bibtex database case layouthelper encoding name: printing encoding name supported entry layouts begin end layouts prevents breakage users depend field called encoding simply field instead: bibtex getresolvedfieldoralias encoding database orelse null default: string handleoptionfield bibentry bibtex bibdatabase database string fieldentry bibentry type header equals text fieldentry bibtex gettype else bibentry obsolete type header equals text logger warn bibentry obsolete type header obsolete name entry type please update layout use bibentry type header instead fieldentry bibtex gettype else changed section begin arudert resolve field recognized leading backslash text fieldentry text startswith \\ bibtex getresolvedfieldoralias text substring database orelse bibdatabase gettext text database changed section end arudert option null layoutformatter anoption option fieldentry anoption format fieldentry post formatter set call it: postformatter null fieldentry postformatter format fieldentry fieldentry string handlefieldorgroupstart bibentry bibtex bibdatabase database optional<string> field type layouthelper group start field bibtex getresolvedfieldoralias text database else text matches \\ split strings along formatter string[] parts text split \\s \\ \\s field optional empty string part parts field bibtex getresolvedfieldoralias part database field ispresent break else split strings along formatter string[] parts text split \\s \\ \\s field optional empty string part parts field bibtex getresolvedfieldoralias part database field ispresent break field ispresent type layouthelper group start field get equalsignorecase layouthelper getcurrentgroup null else type layouthelper group start layouthelper setcurrentgroup field get stringbuilder sb stringbuilder string fieldtext boolean previousskipped false layoutentries size fieldtext layoutentries get dolayout bibtex database fieldtext null layoutentries size layoutentries get dolayout bibtex database trim isempty previousskipped true continue else previous skipped remove leading line breaks previousskipped eol eol fieldtext length fieldtext charat eol '\n' fieldtext charat eol '\r' eol eol fieldtext length sb append fieldtext substring eol else sb append fieldtext previousskipped false sb tostring layout general formatters bibtex entry fields param databasecontext bibtex database string dolayout bibdatabasecontext databasecontext charset encoding switch type case layouthelper layout text: text case layouthelper simple field: throw unsupportedoperationexception bibtex entry fields allowed begin end layout case layouthelper field start: case layouthelper group start: throw unsupportedoperationexception field group starts allowed begin end layout case layouthelper field end: case layouthelper group end: throw unsupportedoperationexception field group ends allowed begin end layout case layouthelper option field: string field bibdatabase gettext text databasecontext getdatabase option null layoutformatter anoption option field anoption format field post formatter set call it: postformatter null field postformatter format field field case layouthelper encoding name: encoding displayname case layouthelper filename: databasecontext getdatabasefile map file::getname orelse case layouthelper filepath: databasecontext getdatabasefile map file::getpath orelse default: break dooptionfield string list<string> stringutil tokenizetolist \n size text get else text get trim option getoptionallayout get see undefined formatter: layoutformatter anoption option anoption instanceof notfoundformatter string notfound notfoundformatter anoption getnotfound invalidformatter add notfound layoutformatter getlayoutformatterbyname string name throws exception switch name case htmltolatexformatter backward compatibility case htmltolatex htmltolatexformatter case unicodetolatexformatter backward compatibility case unicodetolatex unicodetolatexformatter case oopreformatter oopreformatter case authorabbreviator authorabbreviator case authorandscommareplacer authorandscommareplacer case authorandsreplacer authorandsreplacer case authorfirstabbrlastcommas authorfirstabbrlastcommas case authorfirstabbrlastoxfordcommas authorfirstabbrlastoxfordcommas case authorfirstfirst authorfirstfirst case authorfirstfirstcommas authorfirstfirstcommas case authorfirstlastcommas authorfirstlastcommas case authorfirstlastoxfordcommas authorfirstlastoxfordcommas case authorlastfirst authorlastfirst case authorlastfirstabbrcommas authorlastfirstabbrcommas case authorlastfirstabbreviator authorlastfirstabbreviator case authorlastfirstabbroxfordcommas authorlastfirstabbroxfordcommas case authorlastfirstcommas authorlastfirstcommas case authorlastfirstoxfordcommas authorlastfirstoxfordcommas case authorlf ff authorlf ff case authorlf ffabbr authorlf ffabbr case authornatbib authornatbib case authororgsci authororgsci case compositeformat compositeformat case createbibordfauthors createbibordfauthors case createdocbookauthors createdocbookauthors case currentdate currentdate case dateformatter dateformatter case doicheck doicheck case doistrip doistrip case entrytypeformatter entrytypeformatter case firstpage firstpage case formatpagesforhtml formatpagesforhtml case formatpagesforxml formatpagesforxml case getopenofficetype getopenofficetype case htmlchars htmlchars case htmlparagraphs htmlparagraphs case iso690formatdate iso690formatdate case iso690namesauthors iso690namesauthors case journalabbreviator journalabbreviator prefs getjournalabbreviationloader prefs getjournalabbreviationpreferences case lastpage lastpage case formatchars backward compatibility case latextounicode latextounicodeformatter case nameformatter nameformatter case nospacebetweenabbreviations nospacebetweenabbreviations case ordinal ordinal case removebrackets removebrackets case removebracketsaddcomma removebracketsaddcomma case removelatexcommands removelatexcommandsformatter case removetilde removetilde case removewhitespace removewhitespace case riskeywords riskeywords case rismonth rismonth case rtfchars rtfchars case tolowercase tolowercase case touppercase touppercase case xmlchars xmlchars case default default case filelink filelink prefs getfilelinkpreferences case number number case risauthors risauthors case authors authors case ifplural ifplural case replace replace case wrapcontent wrapcontent case wrapfilelinks wrapfilelinks prefs getfilelinkpreferences default: notfoundformatter name array layoutformatters found given formattername string order appearance list<layoutformatter> getoptionallayout string formattername list<list<string>> formatterstrings parsemethodscalls formattername list<layoutformatter> results arraylist<> formatterstrings size map<string string> usernameformatter nameformatter getnameformatters prefs getnameformatterpreferences list<string> strings formatterstrings string nameformattername strings get trim check name formatter defined export filter: optional<string> contents prefs getcustomexportnameformatter nameformattername contents ispresent nameformatter nf nameformatter nf setparameter contents get results add nf continue try load formatters formatter folder try layoutformatter getlayoutformatterbyname nameformattername formatter accepts argument check one set so: instanceof paramlayoutformatter strings size paramlayoutformatter setargument strings get results add continue catch exception ex logger info problem formatter ex check whether user defined formatter string formatterparameter usernameformatter get nameformattername formatterparameter null nameformatter nf nameformatter nf setparameter formatterparameter results add nf continue results add notfoundformatter nameformattername results list<string> getinvalidformatters invalidformatter list<list<string>> parsemethodscalls string calls list<list<string>> result arraylist<> char[] calls tochararray length start character isjavaidentifierstart c[i] length character isjavaidentifierpart c[i] c[i] length c[i] string method calls substring start skip brace bracelevel length c[i] parameter format xxx skip startparam boolean escaped false length escaped c[i] c[i 1] bracelevel c[i] '\\' escaped escaped else c[i] bracelevel else c[i] bracelevel else escaped false string param calls substring startparam result add arrays aslist method param else parameter format xxx startparam length c[i] bracelevel c[i] bracelevel else c[i] bracelevel string param calls substring startparam result add arrays aslist method param else incorrectly terminated open brace result add collections singletonlist method else string method calls substring start result add collections singletonlist method result 
679	ProxyRegisterer.java	LOGIC	net sf jabref logic net proxyregisterer register proxypreferences proxyprefs proxyprefs isuseproxy networktab ensures proxyhostname proxyport null system setproperty http proxyhost proxyprefs gethostname system setproperty http proxyport proxyprefs getport networktab ensures proxyusername proxypassword neither null empty proxyprefs isuseauthentication system setproperty http proxyuser proxyprefs getusername system setproperty http proxypassword proxyprefs getpassword else following two lines signal system proxy settings used: system setproperty net usesystemproxies true system setproperty proxyset true 
680	URLDownload.java	LOGIC	net sf jabref logic net io bufferedinputstream io bufferedreader io dataoutputstream io file io ioexception io inputstream io inputstreamreader io reader io stringwriter io writer net cookiehandler net cookiemanager net cookiepolicy net httpcookie net httpurlconnection net malformedurlexception net urisyntaxexception net url net urlconnection nio charset charset nio file files nio file path nio file standardcopyoption util collections util hashmap util list util map net sf jabref logic util io fileutil org apache commons logging log org apache commons logging logfactory url download string <p> example: urldownload dl urldownload url string content dl downloadtostring encoding dl downloadtofile file available file string contenttype dl determinemimetype call method creates http connection nothing cached author erik putrycz erik putrycz nrc cnrc gc ca author simon harrer urldownload log logger logfactory getlog urldownload string user agent jabref url source map<string string> parameters hashmap<> string postdata urldownload createurldownloadwithbrowseruseragent string address throws malformedurlexception urldownload downloader urldownload address downloader addparameters user agent mozilla windows nt rv:31 gecko firefox downloader param address url download throws malformedurlexception protocol specified address unknown protocol found urldownload string address throws malformedurlexception url address param source url download urldownload url source source source addparameters user agent user agent url getsource source string determinemimetype throws ioexception cause real performance issue underlying http tcp connection reused urlconnection urlconnection openconnection try urlconnection getcontenttype finally try urlconnection getinputstream close catch ioexception ignored ignored addparameters string key string value parameters put key value setpostdata string postdata postdata null postdata postdata urlconnection openconnection throws ioexception httpurlconnection connection httpurlconnection source openconnection map entry<string string> entry parameters entryset connection setrequestproperty entry getkey entry getvalue postdata isempty connection setdooutput true try dataoutputstream wr dataoutputstream connection getoutputstream wr writebytes postdata normally 3xx redirect status connection getresponsecode status httpurlconnection http ok status httpurlconnection http moved temp status httpurlconnection http moved perm status httpurlconnection http see get redirect url location header field string newurl connection getheaderfield location open connnection connection httpurlconnection urldownload newurl openconnection network o: get read returned headers connection connect connection downloaded string throws ioexception string downloadtostring charset encoding throws ioexception try inputstream input bufferedinputstream openconnection getinputstream writer output stringwriter copy input output encoding output tostring catch ioexception logger warn could copy input throw list<httpcookie> getcookiefromurl throws ioexception cookiemanager cookiemanager cookiemanager cookiehandler setdefault cookiemanager cookiemanager setcookiepolicy cookiepolicy accept urlconnection con openconnection con getheaderfields must read store cookie try cookiemanager getcookiestore get source touri catch urisyntaxexception logger error unable convert download url uri collections emptylist copy inputstream writer charset encoding throws ioexception inputstream monitoredinputstream monitorinputstream reader inputstreamreader monitoredinputstream encoding try bufferedreader read bufferedreader string line line read readline null write line write \n deprecated use link #downloadtofile path deprecated downloadtofile file destination throws ioexception downloadtofile destination topath downloadtofile path destination throws ioexception try inputstream input monitorinputstream bufferedinputstream openconnection getinputstream files copy input destination standardcopyoption replace existing catch ioexception logger warn could copy input throw downloads web resource temporary file path downloaded file path downloadtotemporaryfile throws ioexception determine file name extension source url string sourcepath source getpath take everything last name extension string filenamewithextension sourcepath substring sourcepath lastindexof string filename fileutil getfilename filenamewithextension string extension fileutil getfileextension filenamewithextension orelse tmp create temporary file download path file files createtempfile filename extension downloadtofile file file inputstream monitorinputstream inputstream override string tostring urldownload source source 
681	URLUtil.java	LOGIC	net sf jabref logic net io unsupportedencodingexception net malformedurlexception net url net urldecoder nio charset standardcharsets util objects urlutil string url exp https? ftp detect google search url string google search exp ^https?: ?:www\\ ?google\\ [\\ z] url cleans urls returned google search <example> copy links search results google links enriched search meta data https: www google de url?sa rct esrc source web cd cad rja uact url http 3a 2f 2fwww inrg csie ntu edu tw 2falgorithm2014 2fhomework 2fwagner pdf ei difevyhkdywqu5w0j6gd usg afqjcnfl638rl5kvta1jimwlyb4cpszidg sig2 0hssmw9xzxl3hjwwecjtog example> param url google search url string cleaned google url code url search url detected string cleangooglesearchurl string url objects requirenonnull url url matches google search exp url extract destination url try url searchurl url url url parameters string query searchurl getquery parameters query null url extract url parameter string[] pairs query split string pair: pairs clean url decoded value url parameter pair startswith url string value pair substring pair indexof pair length string decode urldecoder decode value standardcharsets utf name url? decode matches url exp decode url catch unsupportedencodingexception malformedurlexception url checks whether given string url currently checks protocol string param url string check url true <c>url< c> contains valid url boolean isurl string url url contains 
682	ProxyPreferences.java	LOGIC	net sf jabref logic net util objects proxypreferences boolean useproxy string hostname string port boolean useauthentication string username string password proxypreferences boolean useproxy string hostname string port boolean useauthentication string username string password useproxy useproxy hostname hostname port port useauthentication useauthentication username username password password boolean isuseproxy useproxy string gethostname hostname string getport port boolean isuseauthentication useauthentication string getusername username string getpassword password override hashcode objects hash hostname password port useauthentication useproxy username override boolean equals object obj obj true obj instanceof proxypreferences proxypreferences proxypreferences obj hostname null hostname null false else hostname equals hostname false password null password null false else password equals password false port null port null false else port equals port false useauthentication null useauthentication null false else useauthentication equals useauthentication false useproxy null useproxy null false else useproxy equals useproxy false username null username null false else username equals username false true false 
683	ProxyAuthenticator.java	LOGIC	net sf jabref logic net net authenticator net passwordauthentication proxyauthenticator authenticator override passwordauthentication getpasswordauthentication getrequestortype requestortype proxy string prot getrequestingprotocol tolowercase string host system getproperty prot proxyhost string port system getproperty prot proxyport string user system getproperty prot proxyuser string password system getproperty prot proxypassword getrequestinghost equalsignorecase host integer parseint port getrequestingport passwordauthentication user password tochararray null 
684	GroupsParser.java	LOGIC	net sf jabref logic groups util list net sf jabref logic importer parseexception net sf jabref logic l10n localization net sf jabref logic util strings quotedstringtokenizer net sf jabref model groups abstractgroup net sf jabref model groups allentriesgroup net sf jabref model groups explicitgroup net sf jabref model groups grouphierarchytype net sf jabref model groups grouptreenode net sf jabref model groups keywordgroup net sf jabref model groups searchgroup net sf jabref model strings stringutil converts string representation groups parsed link grouptreenode groupsparser grouptreenode importgroups list<string> ordereddata character keywordseparator throws parseexception try grouptreenode cursor null grouptreenode root null string string ordereddata allows read databases modified bibdesk string string trim string isempty continue spaceindex string indexof spaceindex throw parseexception expected string contain whitespace level integer parseint string substring spaceindex abstractgroup group groupsparser fromstring string substring spaceindex keywordseparator grouptreenode newnode grouptreenode fromgroup group cursor null create root cursor newnode root cursor else insert desired location level cursor getlevel cursor cursor getparent get cursor addchild newnode cursor newnode root catch parseexception throw parseexception localization lang group tree could parsed save bibtex database groups lost create group instance textual representation param result group's tostring method instance encoded group throws parseexception error occurred group could created due malformed regular expression abstractgroup fromstring string character keywordseparator throws parseexception startswith keywordgroup id groupsparser keywordgroupfromstring keywordseparator startswith allentriesgroup id groupsparser allentriesgroupfromstring startswith searchgroup id groupsparser searchgroupfromstring startswith explicitgroup id groupsparser explicitgroupfromstring keywordseparator null unknown group parses recreates keywordgroup param string representation obtained keywordgroup tostring abstractgroup keywordgroupfromstring string character keywordseparator throws parseexception startswith keywordgroup id throw illegalargumentexception keywordgroup cannot created quotedstringtokenizer tok quotedstringtokenizer substring keywordgroup id length abstractgroup separator abstractgroup quote char string name tok nexttoken context integer parseint tok nexttoken string field tok nexttoken string expression tok nexttoken boolean casesensitive integer parseint tok nexttoken boolean regexp integer parseint tok nexttoken keywordgroup stringutil unquote name abstractgroup quote char stringutil unquote field abstractgroup quote char stringutil unquote expression abstractgroup quote char casesensitive regexp grouphierarchytype getbynumber context keywordseparator explicitgroup explicitgroupfromstring string character keywordseparator throws parseexception startswith explicitgroup id throw illegalargumentexception explicitgroup cannot created quotedstringtokenizer tok quotedstringtokenizer substring explicitgroup id length abstractgroup separator abstractgroup quote char string name tok nexttoken context integer parseint tok nexttoken explicitgroup newgroup explicitgroup name grouphierarchytype getbynumber context keywordseparator groupsparser addlegacyentrykeys tok newgroup newgroup called created fromstring jabref used store entries explicit group serialization explicitgroup:groupname\ 0\ key1\ key2\ method exists backwards compatibility addlegacyentrykeys quotedstringtokenizer tok explicitgroup group tok hasmoretokens string key stringutil unquote tok nexttoken abstractgroup quote char group addlegacyentrykey key abstractgroup allentriesgroupfromstring string startswith allentriesgroup id throw illegalargumentexception allentriesgroup cannot created allentriesgroup localization lang entries parses recreates searchgroup param string representation obtained searchgroup tostring null incompatible abstractgroup searchgroupfromstring string startswith searchgroup id throw illegalargumentexception searchgroup cannot created quotedstringtokenizer tok quotedstringtokenizer substring searchgroup id length abstractgroup separator abstractgroup quote char string name tok nexttoken context integer parseint tok nexttoken string expression tok nexttoken boolean casesensitive integer parseint tok nexttoken boolean regexp integer parseint tok nexttoken version contained additional booleans specify search fields ignored fields always searched searchgroup stringutil unquote name abstractgroup quote char stringutil unquote expression abstractgroup quote char casesensitive regexp grouphierarchytype getbynumber context 
685	GroupDescriptions.java	LOGIC	net sf jabref logic groups net sf jabref logic l10n localization net sf jabref model groups explicitgroup net sf jabref model groups keywordgroup net sf jabref model groups searchgroup net sf jabref model strings stringutil groupdescriptions string getdescriptionforpreview string field string expr boolean casesensitive boolean regexp string header regexp localization lang group contains entries whose <b> 0< b> field contains regular expression <b> 1< b> field stringutil quoteforhtml expr localization lang group contains entries whose <b> 0< b> field contains keyword <b> 1< b> field stringutil quoteforhtml expr string casesensitivetext casesensitive localization lang case sensitive localization lang case insensitive string footer regexp localization lang entries cannot manually assigned removed group localization lang additionally entries whose <b> 0< b> field contain <b> 1< b> assigned manually group selecting using either drag drop context menu process adds term <b> 1< b> entry's <b> 0< b> field entries removed manually group selecting using context menu process removes term <b> 1< b> entry's <b> 0< b> field field stringutil quoteforhtml expr string format header casesensitivetext footer string getshortdescriptionkeywordgroup keywordgroup keywordgroup boolean showdynamic stringbuilder sb stringbuilder sb append <b> showdynamic sb append <i> append stringutil quoteforhtml keywordgroup getname append i> else sb append stringutil quoteforhtml keywordgroup getname sb append b> sb append localization lang dynamic group sb append <b> sb append keywordgroup getsearchfield sb append b> sb append localization lang contains sb append <b> sb append stringutil quoteforhtml keywordgroup getsearchexpression sb append b> switch keywordgroup gethierarchicalcontext case including: sb append append localization lang includes subgroups break case refining: sb append append localization lang refines supergroup break default: break sb tostring string getdescriptionforpreview localization lang group contains entries based manual assignment entries assigned group selecting using either drag drop context menu entries removed group selecting using context menu string getshortdescriptionexplicitgroup explicitgroup explicitgroup stringbuilder sb stringbuilder sb append <b> append explicitgroup getname append b> append localization lang group switch explicitgroup gethierarchicalcontext case including: sb append append localization lang includes subgroups break case refining: sb append append localization lang refines supergroup break default: break sb tostring string getshortdescriptionallentriesgroup localization lang <b>all entries< b> group cannot edited removed string getshortdescription searchgroup searchgroup boolean showdynamic stringbuilder sb stringbuilder sb append <b> showdynamic sb append <i> append stringutil quoteforhtml searchgroup getname append i> else sb append stringutil quoteforhtml searchgroup getname sb append b> sb append localization lang dynamic group sb append sb append localization lang search expression sb append <b> append stringutil quoteforhtml searchgroup getsearchexpression append b> switch searchgroup gethierarchicalcontext case including: sb append append localization lang includes subgroups break case refining: sb append append localization lang refines supergroup break default: break sb tostring 
686	UpdateField.java	LOGIC	net sf jabref logic util util collection util optional net sf jabref logic util date easydateformat net sf jabref model fieldchange net sf jabref model entry bibentry net sf jabref model entry fieldname updatefield updating field result entry reformatted save param bibentry param field field name param newvalue field value optional<fieldchange> updatefield bibentry string field string newvalue updatefield field newvalue false updating non displayable field result entry reformatted save param bibentry param field field name param newvalue field value optional<fieldchange> updatenondisplayablefield bibentry string field string newvalue boolean changed haschanged optional<fieldchange> fieldchange updatefield field newvalue false setchanged changed fieldchange undoable change field value param bibentry param field field name param newvalue field value param nullfieldifvalueisthesame true field value removed current value equals newvalue optional<fieldchange> updatefield bibentry string field string newvalue boolean nullfieldifvalueisthesame string writtenvalue null string oldvalue null hasfield field oldvalue getfield field get newvalue null oldvalue equals newvalue nullfieldifvalueisthesame field value null old value flag set clear field clearfield field else oldvalue equals newvalue update writtenvalue newvalue setfield field newvalue else values nothing optional empty else old field value set newvalue null nothing optional empty else set value writtenvalue newvalue setfield field newvalue optional fieldchange field oldvalue writtenvalue sets empty non existing owner fields bibtex entry specified default value timestamp field also set preferences checked see options enabled param entry entry set fields param overwriteowner indicates whether owner set already set param overwritetimestamp indicates whether timestamp set already set setautomaticfields bibentry entry boolean overwriteowner boolean overwritetimestamp updatefieldpreferences prefs string defaultowner prefs getdefaultowner string timestamp easydateformat fromtimestampformat prefs gettimestampformat getcurrentdate string timestampfield prefs gettimestampfield boolean setowner prefs isuseowner overwriteowner entry hasfield fieldname owner boolean settimestamp prefs isusetimestamp overwritetimestamp entry hasfield timestampfield setautomaticfields entry setowner defaultowner settimestamp timestampfield timestamp setautomaticfields bibentry entry updatefieldpreferences prefs updatefield setautomaticfields entry prefs isoverwriteowner prefs isoverwritetimestamp prefs setautomaticfields bibentry entry boolean setowner string owner boolean settimestamp string timestampfield string timestamp set owner field option enabled: setowner set owner field default value entry setfield fieldname owner owner settimestamp entry setfield timestampfield timestamp sets empty non existing owner fields bibtex entries inside list specified default value timestamp field also set preferences checked see options enabled param bibs list bibtex entries setautomaticfields collection<bibentry> bibs boolean overwriteowner boolean overwritetimestamp updatefieldpreferences prefs boolean globalsetowner prefs isuseowner boolean globalsettimestamp prefs isusetimestamp need anything options disabled globalsetowner globalsettimestamp string timestampfield prefs gettimestampfield string defaultowner prefs getdefaultowner string timestamp easydateformat fromtimestampformat prefs gettimestampformat getcurrentdate iterate entries bibentry curentry bibs boolean setowner globalsetowner overwriteowner curentry hasfield fieldname owner boolean settimestamp globalsettimestamp overwritetimestamp curentry hasfield timestampfield setautomaticfields curentry setowner defaultowner settimestamp timestampfield timestamp setautomaticfields collection<bibentry> bibs updatefieldpreferences prefs updatefield setautomaticfields bibs prefs isoverwriteowner prefs isoverwritetimestamp prefs 
687	FileFinder.java	LOGIC	net sf jabref logic util io io file io ioexception nio file files nio file path nio file attribute basicfileattributes util hashset util list util objects util set util function bipredicate util stream collectors util stream stream org apache commons logging log org apache commons logging logfactory filefinder log logger logfactory getlog filefinder set<file> findfiles list<string> extensions list<file> directories objects requirenonnull directories directories must null objects requirenonnull extensions extensions must null bipredicate<path basicfileattributes> isdirectoryandcontainsextension path attr files isdirectory path extensions contains fileutil getfileextension path tofile orelse set<file> result hashset<> file directory directories try stream<file> files files find directory topath integer max value isdirectoryandcontainsextension map tofile result addall files collect collectors toset catch ioexception logger error problem finding files result 
688	FileBasedLock.java	LOGIC	net sf jabref logic util io io ioexception nio file files nio file path nio file attribute basicfileattributes nio file attribute filetime util optional org apache commons logging log org apache commons logging logfactory filebasedlock log logger logfactory getlog filebasedlock string lockfile suffix lock default retry count aquiring file lock aquire lock retry age ms lockfile jabref offer steal locked file long lockfile critical age method checks whether lock file given file waits ms repeated lock gone waited maximum number times param file file check lock param maxwaitcount maximum number times wait true lock file gone false still boolean waitforfilelock path file maxwaitcount check file locked another jabref user: lockcheckcount haslockfile file lockcheckcount maxwaitcount false try thread sleep catch interruptedexception ignored ignored true boolean waitforfilelock path file waitforfilelock file aquire lock retry check whether lock file exists file param file file check true lock file exists false otherwise boolean haslockfile path file path lockfile getlockfilepath file files exists lockfile find lock file's last modified time lock file param file file check last modified time lock file exists empty optional otherwise optional<filetime> getlockfiletimestamp path file path lockfile getlockfilepath file try files exists lockfile optional files readattributes lockfile basicfileattributes lastmodifiedtime optional empty catch ioexception optional empty check lock file exists delete true lock file existed false otherwise boolean deletelockfile path file path lockfile getlockfilepath file files exists lockfile false try files delete lockfile catch ioexception logger warn cannot delete lock file true check lock file exists create true lock file already existed throws ioexception something happens creation boolean createlockfile path file throws ioexception path lockfile getlockfilepath file files exists lockfile true try files write lockfile getbytes catch ioexception ex logger error error creating lock file ex lockfile tofile deleteonexit false path getlockfilepath path file file resolvesibling file getfilename lockfile suffix 
689	FileUtil.java	LOGIC	net sf jabref logic util io io file io ioexception io stringreader nio file filesystems nio file files nio file path nio file paths nio file standardcopyoption util arraylist util arrays util collections util hashmap util list util map util objects util optional util set util stack util vector util regex pattern net sf jabref logic layout layout net sf jabref logic layout layoutformatterpreferences net sf jabref logic layout layouthelper net sf jabref logic util os net sf jabref model database bibdatabase net sf jabref model database bibdatabasecontext net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model entry filefield net sf jabref model entry parsedfilefield net sf jabref model metadata filedirectorypreferences org apache commons logging log org apache commons logging logfactory fileutil log logger logfactory getlog fileutil pattern slash pattern compile pattern backslash pattern compile \\\\ boolean isposixcompilant filesystems getdefault supportedfileattributeviews contains posix returns extension file optional empty file one name param file extension trimmed lowercase optional<string> getfileextension file file getfileextension file getname returns extension file name optional empty file one name param filename extension without leading dot trimmed lowercase optional<string> getfileextension string filename dotposition filename lastindexof dotposition dotposition filename length optional filename substring dotposition trim tolowercase else optional empty returns name part file name everything front last string getfilename string filenamewithextension dotposition filenamewithextension lastindexof dotposition filenamewithextension substring dotposition else filenamewithextension adds extension given file name original extension replaced means demo bib sav gets demo bib sav demo sav param path path add extension param extension extension add modified file name path addextension path path string extension path filename path getfilename path resolvesibling filename extension creates minimal unique path substring file among multiple file paths param paths file paths minimal unique path substring file path list<string> uniquepathsubstrings list<string> paths list<stack<string>> stacklist arraylist<> paths size prepare data structures string path paths list<string> directories arrays aslist path split pattern quote file separator stack<string> stack stack<> stack addall directories stacklist add stack list<string> pathsubstrings arraylist<> collections ncopies paths size compute shortest folder substrings stacklist stream allmatch vector::isempty stacklist size string tempstring pathsubstrings get tempstring isempty stacklist get isempty pathsubstrings set stacklist get pop else stacklist get isempty pathsubstrings set stacklist get pop file separator tempstring stacklist size string tempstring pathsubstrings get collections frequency pathsubstrings tempstring stacklist get clear pathsubstrings copies file param pathtosourcefile path source file param pathtodestinationfile path destination file param replaceexisting boolean determines whether copy goes even file exists boolean whether copy succeeded stopped due file already existing throws ioexception boolean copyfile path pathtosourcefile path pathtodestinationfile boolean replaceexisting check file already exists files exists pathtosourcefile logger error path source file exist false files exists pathtodestinationfile replaceexisting logger error path destination file exists file replace false try files copy pathtosourcefile pathtodestinationfile standardcopyoption replace existing null catch ioexception logger error copying files failed false renames given file param fromfile source filename rename param tofile target filename true rename successful false exception occurred boolean renamefile string fromfile string tofile try path src paths get fromfile files move src src resolvesibling tofile null catch ioexception logger error renaming files failed false converts relative filename absolute one necessary returns null file exist <br <p> uses <ul> <li>the default directory associated extension file< li> <li>the standard file directory< li> <li>the directory bib file< li> ul> param databasecontext database file belongs param name filename may also relative path file optional<file> expandfilename bibdatabasecontext databasecontext string name filedirectorypreferences filedirectorypreferences optional<string> extension getfileextension name find default directory field type any: list<string> directories databasecontext getfiledirectory extension orelse null filedirectorypreferences include standard file directory: list<string> filedir databasecontext getfiledirectory filedirectorypreferences include directory bib file: list<string> al arraylist<> string dir directories al contains dir al add dir string afiledir filedir al contains afiledir al add afiledir expandfilename name al converts relative filename absolute one necessary returns null file exist <p> look given dirs starting beginning returning first found file match optional<file> expandfilename string name list<string> directories string dir directories dir null optional<file> result expandfilename name dir result ispresent result optional empty converts relative filename absolute one necessary returns null file exist optional<file> expandfilename string filename string dir filename null filename isempty optional empty string name filename file file file name file exists dir null optional file dir endswith os file separator name dir name else name dir os file separator name fix problems: os windows name slash matcher name replaceall \\\\ else name backslash matcher name replaceall file fileindir file name fileindir exists optional fileindir else optional empty converts absolute filename relative one necessary returns parameter filename shortening possible <p> method works correctly dirs sorted decent length home user literature important home user literature param filename filename shortened param dirs directories check file shortenfilename file filename list<string> dirs filename null filename isabsolute dirs null filename string dir dirs dir null file result shortenfilename filename dir result null result equals filename result filename file shortenfilename file filename string directory filename null filename isabsolute directory null filename string dir directory string longname os windows case insensitive matching windows longname filename tostring tolowercase dir dir tolowercase else longname filename tostring dir endswith os file separator dir dir concat os file separator longname startswith dir result based original name lower cased name string newname filename tostring substring dir length file newname else filename map<bibentry list<file>> findassociatedfiles list<bibentry> entries list<string> extensions list<file> directories boolean autolinkexactkeyonly map<bibentry list<file>> result hashmap<> first scan directories set<file> fileswithextension filefinder findfiles extensions directories initialize result set bibentry entry entries result put entry arraylist<> look keys nextfile: file file fileswithextension string name file getname dot name lastindexof first look exact matches: bibentry entry entries optional<string> citekey entry getcitekeyoptional citekey ispresent citekey get isempty dot name substring dot equals citekey get result get entry add file continue nextfile get find exact matches non exact matches allowed try find one: autolinkexactkeyonly bibentry entry entries optional<string> citekey entry getcitekeyoptional citekey ispresent citekey get isempty name startswith citekey get result get entry add file continue nextfile result returns list linked files files absolute filename param bes list bibtex entries param filedirs list directories try expansion list files may empty list<file> getlistoflinkedfiles list<bibentry> bes list<string> filedirs objects requirenonnull bes objects requirenonnull filedirs list<file> result arraylist<> bibentry entry bes entry getfield fieldname file ifpresent filefield list<parsedfilefield> filelist filefield parse filefield parsedfilefield file filelist expandfilename file getlink filedirs ifpresent result::add result determines filename provided entry database param database database entry located param entry entry file linked param filenamepattern filename pattern param prefs layout preferences suggested filename string createfilenamefrompattern bibdatabase database bibentry entry string filenamepattern layoutformatterpreferences prefs string targetname null stringreader sr stringreader filenamepattern layout layout null try layout layouthelper sr prefs getlayoutfromtext catch ioexception logger info wrong format getmessage layout null targetname layout dolayout entry database targetname null targetname isempty targetname entry getcitekeyoptional orelse default removes illegal characters filename targetname filenamecleaner cleanfilename targetname targetname 
690	DatabaseFileLookup.java	LOGIC	net sf jabref logic util io io file util arraylist util hashset util list util objects util optional util set net sf jabref model database bibdatabase net sf jabref model database bibdatabasecontext net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model entry filefield net sf jabref model entry parsedfilefield net sf jabref model metadata filedirectorypreferences search files <br> <br> provides functionality search link bibdatabase files <br> author nosh dan databasefilelookup set<file> filecache hashset<> list<string> possiblefilepaths creates instance passing link bibdatabase used searches param database link bibdatabase databasefilelookup bibdatabasecontext databasecontext filedirectorypreferences filedirectorypreferences objects requirenonnull databasecontext possiblefilepaths optional ofnullable databasecontext getfiledirectory filedirectorypreferences orelse arraylist<> bibentry entry databasecontext getdatabase getentries filecache addall parsefilefield entry returns whether file <code>file< code> present database attached file link bibentry <br> <br> field specified key <b>file< b> searched provided file every link bibentry database <br> <br> matching absolute file paths used param file link file object <code>true< code> file object stored least one entry database otherwise <code>false< code> boolean lookupdatabase file file filecache contains file list<file> parsefilefield bibentry entry objects requirenonnull entry list<parsedfilefield> entries filefield parse entry getfield fieldname file orelse null list<file> filelinks arraylist<> parsedfilefield field entries string link field getlink query external file links huge performance leak link contains continue fileutil expandfilename link possiblefilepaths ifpresent filelinks::add filelinks 
691	RegExpFileSearch.java	LOGIC	net sf jabref logic util io io file io ioexception util arraylist util arrays util collections util hashmap util linkedlist util list util map util regex matcher util regex pattern net sf jabref logic bibtexkeypattern bibtexkeypatternutil net sf jabref model database bibdatabase net sf jabref model entry bibentry net sf jabref model strings stringutil org apache commons logging log org apache commons logging logfactory created intellij idea user: alver date: apr time: 1:46:44 pm change template use file settings file templates regexpfilesearch log logger logfactory getlog regexpfilesearch string ext marker extension pattern escape pattern pattern compile [^\\\\] \\\\ [^\\\\] pattern square brackets pattern pattern compile \\[ ?\\] search file links set entries using regexp lists extensions directories given param entries entries search param extensions extensions acceptable param directories root directories search param regexp expression deciding names acceptable param keyworddelimiter map linking given entry list files matching given criteria map<bibentry list<file>> findfilesforset list<bibentry> entries list<string> extensions list<file> directories string regexp character keyworddelimiter map<bibentry list<file>> res hashmap<> bibentry entry entries res put entry findfiles entry extensions directories regexp keyworddelimiter res method searching files using regexp list extensions directories given param entry entry search param extensions extensions acceptable param directories root directories search param regularexpression expression deciding names acceptable param keyworddelimiter list files paths matching given criteria list<file> findfiles bibentry entry list<string> extensions list<file> directories string regularexpression character keyworddelimiter string extensionregexp string join extensions findfile entry directories regularexpression extensionregexp keyworddelimiter searches given directory filename pattern file bibtex entry used fix: http: sourceforge net tracker index php?func detail aid group id atid requirements: able find associated pdf set given directories able relative path absolute path fast allow flexible naming schemes pdfs syntax scheme file: <ul> <li> subdir< li> <li> subdir recursive li> <li>[key] key bibtex file database< li> <li> anything else taken regular expression li> ul> param keyworddelimiter param entry non null param dirs set root directories start search paths returned relative directories relative set true directories expanded anything use file attribute param file non null first file found match given criteria null none found list<file> findfile bibentry entry list<file> dirs string file string extensionregexp character keyworddelimiter list<file> res arraylist<> file directory dirs res addall findfile entry directory getpath file extensionregexp keyworddelimiter res internal version findfile also accepts current directory base search list<file> findfile bibentry entry string directory string file string extensionregexp character keyworddelimiter file root directory null root file else root file directory root exists collections emptylist list<file> filelist regexpfilesearch findfile entry root file extensionregexp keyworddelimiter list<file> result arraylist<> file tmpfile filelist try pdf subdirectory missing first character http: sourceforge net tracker index php?func detail aid group id atid changed alver 04: remove first character directory separator character: string tmp tmpfile getcanonicalpath substring root getcanonicalpath length tmp length tmp charat file separatorchar tmp tmp substring result add file tmp catch ioexception logger warn problem searching result actual work horse find absolute filepaths starting given directory using given regular expression string search list<file> findfile bibentry entry file directory string file string extensionregexp character keyworddelimiter list<file> res arraylist<> string filename file file actualdirectory filename startswith actualdirectory file filename filename substring else actualdirectory directory escape handling matcher escape pattern matcher filename stringbuffer stringbuffer find appendreplacement group group appendtail filename tostring string[] fileparts filename split fileparts length res fileparts length string dirtoprocess fileparts[i] dirtoprocess expandbrackets dirtoprocess entry null keyworddelimiter dirtoprocess matches :$ windows drive letter actualdirectory file dirtoprocess continue equals dirtoprocess stay current directory continue equals dirtoprocess actualdirectory file actualdirectory getparent continue equals dirtoprocess direct subdirs file[] subdirs actualdirectory listfiles subdirs null string restoffilestring stringutil join fileparts fileparts length file subdir subdirs subdir isdirectory res addall findfile entry subdir restoffilestring extensionregexp keyworddelimiter direct indirect subdirs equals dirtoprocess list<file> todo linkedlist<> todo add actualdirectory string restoffilestring stringutil join fileparts fileparts length todo isempty get subdirs elements found todo file[] subdirs todo remove listfiles subdirs null continue todo addall arrays aslist subdirs file subdir subdirs subdir isdirectory continue res addall findfile entry subdir restoffilestring extensionregexp keyworddelimiter end process directory information last step: check given file found directory string filepart fileparts[fileparts length 1] replace [extension] ext marker string filenametolookfor expandbrackets filepart entry null keyworddelimiter replaceall ext marker extensionregexp pattern tomatch pattern compile '^' filenametolookfor replaceall \\\\\\\\ \\\\ '$' pattern case insensitive file[] matches actualdirectory listfiles arg0 arg1 tomatch matcher arg1 matches matches null matches length collections addall res matches res takes string contains bracketed expression expands using getfieldandformat <p> unknown bracket expressions silently dropped param bracketstring param entry param database param keyworddelimiter string expandbrackets string bracketstring bibentry entry bibdatabase database character keyworddelimiter matcher square brackets pattern matcher bracketstring stringbuffer stringbuffer find string replacement getfieldandformat group entry database keyworddelimiter appendreplacement replacement appendtail tostring accepts string like [author:lower] [title:abbr] [auth] whereas first part signifies bibtex field get key generator field marker use others modifiers applied param fieldandformat param entry param database param keyworddelimiter string getfieldandformat string fieldandformat bibentry entry bibdatabase database character keyworddelimiter string strippedfieldandformat stringutil stripbrackets fieldandformat colon strippedfieldandformat indexof ':' string beforecolon string aftercolon colon beforecolon strippedfieldandformat aftercolon null else beforecolon strippedfieldandformat substring colon aftercolon strippedfieldandformat substring colon beforecolon beforecolon trim beforecolon isempty field value found try interpret key generator field marker: string fieldvalue entry getresolvedfieldoralias beforecolon database orelse bibtexkeypatternutil makelabel entry beforecolon keyworddelimiter fieldvalue null aftercolon null aftercolon isempty fieldvalue list<string> parts arrays aslist aftercolon split fieldvalue bibtexkeypatternutil applymodifiers fieldvalue parts fieldvalue 
692	FileHistory.java	LOGIC	net sf jabref logic util io util linkedlist util list util objects filehistory linkedlist<string> history history size filehistory list<string> filelist history linkedlist<> objects requirenonnull filelist size history size boolean isempty history isempty adds filename top list already list merely moved top param filename <code>string< code> value newfile string filename removeitem filename history addfirst filename size history size history removelast string getfilename history get removeitem string filename history remove filename list<string> gethistory history 
693	XMLUtil.java	LOGIC	net sf jabref logic util io io stringwriter util abstractlist util collections util list util optional util randomaccess javax xml transform outputkeys javax xml transform transformer javax xml transform transformerexception javax xml transform transformerfactory javax xml transform dom domsource javax xml transform stream streamresult org apache commons logging log org apache commons logging logfactory org w3c dom document org w3c dom element org w3c dom namednodemap org w3c dom node org w3c dom nodelist currently used debugging xmlutil log logger logfactory getlog xmlutil prints document standard used generate files test cases printdocument document doc try domsource domsource domsource doc stringwriter writer stringwriter streamresult result streamresult writer transformerfactory tf transformerfactory newinstance transformer transformer tf newtransformer transformer setoutputproperty outputkeys indent yes transformer transform domsource result system println writer catch transformerexception ex logger error ex list<node> aslist nodelist getlength collections emptylist nodelistwrapper gets content subnode example <item> <nodename>content< nodename> item> optional<string> getnodecontent node item string nodename item getnodetype node element node optional empty nodelist metadata element item getelementsbytagname nodename metadata getlength optional ofnullable metadata item gettextcontent else optional empty gets content attribute example <item attributename content optional<string> getattributecontent node item string attributename namednodemap attributes item getattributes optional ofnullable attributes getnameditem attributename map node::gettextcontent gets list subnodes specified tag name example <item> <node>first hit< node> <node>second hit< node> item> list<node> getnodesbyname node item string nodename item getnodetype node element node collections emptylist nodelist nodes element item getelementsbytagname nodename aslist nodes gets first subnode specified tag name example <item> <node>hit< node> <node>second hit returned< node> item> optional<node> getnode node item string nodename getnodesbyname item nodename stream findfirst wrapper make nodelist iterable taken <a href http: stackoverflow com questions iterate nodelist using >stackoverflow answer< a> nodelistwrapper abstractlist<node> randomaccess nodelist list nodelistwrapper nodelist list list list override node get index list item index override size list getlength 
694	FileNameCleaner.java	LOGIC	net sf jabref logic util io util arrays based http: stackoverflow com replaces illegal characters given file paths filenamecleaner must always sorted array used binary search formatter:off int[] illegal chars formatter:on replaces illegal characters given filename param badfilename filename clean clean filename string cleanfilename string badfilename stringbuilder cleanname stringbuilder badfilename length badfilename length char badfilename charat filenamecleaner ischarlegal cleanname append else cleanname append cleanname tostring trim boolean ischarlegal char arrays binarysearch filenamecleaner illegal chars 
695	BuildInfo.java	LOGIC	net sf jabref logic util io ioexception io inputstream io inputstreamreader nio charset standardcharsets util properties buildinfo string unknown version unknown string os system getproperty os name unknown version tolowercase string os version system getproperty os version unknown version tolowercase string os arch system getproperty os arch unknown version tolowercase string version system getproperty version unknown version tolowercase version version string authors string developers string year buildinfo build properties buildinfo string path properties properties properties try inputstream stream buildinfo getresourceasstream path stream null try inputstreamreader reader inputstreamreader stream standardcharsets utf properties load reader catch ioexception ignored nothing default already set version version parse properties getproperty version authors properties getproperty authors year properties getproperty year developers properties getproperty developers version getversion version string getauthors authors string getdevelopers developers string getyear year 
696	TestEntry.java	LOGIC	net sf jabref logic util net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model entry idgenerator testentry bibentry gettestentry bibentry entry bibentry idgenerator next article entry setcitekey smith2016 entry setfield fieldname author smith bill jones bob williams jeff entry setfield fieldname editor taylor phil entry setfield fieldname title title test entry entry setfield fieldname number entry setfield fieldname volume entry setfield fieldname year entry setfield fieldname pages entry setfield fieldname month july entry setfield fieldname file :testentry pdf:pdf entry setfield fieldname journal bibtex journal entry setfield fieldname publisher jabref publishing entry setfield fieldname address trondheim entry setfield fieldname url https: github com jabref entry setfield fieldname entry describes test scenario may useful jabref providing test entry possible see certain things look graphical bib file mananger entry 
697	OS.java	LOGIC	net sf jabref logic util operating system os detection os https: commons apache org proper commons lang javadocs api org apache commons lang systemutils html string os name system getproperty os name unknown tolowercase boolean linux os name startswith linux boolean windows os name startswith win boolean os os name startswith mac file separator obtained system string file separator system getproperty file separator newlines overridden initialization due feature #857 jabref string newline system lineseparator 
698	DOI.java	LOGIC	net sf jabref logic util net uri net urisyntaxexception util objects util optional util regex matcher util regex pattern net sf jabref logic importer fetcher crossref net sf jabref model entry bibentry org apache commons logging log org apache commons logging logfactory working digital object identifiers dois see https: en wikipedia org wiki digital object identifier doi log logger logfactory getlog doi doi resolver uri resolver uri create http: doi org doi string doi regex see http: www doi org doi handbook numbering html string doi exp ?:urn: optional urn ?:doi: optional doi begin group \1 directory indicator ?:\\ [0 9] registrant codes :] divider ?: suffix alphanumeric string end group \1 string find doi exp ?:urn: optional urn ?:doi: optional doi begin group \1 directory indicator ?:\\ [0 9] registrant codes :] divider ?:[^\\s] suffix alphanumeric without space end group \1 string http exp https?: [^\\s] doi exp pattern pattern exact doi patt pattern compile ?:https?: [^\\s] doi exp pattern case insensitive pattern doi patt pattern compile ?:https?: [^\\s] find doi exp pattern case insensitive creates doi various schemes including url urn plain dois param doi doi string throws nullpointerexception doi null throws illegalargumentexception doi include valid doi instance doi doi string doi objects requirenonnull doi remove whitespace string trimmeddoi doi trim http url decoding doi matches http exp try decodes path segment uri url uri trimmeddoi trimmeddoi url getscheme url gethost url getpath catch urisyntaxexception throw illegalargumentexception doi valid http doi extract doi matcher matcher exact doi patt matcher trimmeddoi matcher find match group \1 doi matcher group else throw illegalargumentexception trimmeddoi valid doi creates optional<doi> various schemes including url urn plain dois useful suppressing <c>illegalargumentexception< c> constructor checking optional ispresent instead param doi doi string optional containing doi empty optional optional<doi> build string doi try optional ofnullable doi doi catch illegalargumentexception nullpointerexception optional empty tries find doi inside given text param text text might contain doi optional containing doi empty optional optional<doi> findintext string text optional<doi> result optional empty matcher matcher doi patt matcher text matcher find match group \1 result optional doi matcher group result tries retrieve doi existing bibentry param entry bibtex entry optional containing doi empty optional optional<doi> frombibentry bibentry entry crossref finddoi entry plain doi plain doi value string getdoi doi uri presentation doi encoded uri representation doi optional<uri> geturi try uri uri uri resolver getscheme resolver gethost doi null optional uri catch urisyntaxexception never happen logger error doi could encoded uri optional empty ascii url presentation doi encoded url representation doi string geturiasasciistring geturi map uri::toasciistring orelse 
699	Version.java	LOGIC	net sf jabref logic util io bufferedreader io ioexception io inputstreamreader net url net urlconnection util arraylist util list util objects util optional util regex matcher util regex pattern org apache commons logging log org apache commons logging logfactory org json jsonarray org json jsonobject represents application version major minor number full version string developer version version log logger logfactory getlog version version unknown version version pattern version pattern pattern compile ?<major>\\d \\ ?<minor>\\d \\ ?<patch>\\d ?<stage> alpha beta ?<dev> ?dev string jabref download url https: downloads jabref org string jabref github releases https: api github com repos jabref jabref releases string fullversion buildinfo unknown version major minor patch developmentstage developmentstage developmentstage unknown boolean isdevelopmentversion dummy constructor create local object link version#unknown version version param version must form following pattern: code \d \d \d alpha beta ?dev dev parsed version link version#unknown version error occurred version parse string version version null equals version version equals buildinfo unknown version version equals version unknown version version parsedversion version parsedversion fullversion version matcher matcher version pattern matcher version matcher find try parsedversion major integer parseint matcher group major string minorstring matcher group minor parsedversion minor minorstring null integer parseint minorstring string patchstring matcher group patch parsedversion patch patchstring null integer parseint patchstring string versionstagestring matcher group stage parsedversion developmentstage versionstagestring null developmentstage stable developmentstage parse versionstagestring parsedversion isdevelopmentversion matcher group dev null catch numberformatexception logger warn invalid version string used: version unknown version catch illegalargumentexception logger warn invalid version pattern used unknown version else logger warn version could recognized pattern unknown version parsedversion grabs available releases github repository throws ioexception list<version> getallavailableversions throws ioexception urlconnection connection url jabref github releases openconnection connection setrequestproperty accept charset utf bufferedreader rd bufferedreader inputstreamreader connection getinputstream list<version> versions arraylist<> jsonarray objects jsonarray rd readline objects length jsonobject jsonobject objects getjsonobject version version version parse jsonobject getstring tag name replacefirst versions add version versions true version newer passed one boolean isnewerthan version otherversion objects requirenonnull otherversion objects equals otherversion false else getfullversion equals buildinfo unknown version false else otherversion getfullversion equals buildinfo unknown version false compare majors getmajor otherversion getmajor true else getmajor otherversion getmajor majors equal compare minors getminor otherversion getminor true else getminor otherversion getminor minors equal compare patch numbers getpatch otherversion getpatch true else getpatch otherversion getpatch patch numbers equal compare development stages developmentstage ismorestablethan otherversion developmentstage true else developmentstage otherversion developmentstage stage equal check version development isdevelopmentversion otherversion isdevelopmentversion false checks version updated one given ones ignoring version one stable one version one updated empty optional optional<version> shouldbeupdatedto list<version> availableversions optional<version> newerversion optional empty version version availableversions shouldbeupdatedto version newerversion ispresent version isnewerthan newerversion get newerversion optional version newerversion checks version updated given one ignoring version one stable one true version updated given one boolean shouldbeupdatedto version otherversion ignoring version stable except version stable developmentstage version developmentstage stable otherversion developmentstage version developmentstage stable false check version newer given one otherversion isnewerthan string getfullversion fullversion getmajor major getminor minor getpatch patch boolean isdevelopmentversion isdevelopmentversion link changelog github specific version https: github com jabref jabref blob vx changelog md string getchangelogurl isdevelopmentversion https: github com jabref jabref blob master changelog md#unreleased else stringbuilder changeloglink stringbuilder append https: github com jabref jabref blob append getmajor append append getminor getpatch changeloglink append append getpatch changeloglink append developmentstage stage append changelog md changeloglink tostring override boolean equals object true instanceof version false till information stripped fullversion suffice getfullversion equals version getfullversion override hashcode getfullversion hashcode override string tostring getfullversion enum developmentstage unknown alpha alpha beta beta stable describes stable stage higher better stability string stage developmentstage string stage stability stage stage stability stability developmentstage parse string stage stage null logger warn stage cannot null unknown else stage equals stable stage stable else stage equals alpha stage alpha else stage equals beta stage beta logger warn unknown development stage: stage unknown true stage stable code otherstage boolean ismorestablethan developmentstage otherstage stability otherstage stability 
700	EasyDateFormat.java	LOGIC	net sf jabref logic util date time zoneid time zoneddatetime time format datetimeformatter util date easydateformat formatter objects datetimeformatter dateformatter easydateformat string dateformat datetimeformatter ofpattern dateformat easydateformat datetimeformatter dateformatter dateformatter dateformatter creates string containing current date possibly time formatted according format set preferences key timestampformat date string string getcurrentdate getdateat zoneddatetime creates readable date string parameter date format set preferences key timestampformat formatted date string string getdateat date date getdateat date toinstant atzone zoneid systemdefault creates readable date string parameter date format set preferences key timestampformat formatted date string string getdateat zoneddatetime datetime first use create instance datetime format dateformatter easydateformat fromtimestampformat string timestampformat easydateformat timestampformat easydateformat isodateformat easydateformat datetimeformatter iso local date 
701	OptionalUtil.java	LOGIC	net sf jabref logic util util collections util list util optional util stream collectors util stream stream optionalutil <t> list<t> tolist optional<t> value value ispresent collections singletonlist value get else collections emptylist safevarargs <t> list<t> tolist optional<t> values stream values flatmap optional tolist optional stream collect collectors tolist 
702	UpdateFieldPreferences.java	LOGIC	net sf jabref logic util updatefieldpreferences boolean useowner boolean usetimestamp boolean overwriteowner boolean overwritetimestamp string timestampfield string timestampformat string defaultowner updatefieldpreferences boolean useowner boolean overwriteowner string defaultowner boolean usetimestamp boolean overwritetimestamp string timestampfield string timestampformat useowner useowner overwriteowner overwriteowner defaultowner defaultowner usetimestamp usetimestamp overwritetimestamp overwritetimestamp timestampfield timestampfield timestampformat timestampformat boolean isuseowner useowner boolean isusetimestamp usetimestamp string gettimestampfield timestampfield string getdefaultowner defaultowner string gettimestampformat timestampformat boolean isoverwriteowner overwriteowner boolean isoverwritetimestamp overwritetimestamp 
703	ISSN.java	LOGIC	net sf jabref logic util util objects util regex matcher util regex pattern issn pattern issn pattern pattern compile ^\\d \\d [\\dxx]$ pattern issn pattern nodash pattern compile \\d \\d [\\dxx] string issnstring issn string issnstring issnstring objects requirenonnull issnstring trim boolean isvalidformat matcher issnmatcher issn pattern matcher issnstring issnmatcher matches boolean iscanbecleaned matcher issnnodashmatcher issn pattern nodash matcher issnstring issnnodashmatcher matches string getcleanedissn matcher issnnodashmatcher issn pattern nodash matcher issnstring issnnodashmatcher find issnnodashmatcher replacefirst $1 $2 issnstring boolean isvalidchecksum check control digit correct see https: en wikipedia org wiki international standard serial number sum pos pos pos char issnstring charat pos pos sum '0' pos pos char control issnstring charat control 'x' control 'x' control '9' sum control '0' sum 
704	ISBN.java	LOGIC	net sf jabref logic util util objects util regex matcher util regex pattern isbn pattern isbn pattern pattern compile \\d [\\dxx] \\d string isbnstring isbn string isbnstring isbnstring objects requirenonnull isbnstring trim replace boolean isvalidformat matcher isbnmatcher isbn pattern matcher isbnstring isbnmatcher matches true false boolean isvalidchecksum boolean valid isbnstring length valid isbn10check else length either based regexp valid isbn13check valid boolean isisbn10 isbn10check boolean isisbn13 isbn13check check control digit correct see https: en wikipedia org wiki international standard book number#check digits boolean isbn10check isbnstring length false sum pos pos pos sum isbnstring charat pos '0' pos char control isbnstring charat control 'x' control 'x' control '9' sum control '0' sum check control digit correct see https: en wikipedia org wiki international standard book number#check digits boolean isbn13check isbnstring length false sum pos pos pos sum isbnstring charat pos '0' pos sum boolean isvalid isvalidformat isvalidchecksum 
705	FileExtensions.java	LOGIC	net sf jabref logic util util stringjoiner net sf jabref logic l10n localization enum contains kind file extensions open save dialogs important: enter extension without dot dot added implicitly enum fileextensions important: dot extension bibtex db string format 1s 2s bibtex localization lang database bib bibtexml localization lang file bibtexml bibx xml bilbioscape localization lang file biblioscape txt copac localization lang file copac txt citation style localization lang file csl csl endnote localization lang file endnote refer ref enw freecite localization lang file freecite txt xml inspec localization lang file inspec txt isi localization lang file isi isi txt medline localization lang file medline nbib xml medline plain localization lang file medlineplain nbib txt mods localization lang file mods xml msbib localization lang file msbib xml ovid localization lang file ovid txt pdf content localization lang file pdf content pdf pubmed localization lang file pubmed fcgi repec repec economic papers nep txt ris localization lang file ris ris silver platter localization lang file silverplatter dat txt xmp localization lang xmp annotated pdf pdf aux localization lang file aux aux jstyle localization lang style file jstyle layout localization lang custom layout file layout terms localization lang terms file terms txt localization lang file localization lang plain text txt localization lang file jar localization lang file jar jar xml localization lang file xml xml zip localization lang file zip zip string[] extension string description fileextensions string description string extension extension extension description description array varags gets passed varags parameter fileextensionnamefilter string[] getextensions extension string getdescription stringjoiner sj stringjoiner description string ext extension sj add ext sj tostring string getfirstextensionwithdot extension[0] trim 
706	RtfCharMap.java	LOGIC	net sf jabref logic util strings util hashmap rtfcharmap hashmap<string string> rtfmap hashmap<> rtfcharmap put `a \\'e0 put `e \\'e8 put `i \\'ec put `o \\'f2 put `u \\'f9 put 'a \\'e1 put 'e \\'e9 put 'i \\'ed put 'o \\'f3 put 'u \\'fa put ^a \\'e2 put ^e \\'ea put ^i \\'ee put ^o \\'f4 put ^u \\'fa put \\'e4 put \\'eb put \\'ef put \\'f6 put \\u252u put ~n \\'f1 put `a \\'c0 put `e \\'c8 put `i \\'cc put `o \\'d2 put `u \\'d9 put 'a \\'c1 put 'e \\'c9 put 'i \\'cd put 'o \\'d3 put 'u \\'da put ^a \\'c2 put ^e \\'ca put ^i \\'ce put ^o \\'d4 put ^u \\'db put \\'c4 put \\'cb put \\'cf put \\'d6 put \\'dc use unicode characters rtf chars found standard codepage put \\u167s section sign put \\u161 inverted exclamation point put pounds \\u163? pound sign put copyright \\u169? copyright sign put \\u182p paragraph sign put `? \\u191? inverted question mark put ~a \\u195a atilde put aa \\u197a aring rtfchars put ae \\uc2\\u198ae aelig put ae \\u198ae aelig put cc \\u199c ccedil put dh \\u208d eth put ~n \\u209n ntilde put ~o \\u213o otilde according iso \times symbol placed #215 omitting mathematical symbol put \\u216o oslash rtfchars put \\'d8 put \\'f8 put 'y \\u221y yacute put th \\u222th thorn put ss \\u223ss szlig rtfchars put ss affen szlig put ~a \\u227a atilde put aa \\u229a aring rtfchars put ae \\uc2\\u230ae aelig \\u230e6 put ae \\u230ae aelig \\u230e6 put cc \\u231c ccedil put dh \\u240d eth put ~o \\u245o otilde according iso \div symbol placed #247 omitting mathematical symbol put \\u248o oslash rtfchars put \\u252 uuml exists standard codepage put 'y \\u253y yacute put th \\u254th thorn put \\u255y yuml put \\u256a amacr put \\u257a amacr put ua \\u258a abreve put ua \\u259a abreve put ka \\u260a aogon put ka \\u261a aogon put 'c \\u262c cacute put 'c \\u263c cacute put ^c \\u264c ccirc put ^c \\u265c ccirc put \\u266c cdot put \\u267c cdot put vc \\u268c ccaron put vc \\u269c ccaron put vd \\u270d dcaron symbol #271 special latex command put dj \\u272d dstrok put dj \\u273d dstrok put \\u274e emacr put \\u275e emacr put ue \\u276e ebreve put ue \\u277e ebreve put \\u278e edot put \\u279e edot put ke \\u280e eogon put ke \\u281e eogon put \\u282e ecaron put \\u283e ecaron put ^g \\u284g gcirc put ^g \\u285g gcirc put ug \\u286g gbreve put ug \\u287g gbreve put \\u288g gdot put \\u289g gdot put cg \\u290g gcedil put 'g \\u291g gacute put ^h \\u292h hcirc put ^h \\u293h hcirc put hstrok \\u294h hstrok put hstrok \\u295h hstrok put ~i \\u296i itilde put ~i \\u297i itilde put \\u298i imacr put \\u299i imacr put ui \\u300i ibreve put ui \\u301i ibreve put ki \\u302i iogon put ki \\u303i iogon put \\u304i idot symbol #306 ij special latex command symbol #307 ij special latex command put ^j \\u308j jcirc put ^j \\u309j jcirc put ck \\u310k kcedil put ck \\u311k kcedil symbol #312 special latex command put 'l \\u313l lacute put 'l \\u314l lacute put cl \\u315l lcedil put cl \\u316l lcedil symbol #317 special latex command symbol #318 special latex command put lmidot \\u319l lmidot put lmidot \\u320l lmidot put \\u321l lstrok put \\u322l lstrok put 'n \\u323n nacute put 'n \\u324n nacute put cn \\u325n ncedil put cn \\u326n ncedil put vn \\u327n ncaron put vn \\u328n ncaron symbol #329 special latex command put ng \\u330g eng put ng \\u331g eng put \\u332o omacr put \\u333o omacr put uo \\u334o obreve put uo \\u335o obreve put ho \\u336? odblac put ho \\u337? odblac put oe \\u338oe oelig put oe \\u339oe oelig put 'r \\u340r racute put 'r \\u341r racute put cr \\u342r rcedil put cr \\u343r rcedil put vr \\u344r rcaron put vr \\u345r rcaron put 's \\u346s sacute put 's \\u347s sacute put ^s \\u348s scirc put ^s \\u349s scirc put cs \\u350s scedil put cs \\u351s scedil put vs \\u352s scaron put vs \\u353s scaron put ct \\u354t tcedil put ct \\u355t tcedil put vt \\u356t tcaron symbol #357 special latex command put tstrok \\u358t tstrok put tstrok \\u359t tstrok put ~u \\u360u utilde put ~u \\u361u utilde put \\u362u umacr put \\u363u umacr put uu \\u364u ubreve put uu \\u365u ubreve put ru \\u366u uring put ru \\u367u uring put hu \\u368? odblac put hu \\u369? odblac put ku \\u370u uogon put ku \\u371u uogon put ^w \\u372w wcirc put ^w \\u373w wcirc put ^y \\u374y ycirc put ^y \\u375y ycirc put \\u376y yuml put 'z \\u377z zacute put 'z \\u378z zacute put \\u379z zdot put \\u380z zdot put vz \\u381z zcaron put vz \\u382z zcaron symbol #383 special latex command put string key string value rtfmap put key value string get string key rtfmap get key 
707	DiffHighlighting.java	LOGIC	net sf jabref logic util strings util arraylist util arrays util collections util list util objects difflib delta difflib diffutils diffhighlighting string addition start <span add> string removal start <span del> string change start <span change> string tag end span> string html start <html><body> string html end body>< html> string generatediffhighlighting string basestring string modifiedstring string separator objects requirenonnull separator basestring null modifiedstring null list<string> stringlist arraylist<> arrays aslist basestring split separator list<delta<string>> deltalist arraylist<> diffutils diff stringlist arrays aslist modifiedstring split separator getdeltas collections reverse deltalist delta<string> delta deltalist startpos delta getoriginal getposition list<string> lines delta getoriginal getlines offset switch delta gettype case change: string line lines stringlist set startpos offset offset diffhighlighting removal start line offset stringlist set startpos offset stringlist get startpos offset diffhighlighting tag end separator diffhighlighting addition start string join separator delta getrevised getlines diffhighlighting tag end break case delete: string line lines stringlist set startpos offset offset diffhighlighting removal start line offset stringlist set startpos offset stringlist get startpos offset diffhighlighting tag end break case insert: stringlist add delta getoriginal getposition diffhighlighting addition start string join separator delta getrevised getlines diffhighlighting tag end break default: break string join separator stringlist modifiedstring string generatesymmetrichighlighting string basestring string modifiedstring string separator basestring null modifiedstring null list<string> stringlist arraylist<> arrays aslist basestring split separator list<delta<string>> deltalist arraylist<> diffutils diff stringlist arraylist<> arrays aslist modifiedstring split separator getdeltas collections reverse deltalist delta<string> delta deltalist startpos delta getoriginal getposition list<string> lines delta getoriginal getlines offset switch delta gettype case change: string line lines stringlist set startpos offset offset diffhighlighting change start line offset stringlist set startpos offset stringlist get startpos offset diffhighlighting tag end break case delete: string line lines stringlist set startpos offset offset diffhighlighting addition start line offset stringlist set startpos offset stringlist get startpos offset diffhighlighting tag end break case insert: break default: break string join separator stringlist modifiedstring 
708	QuotedStringTokenizer.java	LOGIC	net sf jabref logic util strings string tokenizer works like stringtokenizer considers quoted characters act delimiters quotedstringtokenizer string content contentlength string delimiters char quotechar index param content string tokenized param delimiters delimiter characters param quotecharacter quoting character every character including limited delimiters preceded character treated delimiter token component quotedstringtokenizer string content string delimiters char quotecharacter content content delimiters delimiters quotechar quotecharacter contentlength content length skip leading delimiters isdelimiter content charat index index contentlength index string nexttoken char stringbuilder stringbuilder stringbuilder index contentlength content charat index quotechar next quoted index index contentlength stringbuilder append content charat index ignore delimiter search else isdelimiter unit finished advance index next token end index index contentlength isdelimiter content charat index stringbuilder tostring else stringbuilder append index stringbuilder tostring boolean isdelimiter char delimiters indexof boolean hasmoretokens index contentlength 
709	StringLengthComparator.java	LOGIC	net sf jabref logic util strings util comparator stringlengthcomparator comparator<string> override compare string o1 string o2 o1 length o2 length else o1 length o2 length 
710	XmlCharsMap.java	LOGIC	net sf jabref logic util strings util hashmap xmlcharsmap hashmap<string string> xmlcharsmap put \\ \\\\\\\ \\ a\\ \\ #x00e4 put \\ \\\\\\\ \\ a\\ \\ #x00c4 put \\ \\\\\\\ \\ e\\ \\ #x00eb put \\ \\\\\\\ \\ e\\ \\ #x00cb put \\ \\\\\\\ \\ i\\ \\ #x00ef put \\ \\\\\\\ \\ i\\ \\ #x00cf put \\ \\\\\\\ \\ o\\ \\ #x00f6 put \\ \\\\\\\ \\ o\\ \\ #x00d6 put \\ \\\\\\\ \\ u\\ \\ #x00fc put \\ \\\\\\\ \\ u\\ \\ #x00dc next rows missing put \\ \\\\\\`\\ a\\ \\ #x00e0 put \\ \\\\\\`\\ a\\ \\ #x00c0 put \\ \\\\\\`\\ e\\ \\ #x00e8 put \\ \\\\\\`\\ e\\ \\ #x00c8 put \\ \\\\\\`\\ i\\ \\ #x00ec put \\ \\\\\\`\\ i\\ \\ #x00cc put \\ \\\\\\`\\ o\\ \\ #x00f2 put \\ \\\\\\`\\ o\\ \\ #x00d2 put \\ \\\\\\`\\ u\\ \\ #x00f9 put \\ \\\\\\`\\ u\\ \\ #x00d9 corrected lines put \\ \\\\\\'\\ a\\ \\ #x00e1 put \\ \\\\\\'\\ a\\ \\ #x00c1 put \\ \\\\\\'\\ e\\ \\ #x00e9 put \\ \\\\\\'\\ e\\ \\ #x00c9 put \\ \\\\\\'\\ i\\ \\ #x00ed put \\ \\\\\\'\\ i\\ \\ #x00cd put \\ \\\\\\'\\ o\\ \\ #x00f3 put \\ \\\\\\'\\ o\\ \\ #x00d3 put \\ \\\\\\'\\ u\\ \\ #x00fa put \\ \\\\\\'\\ u\\ \\ #x00da added next four chars put \\ \\\\\\'\\ c\\ \\ #x0107 put \\ \\\\\\'\\ c\\ \\ #x0106 put \\ \\\\c\\ c\\ \\ #x00e7 put \\ \\\\c\\ c\\ \\ #x00c7 put \\ \\\\\\\ufffd\\ e\\ \\ #x00c9 put \\ \\\\\\\ufffd\\ i\\ \\ #x00ed put \\ \\\\\\\ufffd\\ i\\ \\ #x00cd put \\ \\\\\\\ufffd\\ o\\ \\ #x00f3 put \\ \\\\\\\ufffd\\ o\\ \\ #x00d3 put \\ \\\\\\\ufffd\\ u\\ \\ #x00fa put \\ \\\\\\\ufffd\\ u\\ \\ #x00da put \\ \\\\\\\ufffd\\ a\\ \\ #x00e1 put \\ \\\\\\\ufffd\\ a\\ \\ #x00c1 next rows missing put \\ \\\\\\^\\ a\\ \\ #x00e2 put \\ \\\\\\^\\ a\\ \\ #x00c2 put \\ \\\\\\^\\ o\\ \\ #x00f4 put \\ \\\\\\^\\ o\\ \\ #x00d4 put \\ \\\\\\^\\ u\\ \\ #x00f9 put \\ \\\\\\^\\ u\\ \\ #x00d9 put \\ \\\\\\^\\ e\\ \\ #x00ea put \\ \\\\\\^\\ e\\ \\ #x00ca put \\ \\\\\\^\\ i\\ \\ #x00ee put \\ \\\\\\^\\ i\\ \\ #x00ce put \\ \\\\\\~\\ o\\ \\ #x00f5 put \\ \\\\\\~\\ o\\ \\ #x00d5 put \\ \\\\\\~\\ n\\ \\ #x00f1 put \\ \\\\\\~\\ n\\ \\ #x00d1 put \\ \\\\\\~\\ a\\ \\ #x00e3 put \\ \\\\\\~\\ a\\ \\ #x00c3 put \\ \\\\\\\ a\\ #x00e4 put \\ \\\\\\\ a\\ #x00c4 put \\ \\\\\\\ e\\ #x00eb put \\ \\\\\\\ e\\ #x00cb put \\ \\\\\\\ i\\ #x00ef put \\ \\\\\\\ i\\ #x00cf put \\ \\\\\\\ o\\ #x00f6 put \\ \\\\\\\ o\\ #x00d6 put \\ \\\\\\\ u\\ #x00fc put \\ \\\\\\\ u\\ #x00dc next rows missing put \\ \\\\\\`a\\ #x00e0 put \\ \\\\\\`a\\ #x00c0 put \\ \\\\\\`e\\ #x00e8 put \\ \\\\\\`e\\ #x00c8 put \\ \\\\\\`i\\ #x00ec put \\ \\\\\\`i\\ #x00cc put \\ \\\\\\`o\\ #x00f2 put \\ \\\\\\`o\\ #x00d2 put \\ \\\\\\`u\\ #x00f9 put \\ \\\\\\`u\\ #x00d9 put \\ \\\\\\'e\\ #x00e9 put \\ \\\\\\'e\\ #x00c9 put \\ \\\\\\'i\\ #x00ed put \\ \\\\\\'i\\ #x00cd put \\ \\\\\\'o\\ #x00f3 put \\ \\\\\\'o\\ #x00d3 put \\ \\\\\\'u\\ #x00fa put \\ \\\\\\'u\\ #x00da put \\ \\\\\\'a\\ #x00e1 put \\ \\\\\\'a\\ #x00c1 added next two chars put \\ \\\\\\'c\\ #x0107 put \\ \\\\\\'c\\ #x0106 next two lines wrong put \\ \\\\\\^a\\ #x00e2 put \\ \\\\\\^a\\ #x00c2 put \\ \\\\\\^o\\ #x00f4 put \\ \\\\\\^o\\ #x00d4 put \\ \\\\\\^u\\ #x00f9 put \\ \\\\\\^u\\ #x00d9 put \\ \\\\\\^e\\ #x00ea put \\ \\\\\\^e\\ #x00ca put \\ \\\\\\^i\\ #x00ee put \\ \\\\\\^i\\ #x00ce put \\ \\\\\\~o\\ #x00f5 put \\ \\\\\\~o\\ #x00d5 put \\ \\\\\\~n\\ #x00f1 put \\ \\\\\\~n\\ #x00d1 put \\ \\\\\\~a\\ #x00e3 put \\ \\\\\\~a\\ #x00c3 
711	OOCalcDatabase.java	LOGIC	net sf jabref logic exporter util arraylist util collections util list javax xml parsers documentbuilder javax xml parsers documentbuilderfactory net sf jabref logic bibtex comparator fieldcomparator net sf jabref logic bibtex comparator fieldcomparatorstack net sf jabref logic layout format getopenofficetype net sf jabref logic layout format removebrackets net sf jabref logic layout format removewhitespace net sf jabref model database bibdatabase net sf jabref model entry bibentry net sf jabref model entry fieldname org apache commons logging log org apache commons logging logfactory org w3c dom document org w3c dom element org w3c dom text author morten alver based net sf jabref modsdatabase michael wrighton oocalcdatabase list<bibentry> entries log logger logfactory getlog oocalcdatabase oocalcdatabase bibdatabase bibtex list<bibentry> entries make list comparators sorting entries: list<fieldcomparator> comparators arraylist<> comparators add fieldcomparator fieldname author comparators add fieldcomparator fieldname year comparators add fieldcomparator bibentry key field use glazed lists get sorted view entries: list<bibentry> entrylist arraylist<> set list entries keyset null entries whose ids keyset otherwise: entries null entrylist addall bibtex getentries else entrylist addall entries collections sort entrylist fieldcomparatorstack<> comparators entries entrylist document getdomrepresentation document result null try documentbuilder dbuild documentbuilderfactory newinstance newdocumentbuilder result dbuild newdocument element collection result createelement office:document content collection setattribute xmlns http: openoffice org office collection setattribute xmlns:office http: openoffice org office collection setattribute xmlns:style http: openoffice org style collection setattribute xmlns:text http: openoffice org text collection setattribute xmlns:table http: openoffice org table collection setattribute xmlns:office:class spreadsheet collection setattribute xmlns:office:version collection setattribute xmlns:fo http: www w3 org xsl format element el result createelement office:script collection appendchild el el result createelement office:automatic styles element el2 result createelement style:style el2 setattribute style:name ro1 el2 setattribute style:family table row element el3 result createelement style properties el3 setattribute style:row height 1681inch el3 setattribute fo:break auto el3 setattribute style:use optimal row height true el2 appendchild el3 el appendchild el2 el2 result createelement style:style el2 setattribute style:name ta1 el2 setattribute style:family table el2 setattribute style:master page name default el3 result createelement style:properties el3 setattribute table:display true el2 appendchild el3 el appendchild el2 collection appendchild el element body result createelement office:body element table result createelement table:table table setattribute table:name biblio table setattribute table style name ta1 element row result createelement table:table row row setattribute table style name ro1 addtablecell result row type addtablecell result row isbn addtablecell result row identifier addtablecell result row author addtablecell result row title addtablecell result row journal addtablecell result row volume addtablecell result row number addtablecell result row month addtablecell result row pages addtablecell result row year addtablecell result row address addtablecell result row note addtablecell result row url addtablecell result row booktitle addtablecell result row chapter addtablecell result row edition addtablecell result row series addtablecell result row editor addtablecell result row publisher addtablecell result row reporttype addtablecell result row howpublished addtablecell result row institution addtablecell result row organization addtablecell result row school addtablecell result row annote addtablecell result row assignee addtablecell result row day addtablecell result row dayfiled addtablecell result row monthfiled addtablecell result row yearfiled addtablecell result row language addtablecell result row nationality addtablecell result row revision addtablecell result row custom1 addtablecell result row custom2 addtablecell result row custom3 addtablecell result row custom4 addtablecell result row custom5 table appendchild row bibentry entries row result createelement table:table row addtablecell result row getopenofficetype format gettype addtablecell result row getfield fieldname isbn addtablecell result row getfield bibentry key field addtablecell result row getfield fieldname author authorlastfirst format getfield fieldname author field addtablecell result row removewhitespace format removebrackets format getfield fieldname title addtablecell result row getfield fieldname journal addtablecell result row getfield fieldname volume addtablecell result row getfield fieldname number addtablecell result row getfield fieldname month addtablecell result row getfield fieldname pages addtablecell result row getfield fieldname year addtablecell result row getfield fieldname address addtablecell result row getfield fieldname note addtablecell result row getfield fieldname url addtablecell result row getfield fieldname booktitle addtablecell result row getfield fieldname chapter addtablecell result row getfield fieldname edition addtablecell result row getfield fieldname series addtablecell result row getfield fieldname editor authorlastfirst format getfield fieldname editor field addtablecell result row getfield fieldname publisher addtablecell result row getfield reporttype addtablecell result row getfield fieldname howpublished addtablecell result row getfield fieldname institution addtablecell result row getfield fieldname organization addtablecell result row getfield fieldname school addtablecell result row getfield fieldname annote addtablecell result row getfield fieldname assignee addtablecell result row getfield fieldname day addtablecell result row getfield fieldname dayfiled addtablecell result row getfield fieldname monthfiled addtablecell result row getfield fieldname yearfiled addtablecell result row getfield fieldname language addtablecell result row getfield fieldname nationality addtablecell result row getfield fieldname revision addtablecell result row addtablecell result row addtablecell result row addtablecell result row addtablecell result row table appendchild row body appendchild table collection appendchild body result appendchild collection catch exception logger warn exception caught result string getfield bibentry string field getfield field orelse addtablecell document doc element parent string content element cell doc createelement table:table cell element text doc createelement text:p text textnode doc createtextnode content text appendchild textnode text settextcontent content cell appendchild text parent appendchild cell 
712	BibTeXMLExportFormat.java	LOGIC	net sf jabref logic exporter lang reflect invocationtargetexception lang reflect method math biginteger nio charset charset util arrays util list util locale util map util objects util stream collectors javax xml bind jaxbcontext javax xml bind jaxbelement javax xml bind jaxbexception javax xml bind marshaller javax xml datatype datatypeconfigurationexception javax xml datatype datatypefactory javax xml datatype xmlgregoriancalendar javax xml namespace qname net sf jabref logic importer fileformat bibtexml article net sf jabref logic importer fileformat bibtexml book net sf jabref logic importer fileformat bibtexml booklet net sf jabref logic importer fileformat bibtexml conference net sf jabref logic importer fileformat bibtexml entry net sf jabref logic importer fileformat bibtexml file net sf jabref logic importer fileformat bibtexml inbook net sf jabref logic importer fileformat bibtexml incollection net sf jabref logic importer fileformat bibtexml inproceedings net sf jabref logic importer fileformat bibtexml manual net sf jabref logic importer fileformat bibtexml mastersthesis net sf jabref logic importer fileformat bibtexml misc net sf jabref logic importer fileformat bibtexml phdthesis net sf jabref logic importer fileformat bibtexml proceedings net sf jabref logic importer fileformat bibtexml techreport net sf jabref logic importer fileformat bibtexml unpublished net sf jabref model database bibdatabasecontext net sf jabref model entry bibentry org apache commons logging log org apache commons logging logfactory export format bibtexml format bibtexmlexportformat exportformat string bibtexml namespace uri http: bibtexml sf net locale english locale english log logger logfactory getlog bibtexmlexportformat jaxbcontext context bibtexmlexportformat super bibtexml bibtexml null null xml override performexport bibdatabasecontext databasecontext string resultfile charset encoding list<bibentry> entries throws saveexception objects requirenonnull databasecontext objects requirenonnull entries entries isempty export entries exist file file file bibentry bibentry entries entry entry entry bibentry getcitekeyoptional ifpresent citekey entry setid citekey string type bibentry gettype tolowercase english switch type case article parse article bibentry entry break case book parse book bibentry entry break case booklet parse booklet bibentry entry break case conference parse conference bibentry entry break case inbook parseinbook inbook bibentry entry break case incollection parse incollection bibentry entry break case inproceedings parse inproceedings bibentry entry break case mastersthesis parse mastersthesis bibentry entry break case manual parse manual bibentry entry break case misc parse misc bibentry entry break case phdthesis parse phdthesis bibentry entry break case proceedings parse proceedings bibentry entry break case techreport parse techreport bibentry entry break case unpublished parse unpublished bibentry entry break default: logger warn unexpected type appeared break file getentry add entry createmarshallerandwritetofile file resultfile createmarshallerandwritetofile file file string resultfile throws saveexception try context null context jaxbcontext newinstance file marshaller marshaller context createmarshaller marshaller setproperty marshaller jaxb formatted output boolean true marshaller marshal file io file resultfile catch jaxbexception throw saveexception contains logic link parse method inbook needs special treatment contents inbook stored list jaxbelements first need create jaxbelement every field add content list parseinbook inbook inbook bibentry bibentry entry entry map<string string> fieldmap bibentry getfieldmap map entry<string string> entryfield fieldmap entryset string value entryfield getvalue string key entryfield getkey year equals key xmlgregoriancalendar calendar try calendar datatypefactory newinstance newxmlgregoriancalendar value jaxbelement<xmlgregoriancalendar> year jaxbelement<> qname bibtexml namespace uri year xmlgregoriancalendar calendar inbook getcontent add year catch datatypeconfigurationexception logger error configuration error occured else number equals key jaxbelement<biginteger> number jaxbelement<> qname bibtexml namespace uri number biginteger biginteger value inbook getcontent add number else jaxbelement<string> element jaxbelement<> qname bibtexml namespace uri key string value inbook getcontent add element set entrytype entry entry setinbook inbook generic method gets instance entry type article book booklet also gets one bibentry method checks fields entry fields method uses set method entry type fieldname example bib entry field author value max mustermann given type article method invoke <code>article setauthor max mustermann code> <br> <br> second part method entry type set entry type article <code>entry setarticle article code> invoked param entrytype type parameterized type entry param bibentry bib entry fields set entrytype param entry bibtexml entry entrytype set entry <t> parse entrytype bibentry bibentry entry entry list<method> declaredsetmethods getlistofsetmethods entrytype map<string string> fieldmap bibentry getfieldmap map entry<string string> entryfield fieldmap entryset string value entryfield getvalue string key entryfield getkey method method declaredsetmethods string methodnamewithoutset method getname replace set tolowercase english try year equals key key equals methodnamewithoutset try xmlgregoriancalendar calendar datatypefactory newinstance newxmlgregoriancalendar value method invoke entrytype calendar catch datatypeconfigurationexception logger error configuration error occured break else number equals key key equals methodnamewithoutset method invoke entrytype biginteger value break else key equals methodnamewithoutset method invoke entrytype value break catch illegalaccessexception illegalargumentexception invocationtargetexception logger error could invoke method set entrytype entry list<method> entrymethods getlistofsetmethods entry method method entrymethods string methodwithoutset method getname replace set string simpleclassname entrytype getclass getsimplename methodwithoutset equals simpleclassname try method invoke entry entrytype catch illegalaccessexception illegalargumentexception invocationtargetexception logger warn could set type entry <t> list<method> getlistofsetmethods entrytype arrays aslist entrytype getclass getdeclaredmethods stream filter method method getname startswith set collect collectors tolist 
713	MSBibExportFormat.java	LOGIC	net sf jabref logic exporter io ioexception nio charset charset nio charset standardcharsets nio file paths util list util objects javax xml transform outputkeys javax xml transform transformer javax xml transform transformerexception javax xml transform transformerfactory javax xml transform transformerfactoryconfigurationerror javax xml transform dom domsource javax xml transform stream streamresult net sf jabref logic msbib msbibdatabase net sf jabref model database bibdatabasecontext net sf jabref model entry bibentry exportformat exporting msbib xml format msbibexportformat exportformat msbibexportformat super ms office msbib null null xml override performexport bibdatabasecontext databasecontext string file charset encoding list<bibentry> entries throws saveexception objects requirenonnull databasecontext objects requirenonnull entries entries isempty forcing use utf8 output format problems xml export encodings savesession session filesavesession standardcharsets utf false msbibdatabase msbibdatabase msbibdatabase databasecontext getdatabase entries try verifyingwriter ps session getwriter try domsource source domsource msbibdatabase getdomforexport streamresult result streamresult ps transformer trans transformerfactory newinstance newtransformer trans setoutputproperty outputkeys indent yes trans transform source result catch transformerexception illegalargumentexception transformerfactoryconfigurationerror throw error finalizesavesession session paths get file catch ioexception ex throw saveexception ex 
714	SaveException.java	LOGIC	net sf jabref logic exporter net sf jabref logic l10n localization net sf jabref model entry bibentry exception thrown saving goes wrong caused specific entry keeps track entry caused problem saveexception exception saveexception file locked saveexception could save file locked another jabref instance localization lang could save file locked another jabref instance saveexception backup creation saveexception unable create backup localization lang unable create backup bibentry entry status string localizedmessage saveexception string message super message entry null saveexception string message string localizedmessage super message localizedmessage localizedmessage entry null saveexception string message status super message entry null status status saveexception string message bibentry entry super message entry entry saveexception string message string localizedmessage bibentry entry super message localizedmessage localizedmessage entry entry saveexception exception base base getmessage base getlocalizedmessage saveexception exception base bibentry entry base getmessage base getlocalizedmessage entry getstatus status bibentry getentry entry boolean specificentry entry null override string getlocalizedmessage localizedmessage null getmessage else localizedmessage 
715	BibtexDatabaseWriter.java	LOGIC	net sf jabref logic exporter io ioexception io writer nio charset charset util map net sf jabref logic bibtex bibentrywriter net sf jabref logic bibtex latexfieldformatter net sf jabref logic bibtex latexfieldformatterpreferences net sf jabref logic util os net sf jabref model database bibdatabasecontext net sf jabref model database bibdatabasemode net sf jabref model entry bibentry net sf jabref model entry bibtexstring net sf jabref model entry customentrytype net sf jabref model metadata metadata net sf jabref model strings stringutil bibtexdatabasewriter<e savesession> bibdatabasewriter<e> string string prefix string string comment prefix comment string preamble prefix preamble string database id prefix dbid: bibtexdatabasewriter savesessionfactory<e> savesessionfactory super savesessionfactory override writeepilogue string epilogue throws saveexception stringutil isnullorempty epilogue try getwriter write os newline getwriter write epilogue getwriter write os newline catch ioexception throw saveexception override writemetadataitem map entry<string string> metaitem throws saveexception stringbuilder stringbuilder stringbuilder stringbuilder append os newline stringbuilder append comment prefix append metadata meta flag append metaitem getkey append stringbuilder append metaitem getvalue stringbuilder append stringbuilder append os newline try getwriter write stringbuilder tostring catch ioexception throw saveexception override writepreamble string preamble throws saveexception stringutil isnullorempty preamble try getwriter write os newline getwriter write preamble prefix getwriter write preamble getwriter write os newline catch ioexception throw saveexception override writestring bibtexstring bibtexstring boolean isfirststring maxkeylength boolean reformatfile latexfieldformatterpreferences latexfieldformatterpreferences throws saveexception try string modified write back reformatfile bibtexstring haschanged getwriter write bibtexstring getparsedserialization write user comments string usercomments bibtexstring getusercomments usercomments isempty getwriter write usercomments os newline isfirststring getwriter write os newline getwriter write string prefix bibtexstring getname stringutil repeatspaces maxkeylength bibtexstring getname length bibtexstring getcontent isempty getwriter write else try string formatted latexfieldformatter latexfieldformatterpreferences format bibtexstring getcontent latexfieldformatter bibtex string getwriter write formatted catch illegalargumentexception ex throw illegalargumentexception character allowed bibtex strings unless escaped '\\#' \n saving please edit strings containing character getwriter write os newline catch ioexception throw saveexception override writeentrytypedefinition customentrytype customtype throws saveexception try getwriter write os newline getwriter write comment prefix getwriter write customtype getasstring getwriter write getwriter write os newline catch ioexception throw saveexception override writeprelogue bibdatabasecontext bibdatabasecontext charset encoding throws saveexception encoding null writes file encoding information try getwriter write getwriter write savepreferences encoding prefix encoding getwriter write os newline catch ioexception throw saveexception override writedatabaseid string shareddatabaseid throws saveexception try stringbuilder stringbuilder stringbuilder append append database id prefix append append shareddatabaseid append os newline getwriter write stringbuilder tostring catch ioexception throw saveexception override writeentry bibentry entry bibdatabasemode mode boolean isreformatfile latexfieldformatterpreferences latexfieldformatterpreferences throws saveexception bibentrywriter bibtexentrywriter bibentrywriter latexfieldformatter latexfieldformatterpreferences true try bibtexentrywriter write entry getwriter mode isreformatfile catch ioexception throw saveexception entry writer getwriter getactivesession getwriter 
716	OpenDocumentRepresentation.java	LOGIC	net sf jabref logic exporter util arraylist util collections util list javax xml parsers documentbuilder javax xml parsers documentbuilderfactory net sf jabref logic bibtex comparator fieldcomparator net sf jabref logic bibtex comparator fieldcomparatorstack net sf jabref logic layout format getopenofficetype net sf jabref logic layout format removebrackets net sf jabref logic layout format removewhitespace net sf jabref model database bibdatabase net sf jabref model entry bibentry net sf jabref model entry fieldname org apache commons logging log org apache commons logging logfactory org w3c dom document org w3c dom element org w3c dom text author morten alver based net sf jabref modsdatabase michael wrighton opendocumentrepresentation list<bibentry> entries bibdatabase database log logger logfactory getlog opendocumentrepresentation opendocumentrepresentation bibdatabase database list<bibentry> entries database database make list comparators sorting entries: list<fieldcomparator> comparators arraylist<> comparators add fieldcomparator fieldname author comparators add fieldcomparator fieldname year comparators add fieldcomparator bibentry key field use glazed lists get sorted view entries: list<bibentry> entrylist arraylist<> set list entries entries null entries given list entries null entrylist addall database getentries else entrylist addall entries collections sort entrylist fieldcomparatorstack<> comparators entries entrylist document getdomrepresentation document result null try documentbuilder dbuild documentbuilderfactory newinstance newdocumentbuilder result dbuild newdocument element collection result createelement office:document content collection setattribute xmlns http: openoffice org office collection setattribute xmlns:office urn:oasis:names:tc:opendocument:xmlns:office:1 collection setattribute xmlns:style urn:oasis:names:tc:opendocument:xmlns:style:1 collection setattribute xmlns:text urn:oasis:names:tc:opendocument:xmlns:text:1 collection setattribute xmlns:table urn:oasis:names:tc:opendocument:xmlns:table:1 collection setattribute xmlns:meta urn:oasis:names:tc:opendocument:xmlns:meta:1 collection setattribute office:version collection setattribute xmlns:fo urn:oasis:names:tc:opendocument:xmlns:xsl fo compatible:1 collection setattribute xmlns:xlink http: www w3 org xlink element el result createelement office:scripts collection appendchild el el result createelement office:automatic styles element el2 result createelement style:style el2 setattribute style:name ro1 el2 setattribute style:family table row element el3 result createelement style table row properties el3 setattribute style:row height 1681inch el3 setattribute fo:break auto el3 setattribute style:use optimal row height true el2 appendchild el3 el appendchild el2 el2 result createelement style:style el2 setattribute style:name ta1 el2 setattribute style:family table el2 setattribute style:master page name default el3 result createelement style:properties el3 setattribute table:display true el2 appendchild el3 el appendchild el2 collection appendchild el element body result createelement office:body element spreadsheet result createelement office:spreadsheet element table result createelement table:table table setattribute table:name biblio table setattribute table style name ta1 element row result createelement table:table row row setattribute table style name ro1 addtablecell result row identifier addtablecell result row type addtablecell result row address addtablecell result row assignee addtablecell result row annote addtablecell result row author addtablecell result row booktitle addtablecell result row chapter addtablecell result row day addtablecell result row dayfiled addtablecell result row edition addtablecell result row editor addtablecell result row howpublish addtablecell result row institution addtablecell result row journal addtablecell result row language addtablecell result row month addtablecell result row monthfiled addtablecell result row nationality addtablecell result row note addtablecell result row number addtablecell result row organization addtablecell result row pages addtablecell result row publisher addtablecell result row revision addtablecell result row school addtablecell result row series addtablecell result row title addtablecell result row reptype addtablecell result row volume addtablecell result row year addtablecell result row yearfiled addtablecell result row url addtablecell result row custom1 addtablecell result row custom2 addtablecell result row custom3 addtablecell result row custom4 addtablecell result row custom5 addtablecell result row isbn table appendchild row bibentry entries row result createelement table:table row addtablecell result row getfield bibentry key field addtablecell result row getopenofficetype format gettype addtablecell result row getfield fieldname address addtablecell result row getfield fieldname assignee addtablecell result row getfield fieldname annote addtablecell result row getfield fieldname author authorlastfirst format getfield fieldname author field addtablecell result row getfield fieldname booktitle addtablecell result row getfield fieldname chapter addtablecell result row getfield fieldname day addtablecell result row getfield fieldname dayfiled addtablecell result row getfield fieldname edition addtablecell result row getfield fieldname editor authorlastfirst format getfield fieldname editor field addtablecell result row getfield fieldname howpublished addtablecell result row getfield fieldname institution addtablecell result row getfield fieldname journal addtablecell result row getfield fieldname language addtablecell result row getfield fieldname month addtablecell result row getfield fieldname monthfiled addtablecell result row getfield fieldname nationality addtablecell result row getfield fieldname note addtablecell result row getfield fieldname number addtablecell result row getfield fieldname organization addtablecell result row getfield fieldname pages addtablecell result row getfield fieldname publisher addtablecell result row getfield fieldname revision addtablecell result row getfield fieldname school addtablecell result row getfield fieldname series addtablecell result row removewhitespace format removebrackets format getfield fieldname title addtablecell result row getfield reporttype addtablecell result row getfield fieldname volume addtablecell result row getfield fieldname year addtablecell result row getfield fieldname yearfiled addtablecell result row getfield fieldname url addtablecell result row addtablecell result row addtablecell result row addtablecell result row addtablecell result row addtablecell result row getfield fieldname isbn table appendchild row spreadsheet appendchild table body appendchild spreadsheet collection appendchild body result appendchild collection catch exception logger warn exception caught result string getfield bibentry string field getresolvedfieldoralias field database orelse addtablecell document doc element parent string content element cell doc createelement table:table cell element text doc createelement text:p text textnode doc createtextnode content text appendchild textnode text settextcontent content cell appendchild text parent appendchild cell 
717	ExportFormat.java	LOGIC	net sf jabref logic exporter io file io filenotfoundexception io filereader io ioexception io inputstreamreader io reader net url nio charset charset nio file path nio file paths util arraylist util hashmap util list util map util objects net sf jabref jabrefmain net sf jabref logic layout layout net sf jabref logic layout layoutformatterpreferences net sf jabref logic layout layouthelper net sf jabref model database bibdatabasecontext net sf jabref model entry bibentry org apache commons logging log org apache commons logging logfactory base export formats based templates exportformat iexportformat string displayname string consolename string lffilename string directory string extension charset encoding value set used override default encoding getcurrentbasepanel layoutformatterpreferences layoutpreferences savepreferences savepreferences boolean customexport string layout prefix resource layout log logger logfactory getlog exportformat initialize another export format based templates stored dir layoutfile lffilename param displayname name display user param consolename name call format console param lffilename name main layout file param directory directory find layout file param extension contain instance txt exportformat string displayname string consolename string lffilename string directory string extension displayname displayname consolename consolename lffilename lffilename directory directory extension extension initialize another export format based templates stored dir layoutfile lffilename param displayname name display user param consolename name call format console param lffilename name main layout file param directory directory find layout file param extension contain instance txt param layoutpreferences preferences layout param savepreferences preferences saving exportformat string displayname string consolename string lffilename string directory string extension layoutformatterpreferences layoutpreferences savepreferences savepreferences displayname consolename lffilename directory extension layoutpreferences layoutpreferences savepreferences savepreferences empty default constructor subclasses exportformat intentionally empty indicate whether custom export custom export looks layout files using normal file path built export looks classpath param custom true indicate custom export format setcustomexport boolean custom customexport custom see iexportformat#getconsolename override string getconsolename consolename see iexportformat#getdisplayname override string getdisplayname displayname set encoding used preference default value obtained basepanel param encoding name encoding use setencoding charset encoding encoding encoding see iexportformat#getextension override string getextension extension method reader given layout file read <p> <p> subclasses exportformat free override provide implementation param filename filename newly created reader throws ioexception reader could created reader getreader string filename throws ioexception custom export use given filename: string dir customexport dir else dir layout prefix directory null directory attempt get reader file path given either loading resource within jar normal file unsuccessful file found ioexception thrown string name dir filename reader reader try loading resource first works files inside jar: url reso jabrefmain getresource name work try loading normal file url: try reso null file file name reader filereader else reader inputstreamreader reso openstream catch filenotfoundexception ex throw ioexception cannot find layout file: name reader perform export code database param databasecontext database export param file file write resulting export param encoding encoding database param entries contains entries exported throws ioexception problem occurred trying write code writer read required resources throws exception error occurred export see net sf jabref logic exporter iexportformat#performexport bibdatabasecontext string charset list override performexport bibdatabasecontext databasecontext string file charset encoding list<bibentry> entries throws exception objects requirenonnull databasecontext objects requirenonnull entries entries isempty export entries export avoids exports template text path outfile paths get file savesession ss null encoding null try ss filesavesession encoding false catch saveexception ex perhaps overriding encoding work? fall back default encoding logger warn get save session ex ss null ss filesavesession encoding false try verifyingwriter ps ss getwriter layout beginlayout null check export filter bundled name formatters: add preferences layouts access custom name formatters: readformatterfile list<string> missingformatters arraylist<> print header try reader reader getreader lffilename begin layout layouthelper layouthelper layouthelper reader layoutpreferences beginlayout layouthelper getlayoutfromtext catch ioexception ex exception cast export filter begin file write header beginlayout null ps write beginlayout dolayout databasecontext encoding missingformatters addall beginlayout getmissingformatters write database entries entries sorted appear screen sorted author depending preferences also supply set entries export certain entries non null used choose entries otherwise null ignored list<bibentry> sorted bibdatabasewriter getsortedentries databasecontext entries savepreferences load default layout layout deflayout layouthelper layouthelper try reader reader getreader lffilename layout layouthelper layouthelper reader layoutpreferences deflayout layouthelper getlayoutfromtext deflayout null missingformatters addall deflayout getmissingformatters missingformatters isempty logger warn missingformatters map<string layout> layouts hashmap<> layout layout exportformats entrynumber bibentry entry sorted exportformats entrynumber increment entry counter get layout string type entry gettype layouts containskey type layout layouts get type else try reader reader getreader lffilename type layout try get type specific layout entry layouthelper layouthelper reader layoutpreferences layout layouthelper getlayoutfromtext layouts put type layout layout null missingformatters addall layout getmissingformatters catch ioexception ex exception indicates type specific layout exists go default one layout deflayout write entry layout null ps write layout dolayout entry databasecontext getdatabase print footer changed section begin arudert layout endlayout null try reader reader getreader lffilename end layout layouthelper layouthelper reader layoutpreferences endlayout layouthelper getlayoutfromtext catch ioexception ex exception thrown export filter end file write footer endlayout null ps write endlayout dolayout databasecontext encoding missingformatters addall endlayout getmissingformatters clear custom name formatters: layoutpreferences clearcustomexportnameformatters missingformatters isempty stringbuilder sb stringbuilder following formatters could found: sb append string join missingformatters logger warn sb finalizesavesession ss outfile override performexport bibdatabasecontext databasecontext path file charset encoding list<bibentry> entries throws exception performexport databasecontext file getfilename tostring encoding entries see name formatter file bundled export format read name formatters used filter layouts readformatterfile file formatterfile file lffilename formatters formatterfile exists try reader filereader formatterfile ok found opened file read contents: stringbuilder sb stringbuilder read sb append char string[] lines sb tostring split \n go line: string line1 lines string line line1 trim deal empty lines: line isempty continue index line indexof ':' todo: need accept escaped colons here? index index line length string formattername line substring index string contents line substring index layoutpreferences putcustomexportnameformatter formattername contents catch ioexception ex todo: show error message here? logger warn problem opening formatter file ex finalizesavesession savesession ss path file throws saveexception ioexception ss getwriter flush ss getwriter close ss getwriter couldencodeall logger warn could encode ss commit file 
718	ModsExportFormat.java	LOGIC	net sf jabref logic exporter io file io ioexception math biginteger nio charset charset util list util map util objects javax xml bind jaxbcontext javax xml bind jaxbelement javax xml bind jaxbexception javax xml bind marshaller javax xml namespace qname net sf jabref logic importer fileformat mods abstractdefinition net sf jabref logic importer fileformat mods codeortext net sf jabref logic importer fileformat mods datedefinition net sf jabref logic importer fileformat mods detaildefinition net sf jabref logic importer fileformat mods extentdefinition net sf jabref logic importer fileformat mods genredefinition net sf jabref logic importer fileformat mods identifierdefinition net sf jabref logic importer fileformat mods issuancedefinition net sf jabref logic importer fileformat mods languagedefinition net sf jabref logic importer fileformat mods languagetermdefinition net sf jabref logic importer fileformat mods locationdefinition net sf jabref logic importer fileformat mods modscollectiondefinition net sf jabref logic importer fileformat mods modsdefinition net sf jabref logic importer fileformat mods namedefinition net sf jabref logic importer fileformat mods namepartdefinition net sf jabref logic importer fileformat mods notedefinition net sf jabref logic importer fileformat mods origininfodefinition net sf jabref logic importer fileformat mods partdefinition net sf jabref logic importer fileformat mods physicallocationdefinition net sf jabref logic importer fileformat mods placedefinition net sf jabref logic importer fileformat mods placetermdefinition net sf jabref logic importer fileformat mods relateditemdefinition net sf jabref logic importer fileformat mods stringpluslanguage net sf jabref logic importer fileformat mods stringpluslanguageplusauthority net sf jabref logic importer fileformat mods stringpluslanguageplussupplied net sf jabref logic importer fileformat mods subjectdefinition net sf jabref logic importer fileformat mods titleinfodefinition net sf jabref logic importer fileformat mods typeofresourcedefinition net sf jabref logic importer fileformat mods urldefinition net sf jabref model database bibdatabasecontext net sf jabref model entry bibentry net sf jabref model entry fieldname exportformat exporting mods xml format modsexportformat exportformat string minus string minus string mods schema location http: www loc gov standards mods v3 mods xsd string mods namespace uri http: www loc gov mods v3 jaxbcontext context modsexportformat super mods mods null null xml override performexport bibdatabasecontext databasecontext string file charset encoding list<bibentry> entries throws saveexception ioexception objects requirenonnull databasecontext objects requirenonnull entries entries isempty export entries exist try modscollectiondefinition modscollection modscollectiondefinition bibentry bibentry entries modsdefinition mods modsdefinition bibentry getcitekeyoptional ifpresent citekey addidentifier citekey citekey mods map<string string> fieldmap bibentry getfieldmap addgenre bibentry mods origininfodefinition origininfo origininfodefinition partdefinition partdefinition partdefinition relateditemdefinition relateditem relateditemdefinition map entry<string string> entry fieldmap entryset string key entry getkey string value entry getvalue switch key case fieldname author: handleauthors mods value break case affiliation addaffiliation mods value break case fieldname abstract: addabstract mods value break case fieldname title: addtitle mods value break case fieldname language: addlanguage mods value break case fieldname location: addlocation mods value break case fieldname url: addurl mods value break case fieldname note: addnote mods value break case fieldname keywords: addkeywords mods value break case fieldname volume: adddetail fieldname volume value partdefinition break case fieldname issue: adddetail fieldname issue value partdefinition break case fieldname pages: addpages partdefinition value break case fieldname uri: addidentifier fieldname uri value mods break case fieldname isbn: addidentifier fieldname isbn value mods break case fieldname issn: addidentifier fieldname issn value mods break case fieldname doi: addidentifier fieldname doi value mods break case fieldname pmid: addidentifier fieldname pmid value mods break case fieldname journal: addjournal value relateditem break default: break addorigininformation key value origininfo mods getmodsgroup add origininfo addrelatedandorigininfotomodsgroup relateditem partdefinition mods modscollection getmods add mods jaxbelement<modscollectiondefinition> jaxbelement jaxbelement<> qname mods namespace uri modscollection modscollectiondefinition modscollection createmarshallerandwritetofile file jaxbelement catch jaxbexception ex throw saveexception ex createmarshallerandwritetofile string file jaxbelement<modscollectiondefinition> jaxbelement throws jaxbexception context null context jaxbcontext newinstance modscollectiondefinition marshaller marshaller context createmarshaller format output marshaller setproperty marshaller jaxb formatted output boolean true marshaller setproperty marshaller jaxb schema location mods schema location write file marshaller marshal jaxbelement file file addrelatedandorigininfotomodsgroup relateditemdefinition relateditem partdefinition partdefinition modsdefinition mods relateditem getmodsgroup add partdefinition relateditem setattype host mods getmodsgroup add relateditem typeofresourcedefinition typeofresource typeofresourcedefinition typeofresource setvalue text mods getmodsgroup add typeofresource addgenre bibentry bibentry modsdefinition mods genredefinition genre genredefinition genre setvalue bibentry gettype mods getmodsgroup add genre addabstract modsdefinition mods string value abstractdefinition abstractdefinition abstractdefinition abstractdefinition setvalue value mods getmodsgroup add abstractdefinition addtitle modsdefinition mods string value titleinfodefinition titleinfo titleinfodefinition stringpluslanguage title stringpluslanguage title setvalue value jaxbelement<stringpluslanguage> element jaxbelement<> qname mods namespace uri title stringpluslanguage title titleinfo gettitleorsubtitleorpartnumber add element mods getmodsgroup add titleinfo addaffiliation modsdefinition mods string value namedefinition namedefinition namedefinition stringpluslanguage affiliation stringpluslanguage affiliation setvalue value jaxbelement<stringpluslanguage> element jaxbelement<> qname mods namespace uri affiliation stringpluslanguage affiliation namedefinition getaffiliationorroleordescription add element mods getmodsgroup add namedefinition addlocation modsdefinition mods string value locationdefinition locationdefinition locationdefinition one location string[] locations value split string location locations physicallocationdefinition physicallocation physicallocationdefinition physicallocation setvalue location locationdefinition getphysicallocation add physicallocation mods getmodsgroup add locationdefinition addnote modsdefinition mods string value string[] notes value split string note notes notedefinition notedefinition notedefinition notedefinition setvalue note mods getmodsgroup add notedefinition addurl modsdefinition mods string value string[] urls value split locationdefinition location locationdefinition string url urls urldefinition urldefinition urldefinition urldefinition setvalue url location geturl add urldefinition mods getmodsgroup add location addjournal string value relateditemdefinition relateditem titleinfodefinition titleinfo titleinfodefinition stringpluslanguage title stringpluslanguage title setvalue value jaxbelement<stringpluslanguage> element jaxbelement<> qname mods namespace uri title stringpluslanguage title titleinfo gettitleorsubtitleorpartnumber add element relateditem getmodsgroup add titleinfo addlanguage modsdefinition mods string value languagedefinition language languagedefinition languagetermdefinition languageterm languagetermdefinition languageterm setvalue value language getlanguageterm add languageterm mods getmodsgroup add language addpages partdefinition partdefinition string value value contains minus addstartandendpage value partdefinition minus else value contains minus addstartandendpage value partdefinition minus else biginteger total biginteger value extentdefinition extent extentdefinition extent settotal total partdefinition getdetailorextentordate add extent addkeywords modsdefinition mods string value string[] keywords value split string keyword keywords subjectdefinition subject subjectdefinition stringpluslanguageplusauthority topic stringpluslanguageplusauthority topic setvalue keyword jaxbelement<?> element jaxbelement<> qname mods namespace uri topic stringpluslanguageplusauthority topic subject gettopicorgeographicortemporal add element mods getmodsgroup add subject handleauthors modsdefinition mods string value string[] authors value split string author authors namedefinition name namedefinition name setattype personal namepartdefinition namepart namepartdefinition author contains author contains indicates author forename family name commaindex author indexof string familyname author substring commaindex namepart setattype family namepart setvalue familyname jaxbelement<namepartdefinition> element jaxbelement<> qname mods namespace uri namepart namepartdefinition namepart name getnamepartordisplayformoraffiliation add element take care forenames string forename author substring commaindex author length string[] forenames forename split string given forenames given isempty namepartdefinition namepartdefinition namepartdefinition namepartdefinition setattype given namepartdefinition setvalue given element jaxbelement<> qname mods namespace uri namepart namepartdefinition namepartdefinition name getnamepartordisplayformoraffiliation add element mods getmodsgroup add name else indicates family name namepart setattype family namepart setvalue author jaxbelement<namepartdefinition> element jaxbelement<> qname mods namespace uri namepart namepartdefinition namepart name getnamepartordisplayformoraffiliation add element mods getmodsgroup add name addidentifier string key string value modsdefinition mods citekey equals key mods setid value identifierdefinition identifier identifierdefinition identifier settype key identifier setvalue value mods getmodsgroup add identifier addstartandendpage string value partdefinition partdefinition string minus minusindex value indexof minus string startpage value substring minusindex string endpage minus equals minus endpage value substring minusindex else minus equals minus endpage value substring minusindex stringpluslanguage start stringpluslanguage start setvalue startpage stringpluslanguage end stringpluslanguage end setvalue endpage extentdefinition extent extentdefinition extent setstart start extent setend end partdefinition getdetailorextentordate add extent adddetail string detailname string value partdefinition partdefinition detaildefinition detail detaildefinition stringpluslanguage detailtype stringpluslanguage detailtype setvalue value detail settype detailname jaxbelement<stringpluslanguage> element jaxbelement<> qname mods namespace uri number stringpluslanguage detailtype detail getnumberorcaptionortitle add element partdefinition getdetailorextentordate add detail addorigininformation string key string value origininfodefinition origininfo fieldname year equals key adddate dateissued value origininfo else created equals key adddate datecreated value origininfo else modified equals key adddate datemodified value origininfo else captured equals key adddate datecaptured value origininfo else fieldname publisher equals key stringpluslanguageplussupplied publisher stringpluslanguageplussupplied publisher setvalue value jaxbelement<stringpluslanguageplussupplied> element jaxbelement<> qname mods namespace uri publisher stringpluslanguageplussupplied publisher origininfo getplaceorpublisherordateissued add element else issuance equals key issuancedefinition issuance issuancedefinition fromvalue value jaxbelement<issuancedefinition> element jaxbelement<> qname mods namespace uri issuance issuancedefinition issuance origininfo getplaceorpublisherordateissued add element else address equals key placedefinition placedefinition placedefinition one place split get places add string[] places value split string place places placetermdefinition placeterm placetermdefinition there's possibility see bib entry whether code text since bib entry assume text placeterm settype codeortext text placeterm setvalue place placedefinition getplaceterm add placeterm jaxbelement<placedefinition> element jaxbelement<> qname mods namespace uri place placedefinition placedefinition origininfo getplaceorpublisherordateissued add element else edition equals key stringpluslanguageplussupplied edition stringpluslanguageplussupplied edition setvalue value jaxbelement<stringpluslanguageplussupplied> element jaxbelement<> qname mods namespace uri edition stringpluslanguageplussupplied edition origininfo getplaceorpublisherordateissued add element adddate string datename string value origininfodefinition origininfo datedefinition dateissued datedefinition dateissued setkeydate yes dateissued setvalue value jaxbelement<datedefinition> element jaxbelement<> qname mods namespace uri datename datedefinition dateissued origininfo getplaceorpublisherordateissued add element 
719	ExportComparator.java	LOGIC	net sf jabref logic exporter util comparator util list exportcomparator comparator<list<string>> override compare list<string> s1 list<string> s2 s1 get compareto s2 get 
720	IExportFormat.java	LOGIC	net sf jabref logic exporter nio charset charset nio file path util list net sf jabref model database bibdatabasecontext net sf jabref model entry bibentry interface iexportformat name call format console string getconsolename name display user instance save file format drop box string getdisplayname string getextension perform export param databasecontext database export param file filename write param encoding encoding use param entries may null list containing entries exported null entries exported throws exception performexport bibdatabasecontext databasecontext string file charset encoding list<bibentry> entries throws exception perform export gets path nio path instead string param databasecontext database export param file path file write path nio path param encoding encoding use param entries may null list containing entries exported null entries exported throws exception performexport bibdatabasecontext databasecontext path file charset encoding list<bibentry> entries throws exception 
721	FileSaveSession.java	LOGIC	net sf jabref logic exporter io ioexception nio charset charset nio file files nio file path nio file attribute posixfilepermission util enumset util set net sf jabref logic util io filebasedlock net sf jabref logic util io fileutil org apache commons logging log org apache commons logging logfactory used handle safe storage disk <p> usage: create savesession giving file save encoding whether make backup savesession provide writer store actually goes temporary file writer keeps track whether characters could saved characters encodable <p> saving finished client close writer save put effect call commit otherwise call cancel canceling temporary file simply deleted target file remains unchanged committing temporary file copied target file making backup requested target file already existed finally temporary file deleted <p> committing fails temporary file deleted filesavesession savesession log logger logfactory getlog filesavesession filenames string backup extension bak string temp prefix jabref string temp suffix save bib path temporaryfile filesavesession charset encoding boolean backup throws saveexception encoding backup createtemporaryfile filesavesession charset encoding boolean backup path temporaryfile throws saveexception super encoding backup getwriterforfile encoding temporaryfile temporaryfile temporaryfile verifyingwriter getwriterforfile charset encoding path file throws saveexception try verifyingwriter files newoutputstream file encoding catch ioexception throw saveexception path createtemporaryfile throws saveexception try files createtempfile filesavesession temp prefix filesavesession temp suffix catch ioexception throw saveexception override commit path file throws saveexception file null backup files exists file path backupfile fileutil addextension file backup extension fileutil copyfile file backupfile true try always use lock file try filebasedlock createlockfile file oops lock file already existed try wait out: filebasedlock waitforfilelock file throw saveexception file locked catch ioexception ex logger error error creating lock file ex try save file permissions restore later default: allow everything set<posixfilepermission> oldfilepermissions enumset allof posixfilepermission fileutil isposixcompilant files exists file try oldfilepermissions files getposixfilepermissions file catch ioexception exception logger warn error getting file permissions exception fileutil copyfile temporaryfile file true restore file permissions fileutil isposixcompilant try files setposixfilepermissions file oldfilepermissions catch ioexception exception throw saveexception exception finally filebasedlock deletelockfile file try files deleteifexists temporaryfile catch ioexception logger warn cannot delete temporary file override cancel try files deleteifexists temporaryfile catch ioexception logger warn cannot delete temporary file 
722	ExportFormats.java	LOGIC	net sf jabref logic exporter nio charset standardcharsets util collections util map util treemap net sf jabref logic l10n localization net sf jabref logic layout layoutformatterpreferences exportformats map<string iexportformat> export formats treemap<> global variable used counting output entries exporting: entrynumber initallexports map<string exportformat> customformats layoutformatterpreferences layoutpreferences savepreferences savepreferences exportformats export formats clear initialize build export formats exportformats putformat exportformat html html html null html layoutpreferences savepreferences exportformats putformat exportformat localization lang simple html simplehtml simplehtml null html layoutpreferences savepreferences exportformats putformat exportformat docbook docbook docbook null xml layoutpreferences savepreferences exportformats putformat exportformat din din1505 din1505winword din1505 rtf layoutpreferences savepreferences exportformats putformat exportformat bibo rdf bibordf bibordf null rdf layoutpreferences savepreferences exportformats putformat exportformat localization lang html table tablerefs tablerefs tablerefs html layoutpreferences savepreferences exportformats putformat exportformat localization lang html list listrefs listrefs listrefs html layoutpreferences savepreferences exportformats putformat exportformat localization lang html table bibtex tablerefsabsbib tablerefsabsbib tablerefsabsbib html layoutpreferences savepreferences exportformats putformat exportformat harvard rtf harvard harvard harvard rtf layoutpreferences savepreferences exportformats putformat exportformat iso rtf iso690rtf iso690rtf iso690rtf rtf layoutpreferences savepreferences exportformats putformat exportformat iso iso690txt iso690 iso690txt txt layoutpreferences savepreferences exportformats putformat exportformat endnote endnote endnote endnote txt layoutpreferences savepreferences exportformats putformat exportformat openoffice libreoffice csv oocsv openoffice csv openoffice csv layoutpreferences savepreferences exportformat ef exportformat ris ris ris ris ris layoutpreferences savepreferences ef setencoding standardcharsets utf exportformats putformat ef exportformats putformat exportformat mis quarterly misq misq misq rtf layoutpreferences savepreferences exportformats putformat bibtexmlexportformat exportformats putformat openofficedocumentcreator exportformats putformat opendocumentspreadsheetcreator exportformats putformat msbibexportformat exportformats putformat modsexportformat add custom export formats iexportformat format customformats values exportformats putformat format build string listing available export formats param maxlinelength max line length line break must added param lineprefix line break added prefix inserted beginning next line string describing available formats string getconsoleexportlist maxlinelength firstlinesubtr string lineprefix stringbuilder sb stringbuilder lastbreak firstlinesubtr string name exportformats export formats keyset sb length name length lastbreak maxlinelength sb append \n lastbreak sb length sb append lineprefix else sb length sb append sb append name sb tostring get map export formats map containing export formats mapped console names map<string iexportformat> getexportformats perhaps overly paranoid make defensive copy case: collections unmodifiablemap exportformats export formats look named export format param consolename export name given jabref console help information exportformat null exportformat name registered iexportformat getexportformat string consolename exportformats export formats get consolename putformat iexportformat format exportformats export formats put format getconsolename format 
723	SaveSession.java	LOGIC	net sf jabref logic exporter nio charset charset nio file path nio file paths util arraylist util list util objects net sf jabref model fieldchange savesession charset encoding verifyingwriter writer list<fieldchange> undoablefieldchanges arraylist<> boolean backup savesession charset encoding boolean backup verifyingwriter writer encoding objects requirenonnull encoding backup backup writer objects requirenonnull writer verifyingwriter getwriter writer charset getencoding encoding setusebackup boolean usebackup backup usebackup commit path file throws saveexception commit string path throws saveexception commit paths get path cancel list<fieldchange> getfieldchanges undoablefieldchanges addfieldchanges list<fieldchange> newundoablefieldchanges undoablefieldchanges addall newundoablefieldchanges 
724	VerifyingWriter.java	LOGIC	net sf jabref logic exporter io ioexception io outputstream io outputstreamwriter nio charset charset nio charset charsetencoder util set util treeset writer outputstreamwriter also checks chosen encoding supports text written currently boolean value stored remember whether everything gone well verifyingwriter outputstreamwriter charsetencoder encoder boolean couldencodeall true set<character> problemcharacters treeset<> verifyingwriter outputstream charset encoding super encoding encoder encoding newencoder override write string str throws ioexception super write str encoder canencode str str length encoder canencode str charat problemcharacters add str charat couldencodeall false boolean couldencodeall couldencodeall string getproblemcharacters stringbuilder chars stringbuilder character ch problemcharacters chars append ch charvalue chars tostring 
725	OpenOfficeDocumentCreator.java	LOGIC	net sf jabref logic exporter io bufferedinputstream io bufferedoutputstream io file io fileinputstream io fileoutputstream io ioexception io inputstream io outputstream io outputstreamwriter io writer net url nio charset charset nio charset standardcharsets util list util objects util zip zipentry util zip zipoutputstream javax xml transform outputkeys javax xml transform transformer javax xml transform transformerfactory javax xml transform dom domsource javax xml transform stream streamresult net sf jabref model database bibdatabase net sf jabref model database bibdatabasecontext net sf jabref model entry bibentry org apache commons logging log org apache commons logging logfactory author alver openofficedocumentcreator exportformat log logger logfactory getlog openofficedocumentcreator creates instance openofficedocumentcreator openofficedocumentcreator super openoffice libreoffice calc oocalc null null sxc override performexport bibdatabasecontext databasecontext string file charset encoding list<bibentry> entries throws exception objects requirenonnull databasecontext objects requirenonnull entries entries isempty export entries openofficedocumentcreator exportopenofficecalc file file databasecontext getdatabase entries storeopenofficefile file file inputstream source throws exception try zipoutputstream zipoutputstream bufferedoutputstream fileoutputstream file zipentry zipentry zipentry content xml putnextentry zipentry source read write closeentry add manifest required ooo meta xml mimetype files resource openoffice directory copied verbatim zip file openofficedocumentcreator addresourcefile meta xml resource openoffice meta xml openofficedocumentcreator addresourcefile mimetype resource openoffice mimetype openofficedocumentcreator addresourcefile meta inf manifest xml resource openoffice manifest xml exportopenofficecalc file file bibdatabase database list<bibentry> entries throws exception first store xml formatted content temporary file file tmpfile file createtempfile oocalc null openofficedocumentcreator exportopenofficecalcxml tmpfile database entries add content zip file: try bufferedinputstream bufferedinputstream fileinputstream tmpfile openofficedocumentcreator storeopenofficefile file delete temporary file: tmpfile delete logger info cannot delete temporary export file exportopenofficecalcxml file tmpfile bibdatabase database list<bibentry> entries oocalcdatabase od oocalcdatabase database entries try writer ps outputstreamwriter fileoutputstream tmpfile standardcharsets utf domsource source domsource od getdomrepresentation streamresult result streamresult ps transformer trans transformerfactory newinstance newtransformer trans setoutputproperty outputkeys indent yes trans transform source result catch exception throw error addresourcefile string name string resource zipoutputstream throws ioexception zipentry zipentry zipentry name putnextentry zipentry openofficedocumentcreator addfromresource resource closeentry addfromresource string resource outputstream url url openofficedocumentcreator getresource resource try inputstream url openstream byte[] buffer byte[256] synchronized true bytesread read buffer bytesread break write buffer bytesread catch ioexception logger warn cannot get resource 
726	OpenDocumentSpreadsheetCreator.java	LOGIC	net sf jabref logic exporter io bufferedinputstream io bufferedoutputstream io file io fileinputstream io fileoutputstream io ioexception io inputstream io outputstream io outputstreamwriter io writer net url nio charset charset nio charset standardcharsets util list util objects util zip crc32 util zip zipentry util zip zipoutputstream javax xml transform outputkeys javax xml transform transformer javax xml transform transformerfactory javax xml transform dom domsource javax xml transform stream streamresult net sf jabref logic l10n localization net sf jabref model database bibdatabase net sf jabref model database bibdatabasecontext net sf jabref model entry bibentry org apache commons logging log org apache commons logging logfactory author alver opendocumentspreadsheetcreator exportformat log logger logfactory getlog opendocumentspreadsheetcreator creates instance openofficedocumentcreator opendocumentspreadsheetcreator super localization lang opendocument spreadsheet ods null null ods override performexport bibdatabasecontext databasecontext string file charset encoding list<bibentry> entries throws ioexception objects requirenonnull databasecontext objects requirenonnull entries entries isempty export entries exists opendocumentspreadsheetcreator exportopendocumentspreadsheet file file databasecontext getdatabase entries storeopendocumentspreadsheetfile file file inputstream source throws ioexception try zipoutputstream zipoutputstream bufferedoutputstream fileoutputstream file addresourcefile mimetype resource ods mimetype zipentry ze zipentry mimetype string mime application vnd oasis opendocument spreadsheet ze setmethod zipentry stored ze setsize mime length crc32 crc crc32 crc update mime getbytes ze setcrc crc getvalue putnextentry ze mime length write mime charat closeentry zipentry zipentry zipentry content xml zipentry setmethod zipentry deflated putnextentry zipentry source read write closeentry add manifest required ooo meta xml resource ods directory copied verbatim zip file opendocumentspreadsheetcreator addresourcefile meta xml resource ods meta xml opendocumentspreadsheetcreator addresourcefile meta inf manifest xml resource ods manifest xml exportopendocumentspreadsheet file file bibdatabase database list<bibentry> entries throws ioexception first store xml formatted content temporary file file tmpfile file createtempfile opendocument null opendocumentspreadsheetcreator exportopendocumentspreadsheetxml tmpfile database entries add content zip file: try bufferedinputstream bufferedinputstream fileinputstream tmpfile opendocumentspreadsheetcreator storeopendocumentspreadsheetfile file delete temporary file: tmpfile delete logger info cannot delete temporary export file exportopendocumentspreadsheetxml file tmpfile bibdatabase database list<bibentry> entries opendocumentrepresentation od opendocumentrepresentation database entries try writer ps outputstreamwriter fileoutputstream tmpfile standardcharsets utf domsource source domsource od getdomrepresentation streamresult result streamresult ps transformer trans transformerfactory newinstance newtransformer trans setoutputproperty outputkeys indent yes trans transform source result catch exception throw error addresourcefile string name string resource zipoutputstream throws ioexception zipentry zipentry zipentry name putnextentry zipentry opendocumentspreadsheetcreator addfromresource resource closeentry addfromresource string resource outputstream url url opendocumentspreadsheetcreator getresource resource try inputstream url openstream byte[] buffer byte[256] synchronized true bytesread read buffer bytesread break write buffer bytesread catch ioexception logger warn cannot get resource 
727	StringSaveSession.java	LOGIC	net sf jabref logic exporter io bytearrayoutputstream io ioexception io unsupportedencodingexception nio charset charset nio file files nio file path org apache commons logging log org apache commons logging logfactory stringsavesession savesession log logger logfactory getlog stringsavesession bytearrayoutputstream outputstream stringsavesession charset encoding boolean backup encoding backup bytearrayoutputstream stringsavesession charset encoding boolean backup bytearrayoutputstream outputstream super encoding backup verifyingwriter outputstream encoding outputstream outputstream string getstringvalue try outputstream tostring encoding name catch unsupportedencodingexception logger warn override commit path file throws saveexception try files write file outputstream tobytearray catch ioexception throw saveexception override cancel try outputstream close catch ioexception logger warn 
728	MetaDataSerializer.java	LOGIC	net sf jabref logic exporter util arraylist util collections util hashmap util list util map util treemap net sf jabref logic util os net sf jabref model bibtexkeypattern abstractbibtexkeypattern net sf jabref model bibtexkeypattern globalbibtexkeypattern net sf jabref model cleanup fieldformattercleanups net sf jabref model groups grouptreenode net sf jabref model metadata metadata net sf jabref model strings stringutil metadataserializer writes data format <key serialized data> map<string string> getserializedstringmap metadata metadata globalbibtexkeypattern globalcitekeypattern first write meta data except groups map<string list<string>> stringymetadata hashmap<> metadata getsaveorderconfig ifpresent saveorderconfig stringymetadata put metadata save order config saveorderconfig getasstringlist metadata getsaveactions ifpresent saveactions stringymetadata put metadata save actions saveactions getasstringlist os newline metadata isprotected stringymetadata put metadata flag meta collections singletonlist true stringymetadata putall serializecitekeypattern metadata globalcitekeypattern metadata getmode ifpresent mode stringymetadata put metadata database type collections singletonlist mode getasstring metadata getdefaultfiledirectory ifpresent path stringymetadata put metadata file directory collections singletonlist path trim metadata getuserfiledirectories foreach user path stringymetadata put metadata file directory user collections singletonlist path trim map<string string> serializedmetadata serializemetadata stringymetadata write groups present skip root node exists always allentriesgroup metadata getgroups filter root root getnumberofchildren ifpresent root serializedmetadata put metadata groupstree serializegroups root serializedmetadata map<string string> serializemetadata map<string list<string>> stringymetadata map<string string> serializedmetadata treemap<> map entry<string list<string>> metaitem stringymetadata entryset stringbuilder stringbuilder stringbuilder string dataitem metaitem getvalue stringbuilder append stringutil quote dataitem metadata separator string metadata escape character append metadata separator string case save actions add additional newline enabled flag metaitem getkey equals metadata save actions fieldformattercleanups enabled equals dataitem fieldformattercleanups disabled equals dataitem stringbuilder append os newline string serializeditem stringbuilder tostring add non empty values serializeditem isempty metadata separator string equals serializeditem serializedmetadata put metaitem getkey serializeditem serializedmetadata map<string list<string>> serializecitekeypattern metadata metadata globalbibtexkeypattern globalcitekeypattern map<string list<string>> stringypattern hashmap<> abstractbibtexkeypattern citekeypattern metadata getcitekeypattern globalcitekeypattern string key citekeypattern getallkeys citekeypattern isdefaultvalue key list<string> data arraylist<> data add citekeypattern getvalue key get string metadatakey metadata prefix keypattern key stringypattern put metadatakey data citekeypattern getdefaultvalue null citekeypattern getdefaultvalue isempty list<string> data arraylist<> data add citekeypattern getdefaultvalue get stringypattern put metadata keypatterndefault data stringypattern string serializegroups grouptreenode root stringbuilder stringbuilder stringbuilder stringbuilder append os newline string groupnode root gettreeasstring stringbuilder append stringutil quote groupnode metadata separator string metadata escape character stringbuilder append metadata separator string stringbuilder append os newline stringbuilder tostring 
729	BibDatabaseWriter.java	LOGIC	net sf jabref logic exporter io ioexception nio charset charset util arraylist util arrays util collections util comparator util hashmap util linkedlist util list util map util objects util optional util treemap util regex matcher util regex pattern util stream collectors net sf jabref logic bibtex latexfieldformatterpreferences net sf jabref logic bibtex comparator bibtexstringcomparator net sf jabref logic bibtex comparator crossrefentrycomparator net sf jabref logic bibtex comparator fieldcomparator net sf jabref logic bibtex comparator fieldcomparatorstack net sf jabref logic bibtex comparator idcomparator net sf jabref model entrytypes net sf jabref model fieldchange net sf jabref model bibtexkeypattern globalbibtexkeypattern net sf jabref model cleanup fieldformattercleanups net sf jabref model database bibdatabase net sf jabref model database bibdatabasecontext net sf jabref model database bibdatabasemode net sf jabref model entry bibentry net sf jabref model entry bibtexstring net sf jabref model entry customentrytype net sf jabref model entry entrytype net sf jabref model metadata metadata net sf jabref model metadata saveorderconfig bibdatabasewriter<e savesession> pattern reference pattern pattern compile #[a za z] used detect string references strings savesessionfactory<e> savesessionfactory session bibdatabasewriter savesessionfactory<e> savesessionfactory savesessionfactory savesessionfactory interface savesessionfactory<e savesession> createsavesession charset encoding boolean makebackup throws saveexception list<fieldchange> applysaveactions list<bibentry> tochange metadata metadata list<fieldchange> changes arraylist<> optional<fieldformattercleanups> saveactions metadata getsaveactions saveactions ifpresent actions save actions defined apply every entry bibentry entry tochange changes addall actions applysaveactions entry changes list<fieldchange> applysaveactions bibentry entry metadata metadata applysaveactions arrays aslist entry metadata list<comparator<bibentry>> getsavecomparators savepreferences preferences metadata metadata list<comparator<bibentry>> comparators arraylist<> optional<saveorderconfig> saveorder getsaveorder preferences metadata take care using crossrefentry comparator referred entries occur referring ones necessary requirement bibtex able resolve referenced entries correctly comparators add crossrefentrycomparator saveorder ispresent entries sorted based internal ids comparators add idcomparator else use configured sorting strategy comparators add fieldcomparator saveorder get sortcriteria[0] comparators add fieldcomparator saveorder get sortcriteria[1] comparators add fieldcomparator saveorder get sortcriteria[2] comparators add fieldcomparator bibentry key field comparators begun use getsortedentries database save operations non database save operations non database save operation exportdatabase call wish use global preference saving standard order list<bibentry> getsortedentries bibdatabasecontext bibdatabasecontext list<bibentry> entriestosort savepreferences preferences objects requirenonnull bibdatabasecontext objects requirenonnull entriestosort meta data present simply original order bibdatabasecontext getmetadata null list<bibentry> result linkedlist<> result addall entriestosort result list<comparator<bibentry>> comparators bibdatabasewriter getsavecomparators preferences bibdatabasecontext getmetadata fieldcomparatorstack<bibentry> comparatorstack fieldcomparatorstack<> comparators list<bibentry> sorted arraylist<> sorted addall entriestosort collections sort sorted comparatorstack sorted optional<saveorderconfig> getsaveorder savepreferences preferences metadata metadata three options: original order order specified metadata order specified preferences preferences issaveinoriginalorder optional empty preferences gettakemetadatasaveorderinaccount metadata getsaveorderconfig optional ofnullable preferences getsaveorder saves complete database savedatabase bibdatabasecontext bibdatabasecontext savepreferences preferences throws saveexception savepartofdatabase bibdatabasecontext bibdatabasecontext getdatabase getentries preferences saves database including specified entries savepartofdatabase bibdatabasecontext bibdatabasecontext list<bibentry> entries savepreferences preferences throws saveexception session savesessionfactory createsavesession preferences getencodingordefault preferences getmakebackup optional<string> shareddatabaseidoptional bibdatabasecontext getdatabase getshareddatabaseid shareddatabaseidoptional ispresent writedatabaseid shareddatabaseidoptional get map collect entry type definitions must save along entries using map<string entrytype> typestowrite treemap<> file formats write something start file like encoding preferences getsavetype savepreferences databasesavetype plain bibtex writeprelogue bibdatabasecontext preferences getencoding write preamble one writepreamble bibdatabasecontext getdatabase getpreamble orelse write strings writestrings bibdatabasecontext getdatabase preferences isreformatfile preferences getlatexfieldformatterpreferences write database entries list<bibentry> sortedentries getsortedentries bibdatabasecontext entries preferences list<fieldchange> saveactionchanges applysaveactions sortedentries bibdatabasecontext getmetadata session addfieldchanges saveactionchanges bibentry entry sortedentries check must write type definition entry well criterion non standard types customized standard types must written entrytypes getstandardtype entry gettype bibdatabasecontext getmode ispresent user defined entry type add otherwise gettype returns empty optional completely unknown entry type ignore entrytypes gettype entry gettype bibdatabasecontext getmode ifpresent entrytype typestowrite put entrytype getname entrytype writeentry entry bibdatabasecontext getmode preferences isreformatfile preferences getlatexfieldformatterpreferences preferences getsavetype savepreferences databasesavetype plain bibtex write meta data writemetadata bibdatabasecontext getmetadata preferences getglobalcitekeypattern write type definitions any: writeentrytypedefinitions typestowrite finally write whatever remains file least concluding newline writeepilogue bibdatabasecontext getdatabase getepilog try session getwriter close catch ioexception throw saveexception session writeprelogue bibdatabasecontext bibdatabasecontext charset encoding throws saveexception writeentry bibentry entry bibdatabasemode mode boolean isreformatfile latexfieldformatterpreferences latexfieldformatterpreferences throws saveexception writeepilogue string epilogue throws saveexception writes data specified writer using object's tostring method writemetadata metadata metadata globalbibtexkeypattern globalcitekeypattern throws saveexception objects requirenonnull metadata map<string string> serializedmetadata metadataserializer getserializedstringmap metadata globalcitekeypattern map entry<string string> metaitem serializedmetadata entryset writemetadataitem metaitem writemetadataitem map entry<string string> metaitem throws saveexception writepreamble string preamble throws saveexception writedatabaseid string shareddatabaseid throws saveexception write strings alphabetical order modified produce safe bibtex order strings reference param database database whose strings write writestrings bibdatabase database boolean reformatfile latexfieldformatterpreferences latexfieldformatterpreferences throws saveexception list<bibtexstring> strings database getstringkeyset stream map database::getstring collect collectors tolist strings sort bibtexstringcomparator true first make map entries: map<string bibtexstring> remaining hashmap<> maxkeylength bibtexstring string strings remaining put string getname string maxkeylength math max maxkeylength string getname length bibtexstring type bibtexstring type values boolean isfirststringintype true bibtexstring bs strings remaining containskey bs getname bs gettype writestring bs isfirststringintype remaining maxkeylength reformatfile latexfieldformatterpreferences isfirststringintype false writestring bibtexstring bibtexstring boolean isfirststring map<string bibtexstring> remaining maxkeylength boolean reformatfile latexfieldformatterpreferences latexfieldformatterpreferences throws saveexception first remove remaining list can't cause problem circular refs: remaining remove bibtexstring getname go string looking references strings find references strings write still write proceeding ensures string order acceptable bibtex string content bibtexstring getcontent matcher reference pattern matcher content find string foundlabel group restindex content indexof foundlabel foundlabel length content content substring restindex string label foundlabel substring foundlabel length label found exists key remaining map go write now: remaining containskey label bibtexstring referred remaining get label writestring referred isfirststring remaining maxkeylength reformatfile latexfieldformatterpreferences writestring bibtexstring isfirststring maxkeylength reformatfile latexfieldformatterpreferences writestring bibtexstring bibtexstring boolean isfirststring maxkeylength boolean reformatfile latexfieldformatterpreferences latexfieldformatterpreferences throws saveexception writeentrytypedefinitions map<string entrytype> types throws saveexception entrytype type types values type instanceof customentrytype writeentrytypedefinition customentrytype type writeentrytypedefinition customentrytype customtype throws saveexception savesession getactivesession session 
730	CustomExportList.java	LOGIC	net sf jabref logic exporter util comparator util list util map util objects util optional util treemap net sf jabref logic journals journalabbreviationloader net sf jabref logic layout layoutformatterpreferences net sf jabref preferences jabrefpreferences ca odell glazedlists basiceventlist ca odell glazedlists eventlist ca odell glazedlists sortedlist org apache commons logging log org apache commons logging logfactory handles user defined custom export formats initially read preferences kept alphabetically sorted name formats added removed modified sort method must called make sure formats stay properly sorted method store called export formats written preferences customexportlist eventlist<list<string>> list sortedlist<list<string>> sorted map<string exportformat> formats treemap<> log logger logfactory getlog customexportlist customexportlist comparator<list<string>> comp list basiceventlist<> sorted sortedlist<> list comp map<string exportformat> getcustomexportformats jabrefpreferences prefs journalabbreviationloader loader objects requirenonnull prefs objects requirenonnull loader formats clear readprefs prefs loader formats size list size eventlist<list<string>> getsortedlist sorted readprefs jabrefpreferences prefs journalabbreviationloader loader objects requirenonnull prefs objects requirenonnull loader formats clear list clear list<string> layoutformatterpreferences layoutpreferences prefs getlayoutformatterpreferences loader savepreferences savepreferences savepreferences loadforexportfrompreferences prefs prefs getstringlist jabrefpreferences custom export format isempty optional<exportformat> format createformat layoutpreferences savepreferences format ispresent formats put format get getconsolename format get list add else string customexportformat prefs get jabrefpreferences custom export format logger error error initializing custom export format string customexportformat optional<exportformat> createformat list<string> layoutformatterpreferences layoutpreferences savepreferences savepreferences size optional empty string lffilename get endswith layout lffilename get substring get length else lffilename get exportformat format exportformat get get lffilename null get layoutpreferences savepreferences format setcustomexport true optional format addformat list<string> layoutformatterpreferences layoutpreferences savepreferences savepreferences createformat layoutpreferences savepreferences ifpresent format formats put format getconsolename format list add remove list<string> toremove layoutformatterpreferences layoutpreferences savepreferences savepreferences createformat toremove layoutpreferences savepreferences ifpresent format formats remove format getconsolename list remove toremove store jabrefpreferences prefs list isempty purge prefs else list size prefs putstringlist jabrefpreferences custom export format list get purge list size prefs purge jabrefpreferences prefs prefs getstringlist jabrefpreferences custom export format isempty prefs remove jabrefpreferences custom export format 
731	SavePreferences.java	LOGIC	net sf jabref logic exporter nio charset charset util collections net sf jabref logic bibtex latexfieldformatterpreferences net sf jabref model bibtexkeypattern globalbibtexkeypattern net sf jabref model metadata saveorderconfig net sf jabref preferences jabrefpreferences savepreferences encoding written top bib file string encoding prefix encoding: boolean reformatfile boolean saveinoriginalorder saveorderconfig saveorder charset encoding boolean makebackup databasesavetype savetype boolean takemetadatasaveorderinaccount latexfieldformatterpreferences latexfieldformatterpreferences globalbibtexkeypattern globalcitekeypattern savepreferences true null null false databasesavetype true false latexfieldformatterpreferences globalbibtexkeypattern collections emptylist savepreferences boolean saveinoriginalorder saveorderconfig saveorder charset encoding boolean makebackup databasesavetype savetype boolean takemetadatasaveorderinaccount boolean reformatfile latexfieldformatterpreferences latexfieldformatterpreferences globalbibtexkeypattern globalcitekeypattern saveinoriginalorder saveinoriginalorder saveorder saveorder encoding encoding makebackup makebackup savetype savetype takemetadatasaveorderinaccount takemetadatasaveorderinaccount reformatfile reformatfile latexfieldformatterpreferences latexfieldformatterpreferences globalcitekeypattern globalcitekeypattern savepreferences loadforexportfrompreferences jabrefpreferences preferences boolean saveinoriginalorder preferences getboolean jabrefpreferences export original order saveorderconfig saveorder null saveinoriginalorder preferences getboolean jabrefpreferences export specified order saveorder preferences loadexportsaveorder else saveorder preferences loadtablesaveorder charset encoding preferences getdefaultencoding boolean makebackup preferences getboolean jabrefpreferences backup databasesavetype savetype databasesavetype boolean takemetadatasaveorderinaccount false boolean reformatfile preferences getboolean jabrefpreferences reformat file save export latexfieldformatterpreferences latexfieldformatterpreferences preferences getlatexfieldformatterpreferences globalbibtexkeypattern globalcitekeypattern preferences getkeypattern savepreferences saveinoriginalorder saveorder encoding makebackup savetype takemetadatasaveorderinaccount reformatfile latexfieldformatterpreferences globalcitekeypattern savepreferences loadforsavefrompreferences jabrefpreferences preferences boolean saveinoriginalorder false saveorderconfig saveorder null charset encoding preferences getdefaultencoding boolean makebackup preferences getboolean jabrefpreferences backup databasesavetype savetype databasesavetype boolean takemetadatasaveorderinaccount true boolean reformatfile preferences getboolean jabrefpreferences reformat file save export latexfieldformatterpreferences latexfieldformatterpreferences preferences getlatexfieldformatterpreferences globalbibtexkeypattern globalcitekeypattern preferences getkeypattern savepreferences saveinoriginalorder saveorder encoding makebackup savetype takemetadatasaveorderinaccount reformatfile latexfieldformatterpreferences globalcitekeypattern boolean gettakemetadatasaveorderinaccount takemetadatasaveorderinaccount saveorderconfig getsaveorder saveorder boolean issaveinoriginalorder saveinoriginalorder savepreferences withsaveinoriginalorder boolean newsaveinoriginalorder savepreferences newsaveinoriginalorder saveorder encoding makebackup savetype takemetadatasaveorderinaccount reformatfile latexfieldformatterpreferences globalcitekeypattern boolean getmakebackup makebackup savepreferences withmakebackup boolean newmakebackup savepreferences saveinoriginalorder saveorder encoding newmakebackup savetype takemetadatasaveorderinaccount reformatfile latexfieldformatterpreferences globalcitekeypattern charset getencoding encoding savepreferences withencoding charset newencoding savepreferences saveinoriginalorder saveorder newencoding makebackup savetype takemetadatasaveorderinaccount reformatfile latexfieldformatterpreferences globalcitekeypattern databasesavetype getsavetype savetype savepreferences withsavetype databasesavetype newsavetype savepreferences saveinoriginalorder saveorder encoding makebackup newsavetype takemetadatasaveorderinaccount reformatfile latexfieldformatterpreferences globalcitekeypattern boolean isreformatfile reformatfile savepreferences withreformatfile boolean newreformatfile savepreferences saveinoriginalorder saveorder encoding makebackup savetype takemetadatasaveorderinaccount newreformatfile latexfieldformatterpreferences globalcitekeypattern charset getencodingordefault encoding null charset defaultcharset encoding latexfieldformatterpreferences getlatexfieldformatterpreferences latexfieldformatterpreferences globalbibtexkeypattern getglobalcitekeypattern globalcitekeypattern enum databasesavetype plain bibtex 
732	MySQLProcessor.java	LOGIC	net sf jabref shared sql sqlexception processes incoming outgoing bib data mysql database manages structure mysqlprocessor dbmsprocessor mysqlprocessor dbmsconnection connection super connection creates sets needed tables columns according database type throws sqlexception override setup throws sqlexception connection createstatement executeupdate create table exists `entry` `shared id` null primary key auto increment `type` varchar null `version` default connection createstatement executeupdate create table exists `field` `entry shared id` null `name` varchar null `value` text default null foreign key `entry shared id` references `entry` `shared id` delete cascade connection createstatement executeupdate create table exists `metadata` `key` varchar null `value` text null override string escape string expression expression 
733	PostgresSQLNotificationListener.java	LOGIC	net sf jabref shared listener net sf jabref shared dbmsprocessor net sf jabref shared dbmssynchronizer com impossibl postgres api jdbc pgnotificationlistener listener postgresql database notifications postgressqlnotificationlistener pgnotificationlistener dbmssynchronizer dbmssynchronizer postgressqlnotificationlistener dbmssynchronizer dbmssynchronizer dbmssynchronizer dbmssynchronizer override notification processid string channel string payload payload equals dbmsprocessor processor id dbmssynchronizer pullchanges 
734	OracleNotificationListener.java	LOGIC	net sf jabref shared listener net sf jabref shared dbmssynchronizer oracle jdbc dcn databasechangeevent oracle jdbc dcn databasechangelistener listener oracle database notifications oraclenotificationlistener databasechangelistener dbmssynchronizer dbmssynchronizer oraclenotificationlistener dbmssynchronizer dbmssynchronizer dbmssynchronizer dbmssynchronizer override ondatabasechangenotification databasechangeevent event dbmssynchronizer pullchanges 
735	DBMSProcessor.java	LOGIC	net sf jabref shared sql connection sql databasemetadata sql preparedstatement sql resultset sql sqlexception util arraylist util hashmap util hashset util list util locale util map util optional util set util uuid net sf jabref model entry bibentry net sf jabref model entry event entryeventsource net sf jabref shared exception offlinelockexception org apache commons logging log org apache commons logging logfactory processes incoming outgoing bib data external sql database manages structure dbmsprocessor log logger logfactory getlog dbmsprocessor connection connection dbmsconnectionproperties connectionproperties string processor id uuid randomuuid tostring dbmsprocessor dbmsconnection dbmsconnection connection dbmsconnection getconnection connectionproperties dbmsconnection getproperties scans database required tables <code>true< code> structure matches requirements <code>false< code> throws sqlexception boolean checkbaseintegrity throws sqlexception checktableavailibility entry field metadata determines whether database using pre structure <code>true< code> structure old else <code>false< code> boolean checkforpre3dot6intergrity throws sqlexception checktableavailibility entries entry group entry types groups group types jabref database strings old tables checks whether given table names <b>case insensitive< b> exist database param tablenames table names checked <code>true< code> <b>all< b> given tables present else <code>false< code> boolean checktableavailibility string tablenames throws sqlexception list<string> requiredtables arraylist<> string name tablenames requiredtables add name touppercase locale english databasemetadata databasemetadata connection getmetadata gettables null restrictions try resultset databasemetadataresultset databasemetadata gettables null null null null databasemetadataresultset next string tablename databasemetadataresultset getstring table name touppercase requiredtables remove tablename remove matching tables check requiredtables emptiness requiredtables isempty creates sets needed tables columns according database type performs check whether needed tables present throws sqlexception setupshareddatabase throws sqlexception setup checkbaseintegrity happen users direct intervention shared database logger error corrupt shared database structure creates sets needed tables columns according database type throws sqlexception setup throws sqlexception escapes parts sql expressions like table field name match conventions database system using current dbmstype method dbmsprocessortest param expression table field name correctly escaped expression string escape string expression inserts given bibentry shared database param bibentry link bibentry inserted insertentry bibentry bibentry checkforbibentryexistence bibentry insertintoentrytable bibentry insertintofieldtable bibentry inserts given bibentry entry table param bibentry link bibentry inserted insertintoentrytable bibentry bibentry inserting entry table stringbuilder insertintoentryquery stringbuilder append insert append escape entry append append escape type append values method get generated keys accepted mysql postgresql oracle try preparedstatement preparedentrystatement connection preparestatement insertintoentryquery tostring string[] shared id preparedentrystatement setstring bibentry gettype preparedentrystatement executeupdate try resultset generatedkeys preparedentrystatement getgeneratedkeys generatedkeys next bibentry getsharedbibentrydata setsharedid generatedkeys getint set generated id locally catch sqlexception logger error sql error: checks whether given bibentry already exists shared database param bibentry link bibentry checked <code>true< code> existent else <code>false< code> boolean checkforbibentryexistence bibentry bibentry try check already exists sharedid bibentry getsharedbibentrydata getsharedid sharedid stringbuilder selectquery stringbuilder append select append escape entry append append escape shared id append try preparedstatement preparedselectstatement connection preparestatement selectquery tostring preparedselectstatement setint sharedid try resultset resultset preparedselectstatement executequery resultset next true catch sqlexception logger error sql error: false inserts given bibentry field table param bibentry link bibentry inserted insertintofieldtable bibentry bibentry try inserting field table string fieldname bibentry getfieldnames stringbuilder insertfieldquery stringbuilder append insert append escape field append append escape entry shared id append append escape name append append escape value append values try preparedstatement preparedfieldstatement connection preparestatement insertfieldquery tostring columnindex starts preparedfieldstatement setint bibentry getsharedbibentrydata getsharedid preparedfieldstatement setstring fieldname preparedfieldstatement setstring bibentry getfield fieldname get preparedfieldstatement executeupdate catch sqlexception logger error sql error: updates whole link bibentry shared database param localbibentry link bibentry affected changes throws sqlexception updateentry bibentry localbibentry throws offlinelockexception sqlexception connection setautocommit false disable auto commit due transaction try optional<bibentry> sharedentryoptional getsharedentry localbibentry getsharedbibentrydata getsharedid sharedentryoptional ispresent bibentry sharedbibentry sharedentryoptional get remove shared fields exist locally removesharedfieldsbydifference localbibentry sharedbibentry update local version higher entries equal localbibentry getsharedbibentrydata getversion sharedbibentry getsharedbibentrydata getversion localbibentry equals sharedbibentry insertorupdatefields localbibentry updating entry type stringbuilder updateentrytypequery stringbuilder append update append escape entry append set append escape type append append escape version append append escape version append append escape shared id append try preparedstatement preparedupdateentrytypestatement connection preparestatement updateentrytypequery tostring preparedupdateentrytypestatement setstring localbibentry gettype preparedupdateentrytypestatement setint localbibentry getsharedbibentrydata getsharedid preparedupdateentrytypestatement executeupdate connection commit apply changes current transaction else throw offlinelockexception localbibentry sharedbibentry catch sqlexception logger error sql error: connection rollback undo changes made current transaction finally connection setautocommit true enable auto commit mode helping method removes shared fields exist locally removesharedfieldsbydifference bibentry localbibentry bibentry sharedbibentry throws sqlexception set<string> nullfields hashset<> sharedbibentry getfieldnames nullfields removeall localbibentry getfieldnames string nullfield nullfields stringbuilder deletefieldquery stringbuilder append delete append escape field append append escape name append append escape entry shared id append try preparedstatement prepareddeletefieldstatement connection preparestatement deletefieldquery tostring prepareddeletefieldstatement setstring nullfield prepareddeletefieldstatement setint localbibentry getsharedbibentrydata getsharedid prepareddeletefieldstatement executeupdate helping method inserts key value pair field table every field existing otherwise update performed insertorupdatefields bibentry localbibentry throws sqlexception string fieldname localbibentry getfieldnames avoiding use deprecated bibentry getfield method null values accepted preparedstatement optional<string> valueoptional localbibentry getfield fieldname string value null valueoptional ispresent value valueoptional get stringbuilder selectfieldquery stringbuilder append select append escape field append append escape name append append escape entry shared id append try preparedstatement preparedselectfieldstatement connection preparestatement selectfieldquery tostring preparedselectfieldstatement setstring fieldname preparedselectfieldstatement setint localbibentry getsharedbibentrydata getsharedid try resultset selectfieldresultset preparedselectfieldstatement executequery selectfieldresultset next check field already exists stringbuilder updatefieldquery stringbuilder append update append escape field append set append escape value append append escape name append append escape entry shared id append try preparedstatement preparedupdatefieldstatement connection preparestatement updatefieldquery tostring preparedupdatefieldstatement setstring value preparedupdatefieldstatement setstring fieldname preparedupdatefieldstatement setint localbibentry getsharedbibentrydata getsharedid preparedupdatefieldstatement executeupdate else stringbuilder insertfieldquery stringbuilder append insert append escape field append append escape entry shared id append append escape name append append escape value append values try preparedstatement preparedfieldstatement connection preparestatement insertfieldquery tostring preparedfieldstatement setint localbibentry getsharedbibentrydata getsharedid preparedfieldstatement setstring fieldname preparedfieldstatement setstring value preparedfieldstatement executeupdate removes shared bibentry param bibentry link bibentry deleted removeentry bibentry bibentry stringbuilder query stringbuilder append delete append escape entry append append escape shared id append try preparedstatement preparedstatement connection preparestatement query tostring preparedstatement setint bibentry getsharedbibentrydata getsharedid preparedstatement executeupdate catch sqlexception logger error sql error: param sharedid entry id instance link bibentry optional<bibentry> getsharedentry sharedid list<bibentry> sharedentries getsharedentrylist sharedid sharedentries isempty optional sharedentries get optional empty list<bibentry> getsharedentries getsharedentrylist param sharedid entry id entries going fetched list link bibentry instances list<bibentry> getsharedentrylist sharedid list<bibentry> sharedentries arraylist<> stringbuilder selectentryquery stringbuilder selectentryquery append select selectentryquery append escape entry sharedid selectentryquery append selectentryquery append escape shared id selectentryquery append selectentryquery append sharedid selectentryquery append order selectentryquery append escape shared id try resultset selectentryresultset connection createstatement executequery selectentryquery tostring selectentryresultset next bibentry bibentry bibentry setting base attributes bibentry getsharedbibentrydata setsharedid selectentryresultset getint shared id bibentry settype selectentryresultset getstring type bibentry getsharedbibentrydata setversion selectentryresultset getint version stringbuilder selectfieldquery stringbuilder append select append escape field append append escape entry shared id append try preparedstatement preparedselectfieldstatement connection preparestatement selectfieldquery tostring preparedselectfieldstatement setint selectentryresultset getint shared id try resultset selectfieldresultset preparedselectfieldstatement executequery selectfieldresultset next bibentry setfield selectfieldresultset getstring name optional ofnullable selectfieldresultset getstring value entryeventsource shared sharedentries add bibentry catch sqlexception logger error sql error sharedentries retrieves mapping columns shared id version map<integer integer> getsharedidversionmapping map<integer integer> sharedidversionmapping hashmap<> stringbuilder selectentryquery stringbuilder append select append escape entry append order append escape shared id try resultset selectentryresultset connection createstatement executequery selectentryquery tostring selectentryresultset next sharedidversionmapping put selectentryresultset getint shared id selectentryresultset getint version catch sqlexception logger error sql error sharedidversionmapping fetches returns shared meta data map<string string> getsharedmetadata map<string string> data hashmap<> try resultset resultset connection createstatement executequery select escape metadata resultset next data put resultset getstring key resultset getstring value catch sqlexception logger error sql error data clears sets shared meta data param metadata jabref meta data throws sqlexception setsharedmetadata map<string string> data throws sqlexception connection createstatement executeupdate truncate table escape metadata delete data data table map entry<string string> metaentry data entryset stringbuilder query stringbuilder append insert append escape metadata append append escape key append append escape value append values try preparedstatement preparedstatement connection preparestatement query tostring preparedstatement setstring metaentry getkey preparedstatement setstring metaentry getvalue preparedstatement executeupdate catch sqlexception logger error sql error: returns instance type link dbmsprocessor dbmsprocessor getprocessorinstance dbmsconnection connection dbmstype type connection getproperties gettype type dbmstype mysql mysqlprocessor connection else type dbmstype postgresql postgresqlprocessor connection else type dbmstype oracle oracleprocessor connection null never happen except types added without updating method dbmsconnectionproperties getdbmsconnectionproperties connectionproperties listens notifications dbms needs implemented liveupdate supported dbms param dbmssynchronizer link dbmssynchronizer handles notification startnotificationlistener suppresswarnings unused dbmssynchronizer dbmssynchronizer nothing terminates notification listener needs implemented liveupdate supported dbms stopnotificationlistener nothing notifies clients link dbmssynchronizer connected dbms needs implemented liveupdate supported dbms notifyclients nothing 
736	DBMSType.java	MODEL	net sf jabref shared util locale util optional enumerates supported database systems dbms jabref enum dbmstype mysql mysql com mysql jdbc driver jdbc:mysql: s: oracle oracle oracle jdbc driver oracledriver jdbc:oracle:thin: s: d: postgresql postgresql com impossibl postgres jdbc pgdriver jdbc:pgsql: s: string type string driverpath string urlpattern defaultport dbmstype string type string driverpath string urlpattern defaultport type type driverpath driverpath urlpattern urlpattern defaultport defaultport override string tostring type path establishing jdbc connection string getdriverclasspath throws error driverpath prepared connection url appropriate system string geturl string host port string database string format urlpattern host port database retrieves port number dependent type database system getdefaultport defaultport optional<dbmstype> fromstring string typename try optional enum valueof dbmstype typename touppercase locale english catch illegalargumentexception exception optional empty 
737	DuplicateCheck.java	MODEL	net sf jabref model util hashmap util hashset util list util map util optional util set net sf jabref model database bibdatabase net sf jabref model database bibdatabasemode net sf jabref model entry authorlist net sf jabref model entry bibentry net sf jabref model entry entrytype net sf jabref model entry fieldname net sf jabref model entry fieldproperty net sf jabref model entry internalbibtexfields org apache commons logging log org apache commons logging logfactory contains utility method duplicate checking entries duplicatecheck log logger logfactory getlog duplicatecheck integer values indicating result duplicate check entries equal equal empty one empty two empty duplicatethreshold overall threshold signal duplicate pair non required fields investigated required fields give value within doubt range threshold: doubt range required weight weighting required fields extra weighting fields likely provide correct duplicate detection: map<string double> field weights hashmap<> duplicatecheck field weights put fieldname author duplicatecheck field weights put fieldname editor duplicatecheck field weights put fieldname title duplicatecheck field weights put fieldname journal checks two entries represent publication param one bibentry param two bibentry boolean boolean isduplicate bibentry one bibentry two bibdatabasemode bibdatabasemode first check type necessary condition: one gettype equals two gettype false entrytype type entrytypes gettypeordefault one gettype bibdatabasemode check required fields: list<string> var type getrequiredfieldsflat double[] req var null req double[] else req duplicatecheck comparefieldset var one two math abs req[0] duplicatecheck duplicatethreshold duplicatecheck doubt range far threshold value base decision req fields req[0] duplicatecheck duplicatethreshold close threshold value take look optional fields any: list<string> optionalfields type getoptionalfields optionalfields null double[] opt duplicatecheck comparefieldset optionalfields one two totvalue duplicatecheck required weight req[0] req[1] opt[0] opt[1] req[1] duplicatecheck required weight opt[1] totvalue duplicatecheck duplicatethreshold req[0] duplicatecheck duplicatethreshold double[] comparefieldset list<string> fields bibentry one bibentry two res totweights string field fields weight duplicatecheck field weights containskey field weight duplicatecheck field weights get field else weight totweights weight result duplicatecheck comparesinglefield field one two result equal res weight else result empty totweights weight totweights double[] res totweights totweights double[] comparesinglefield string field bibentry one bibentry two optional<string> optionalstringone one getfield field optional<string> optionalstringtwo two getfield field optionalstringone ispresent optionalstringtwo ispresent empty empty one else optionalstringtwo ispresent empty two strings present string stringone optionalstringone get string stringtwo optionalstringtwo get internalbibtexfields getfieldproperties field contains fieldproperty person names specific name fields harmonise case: string authorone authorlist fixauthorlastnameonlycommas stringone false replace tolowercase string authortwo authorlist fixauthorlastnameonlycommas stringtwo false replace tolowercase similarity duplicatecheck correlatebywords authorone authortwo similarity equal equal else fieldname pages equals field pages given variety delimiters replace harmonize simple simple test equality enough: stringone stringone replaceall stringtwo stringtwo replaceall stringone equals stringtwo equal equal else fieldname journal equals field attempt harmonize abbreviation state journal names remove periods names case abbreviated without dots: stringone stringone replace tolowercase stringtwo stringtwo replace tolowercase similarity duplicatecheck correlatebywords stringone stringtwo similarity equal equal else stringone stringone tolowercase stringtwo stringtwo tolowercase similarity duplicatecheck correlatebywords stringone stringtwo similarity equal equal compareentriesstrictly bibentry one bibentry two set<string> allfields hashset<> allfields addall one getfieldnames allfields addall two getfieldnames score string field allfields optional<string> stringone one getfield field optional<string> stringtwo two getfield field stringone equals stringtwo score score allfields size make sure use score>1 without trouble score allfields size goes entries given database least one duplicate given entry per util isduplicate bibentry bibentry duplicate returned search terminated first duplicate found param database database search param entry entry looking duplicates first duplicate entry found null duplicates found optional<bibentry> containsduplicate bibdatabase database bibentry entry bibdatabasemode bibdatabasemode bibentry database getentries duplicatecheck isduplicate entry bibdatabasemode optional duplicate found optional empty duplicate found compare two strings basis word word correlation analysis param s1 first string param s2 second string value interval [0 1] indicating degree match correlatebywords string s1 string s2 string[] w1 s1 split \\s string[] w2 s2 split \\s math min w1 length w2 length misses corr similarity w1[i] w2[i] corr misses missrate misses missrate calculates similarity number within two strings http: stackoverflow com questions similarity string comparison similarity string s1 string s2 string longer s1 string shorter s2 s1 length s2 length longer always greater length longer s2 shorter s1 longerlength longer length longerlength strings zero length sim longerlength editdistance longer shorter longerlength logger debug longer string: longer shorter string: shorter similarity: sim sim levenshtein edit distance http: stackoverflow com questions similarity string comparison editdistance string s1 string s2 string s1lowercase s1 tolowercase string s2lowercase s2 tolowercase int[] costs int[s2lowercase length 1] s1lowercase length lastvalue s2lowercase length costs[j] else newvalue costs[j 1] s1lowercase charat s2lowercase charat newvalue math min math min newvalue lastvalue costs[j] costs[j 1] lastvalue lastvalue newvalue costs[s2lowercase length lastvalue logger debug string 1: s1lowercase string 2: s2lowercase distance: costs[s2lowercase length costs[s2lowercase length 
738	ChainNode.java	MODEL	net sf jabref model util objects util optional represents node chain view chain vertical hierarchy thus refer previous node parent next node child <p> usual implementations nodes function wrappers around data object thus normally value property allows access value stored node contrast approach chainnode<t> designed used base provides tree traversing functionality via inheritance <p> example usage: basicchainnode chainnode<basicchainnode> basicchainnode super basicchainnode param <t> type suppresswarnings unchecked use explicit casts form constructor ensures cast valid chainnode<t chainnode<t>> node's parent null node parent parent node's child null node child child constructs chain node without parent child param derivingclass deriving treenode<t> always need parameter since hard get information means chainnode class<t> derivingclass parent null child null derivingclass isinstance throw unsupportedoperationexception extending chainnode<t> derive returns node's parent empty optional node parent node's parent empty optional node parent optional<t> getparent optional ofnullable parent returns node's child empty optional node child node's child empty optional node child optional<t> getchild optional ofnullable child removes node parent makes child specified node way whole subchain based node moved given node param target parent throws nullpointerexception target null throws unsupportedoperationexception target descendant node moveto target objects requirenonnull target check target node ancestor node would create loops tree isancestorof target throw unsupportedoperationexception target cannot descendant node remove previous parent getparent ifpresent oldparent oldparent removechild add child target setchild adds node child also sets parent given node node given node allowed already tree parent param child node add child child node throws unsupportedoperationexception given node already parent setchild child objects requirenonnull child child getparent ispresent throw unsupportedoperationexception cannot add node already parent use moveto instead child setparent child child child sets parent node node <p> method set node child parent remove node old parent probably call link #moveto chainnode change chain param parent parent setparent parent parent objects requirenonnull parent removes child node's child list giving empty parent removechild child null npe ever called child setparent null child null returns true node ancestor given node <p> node considered ancestor param anothernode node test true anothernode descendant node throws nullpointerexception anothernode null boolean isancestorof anothernode objects requirenonnull anothernode anothernode true else child isancestorof anothernode 
739	MetaDataChangedEvent.java	MODEL	net sf jabref model metadata event net sf jabref model database event bibdatabasecontextchangedevent net sf jabref model metadata metadata link metadatachangedevent fired tuple meta data put removed metadatachangedevent bibdatabasecontextchangedevent metadata metadata param metadata affected instance metadatachangedevent metadata metadata metadata metadata metadata getmetadata metadata 
740	SaveOrderConfig.java	MODEL	net sf jabref model metadata util arraylist util arrays util list util objects stores save order config metadata <p> format: <choice> pair field ascending boolean saveorderconfig string original original string specified specified boolean saveinoriginalorder quick hack outside modifications sortcriterion[] sortcriteria sortcriterion[3] saveorderconfig parse list<string> ordereddata saveorderconfig ordereddata sortcriterion string field boolean descending sortcriterion field sortcriterion string field string descending field field descending boolean parseboolean descending sortcriterion string field boolean descending field field descending descending override string tostring stringbuilder sb stringbuilder sortcriterion sb append field append field append '\'' sb append descending append descending sb append sb tostring override boolean equals object true null getclass getclass false sortcriterion sortcriterion objects equals descending descending objects equals field field override hashcode objects hash field descending saveorderconfig boolean saveinoriginalorder sortcriterion first sortcriterion second sortcriterion third saveinoriginalorder saveinoriginalorder sortcriteria[0] first sortcriteria[1] second sortcriteria[2] third override boolean equals object true instanceof saveorderconfig saveorderconfig saveorderconfig boolean sortcriteriaequals sortcriteria[0] equals sortcriteria[0] sortcriteria[1] equals sortcriteria[1] sortcriteria[2] equals sortcriteria[2] objects equals saveinoriginalorder saveinoriginalorder sortcriteriaequals false override hashcode objects hash saveinoriginalorder arrays hashcode sortcriteria saveorderconfig fill default values setsaveinoriginalorder sortcriteria[0] sortcriterion sortcriteria[1] sortcriterion sortcriteria[2] sortcriterion override string tostring stringbuilder sb stringbuilder saveorderconfig sb append saveinoriginalorder append saveinoriginalorder sb append sortcriteria append arrays tostring sortcriteria sb append sb tostring saveorderconfig list<string> data objects requirenonnull data data isempty throw illegalargumentexception string choice data get original equals choice setsaveinoriginalorder else setsaveinspecifiedorder data size sortcriteria[0] sortcriterion data get data get else sortcriteria[0] sortcriterion data size sortcriteria[1] sortcriterion data get data get else sortcriteria[1] sortcriterion data size sortcriteria[2] sortcriterion data get data get else sortcriteria[2] sortcriterion setsaveinoriginalorder saveinoriginalorder true setsaveinspecifiedorder saveinoriginalorder false outputs current configuration consumed later constructor list<string> getasstringlist list<string> res arraylist<> saveinoriginalorder res add original else res add specified res add sortcriteria[0] field res add boolean tostring sortcriteria[0] descending res add sortcriteria[1] field res add boolean tostring sortcriteria[1] descending res add sortcriteria[2] field res add boolean tostring sortcriteria[2] descending res saveorderconfig getdefaultsaveorder saveorderconfig standard saveorderconfig standard setsaveinoriginalorder standard 
741	FileDirectoryPreferences.java	MODEL	net sf jabref model metadata util map util optional net sf jabref model entry fieldname filedirectorypreferences string user map<string string> fieldfiledirectories boolean biblocationasprimary string dir suffix directory filedirectorypreferences string user map<string string> fieldfiledirectories boolean biblocationasprimary user user fieldfiledirectories fieldfiledirectories biblocationasprimary biblocationasprimary string getuser user optional<string> getfiledirectory string field optional ofnullable fieldfiledirectories get field optional<string> getfiledirectory getfiledirectory fieldname file boolean isbiblocationasprimary biblocationasprimary 
742	MetaData.java	MODEL	net sf jabref model metadata nio charset charset util collections util hashmap util list util map util objects util optional net sf jabref model bibtexkeypattern abstractbibtexkeypattern net sf jabref model bibtexkeypattern databasebibtexkeypattern net sf jabref model bibtexkeypattern globalbibtexkeypattern net sf jabref model cleanup fieldformattercleanups net sf jabref model database bibdatabasemode net sf jabref model database event changepropagation net sf jabref model entry fieldname net sf jabref model groups grouptreenode net sf jabref model groups event groupupdatedevent net sf jabref model metadata event metadatachangedevent com google common eventbus eventbus metadata string meta flag jabref meta: string save order config saveorderconfig string save actions saveactions string prefix keypattern keypattern string keypatterndefault keypatterndefault string database type databasetype string groupstree groupstree string file directory fieldname file filedirectorypreferences dir suffix string flag meta protectedflag char escape character '\\' char separator character string separator string string valueof separator character eventbus eventbus eventbus grouptreenode groupsroot charset encoding saveorderconfig saveorderconfig map<string string> citekeypatterns hashmap<> <bibtype pattern> map<string string> userfiledirectory hashmap<> <user filepath> string defaultcitekeypattern fieldformattercleanups saveactions bibdatabasemode mode boolean isprotected string defaultfiledirectory constructs empty metadata metadata nothing optional<saveorderconfig> getsaveorderconfig optional ofnullable saveorderconfig setsaveorderconfig saveorderconfig saveorderconfig saveorderconfig saveorderconfig postchange optional<grouptreenode> getgroups optional ofnullable groupsroot sets group root node <b>warning b>: invalidates everything returned getgroups far setgroups grouptreenode root groupsroot objects requirenonnull root groupsroot subscribetodescendantchanged grouptreenode eventbus post groupupdatedevent eventbus post groupupdatedevent stored label patterns abstractbibtexkeypattern getcitekeypattern globalbibtexkeypattern globalpattern objects requirenonnull globalpattern abstractbibtexkeypattern bibtexkeypattern databasebibtexkeypattern globalpattern add stored key patterns citekeypatterns foreach bibtexkeypattern::addbibtexkeypattern getdefaultcitekeypattern ifpresent bibtexkeypattern::setdefaultvalue bibtexkeypattern updates stored key patterns given key patterns param bibtexkeypattern key patterns update <br reference object stored internally returned getcitekeypattern setcitekeypattern abstractbibtexkeypattern bibtexkeypattern objects requirenonnull bibtexkeypattern list<string> defaultvalue bibtexkeypattern getdefaultvalue map<string list<string>> nondefaultpatterns bibtexkeypattern getpatterns setcitekeypattern defaultvalue nondefaultpatterns setcitekeypattern list<string> defaultvalue map<string list<string>> nondefaultpatterns remove patterns metadata citekeypatterns clear set value default value map entry<string list<string>> pattern nondefaultpatterns entryset citekeypatterns put pattern getkey pattern getvalue get store default pattern defaultvalue isempty defaultcitekeypattern null else defaultcitekeypattern defaultvalue get postchange optional<fieldformattercleanups> getsaveactions optional ofnullable saveactions setsaveactions fieldformattercleanups saveactions saveactions objects requirenonnull saveactions postchange optional<bibdatabasemode> getmode optional ofnullable mode setmode bibdatabasemode mode mode objects requirenonnull mode postchange boolean isprotected isprotected optional<string> getdefaultfiledirectory optional ofnullable defaultfiledirectory setdefaultfiledirectory string path defaultfiledirectory objects requirenonnull path trim postchange optional<string> getuserfiledirectory string user optional ofnullable userfiledirectory get user markasprotected isprotected true postchange cleardefaultfiledirectory defaultfiledirectory null postchange setuserfiledirectory string user string path userfiledirectory put objects requirenonnull user objects requirenonnull path postchange clearuserfiledirectory string user userfiledirectory remove user postchange markasnotprotected isprotected false postchange clearsaveactions saveactions null postchange clearsaveorderconfig saveorderconfig null postchange posts link metadatachangedevent link eventbus postchange eventbus post metadatachangedevent returns encoding used parsing optional<charset> getencoding optional ofnullable encoding setencoding charset encoding setencoding encoding changepropagation post event method additional parameter introduced avoid event loops saving database setencoding charset encoding changepropagation postchanges encoding objects requirenonnull encoding postchanges changepropagation post event postchange registerlistener object listener eventbus register listener unregisterlistener object listener eventbus unregister listener optional<string> getdefaultcitekeypattern optional ofnullable defaultcitekeypattern boolean isempty equals metadata map<string string> getuserfiledirectories collections unmodifiablemap userfiledirectory override boolean equals object true null getclass getclass false metadata metadata metadata isprotected metadata isprotected objects equals groupsroot metadata groupsroot objects equals encoding metadata encoding objects equals saveorderconfig metadata saveorderconfig objects equals citekeypatterns metadata citekeypatterns objects equals userfiledirectory metadata userfiledirectory objects equals defaultcitekeypattern metadata defaultcitekeypattern objects equals saveactions metadata saveactions mode metadata mode objects equals defaultfiledirectory metadata defaultfiledirectory override hashcode objects hash groupsroot encoding saveorderconfig citekeypatterns userfiledirectory defaultcitekeypattern saveactions mode isprotected defaultfiledirectory 
743	Defaults.java	MODEL	net sf jabref model net sf jabref model database bibdatabasemode defaults bibdatabasemode mode defaults mode bibdatabasemode bibtex defaults bibdatabasemode mode mode mode 
744	AbstractBibtexKeyPattern.java	MODEL	net sf jabref model bibtexkeypattern util arraylist util hashmap util list util map util objects util set util stringtokenizer util stream collectors small table entry type associated bibtex key pattern <code>arraylist< code> parent bibtexkeypattern set abstractbibtexkeypattern list<string> defaultpattern arraylist<> map<string list<string>> data hashmap<> addbibtexkeypattern string type string pattern data put type abstractbibtexkeypattern split pattern override string tostring stringbuilder sb stringbuilder abstractbibtexkeypattern sb append defaultpattern append defaultpattern sb append data append data sb append sb tostring override boolean equals object true null getclass getclass false abstractbibtexkeypattern abstractbibtexkeypattern objects equals defaultpattern defaultpattern objects equals data data override hashcode objects hash defaultpattern data remove bibtex key pattern bibtexkeypattern param type <code>string< code> removebibtexkeypattern string type data containskey type data remove type gets object desired key bibtexkeypattern one parents case databasebibtexkeypattern method first tries obtain object bibtexkeypattern via <code>get< code> method <code>hashtable< code> fails try default <br fails try parent <br fails default labelpattern<br param key <code>string< code> list strings given key first entry: complete key list<string> getvalue string key list<string> result data get key test see found anything result null check default value result getdefaultvalue result null result isempty last ask anything left getlastlevelbibtexkeypattern key result method takes string form [field1]spacer[field2]spacer[field3] fields required fields bibtex entry string split fields spacers recognizing param bibtexkeypattern <code>string< code> <code>arraylist< code> first item list string representation key pattern parameter remaining items fields list<string> split string bibtexkeypattern holder fields entry used key list<string> fieldlist arraylist<> anything add parameter arraylist fieldlist add bibtexkeypattern stringtokenizer tok stringtokenizer bibtexkeypattern [] true tok hasmoretokens fieldlist add tok nexttoken fieldlist checks whether pattern customized default value boolean isdefaultvalue string key data get key null method called value line methods null available list<string> getdefaultvalue defaultpattern sets default pattern key pattern param bibtexkeypattern pattern store setdefaultvalue string bibtexkeypattern objects requirenonnull bibtexkeypattern defaultpattern abstractbibtexkeypattern split bibtexkeypattern set<string> getallkeys data keyset map<string list<string>> getpatterns data entryset stream collect collectors tomap map entry::getkey map entry::getvalue list<string> getlastlevelbibtexkeypattern string key 
745	DatabaseBibtexKeyPattern.java	MODEL	net sf jabref model bibtexkeypattern util list databasebibtexkeypattern abstractbibtexkeypattern globalbibtexkeypattern globalbibtexkeypattern databasebibtexkeypattern globalbibtexkeypattern globalbibtexkeypattern globalbibtexkeypattern globalbibtexkeypattern override list<string> getlastlevelbibtexkeypattern string key globalbibtexkeypattern getvalue key 
746	GlobalBibtexKeyPattern.java	MODEL	net sf jabref model bibtexkeypattern util list globalbibtexkeypattern abstractbibtexkeypattern list<string> defaultbibtexkeypattern globalbibtexkeypattern list<string> bibtexkeypattern defaultbibtexkeypattern bibtexkeypattern override list<string> getlastlevelbibtexkeypattern string key defaultbibtexkeypattern 
747	CleanupJob.java	MODEL	net sf jabref model cleanup util list net sf jabref model fieldchange net sf jabref model entry bibentry functionalinterface interface cleanupjob cleanup entry list<fieldchange> cleanup bibentry entry 
748	FieldFormatterCleanup.java	MODEL	net sf jabref model cleanup util arraylist util collections util list util objects util set net sf jabref model fieldchange net sf jabref model entry bibentry net sf jabref model entry fieldname net sf jabref model entry event entryeventsource formats given entry field specified formatter fieldformattercleanup cleanupjob string field formatter formatter fieldformattercleanup string field formatter formatter field field formatter formatter override list<fieldchange> cleanup bibentry entry fieldname internal field equalsignorecase field cleanupallfields entry else fieldname internal text fields field equalsignorecase field cleanupalltextfields entry else cleanupsinglefield field entry runs formatter specified field given entry formatter returns empty string field removed param fieldkey field run formatter param entry entry cleaned list changes entry list<fieldchange> cleanupsinglefield string fieldkey bibentry entry entry hasfield fieldkey set nothing arraylist<> string oldvalue entry getfield fieldkey orelse null run formatter string newvalue formatter format oldvalue oldvalue equals newvalue arraylist<> else newvalue isempty entry clearfield fieldkey newvalue null else entry setfield fieldkey newvalue entryeventsource save action fieldchange change fieldchange entry fieldkey oldvalue newvalue collections singletonlist change list<fieldchange> cleanupallfields bibentry entry list<fieldchange> fieldchanges arraylist<> string fieldkey entry getfieldnames fieldchanges addall cleanupsinglefield fieldkey entry fieldchanges list<fieldchange> cleanupalltextfields bibentry entry list<fieldchange> fieldchanges arraylist<> set<string> fields entry getfieldnames fields removeall fieldname getnottextfieldnames string fieldkey fields fieldchanges addall cleanupsinglefield fieldkey entry fieldchanges string getfield field formatter getformatter formatter override boolean equals object true instanceof fieldformattercleanup fieldformattercleanup fieldformattercleanup objects equals field field objects equals formatter formatter false override hashcode objects hash field formatter override string tostring field formatter getname 
749	FieldFormatterCleanups.java	MODEL	net sf jabref model cleanup util arraylist util collections util hashmap util list util map util objects util stringjoiner net sf jabref model fieldchange net sf jabref model entry bibentry fieldformattercleanups string enabled enabled string disabled disabled list<fieldformattercleanup> actions boolean enabled fieldformattercleanups boolean enabled list<fieldformattercleanup> actions enabled enabled actions objects requirenonnull actions boolean isenabled enabled list<fieldformattercleanup> getconfiguredactions collections unmodifiablelist actions override boolean equals object true null getclass getclass false fieldformattercleanups fieldformattercleanups enabled enabled false actions equals actions override hashcode objects hash actions enabled list<fieldchange> applysaveactions bibentry entry enabled applyallactions entry else arraylist<> list<fieldchange> applyallactions bibentry entry list<fieldchange> result arraylist<> fieldformattercleanup action actions result addall action cleanup entry result list<string> getasstringlist string newline list<string> stringrepresentation arraylist<> enabled stringrepresentation add enabled else stringrepresentation add disabled string formatterstring getmetadatastring actions newline stringrepresentation add formatterstring stringrepresentation string getmetadatastring list<fieldformattercleanup> actionlist string newline first group formatters field apply map<string list<string>> groupedbyfield hashmap<> fieldformattercleanup cleanup actionlist string key cleanup getfield add list hashmap needed groupedbyfield containskey key groupedbyfield put key arraylist<> add formatter map already list<string> formattersforkey groupedbyfield get key formattersforkey contains cleanup getformatter getkey formattersforkey add cleanup getformatter getkey convert contents hashmap correct serialization stringbuilder result stringbuilder map entry<string list<string>> entry groupedbyfield entryset result append entry getkey stringjoiner joiner stringjoiner newline entry getvalue foreach joiner::add result append joiner tostring result tostring 
750	Formatter.java	MODEL	net sf jabref model cleanup formatter used filter design pattern implementing classes accept string returned formatted version example: john von neumann von neumann john interface formatter returns human readable name formatter usable gui name formatter always null string getname returns unique key formatter used identification key formatter always null string getkey formats field value particular formatter transformation calling method null argument results nullpointerexception param value input string formatted output string string format string value returns description formatter description string always non empty string getdescription returns example input string formatter example used input formatter demonstrate functionality example input string always non empty string getexampleinput returns default hashcode formatter based key hash key formatter default defaulthashcode getkey hashcode indicates whether object formatter one based key param obj object compare formatter true object formatter key default boolean defaultequals object obj obj instanceof formatter getkey equals formatter obj getkey else false 
751	EntryTypes.java	MODEL	net sf jabref model util arrays util collection util hashset util list util map util optional util set util treemap net sf jabref model database bibdatabasemode net sf jabref model entry biblatexentrytypes net sf jabref model entry bibtexentrytypes net sf jabref model entry customentrytype net sf jabref model entry entrytype net sf jabref model entry ieeetranentrytypes entrytypes used specify entry types either bibtex biblatex internalentrytypes map<string entrytype> types treemap<> map<string entrytype> standard types entrytype defaulttype internalentrytypes entrytype defaulttype list<list<entrytype>> entrytypes defaulttype defaulttype list<entrytype> list entrytypes entrytype type list types put type getname tolowercase type standard types treemap<> types method returns bibtexentrytype name type null exist optional<entrytype> gettype string name optional ofnullable types get name tolowercase method returns entrytype name type default type misc exist get entry type defined bibtexentrytype entrytype gettypeordefault string type gettype type orelse defaulttype method returns standard bibtexentrytype name type null exist optional<entrytype> getstandardtype string name optional ofnullable standard types get name tolowercase addormodifyentrytype entrytype type types put type getname tolowercase type set<string> getalltypes types keyset collection<entrytype> getallvalues types values removes customized entry type type map type overrode standard type reinstate standard one param name customized entry type remove removetype string name string tolowercase name tolowercase types get tolowercase equals standard types get tolowercase types remove tolowercase standard types containskey tolowercase case user removed customized version standard type reinstate standard type addormodifyentrytype standard types get tolowercase internalentrytypes bibtex internalentrytypes bibtexentrytypes misc arrays aslist bibtexentrytypes ieeetranentrytypes internalentrytypes biblatex internalentrytypes biblatexentrytypes misc arrays aslist biblatexentrytypes method returns bibtexentrytype name type null exist optional<entrytype> gettype string name bibdatabasemode type type bibdatabasemode biblatex biblatex gettype name bibtex gettype name method returns entrytype name type default type misc exist get entry type defined bibtexentrytype entrytype gettypeordefault string name bibdatabasemode mode mode bibdatabasemode biblatex biblatex gettypeordefault name bibtex gettypeordefault name method returns standard bibtexentrytype name type null exist optional<entrytype> getstandardtype string name bibdatabasemode mode mode bibdatabasemode biblatex biblatex getstandardtype name bibtex getstandardtype name addormodifycustomentrytype customentrytype customentrytype addormodifyentrytype customentrytype addormodifyentrytype entrytype name biblatex addormodifyentrytype name bibtex addormodifyentrytype name set<string> getalltypes bibdatabasemode type type bibdatabasemode biblatex biblatex getalltypes bibtex getalltypes collection<entrytype> getallvalues bibdatabasemode type type bibdatabasemode biblatex biblatex getallvalues bibtex getallvalues removes customized entry type type map type overrode standard type reinstate standard one param name customized entry type remove removetype string name bibdatabasemode type type bibdatabasemode biblatex biblatex removetype name else bibtex removetype name removeallcustomentrytypes bibdatabasemode type bibdatabasemode values string typename hashset<> getalltypes type gettype typename type ifpresent entrytype entrytype instanceof customentrytype removetype typename type 
752	RegexBasedSearchRule.java	MODEL	net sf jabref model search rules util optional util regex matcher util regex pattern util regex patternsyntaxexception net sf jabref model entry bibentry search rule regex based search regexbasedsearchrule searchrule boolean casesensitive regexbasedsearchrule boolean casesensitive casesensitive casesensitive boolean iscasesensitive casesensitive override boolean validatesearchstrings string query string searchstring query casesensitive searchstring searchstring tolowercase try pattern compile searchstring casesensitive pattern case insensitive catch patternsyntaxexception ex false true override boolean applyrule string query bibentry bibentry pattern pattern try pattern pattern compile query casesensitive pattern case insensitive catch patternsyntaxexception ex false string field bibentry getfieldnames optional<string> fieldoptional bibentry getfield field fieldoptional ispresent string fieldcontentnobrackets bibentry getlatexfreefield field get matcher pattern matcher fieldcontentnobrackets find true false 
753	SearchRule.java	MODEL	net sf jabref model search rules net sf jabref model entry bibentry interface searchrule boolean applyrule string query bibentry bibentry boolean validatesearchstrings string query 
754	GrammarBasedSearchRule.java	MODEL	net sf jabref model search rules util objects util optional util set util function predicate util regex matcher util regex pattern util stream collectors net sf jabref model entry bibentry net sf jabref model entry keyword net sf jabref search searchbasevisitor net sf jabref search searchlexer net sf jabref search searchparser org antlr v4 runtime antlrinputstream org antlr v4 runtime bailerrorstrategy org antlr v4 runtime baseerrorlistener org antlr v4 runtime commontokenstream org antlr v4 runtime recognitionexception org antlr v4 runtime recognizer org antlr v4 runtime misc parsecancellationexception org antlr v4 runtime tree parsetree org apache commons logging log org apache commons logging logfactory search query must specified expression acceptable search g4 grammar grammarbasedsearchrule searchrule log logger logfactory getlog grammarbasedsearchrule boolean casesensitivesearch boolean regexpsearch parsetree tree string query throwingerrorlistener baseerrorlistener throwingerrorlistener instance throwingerrorlistener override syntaxerror recognizer<? ?> recognizer object offendingsymbol line charpositioninline string msg recognitionexception throws parsecancellationexception throw parsecancellationexception line line charpositioninline msg grammarbasedsearchrule boolean casesensitivesearch boolean regexpsearch throws recognitionexception casesensitivesearch casesensitivesearch regexpsearch regexpsearch boolean isvalid boolean casesensitive boolean regexp string query grammarbasedsearchrule casesensitive regexp validatesearchstrings query boolean iscasesensitivesearch casesensitivesearch boolean isregexpsearch regexpsearch parsetree gettree tree string getquery query init string query throws parsecancellationexception objects equals query query searchlexer lexer searchlexer antlrinputstream query lexer removeerrorlisteners infos file system lexer adderrorlistener throwingerrorlistener instance searchparser parser searchparser commontokenstream lexer parser removeerrorlisteners infos file system parser adderrorlistener throwingerrorlistener instance parser seterrorhandler bailerrorstrategy parsecancelationexception parse errors tree parser start query query override boolean applyrule string query bibentry bibentry try bibtexsearchvisitor casesensitivesearch regexpsearch bibentry visit tree catch exception logger debug search failed false override boolean validatesearchstrings string query try init query true catch parsecancellationexception logger debug search query invalid false enum comparisonoperator exact contains contain comparisonoperator build string value contains equalsignorecase value equals value contains else matches equalsignorecase value equals value exact else contain comparator comparisonoperator operator pattern fieldpattern pattern valuepattern comparator string field string value comparisonoperator operator boolean casesensitive boolean regex operator operator option casesensitive pattern case insensitive fieldpattern pattern compile regex field \\q field \\e option valuepattern pattern compile regex value \\q value \\e option boolean compare bibentry entry special case searching entrytype phdthesis fieldpattern matcher bibentry type header matches matchfieldvalue entry gettype special case searching single keyword fieldpattern matcher anykeyword matches entry getkeywords stream map keyword::tostring anymatch this::matchfieldvalue specification fieldskeys search done search expression set<string> fieldskeys entry getfieldnames special case searching allfields cat title dog fieldpattern matcher anyfield matches filter requested fields fieldskeys fieldskeys stream filter matchfieldkey collect collectors toset string field fieldskeys optional<string> fieldvalue entry getlatexfreefield field fieldvalue ispresent matchfieldvalue fieldvalue get true special case asdf whatever entry contain asdf fieldskeys isempty operator comparisonoperator contain predicate<string> matchfieldkey fieldpattern matcher matches boolean matchfieldvalue string content matcher matcher valuepattern matcher content operator comparisonoperator contains matcher find else operator comparisonoperator exact matcher matches else operator comparisonoperator contain matcher find else throw illegalstateexception must happen search results boolean may later converted bibtexsearchvisitor searchbasevisitor<boolean> boolean casesensitive boolean regex bibentry entry bibtexsearchvisitor boolean casesensitive boolean regex bibentry bibentry casesensitive casesensitive regex regex entry bibentry boolean comparison string field comparisonoperator operator string value comparator field value operator casesensitive regex compare entry override boolean visitstart searchparser startcontext ctx visit ctx expression override boolean visitcomparison searchparser comparisoncontext context remove possible enclosing symbols string right context right gettext right startswith right endswith right right substring right length optional<searchparser namecontext> fielddescriptor optional ofnullable context left fielddescriptor ispresent comparison fielddescriptor get gettext comparisonoperator build context operator gettext right else containbasedsearchrule casesensitive applyrule right entry override boolean visitunaryexpression searchparser unaryexpressioncontext ctx visit ctx expression negate override boolean visitparenexpression searchparser parenexpressioncontext ctx visit ctx expression ignore parenthesis override boolean visitbinaryexpression searchparser binaryexpressioncontext ctx equalsignorecase ctx operator gettext visit ctx left visit ctx right else visit ctx left visit ctx right 
755	SearchRules.java	MODEL	net sf jabref model search rules net sf jabref model strings stringutil searchrules returns appropriate search rule fits best given parameter searchrule getsearchrulebyquery string query boolean casesensitive boolean regex stringutil isblank query containbasedsearchrule casesensitive searches specified fields specified fields otherwise searchrule searchexpression grammarbasedsearchrule casesensitive regex searchexpression validatesearchstrings query searchexpression else getsearchrule casesensitive regex searchrule getsearchrule boolean casesensitive boolean regex regex regexbasedsearchrule casesensitive else containbasedsearchrule casesensitive 
756	SentenceAnalyzer.java	MODEL	net sf jabref model search rules util arraylist util list sentenceanalyzer char escape char '\\' char quote char string query sentenceanalyzer string query query query list<string> getwords list<string> result arraylist<> stringbuilder stringbuilder stringbuilder boolean escaped false boolean quoted false char query tochararray check entering escape sequence: escaped escape char escaped true else see reached end word: escaped quoted character iswhitespace stringbuilder length result add stringbuilder tostring stringbuilder stringbuilder else quote char whether start end quote store current word any: stringbuilder length result add stringbuilder tostring stringbuilder stringbuilder quoted quoted else possibilities exhausted add char current word: stringbuilder append escaped false finished loop current word add it: stringbuilder length result add stringbuilder tostring result 
757	ContainBasedSearchRule.java	MODEL	net sf jabref model search rules util iterator util list net sf jabref model entry bibentry search rule contain based search containbasedsearchrule searchrule boolean casesensitive containbasedsearchrule boolean casesensitive casesensitive casesensitive boolean iscasesensitive casesensitive override boolean validatesearchstrings string query true override boolean applyrule string query bibentry bibentry string searchstring query casesensitive searchstring searchstring tolowercase list<string> unmatchedwords sentenceanalyzer searchstring getwords string fieldkey bibentry getfieldnames string formattedfieldcontent bibentry getlatexfreefield fieldkey get casesensitive formattedfieldcontent formattedfieldcontent tolowercase iterator<string> unmatchedwordsiterator unmatchedwords iterator unmatchedwordsiterator hasnext string word unmatchedwordsiterator next formattedfieldcontent contains word unmatchedwordsiterator remove unmatchedwords isempty true false match words 
758	GroupSearchQuery.java	MODEL	net sf jabref model search util objects net sf jabref model entry bibentry net sf jabref model search rules searchrule net sf jabref model search rules searchrules groupsearchquery searchmatcher string query boolean casesensitive boolean regularexpression searchrule rule groupsearchquery string query boolean casesensitive boolean regularexpression query objects requirenonnull query casesensitive casesensitive regularexpression regularexpression rule objects requirenonnull getsearchrule override string tostring string format s\ query getcasesensitivedescription getregularexpressiondescription override boolean ismatch bibentry entry getrule applyrule query entry searchrule getsearchrule searchrules getsearchrulebyquery query casesensitive regularexpression string getcasesensitivedescription casesensitive case sensitive else case insensitive string getregularexpressiondescription regularexpression regular expression else plain text searchrule getrule rule 
759	MatcherSet.java	MODEL	net sf jabref model search matchers util list util objects util vector net sf jabref model search searchmatcher matcherset searchmatcher override boolean equals object true null getclass getclass false matcherset matcherset matchers equals matchers override hashcode matchers hashcode list<searchmatcher> matchers vector<> addrule searchmatcher newrule matchers add objects requirenonnull newrule override string tostring stringbuilder sb stringbuilder matcherset sb append matchers append matchers sb append sb tostring 
760	OrMatcher.java	MODEL	net sf jabref model search matchers net sf jabref model entry bibentry net sf jabref model search searchmatcher subclass matcherset ands ors rules returning ormatcher matcherset override boolean ismatch bibentry bibentry score let rule add maximum score searchmatcher rule matchers rule ismatch bibentry score rule demands score score 
761	NotMatcher.java	MODEL	net sf jabref model search matchers util objects net sf jabref model entry bibentry net sf jabref model search searchmatcher inverts search result <p> example: false true true false notmatcher searchmatcher searchmatcher othermatcher notmatcher searchmatcher othermatcher othermatcher objects requirenonnull othermatcher override boolean ismatch bibentry entry othermatcher ismatch entry 
762	MatcherSets.java	MODEL	net sf jabref model search matchers matchersets enum matchertype matcherset build matchertype ruleset ruleset matchertype andmatcher else ormatcher 
763	AndMatcher.java	MODEL	net sf jabref model search matchers net sf jabref model entry bibentry net sf jabref model search searchmatcher subclass matcherset ands ors rules returning andmatcher matcherset override boolean ismatch bibentry bibentry score let rule add maximum score searchmatcher rule matchers rule ismatch bibentry score rule demands score number rules score matchers size 
764	SearchMatcher.java	MODEL	net sf jabref model search net sf jabref model entry bibentry functionalinterface interface searchmatcher boolean ismatch bibentry entry 
765	BibDatabaseModeDetection.java	MODEL	net sf jabref model database util list util locale util function predicate util stream collectors util stream stream net sf jabref model entry bibentry net sf jabref model entry biblatexentrytypes net sf jabref model entry bibtexentrytypes net sf jabref model entry entrytype bibdatabasemodedetection list<entrytype> bibtex bibtexentrytypes list<entrytype> biblatex biblatexentrytypes list<string> exclusive biblatex filterentrytypesnames biblatex isnotincludedin bibtex tries infer database type examining bibdatabase database checks based case insensitive comparison entry tag names standard bibtex biblatex entry types considered decision process check entries type exclusive biblatex check exclusive biblatex fields present otherwise bibtex param database bibdatabase database inferred database type bibdatabasemode infermode bibdatabase database stream<string> entrytypes database getentries stream map bibentry::gettype type based check entrytypes anymatch type exclusive biblatex contains type tolowercase locale english bibdatabasemode biblatex else field based check bibdatabasemode bibtex list<string> filterentrytypesnames list<entrytype> types predicate<entrytype> predicate types stream filter predicate map type type getname tolowercase collect collectors tolist predicate<entrytype> isnotincludedin list<entrytype> collection entry collection stream nonematch getname equalsignorecase entry getname 
766	EntrySorter.java	MODEL	net sf jabref model database util arraylist util collections util comparator util list net sf jabref model entry bibentry entrysorter list<bibentry> entries entrysorter list<bibentry> entries comparator<bibentry> comparator entries arraylist<> entries collections sort entries comparator bibentry getentryat pos entries get pos getentrycount entries size 
767	ChangePropagation.java	MODEL	net sf jabref model database event enum changepropagation post event post event 
768	AutosaveEvent.java	MODEL	net sf jabref model database event event fired link net sf jabref logic autosaveandbackup autosavemanager case save task pending autosaveevent data 
769	EntryAddedEvent.java	MODEL	net sf jabref model database event net sf jabref model database bibdatabase net sf jabref model entry bibentry net sf jabref model entry event entryevent net sf jabref model entry event entryeventsource link entryaddedevent fired link bibentry added link bibdatabase entryaddedevent entryevent param bibentry entry added entryaddedevent bibentry bibentry super bibentry param bibentry <code>bibentry< code> object added param location location affected event entryaddedevent bibentry bibentry entryeventsource location super bibentry location 
770	BibDatabaseContextChangedEvent.java	MODEL	net sf jabref model database event net sf jabref model metadata event metadatachangedevent event automatically fired time link entryevent link groupupdatedevent link metadatachangedevent bibdatabasecontextchangedevent data 
771	EntryRemovedEvent.java	MODEL	net sf jabref model database event net sf jabref model entry bibentry net sf jabref model entry event entryevent net sf jabref model entry event entryeventsource <code>removedentryevent< code> fired <code>bibentry< code> removed database entryremovedevent entryevent param bibentry <code>bibentry< code> object removed entryremovedevent bibentry bibentry super bibentry param bibentry <code>bibentry< code> object removed param location location affected event entryremovedevent bibentry bibentry entryeventsource location super bibentry location 
772	BibDatabaseContext.java	MODEL	net sf jabref model database io file util arraylist util list util objects util optional net sf jabref model defaults net sf jabref model bibtexkeypattern globalbibtexkeypattern net sf jabref model entry fieldname net sf jabref model metadata filedirectorypreferences net sf jabref model metadata metadata net sf jabref shared dbmssynchronizer represents everything related bib file <p> entries stored bibdatabase data metadata options relevant file defaults bibdatabasecontext bibdatabase database metadata metadata defaults defaults file database last saved file file dbmssynchronizer dbmssynchronizer databaselocation location bibdatabasecontext defaults bibdatabasecontext defaults defaults bibdatabase defaults bibdatabasecontext bibdatabase database database defaults bibdatabasecontext bibdatabase database defaults defaults database metadata defaults bibdatabasecontext bibdatabase database metadata metadata defaults defaults defaults objects requirenonnull defaults database objects requirenonnull database metadata objects requirenonnull metadata location databaselocation local bibdatabasecontext bibdatabase database metadata metadata database metadata defaults bibdatabasecontext bibdatabase database metadata metadata file file defaults defaults databaselocation location database metadata defaults objects requirenonnull location setdatabasefile file location databaselocation local converttolocaldatabase bibdatabasecontext bibdatabase database metadata metadata file file defaults defaults database metadata file defaults databaselocation local bibdatabasecontext bibdatabase database metadata metadata file file database metadata file defaults bibdatabasecontext defaults defaults databaselocation location character keywordseparator globalbibtexkeypattern globalcitekeypattern bibdatabase metadata defaults location databaselocation shared converttoshareddatabase keywordseparator globalcitekeypattern bibdatabasemode getmode optional<bibdatabasemode> mode metadata getmode mode ispresent bibdatabasemode inferredmode bibdatabasemodedetection infermode database bibdatabasemode newmode bibdatabasemode bibtex defaults mode bibdatabasemode biblatex inferredmode bibdatabasemode biblatex newmode bibdatabasemode biblatex setmode newmode newmode mode get setmode bibdatabasemode bibdatabasemode metadata setmode bibdatabasemode get file database last saved loaded optional relevant file optional empty none defined optional<file> getdatabasefile optional ofnullable file setdatabasefile file file file file cleardatabasefile file null bibdatabase getdatabase database metadata getmetadata metadata setmetadata metadata metadata metadata objects requirenonnull metadata boolean isbiblatexmode getmode bibdatabasemode biblatex list<string> getfiledirectory filedirectorypreferences preferences getfiledirectory fieldname file preferences look directory set given field type database directory set defined global preferences three directory definitions files: database's metadata specify general directory user specific directory preferences specify one <p> settings prioritized following order first defined setting used: metadata user specific directory metadata general directory preferences directory bib file directory param param fieldname field type default directory field type list<string> getfiledirectory string fieldname filedirectorypreferences preferences list<string> filedirs arraylist<> metadata user specific directory optional<string> userfiledirectory metadata getuserfiledirectory preferences getuser userfiledirectory ispresent filedirs add getfiledirectorypath userfiledirectory get metadata general directory optional<string> metadatadirectory metadata getdefaultfiledirectory metadatadirectory ispresent filedirs add getfiledirectorypath metadatadirectory get preferences directory preferences getfiledirectory fieldname ifpresent filedirs::add bib file directory getdatabasefile ifpresent databasefile string parentdir databasefile getparent check add primary file dir first list not: preferences isbiblocationasprimary filedirs add parentdir else filedirs add parentdir filedirs string getfiledirectorypath string directoryname string dir directoryname directory relative try interpret relative file path bib file: optional<file> databasefile getdatabasefile file dir isabsolute databasefile ispresent string reldir equals dir dir current directory use parent real current directory path reldir databasefile get getparent else reldir databasefile get getparent file separator dir directory actually exists likely user wants us use it: file reldir exists dir reldir dir dbmssynchronizer getdbmssynchronizer dbmssynchronizer cleardbmssynchronizer dbmssynchronizer null databaselocation getlocation location converttoshareddatabase character keywordseparator globalbibtexkeypattern globalcitekeypattern dbmssynchronizer dbmssynchronizer keywordseparator globalcitekeypattern database registerlistener dbmssynchronizer metadata registerlistener dbmssynchronizer location databaselocation shared converttolocaldatabase objects nonnull dbmssynchronizer location databaselocation shared database unregisterlistener dbmssynchronizer metadata unregisterlistener dbmssynchronizer location databaselocation local 
773	BibDatabaseMode.java	MODEL	net sf jabref model database util locale enum contains possible link bibdatabase modes possible bibtex biblatex enum bibdatabasemode bibtex biblatex name current mode string string getformattedname bibtex bibtex else biblatex returns opposite mode current mode link bibdatabasemode biblatex current mode bibtex bibtex else bibdatabasemode getoppositemode bibtex biblatex else bibtex returns link bibdatabasemode given boolean biblatex isbiblatex true else bibtex bibdatabasemode frompreference boolean isbiblatex isbiblatex biblatex else bibtex returns link bibdatabasemode equals given string use capital small letters string matter neither bibtex biblatex given string link illegalargumentexception thrown bibtex string bibtex<br> biblatex string biblatex<br> bibdatabasemode parse string data bibdatabasemode valueof data touppercase locale english current mode string lowercase string getasstring getformattedname tolowercase locale english 
774	BibDatabases.java	MODEL	net sf jabref model database util collection util list util stream collectors net sf jabref model entry bibentry net sf jabref model entry idgenerator bibdatabases gets collection bibentries sets id every entry entries inserted bibdatabase param bibentries collection contains link bibentry bibdatabase contains entries bibdatabase createdatabase collection<bibentry> bibentries bibdatabase database bibdatabase bibentry entry bibentries entry setid idgenerator next database insertentry entry database receives collection bibentry instances iterates removes entries fields set useful rooting unsucessful wrong format returns number empty entries list<bibentry> purgeemptyentries collection<bibentry> entries entries stream filter getfieldnames isempty collect collectors tolist 
775	KeyChangeListener.java	MODEL	net sf jabref model database util arraylist util arrays util list net sf jabref model database event entryremovedevent net sf jabref model entry bibentry net sf jabref model entry fieldproperty net sf jabref model entry internalbibtexfields net sf jabref model entry event fieldchangedevent com google common eventbus subscribe keychangelistener bibdatabase database list<string> keyfields arraylist<> keychangelistener bibdatabase database database database look fields fieldproperies single entry link fieldproperties multiple entry link speed search later string fieldname internalbibtexfields getallpublicfieldnames internalbibtexfields getfieldproperties fieldname contains fieldproperty single entry link internalbibtexfields getfieldproperties fieldname contains fieldproperty multiple entry link keyfields add fieldname subscribe listen fieldchangedevent event event getfieldname equals bibentry key field string newkey event getnewvalue string oldkey event getoldvalue updateentrylinks newkey oldkey subscribe listen entryremovedevent event event getbibentry getcitekeyoptional ifpresent oldkey updateentrylinks null oldkey updateentrylinks string newkey string oldkey bibentry entry database getentries string field keyfields entry getfield field ifpresent fieldcontent internalbibtexfields getfieldproperties field contains fieldproperty single entry link replacesinglekeyinfield newkey oldkey entry field fieldcontent else multiple entry link replacekeyinmultipleskeyfield newkey oldkey entry field fieldcontent replacekeyinmultipleskeyfield string newkey string oldkey bibentry entry string field string fieldcontent list<string> keys arraylist<> arrays aslist fieldcontent split index keys indexof oldkey index newkey null keys remove index else keys set index newkey entry setfield field string join keys replacesinglekeyinfield string newkey string oldkey bibentry entry string field string fieldcontent fieldcontent equals oldkey newkey null entry clearfield field else entry setfield field newkey 
776	DatabaseLocation.java	MODEL	net sf jabref model database enum represents location link bibdatabasecontext enum databaselocation local shared 
777	DuplicationChecker.java	MODEL	net sf jabref model database util hashmap util map util optional net sf jabref model database event entryaddedevent net sf jabref model database event entryremovedevent net sf jabref model entry bibentry net sf jabref model entry event fieldchangedevent com google common eventbus subscribe determines bibtex cite keys duplicates single link bibdatabase duplicationchecker use map instead set since need know many key map<string integer> allkeys hashmap<> checks one occurrence key boolean isduplicatecitekeyexisting string citekey getnumberofkeyoccurrences citekey checks one occurrence cite key boolean isduplicatecitekeyexisting bibentry entry isduplicatecitekeyexisting entry getcitekeyoptional orelse null returns number occurrences given key database getnumberofkeyoccurrences string citekey allkeys getordefault citekey helper function counting number key usages adds given key internal keyset together count counter increased key already exists otherwise set <br> special case: null empty key passed counted thus added reasoning: consider this: add key xxx add another key xxx get warning delete key xxx consider jabref simply removing key set allkeys add another key xxx get warning thus need way count number keys type solution: hashmap >int increment time add decrement time remove addkeytoset string key key null key isempty allkeys put key getnumberofkeyoccurrences key helper function counting number key usages removes given key internal keyset together count key set set counter decreased <br> special case: null empty key passed counted thus removed removekeyfromset string key key null key isempty numberofkeyoccurrences getnumberofkeyoccurrences key numberofkeyoccurrences allkeys put key numberofkeyoccurrences else allkeys remove key subscribe listen fieldchangedevent fieldchangedevent fieldchangedevent getfieldname equals bibentry key field removekeyfromset fieldchangedevent getoldvalue addkeytoset fieldchangedevent getnewvalue subscribe listen entryremovedevent entryremovedevent optional<string> citekey entryremovedevent getbibentry getcitekeyoptional citekey ispresent removekeyfromset citekey get subscribe listen entryaddedevent entryaddedevent optional<string> citekey entryaddedevent getbibentry getcitekeyoptional citekey ispresent addkeytoset citekey get 
778	BibDatabase.java	MODEL	net sf jabref model database math biginteger security securerandom util arraylist util collection util collections util comparator util hashset util list util map util objects util optional util set util treeset util concurrent concurrenthashmap util regex pattern util stream collectors net sf jabref model database event entryaddedevent net sf jabref model database event entryremovedevent net sf jabref model entry bibentry net sf jabref model entry bibtexstring net sf jabref model entry fieldname net sf jabref model entry internalbibtexfields net sf jabref model entry monthutil net sf jabref model entry event entrychangedevent net sf jabref model entry event entryeventsource net sf jabref model entry event fieldchangedevent net sf jabref model strings stringutil com google common eventbus eventbus com google common eventbus subscribe org apache commons logging log org apache commons logging logfactory bibliography database bibdatabase log logger logfactory getlog bibdatabase state attributes list<bibentry> entries collections synchronizedlist arraylist<> string preamble file contents last entry file string epilog map<string bibtexstring> bibtexstrings concurrenthashmap<> kept sync database upon adding removing entry updated well duplicationchecker duplicationchecker duplicationchecker contains entry getid current database set<string> internalids hashset<> eventbus eventbus eventbus string shareddatabaseid bibdatabase eventbus register duplicationchecker registerlistener keychangelistener returns number entries getentrycount entries size checks database contains entries boolean hasentries entries isempty returns entrysorter sorted entries base sorted given comparator synchronized entrysorter getsorter comparator<bibentry> comp entrysorter arraylist<> getentries comp returns whether entry given id exists entry type hashcode boolean containsentrywithid string id internalids contains id list<bibentry> getentries collections unmodifiablelist entries returns set strings contains field names visible means fields internal fields internal fields fields starting set fieldnames visible set<string> getallvisiblefields set<string> allfields treeset<> bibentry getentries allfields addall getfieldnames allfields stream filter field internalbibtexfields isinternalfield field collect collectors toset returns entry given bibtex key synchronized optional<bibentry> getentrybykey string key bibentry entry entries key equals entry getcitekeyoptional orelse null optional entry optional empty collects entries specified bibtex key returns entries list order entries order appear database param key list entries contains given key synchronized list<bibentry> getentriesbykey string key list<bibentry> result arraylist<> bibentry entry entries entry getcitekeyoptional ifpresent entrykey key equals entrykey result add entry result inserts entry given id already use use util createid make unique id entry param entry bibentry insert database false insert done without duplicate warning throws keycollisionexception thrown entry id link bibentry#getid already present database synchronized boolean insertentry bibentry entry throws keycollisionexception insertentry entry entryeventsource local inserts entry given id already use use util createid make unique id entry param entry bibentry insert param eventsource source event sent false insert done without duplicate warning synchronized boolean insertentry bibentry entry entryeventsource eventsource throws keycollisionexception objects requirenonnull entry string id entry getid containsentrywithid id throw keycollisionexception id already use please choose another internalids add id entries add entry entry registerlistener eventbus post entryaddedevent entry eventsource duplicationchecker isduplicatecitekeyexisting entry removes given entry entry removed based id link bibentry#id param tobedeleted entry delete synchronized removeentry bibentry tobedeleted removeentry tobedeleted entryeventsource local removes given entry entry removed based id link bibentry#id param tobedeleted entry delete param eventsource source event sent synchronized removeentry bibentry tobedeleted entryeventsource eventsource objects requirenonnull tobedeleted boolean anyremoved entries removeif entry entry getid equals tobedeleted getid anyremoved internalids remove tobedeleted getid eventbus post entryremovedevent tobedeleted eventsource sets database's preamble synchronized setpreamble string preamble preamble preamble returns database's preamble preamble text consists whitespace also empty optional returned synchronized optional<string> getpreamble stringutil isblank preamble optional empty else optional preamble inserts bibtex string synchronized addstring bibtexstring string throws keycollisionexception hasstringlabel string getname throw keycollisionexception string label already exists bibtexstrings containskey string getid throw keycollisionexception duplicate bibtex string id bibtexstrings put string getid string removes string given id removestring string id bibtexstrings remove id returns set keys bibtexstring objects database sorted order set<string> getstringkeyset bibtexstrings keyset returns collection bibtexstring objects database particular order collection<bibtexstring> getstringvalues bibtexstrings values returns string given id bibtexstring getstring string id bibtexstrings get id returns number strings getstringcount bibtexstrings size check strings boolean hasnostrings bibtexstrings isempty copies preamble another bibdatabase param database another bibdatabase copypreamble bibdatabase database setpreamble database getpreamble orelse copies strings another bibdatabase param database another bibdatabase copystrings bibdatabase database string key database getstringkeyset bibtexstring string database getstring key addstring string returns true string given label already exists synchronized boolean hasstringlabel string label bibtexstring value bibtexstrings values value getname equals label true false resolves references strings contained field content possible string resolveforstrings string content objects requirenonnull content content resolveforstrings must null resolvecontent content hashset<> take given collection bibentry resolve string references param entriestoresolve collection bibtexentries strings form #xxx# resolved hash map string references stored database param inplace inplace true given bibtexentries modified false copies bibtexentries made resolving strings list bibtexentries strings resolved dependent value inplace whether copies made given bibtexentries modified list<bibentry> resolveforstrings collection<bibentry> entriestoresolve boolean inplace objects requirenonnull entriestoresolve entries must null list<bibentry> results arraylist<> entriestoresolve size bibentry entry entriestoresolve results add resolveforstrings entry inplace results take given bibentry resolve string references param entry bibentry strings form #xxx# resolved hash map string references stored database param inplace inplace true given bibentry modified false copy made using close made resolving strings bibentry string references resolved dependent value inplace whether copy made given bibtexentries modified bibentry resolveforstrings bibentry entry boolean inplace bibentry resultingentry inplace resultingentry entry else resultingentry bibentry entry clone map entry<string string> field resultingentry getfieldmap entryset resultingentry setfield field getkey resolveforstrings field getvalue resultingentry label represents string contained database returns string's content resolves references strings taking care follow circular reference pattern string undefined returns null string resolvestring string label set<string> usedids bibtexstring string bibtexstrings values string getname equalsignorecase label first check string label resolved earlier recursion circular reference stop avoid infinite recursion usedids contains string getid logger info stopped due circular reference strings: label label log string's id usedids add string getid ok found string must make sure resolve references strings one string result string getcontent result resolvecontent result usedids finished recursing branch remove id again: usedids remove string getid result get point string obviously defined locally check one standard bibtex month strings used: monthutil month month monthutil getmonthbyshortname label month isvalid month fullname else null pattern resolve content pattern pattern compile #[^#] string resolvecontent string result set<string> usedids string res result resolve content pattern matcher res matches stringbuilder newres stringbuilder piv next next res indexof '#' piv found next string ref append text next newres append res substring piv next stringend res indexof '#' next stringend found boundaries string ref resolve one string reflabel res substring next stringend string resolved resolvestring reflabel usedids resolved null could resolve string display characters rather removing them: newres append res substring next stringend else string resolved display meaning stripping characters signifying string label: newres append resolved piv stringend else find boundaries string ref makes impossible interpret string label append rest text finish newres append res substring next piv res length break piv res length newres append res substring piv res newres tostring res deprecated use link bibdatabase#resolveforstrings string returns text references resolved according optionally given database param toresolve maybenull text resolve param database maybenull database use resolving text resolved text original text either text database null deprecated string gettext string toresolve bibdatabase database toresolve null database null database resolveforstrings toresolve toresolve setepilog string epilog epilog epilog string getepilog epilog registers listener object subscriber internal event bus following events posted: link entryaddedevent link entrychangedevent link entryremovedevent param listener listener subscriber add registerlistener object listener eventbus register listener unregisters listener object param listener listener subscriber remove unregisterlistener object listener eventbus unregister listener subscribe relayentrychangeevent fieldchangedevent event eventbus post event optional<bibentry> getreferencedentry bibentry entry entry getfield fieldname crossref flatmap this::getentrybykey optional<string> getshareddatabaseid optional ofnullable shareddatabaseid boolean isshared getshareddatabaseid ispresent setshareddatabaseid string shareddatabaseid shareddatabaseid shareddatabaseid clearshareddatabaseid shareddatabaseid null generates sets random id globally unique generated shareddatabaseid string generateshareddatabaseid shareddatabaseid biginteger securerandom tostring shareddatabaseid duplicationchecker getduplicationchecker duplicationchecker 
779	KeyCollisionException.java	MODEL	net sf jabref model database keycollisionexception runtimeexception keycollisionexception super keycollisionexception string msg super msg keycollisionexception string msg throwable exception super msg exception keycollisionexception throwable exception super exception 
780	FieldName.java	MODEL	net sf jabref model entry util arraylist util arrays util hashmap util list util locale util map net sf jabref model strings stringutil string constants bibtex entry field names fieldname character separating field names used sequence fallbacks single column author editor use editor author set string field separator string internal field string internal text fields field text fields field name constants string string addendum addendum string address address string afterword afterword string annote annote string annotation annotation string annotator annotator string assignee assignee string author author string bookauthor bookauthor string bookpagination bookpagination string booksubtitle booksubtitle string booktitle booktitle string booktitleaddon booktitleaddon string chapter chapter string commentator commentator string comments comments string crossref crossref string date date string day day string dayfiled dayfiled string doi doi string edition edition string editor editor string editora editora string editorb editorb string editorc editorc string editortype editortype string editoratype editoratype string editorbtype editorbtype string editorctype editorctype string eid eid string entryset entryset string eprint eprint string eprintclass eprintclass string eprinttype eprinttype string eventdate eventdate string eventtitle eventtitle string eventtitleaddon eventtitleaddon string file file string foreword foreword string folder folder string gender gender string holder holder string howpublished howpublished string institution institution string introduction introduction string isbn isbn string isrn isrn string issn issn string issue issue string issuetitle issuetitle string issuesubtitle issuesubtitle string journal journal string journalsubtitle journalsubtitle string journaltitle journaltitle string key key string keywords keywords string language language string location location string mainsubtitle mainsubtitle string maintitle maintitle string maintitleaddon maintitleaddon string month month string monthfiled monthfiled string nameaddon nameaddon string nationality nationality string note note string number number string organization organization string origdate origdate string origlanguage origlanguage string pages pages string pagetotal pagetotal string pagination pagination string part part string pdf pdf string pmid pmid string ps ps string publisher publisher string pubstate pubstate string related related string reportno reportno string review review string revision revision string school school string series series string shortauthor shortauthor string shorteditor shorteditor string sortname sortname string subtitle subtitle string title title string titleaddon titleaddon string translator translator string type type string uri uri string url url string urldate urldate string venue venue string version version string volume volume string volumes volumes string year year string yearfiled yearfiled ieee bstctl fields string ctlalt stretch factor ctlalt stretch factor string ctldash repeated names ctldash repeated names string ctlmax names forced etal ctlmax names forced etal string ctlname format string ctlname format string string ctlname latex cmd ctlname latex cmd string ctlname url prefix ctlname url prefix string ctlnames show etal ctlnames show etal string ctluse alt spacing ctluse alt spacing string ctluse article number ctluse article number string ctluse forced etal ctluse forced etal string ctluse paper ctluse paper string ctluse url ctluse url jabref internal field names string owner owner string timestamp timestamp actual field name default value string number col string groups groups string search internal search string groupsearch internal groupsearch string marked internal markedentry map hold alternative display names map<string string> displaynames hashmap<> string orfields string fields string join fieldname field separator fields string orfields list<string> fields string join fieldname field separator fields displaynames put fieldname doi doi displaynames put fieldname isbn isbn displaynames put fieldname isrn isrn displaynames put fieldname issn issn displaynames put fieldname pmid pmid displaynames put fieldname ps ps displaynames put fieldname pdf pdf displaynames put fieldname uri uri displaynames put fieldname url url param field field get display version version field name suitable display string getdisplayname string field string lowercasefield field tolowercase locale root displaynames containskey lowercasefield displaynames get lowercasefield stringutil capitalizefirst field arraylist getnottextfieldnames arraylist<string> nottextfieldnames arraylist<> nottextfieldnames addall arrays aslist fieldname doi fieldname file fieldname url fieldname uri fieldname isbn fieldname issn fieldname month fieldname date fieldname year nottextfieldnames 
781	ParsedEntryLink.java	MODEL	net sf jabref model entry util objects util optional net sf jabref model database bibdatabase parsedentrylink string key optional<bibentry> linkedentry bibdatabase database parsedentrylink string key bibdatabase database key key linkedentry database getentrybykey key database database parsedentrylink bibentry bibentry key bibentry getcitekeyoptional orelse linkedentry optional bibentry string getkey key optional<bibentry> getlinkedentry linkedentry setkey string newkey key newkey linkedentry getdatabase getentrybykey key override hashcode objects hash key linkedentry override boolean equals object obj obj true obj instanceof parsedentrylink false parsedentrylink parsedentrylink obj objects equals key key objects equals linkedentry linkedentry bibdatabase getdatabase database 
782	BibLatexEntryTypes.java	MODEL	net sf jabref model entry util arrays util collections util list util optional defines entry types biblatex support see http: mirrors concertpass com tex archive macros latex contrib biblatex doc biblatex pdf biblatexentrytypes biblatexentrytype article biblatexentrytype list<string> primaryoptionalfields collections unmodifiablelist arrays aslist fieldname subtitle fieldname editor fieldname series fieldname volume fieldname number fieldname eid fieldname issue fieldname pages fieldname note fieldname issn fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate addallrequired fieldname author fieldname title fieldname journaltitle fieldname orfields fieldname year fieldname date addalloptional fieldname translator fieldname annotator fieldname commentator fieldname subtitle fieldname titleaddon fieldname editor fieldname editora fieldname editorb fieldname editorc fieldname journalsubtitle fieldname issuetitle fieldname issuesubtitle fieldname language fieldname origlanguage fieldname series fieldname volume fieldname number fieldname eid fieldname issue fieldname month fieldname pages fieldname version fieldname note fieldname issn fieldname addendum fieldname pubstate fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate override string getname article override list<string> getprimaryoptionalfields primaryoptionalfields biblatexentrytype book biblatexentrytype list<string> primaryoptionalfields collections unmodifiablelist arrays aslist fieldname editor fieldname subtitle fieldname titleaddon fieldname maintitle fieldname mainsubtitle fieldname maintitleaddon fieldname volume fieldname edition fieldname publisher fieldname isbn fieldname chapter fieldname pages fieldname pagetotal fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate addallrequired fieldname author fieldname title fieldname orfields fieldname year fieldname date addalloptional fieldname editor fieldname editora fieldname editorb fieldname editorc fieldname translator fieldname annotator fieldname commentator fieldname introduction fieldname foreword fieldname afterword fieldname subtitle fieldname titleaddon fieldname maintitle fieldname mainsubtitle fieldname maintitleaddon fieldname language fieldname origlanguage fieldname volume fieldname part fieldname edition fieldname volumes fieldname series fieldname number fieldname note fieldname publisher fieldname location fieldname isbn fieldname chapter fieldname pages fieldname pagetotal fieldname addendum fieldname pubstate fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate override string getname book override list<string> getprimaryoptionalfields primaryoptionalfields biblatexentrytype mvbook biblatexentrytype list<string> primaryoptionalfields collections unmodifiablelist arrays aslist fieldname editor fieldname subtitle fieldname titleaddon fieldname edition fieldname publisher fieldname isbn fieldname pagetotal fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate addallrequired fieldname author fieldname title fieldname orfields fieldname year fieldname date addalloptional fieldname editor fieldname editora fieldname editorb fieldname editorc fieldname translator fieldname annotator fieldname commentator fieldname introduction fieldname foreword fieldname afterword fieldname subtitle fieldname titleaddon fieldname language fieldname origlanguage fieldname edition fieldname volumes fieldname series fieldname number fieldname note fieldname publisher fieldname location fieldname isbn fieldname pagetotal fieldname addendum fieldname pubstate fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate override string getname mvbook override list<string> getprimaryoptionalfields primaryoptionalfields biblatexentrytype inbook biblatexentrytype list<string> primaryoptionalfields collections unmodifiablelist arrays aslist fieldname bookauthor fieldname editor fieldname subtitle fieldname titleaddon fieldname maintitle fieldname mainsubtitle fieldname maintitleaddon fieldname booksubtitle fieldname booktitleaddon fieldname volume fieldname edition fieldname publisher fieldname isbn fieldname chapter fieldname pages fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate addallrequired fieldname author fieldname title fieldname booktitle fieldname orfields fieldname year fieldname date addalloptional fieldname bookauthor fieldname editor fieldname editora fieldname editorb fieldname editorc fieldname translator fieldname annotator fieldname commentator fieldname introduction fieldname foreword fieldname afterword fieldname subtitle fieldname titleaddon fieldname maintitle fieldname mainsubtitle fieldname maintitleaddon fieldname booksubtitle fieldname booktitleaddon fieldname language fieldname origlanguage fieldname volume fieldname part fieldname edition fieldname volumes fieldname series fieldname number fieldname note fieldname publisher fieldname location fieldname isbn fieldname chapter fieldname pages fieldname addendum fieldname pubstate fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate override string getname inbook override list<string> getprimaryoptionalfields primaryoptionalfields biblatexentrytype bookinbook biblatexentrytype override string getname bookinbook fields inbook according biblatex 0: override list<string> getrequiredfields biblatexentrytypes inbook getrequiredfields override list<string> getoptionalfields biblatexentrytypes inbook getoptionalfields override list<string> getprimaryoptionalfields biblatexentrytypes inbook getprimaryoptionalfields biblatexentrytype suppbook biblatexentrytype override string getname suppbook fields inbook according biblatex 0: override list<string> getrequiredfields biblatexentrytypes inbook getrequiredfields override list<string> getoptionalfields biblatexentrytypes inbook getoptionalfields override list<string> getprimaryoptionalfields biblatexentrytypes inbook getprimaryoptionalfields biblatexentrytype booklet biblatexentrytype list<string> primaryoptionalfields collections unmodifiablelist arrays aslist fieldname subtitle fieldname titleaddon fieldname howpublished fieldname chapter fieldname pages fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate addallrequired fieldname orfields fieldname author fieldname editor fieldname title fieldname orfields fieldname year fieldname date addalloptional fieldname subtitle fieldname titleaddon fieldname language fieldname howpublished fieldname type fieldname note fieldname location fieldname chapter fieldname pages fieldname pagetotal fieldname addendum fieldname pubstate fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate override string getname booklet override list<string> getprimaryoptionalfields primaryoptionalfields biblatexentrytype collection biblatexentrytype list<string> primaryoptionalfields collections unmodifiablelist arrays aslist fieldname translator fieldname subtitle fieldname titleaddon fieldname maintitle fieldname mainsubtitle fieldname maintitleaddon fieldname volume fieldname edition fieldname publisher fieldname isbn fieldname chapter fieldname pages fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate addallrequired fieldname editor fieldname title fieldname orfields fieldname year fieldname date addalloptional fieldname editora fieldname editorb fieldname editorc fieldname translator fieldname annotator fieldname commentator fieldname introduction fieldname foreword fieldname afterword fieldname subtitle fieldname titleaddon fieldname maintitle fieldname mainsubtitle fieldname maintitleaddon fieldname language fieldname origlanguage fieldname volume fieldname part fieldname edition fieldname volumes fieldname series fieldname number fieldname note fieldname publisher fieldname location fieldname isbn fieldname chapter fieldname pages fieldname pagetotal fieldname addendum fieldname pubstate fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate override string getname collection override list<string> getprimaryoptionalfields primaryoptionalfields biblatexentrytype mvcollection biblatexentrytype list<string> primaryoptionalfields collections unmodifiablelist arrays aslist fieldname translator fieldname subtitle fieldname titleaddon fieldname edition fieldname publisher fieldname isbn fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate addallrequired fieldname editor fieldname title fieldname orfields fieldname year fieldname date addalloptional fieldname editora fieldname editorb fieldname editorc fieldname translator fieldname annotator fieldname commentator fieldname introduction fieldname foreword fieldname afterword fieldname subtitle fieldname titleaddon fieldname language fieldname origlanguage fieldname edition fieldname volumes fieldname series fieldname number fieldname note fieldname publisher fieldname location fieldname isbn fieldname pagetotal fieldname addendum fieldname pubstate fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate override string getname mvcollection override list<string> getprimaryoptionalfields primaryoptionalfields biblatexentrytype incollection biblatexentrytype list<string> primaryoptionalfields collections unmodifiablelist arrays aslist fieldname translator fieldname subtitle fieldname titleaddon fieldname maintitle fieldname mainsubtitle fieldname maintitleaddon fieldname booksubtitle fieldname booktitleaddon fieldname volume fieldname edition fieldname publisher fieldname isbn fieldname chapter fieldname pages fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate addallrequired fieldname author fieldname title fieldname booktitle fieldname orfields fieldname year fieldname date addalloptional fieldname editor fieldname editora fieldname editorb fieldname editorc fieldname translator fieldname annotator fieldname commentator fieldname introduction fieldname foreword fieldname afterword fieldname subtitle fieldname titleaddon fieldname maintitle fieldname mainsubtitle fieldname maintitleaddon fieldname booksubtitle fieldname booktitleaddon fieldname language fieldname origlanguage fieldname volume fieldname part fieldname edition fieldname volumes fieldname series fieldname number fieldname note fieldname publisher fieldname location fieldname isbn fieldname chapter fieldname pages fieldname addendum fieldname pubstate fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate override string getname incollection override list<string> getprimaryoptionalfields primaryoptionalfields biblatexentrytype suppcollection biblatexentrytype override string getname suppcollection treated alias incollection according biblatex 0: override list<string> getrequiredfields biblatexentrytypes incollection getrequiredfields override list<string> getoptionalfields biblatexentrytypes incollection getoptionalfields override list<string> getprimaryoptionalfields biblatexentrytypes incollection getprimaryoptionalfields biblatexentrytype manual biblatexentrytype list<string> primaryoptionalfields collections unmodifiablelist arrays aslist fieldname subtitle fieldname titleaddon fieldname edition fieldname publisher fieldname isbn fieldname chapter fieldname pages fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate addallrequired fieldname orfields fieldname author fieldname editor fieldname title fieldname orfields fieldname year fieldname date addalloptional fieldname subtitle fieldname titleaddon fieldname language fieldname edition fieldname type fieldname series fieldname number fieldname version fieldname note fieldname organization fieldname publisher fieldname location fieldname isbn fieldname chapter fieldname pages fieldname pagetotal fieldname addendum fieldname pubstate fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate override string getname manual override list<string> getprimaryoptionalfields primaryoptionalfields biblatexentrytype misc biblatexentrytype list<string> primaryoptionalfields collections unmodifiablelist arrays aslist fieldname subtitle fieldname titleaddon fieldname howpublished fieldname location fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate addallrequired fieldname orfields fieldname author fieldname editor fieldname title fieldname orfields fieldname year fieldname date addalloptional fieldname subtitle fieldname titleaddon fieldname language fieldname howpublished fieldname type fieldname version fieldname note fieldname organization fieldname location fieldname month fieldname addendum fieldname pubstate fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate override string getname misc override list<string> getprimaryoptionalfields primaryoptionalfields biblatexentrytype online biblatexentrytype list<string> primaryoptionalfields collections unmodifiablelist arrays aslist fieldname subtitle fieldname titleaddon fieldname note fieldname organization fieldname urldate addallrequired fieldname orfields fieldname author fieldname editor fieldname title fieldname orfields fieldname year fieldname date fieldname url addalloptional fieldname subtitle fieldname titleaddon fieldname language fieldname version fieldname note fieldname organization fieldname month fieldname addendum fieldname pubstate fieldname urldate override string getname online override list<string> getprimaryoptionalfields primaryoptionalfields biblatexentrytype patent biblatexentrytype list<string> primaryoptionalfields collections unmodifiablelist arrays aslist fieldname holder fieldname subtitle fieldname titleaddon fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate addallrequired fieldname author fieldname title fieldname number fieldname orfields fieldname year fieldname date addalloptional fieldname holder fieldname subtitle fieldname titleaddon fieldname type fieldname version fieldname location fieldname note fieldname month fieldname addendum fieldname pubstate fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate override string getname patent override list<string> getprimaryoptionalfields primaryoptionalfields biblatexentrytype periodical biblatexentrytype list<string> primaryoptionalfields collections unmodifiablelist arrays aslist fieldname subtitle fieldname issuetitle fieldname issuesubtitle fieldname issn fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate addallrequired fieldname editor fieldname title fieldname orfields fieldname year fieldname date addalloptional fieldname editora fieldname editorb fieldname editorc fieldname subtitle fieldname issuetitle fieldname issuesubtitle fieldname language fieldname series fieldname volume fieldname number fieldname issue fieldname month fieldname note fieldname issn fieldname addendum fieldname pubstate fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate override string getname periodical override list<string> getprimaryoptionalfields primaryoptionalfields biblatexentrytype suppperiodical biblatexentrytype override string getname suppperiodical treated alias article according biblatex 0: override list<string> getrequiredfields biblatexentrytypes article getrequiredfields override list<string> getoptionalfields biblatexentrytypes article getoptionalfields override list<string> getprimaryoptionalfields biblatexentrytypes article getprimaryoptionalfields biblatexentrytype proceedings biblatexentrytype list<string> primaryoptionalfields collections unmodifiablelist arrays aslist fieldname subtitle fieldname titleaddon fieldname maintitle fieldname mainsubtitle fieldname maintitleaddon fieldname eventtitle fieldname volume fieldname publisher fieldname isbn fieldname chapter fieldname pages fieldname pagetotal fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate addallrequired fieldname title fieldname orfields fieldname year fieldname date addalloptional fieldname editor fieldname subtitle fieldname titleaddon fieldname maintitle fieldname mainsubtitle fieldname maintitleaddon fieldname eventtitle fieldname eventtitleaddon fieldname eventdate fieldname venue fieldname language fieldname volume fieldname part fieldname volumes fieldname series fieldname number fieldname note fieldname organization fieldname publisher fieldname location fieldname month fieldname year fieldname isbn fieldname chapter fieldname pages fieldname pagetotal fieldname addendum fieldname pubstate fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate override string getname proceedings override list<string> getprimaryoptionalfields primaryoptionalfields biblatexentrytype mvproceedings biblatexentrytype list<string> primaryoptionalfields collections unmodifiablelist arrays aslist fieldname subtitle fieldname titleaddon fieldname maintitle fieldname mainsubtitle fieldname maintitleaddon fieldname eventtitle fieldname volume fieldname publisher fieldname isbn fieldname chapter fieldname pages fieldname pagetotal fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate addallrequired fieldname title fieldname orfields fieldname year fieldname date addalloptional fieldname editor fieldname subtitle fieldname titleaddon fieldname eventtitle fieldname eventtitleaddon fieldname eventdate fieldname venue fieldname language fieldname volumes fieldname series fieldname number fieldname note fieldname organization fieldname publisher fieldname location fieldname month fieldname isbn fieldname pagetotal fieldname addendum fieldname pubstate fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate override string getname mvproceedings override list<string> getprimaryoptionalfields primaryoptionalfields biblatexentrytype inproceedings biblatexentrytype list<string> primaryoptionalfields collections unmodifiablelist arrays aslist fieldname subtitle fieldname titleaddon fieldname maintitle fieldname mainsubtitle fieldname maintitleaddon fieldname booksubtitle fieldname booktitleaddon fieldname eventtitle fieldname volume fieldname publisher fieldname isbn fieldname chapter fieldname pages fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate addallrequired fieldname author fieldname title fieldname booktitle fieldname orfields fieldname year fieldname date addalloptional fieldname editor fieldname subtitle fieldname titleaddon fieldname maintitle fieldname mainsubtitle fieldname maintitleaddon fieldname booksubtitle fieldname booktitleaddon fieldname eventtitle fieldname eventtitleaddon fieldname eventdate fieldname venue fieldname language fieldname volume fieldname part fieldname volumes fieldname series fieldname number fieldname note fieldname organization fieldname publisher fieldname location fieldname month fieldname isbn fieldname chapter fieldname pages fieldname addendum fieldname pubstate fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate override string getname inproceedings override list<string> getprimaryoptionalfields primaryoptionalfields biblatexentrytype reference biblatexentrytype override string getname reference treated alias collection according biblatex 0: override list<string> getrequiredfields biblatexentrytypes collection getrequiredfields override list<string> getoptionalfields biblatexentrytypes collection getoptionalfields override list<string> getprimaryoptionalfields biblatexentrytypes collection getprimaryoptionalfields biblatexentrytype mvreference biblatexentrytype override string getname mvreference treated alias mvcollection according biblatex 0: override list<string> getrequiredfields biblatexentrytypes mvcollection getrequiredfields override list<string> getoptionalfields biblatexentrytypes mvcollection getoptionalfields override list<string> getprimaryoptionalfields biblatexentrytypes mvcollection getprimaryoptionalfields biblatexentrytype inreference biblatexentrytype override string getname inreference treated alias incollection according biblatex 0: override list<string> getrequiredfields biblatexentrytypes incollection getrequiredfields override list<string> getoptionalfields biblatexentrytypes incollection getoptionalfields override list<string> getprimaryoptionalfields biblatexentrytypes incollection getprimaryoptionalfields biblatexentrytype report biblatexentrytype list<string> primaryoptionalfields collections unmodifiablelist arrays aslist fieldname subtitle fieldname titleaddon fieldname number fieldname isrn fieldname chapter fieldname pages fieldname pagetotal fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate addallrequired fieldname author fieldname title fieldname type fieldname institution fieldname orfields fieldname year fieldname date addalloptional fieldname subtitle fieldname titleaddon fieldname language fieldname number fieldname version fieldname note fieldname location fieldname month fieldname isrn fieldname chapter fieldname pages fieldname pagetotal fieldname addendum fieldname pubstate fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate override string getname report override list<string> getprimaryoptionalfields primaryoptionalfields biblatexentrytype set biblatexentrytype addallrequired fieldname entryset fieldname crossref override string getname set biblatexentrytype thesis biblatexentrytype list<string> primaryoptionalfields collections unmodifiablelist arrays aslist fieldname subtitle fieldname titleaddon fieldname chapter fieldname pages fieldname pagetotal fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate addallrequired fieldname author fieldname title fieldname type fieldname institution fieldname orfields fieldname year fieldname date addalloptional fieldname subtitle fieldname titleaddon fieldname language fieldname note fieldname location fieldname month fieldname isbn fieldname chapter fieldname pages fieldname pagetotal fieldname addendum fieldname pubstate fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate override string getname thesis override list<string> getprimaryoptionalfields primaryoptionalfields biblatexentrytype unpublished biblatexentrytype list<string> primaryoptionalfields collections unmodifiablelist arrays aslist fieldname subtitle fieldname titleaddon fieldname howpublished fieldname pubstate fieldname url fieldname urldate addallrequired fieldname author fieldname title fieldname orfields fieldname year fieldname date addalloptional fieldname subtitle fieldname titleaddon fieldname language fieldname howpublished fieldname note fieldname location fieldname month fieldname addendum fieldname pubstate fieldname url fieldname urldate override string getname unpublished override list<string> getprimaryoptionalfields primaryoptionalfields type aliases: biblatexentrytype conference biblatexentrytype override string getname conference treated alias inproceedings according biblatex 0: override list<string> getrequiredfields biblatexentrytypes inproceedings getrequiredfields override list<string> getoptionalfields biblatexentrytypes inproceedings getoptionalfields override list<string> getprimaryoptionalfields biblatexentrytypes inproceedings getprimaryoptionalfields biblatexentrytype electronic biblatexentrytype override string getname electronic treated alias online according biblatex 0: override list<string> getrequiredfields biblatexentrytypes online getrequiredfields override list<string> getoptionalfields biblatexentrytypes online getoptionalfields override list<string> getprimaryoptionalfields biblatexentrytypes online getprimaryoptionalfields biblatexentrytype mastersthesis biblatexentrytype list<string> primaryoptionalfields collections unmodifiablelist arrays aslist fieldname subtitle fieldname titleaddon fieldname type fieldname chapter fieldname pages fieldname pagetotal fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate treated alias thesis except fieldname type field optional addallrequired fieldname author fieldname title fieldname institution fieldname orfields fieldname year fieldname date addalloptional fieldname type fieldname subtitle fieldname titleaddon fieldname language fieldname note fieldname location fieldname month fieldname isbn fieldname chapter fieldname pages fieldname pagetotal fieldname addendum fieldname pubstate fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate override string getname mastersthesis override list<string> getprimaryoptionalfields primaryoptionalfields biblatexentrytype phdthesis biblatexentrytype list<string> primaryoptionalfields collections unmodifiablelist arrays aslist fieldname subtitle fieldname titleaddon fieldname type fieldname chapter fieldname pages fieldname pagetotal fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate treated alias thesis except fieldname type field optional addallrequired fieldname author fieldname title fieldname institution fieldname orfields fieldname year fieldname date addalloptional fieldname type fieldname subtitle fieldname titleaddon fieldname language fieldname note fieldname location fieldname month fieldname isbn fieldname chapter fieldname pages fieldname pagetotal fieldname addendum fieldname pubstate fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate override string getname phdthesis override list<string> getprimaryoptionalfields primaryoptionalfields biblatexentrytype techreport biblatexentrytype list<string> primaryoptionalfields collections unmodifiablelist arrays aslist fieldname subtitle fieldname titleaddon fieldname type fieldname number fieldname isrn fieldname chapter fieldname pages fieldname pagetotal fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate treated alias report except fieldname type field optional addallrequired fieldname author fieldname title fieldname institution fieldname orfields fieldname year fieldname date addalloptional fieldname type fieldname subtitle fieldname titleaddon fieldname language fieldname number fieldname version fieldname note fieldname location fieldname month fieldname isrn fieldname chapter fieldname pages fieldname pagetotal fieldname addendum fieldname pubstate fieldname doi fieldname eprint fieldname eprintclass fieldname eprinttype fieldname url fieldname urldate override string getname techreport override list<string> getprimaryoptionalfields primaryoptionalfields biblatexentrytype www biblatexentrytype override string getname www treated alias online according biblatex 0: override list<string> getrequiredfields biblatexentrytypes online getrequiredfields override list<string> getoptionalfields biblatexentrytypes online getoptionalfields override list<string> getprimaryoptionalfields biblatexentrytypes online getprimaryoptionalfields type used ieeetran bst control various repeated elegant solution works biblatexentrytype ieeetranbstctl biblatexentrytype addalloptional fieldname ctluse article number fieldname ctluse paper fieldname ctluse forced etal fieldname ctluse url fieldname ctlmax names forced etal fieldname ctlnames show etal fieldname ctluse alt spacing fieldname ctlalt stretch factor fieldname ctldash repeated names fieldname ctlname format string fieldname ctlname latex cmd fieldname ctlname url prefix override string getname ieeetranbstctl list<entrytype> arrays aslist article book mvbook inbook bookinbook suppbook booklet collection mvcollection incollection suppcollection manual misc online patent periodical suppperiodical proceedings mvproceedings inproceedings reference mvreference inreference report set thesis unpublished conference electronic mastersthesis phdthesis techreport www ieeetranbstctl optional<entrytype> gettype string name stream filter getname equalsignorecase name findfirst 
783	EntryEventSource.java	MODEL	net sf jabref model entry event enum represents context entryevents sent enum entryeventsource local shared undo save action 
784	EntryEvent.java	MODEL	net sf jabref model entry event util objects net sf jabref model database event bibdatabasecontextchangedevent net sf jabref model entry bibentry pretends minimal set attributes methods entry event entryevent bibdatabasecontextchangedevent bibentry bibentry entryeventsource location param bibentry bibentry object involved event entryevent bibentry bibentry bibentry entryeventsource local param bibentry bibentry object involved event param location location affected event entryevent bibentry bibentry entryeventsource location bibentry objects requirenonnull bibentry location objects requirenonnull location bibentry getbibentry bibentry entryeventsource getentryeventsource location 
785	EntryChangedEvent.java	MODEL	net sf jabref model entry event net sf jabref model entry bibentry <code>entrychangedevent< code> fired <code>bibentry< code> changed entrychangedevent entryevent param bibentry <code>bibentry< code> object changes applied entrychangedevent bibentry bibentry super bibentry param bibentry <code>bibentry< code> object changes applied param location location affected event entrychangedevent bibentry bibentry entryeventsource location super bibentry location 
786	FieldChangedEvent.java	MODEL	net sf jabref model entry event net sf jabref model fieldchange net sf jabref model entry bibentry <code>fieldchangedevent< code> fired field <code>bibentry< code> modified removed added fieldchangedevent entrychangedevent string fieldname string newvalue string oldvalue param bibentry affected bibentry object param fieldname name field changed param newvalue field value param newvalue old field value param location location location affected event fieldchangedevent bibentry bibentry string fieldname string newvalue string oldvalue entryeventsource location super bibentry location fieldname fieldname newvalue newvalue oldvalue oldvalue param bibentry affected bibentry object param fieldname name field changed param newvalue field value fieldchangedevent bibentry bibentry string fieldname string newvalue string oldvalue super bibentry fieldname fieldname newvalue newvalue oldvalue oldvalue param bibentry affected bibentry object param fieldname name field changed param newvalue field value param location location location affected event fieldchangedevent fieldchange fieldchange entryeventsource location super fieldchange getentry location fieldname fieldchange getfield newvalue fieldchange getnewvalue oldvalue fieldchange getoldvalue fieldchangedevent fieldchange fieldchange fieldchange entryeventsource local string getfieldname fieldname string getnewvalue newvalue string getoldvalue oldvalue 
787	FieldProperty.java	MODEL	net sf jabref model entry util enumset util set enum fieldproperty yes date journal name external owner month file editor numeric person names integer gender language doi editor type pagination type crossref iso date isbn eprint book name single entry link multiple entry link publication state verbatim set<fieldproperty> opts enumset allof fieldproperty 
788	KeywordList.java	MODEL	net sf jabref model entry util arraylist util arrays util collection util iterator util list util objects util optional util stringtokenizer util stream collectors util stream stream net sf jabref model strings stringutil represents list keyword chains example type type something else keywordlist iterable<keyword> list<keyword> keywords keywordlist keywords arraylist<> keywordlist collection<keyword> keywords keywords arraylist<> keywords foreach this::add keywordlist list<string> keywords keywords stream map keyword::new collect collectors tolist keywordlist string keywords arrays stream keywords map keyword::new collect collectors tolist param keywordstring string keywords parsed list containing keywords keywordlist parse string keywordstring character delimiter stringutil isblank keywordstring keywordlist list<string> keywords arraylist<> stringtokenizer tok stringtokenizer keywordstring delimiter tostring tok hasmoretokens string word tok nexttoken trim keywords add word keywordlist keywords keywordlist createclone keywordlist keywords replaceall keywordlist keywordstoreplace keyword newvalue objects requirenonnull newvalue remove keywords replaced foundposition remember position last found keyword keyword specialfieldkeyword keywordstoreplace pos keywords indexof specialfieldkeyword pos foundposition pos keywords remove pos add keyword right position foundposition add newvalue else keywords add foundposition newvalue removeall keywordlist keywordstoremove keywords removeall keywordstoremove keywords deprecated use link #replaceall keywordlist keyword link #removeall keywordlist deprecated replacekeywords keywordlist keywordstoreplace optional<keyword> newvalue newvalue ispresent replaceall keywordstoreplace newvalue get else removeall keywordstoreplace boolean add keyword keyword contains keyword false add duplicate keywords keywords add keyword keywords separated given delimiter additional space one two string getasstring character delimiter keywords stream map keyword::tostring collect collectors joining delimiter add string keywordsstring add keyword keywordsstring override iterator<keyword> iterator keywords iterator size keywords size boolean isempty keywords isempty boolean contains object keywords contains boolean remove object keywords remove addall keywordlist keywordstoadd keywords addall keywordstoadd keywords retainall keywordlist keywordtoretain keywords retainall keywordtoretain keywords clear keywords clear keyword get index keywords get index stream<keyword> stream keywords stream override string tostring getasstring override boolean equals object true null getclass getclass false keywordlist keywords1 keywordlist objects equals keywords keywords1 keywords override hashcode objects hash keywords 
789	CanonicalBibtexEntry.java	MODEL	net sf jabref model entry util hashmap util locale util map util map entry util sortedset util stringjoiner util treeset canonicalbibtexentry returns canonical bibtex serialization special characters escaped written serializes fields even jabref internal ones serialize key field field key string getcanonicalrepresentation bibentry stringbuilder sb stringbuilder generate first line: type bibtex key string citekey getcitekeyoptional orelse sb append string format gettype tolowercase locale us citekey append '\n' introduce map fields stored case sensitive jabref see https: github com koppor jabref issues map<string string> mapfieldtovalue hashmap<> determine sorted fields fields lower case sortedset<string> sortedfields treeset<> entry<string string> field getfieldmap entryset string fieldname field getkey string fieldvalue field getvalue jabref stores key field key field must serialized fieldname equals bibentry key field string lowercasefieldname fieldname tolowercase locale us sortedfields add lowercasefieldname mapfieldtovalue put lowercasefieldname fieldvalue generate field entries stringjoiner sj stringjoiner \n \n string fieldname sortedfields string line string format fieldname string valueof mapfieldtovalue get fieldname replaceall \\r\\n \n sj add line sb append sj append closing entry bracket sb append sb tostring 
790	CustomEntryType.java	MODEL	net sf jabref model entry util arraylist util arrays util collections util list util objects util optional util stream collectors util stream stream net sf jabref model strings stringutil used represent customized entry types customentrytype entrytype string entrytype flag jabref entrytype: string name list<string> required list<string> optional list<string> primaryoptional customentrytype string name list<string> required list<string> primaryoptional list<string> secondaryoptional name stringutil capitalizefirst name primaryoptional primaryoptional required required optional stream concat primaryoptional stream secondaryoptional stream collect collectors tolist customentrytype string name list<string> required list<string> optional name stringutil capitalizefirst name required required optional optional primaryoptional optional customentrytype string name string required string optional name arrays aslist required split arrays aslist optional split optional<customentrytype> parse string comment string rest comment substring entrytype flag length indexendofname rest indexof ':' indexendofname optional empty string fieldsdescription rest substring indexendofname indexendofrequiredfields fieldsdescription indexof ']' indexendofoptionalfields fieldsdescription indexof ']' indexendofrequiredfields indexendofrequiredfields indexendofoptionalfields indexendofrequiredfields optional empty string name rest substring indexendofname string reqfields fieldsdescription substring indexendofrequiredfields string optfields fieldsdescription substring indexendofrequiredfields indexendofoptionalfields optional customentrytype name reqfields optfields override compareto entrytype getname compareto getname override boolean equals object true instanceof customentrytype objects equals name customentrytype name else false override string getname name override list<string> getoptionalfields collections unmodifiablelist optional override list<string> getrequiredfields collections unmodifiablelist required override list<string> getprimaryoptionalfields collections unmodifiablelist primaryoptional override list<string> getsecondaryoptionalfields list<string> result arraylist<> optional result removeall primaryoptional collections unmodifiablelist result get string describing required field set entry type description required field set storage preferences bib file string getrequiredfieldsstring string join required override hashcode super hashcode string getasstring stringbuilder builder stringbuilder builder append entrytype flag builder append getname builder append req[ builder append getrequiredfieldsstring builder append opt[ builder append string join getoptionalfields builder append builder tostring 
791	ParsedFileField.java	MODEL	net sf jabref model entry net url util objects parsedfilefield parsedfilefield null object parsedfilefield string description string link string filetype parsedfilefield string description string link string filetype description objects requirenonnull description link objects requirenonnull link filetype objects requirenonnull filetype parsedfilefield string description url link string filetype description objects requirenonnull link tostring filetype string getfiletype filetype string getdescription description string getlink link override boolean equals object true instanceof parsedfilefield parsedfilefield parsedfilefield description equals description false link equals link false filetype equals filetype false override hashcode objects hash description link filetype override string tostring parsedfilefield description description '\'' link link '\'' filetype filetype '\'' boolean isempty null object equals 
792	InternalBibtexFields.java	MODEL	net sf jabref model entry util arraylist util arrays util collections util enumset util hashmap util hashset util list util locale util map util optional util set util stream collectors net sf jabref model entry specialfields specialfield handling bibtex fields bibtex field related stuff placed export informations additional config files simple extension definition fields todo: handling identically fields different names lccn lib congress group id fields standard jurabib bio add additional properties functionality bibtexsinglefield internalbibtexfields contains bibtex field objects bibtexsinglefield map<string bibtexsinglefield> fieldset name current time stamp field needed case want change string timestampfield lists fields special properties list<string> integer fields arrays aslist fieldname ctlmax names forced etal fieldname ctlnames show etal fieldname ctlalt stretch factor fieldname volumes fieldname pmid list<string> ieeetranbstctl yes fields arrays aslist fieldname ctluse article number fieldname ctluse paper fieldname ctluse url fieldname ctluse forced etal fieldname ctluse alt spacing fieldname ctldash repeated names list<string> biblatex date fields arrays aslist fieldname date fieldname eventdate fieldname origdate fieldname urldate list<string> biblatex person name fields arrays aslist fieldname author fieldname editor fieldname editora fieldname editorb fieldname editorc fieldname translator fieldname annotator fieldname commentator fieldname introduction fieldname foreword fieldname afterword fieldname bookauthor fieldname holder fieldname shortauthor fieldname shorteditor fieldname sortname fieldname nameaddon fieldname assignee list<string> biblatex editor type fields arrays aslist fieldname editortype fieldname editoratype fieldname editorbtype fieldname editorctype list<string> biblatex pagination fields arrays aslist fieldname pagination fieldname bookpagination list<string> biblatex journal name fields arrays aslist fieldname journal fieldname journaltitle fieldname journalsubtitle list<string> biblatex book name fields arrays aslist fieldname booktitle fieldname maintitle fieldname mainsubtitle fieldname maintitleaddon fieldname booksubtitle fieldname booktitleaddon list<string> biblatex language fields arrays aslist fieldname language fieldname origlanguage list<string> biblatex multi key fields arrays aslist fieldname related fieldname entryset list<string> verbatim fields arrays aslist fieldname url fieldname file fieldname ctlname format string fieldname ctlname latex cmd fieldname ctlname url prefix list<string> special fields arrays aslist specialfield printed getfieldname specialfield priority getfieldname specialfield quality getfieldname specialfield ranking getfieldname specialfield read status getfieldname specialfield relevance getfieldname singleton instance internalbibtexfields runtime internalbibtexfields fieldname timestamp internalbibtexfields string timestampfieldname fieldset hashmap<> bibtexsinglefield dummy first: standard fields fields bibtex might want treat must conform bibtex rules add bibtexsinglefield fieldname address true bibtexsinglefield small annotation used standard bibliography styles may used others produce annotated bibliography http: www ecst csuchico edu ~jacobsd bib formats bibtex html add bibtexsinglefield fieldname annote true bibtexsinglefield large add bibtexsinglefield fieldname author true bibtexsinglefield medium add bibtexsinglefield fieldname booktitle true add bibtexsinglefield fieldname chapter true bibtexsinglefield small dummy bibtexsinglefield fieldname crossref true bibtexsinglefield small dummy setextras enumset fieldproperty crossref fieldproperty single entry link add dummy add bibtexsinglefield fieldname edition true bibtexsinglefield small add bibtexsinglefield fieldname editor true bibtexsinglefield medium dummy bibtexsinglefield fieldname eprint true bibtexsinglefield small dummy setextras enumset fieldproperty eprint add dummy add bibtexsinglefield fieldname howpublished true bibtexsinglefield medium add bibtexsinglefield fieldname institution true bibtexsinglefield medium dummy bibtexsinglefield fieldname isbn true bibtexsinglefield small dummy setextras enumset fieldproperty isbn add dummy add bibtexsinglefield fieldname issn true bibtexsinglefield small dummy bibtexsinglefield fieldname journal true bibtexsinglefield small dummy setextras enumset fieldproperty journal name add dummy dummy bibtexsinglefield fieldname journaltitle true bibtexsinglefield small dummy setextras enumset fieldproperty journal name add dummy add bibtexsinglefield fieldname key true dummy bibtexsinglefield fieldname month true bibtexsinglefield small dummy setextras enumset fieldproperty month add dummy add bibtexsinglefield fieldname note true bibtexsinglefield medium add bibtexsinglefield fieldname number true bibtexsinglefield small setnumeric true add bibtexsinglefield fieldname organization true bibtexsinglefield medium add bibtexsinglefield fieldname pages true bibtexsinglefield small add bibtexsinglefield fieldname publisher true bibtexsinglefield medium add bibtexsinglefield fieldname school true bibtexsinglefield medium add bibtexsinglefield fieldname series true bibtexsinglefield small add bibtexsinglefield fieldname title true dummy bibtexsinglefield fieldname type true bibtexsinglefield small dummy getfieldproperties add fieldproperty type add dummy add bibtexsinglefield fieldname language true bibtexsinglefield small add bibtexsinglefield fieldname volume true bibtexsinglefield small setnumeric true add bibtexsinglefield fieldname year true bibtexsinglefield small setnumeric true custom fields displayed editor columns ui string fieldname special fields dummy bibtexsinglefield fieldname false dummy setprivate dummy setwriteable false dummy setdisplayable false add dummy semi standard fields dummy bibtexsinglefield bibentry key field true dummy setprivate add dummy dummy bibtexsinglefield fieldname doi true bibtexsinglefield small dummy setextras enumset fieldproperty doi add dummy add bibtexsinglefield fieldname eid true bibtexsinglefield small dummy bibtexsinglefield fieldname date true dummy setextras enumset fieldproperty date add dummy add bibtexsinglefield fieldname pmid false bibtexsinglefield small setnumeric true additional fields add bibtexsinglefield fieldname location false add bibtexsinglefield fieldname false bibtexsinglefield large dummy bibtexsinglefield fieldname url false bibtexsinglefield small dummy setextras enumset fieldproperty external fieldproperty verbatim add dummy add bibtexsinglefield comment false bibtexsinglefield medium add bibtexsinglefield fieldname keywords false bibtexsinglefield small dummy bibtexsinglefield fieldname file false dummy setextras enumset fieldproperty file editor fieldproperty verbatim add dummy dummy bibtexsinglefield fieldname related false dummy setextras enumset fieldproperty multiple entry link add dummy biblatex fields dummy bibtexsinglefield fieldname gender true bibtexsinglefield small dummy getfieldproperties add fieldproperty gender add dummy dummy bibtexsinglefield fieldname pubstate true bibtexsinglefield small dummy getfieldproperties add fieldproperty publication state add dummy internal fields dummy bibtexsinglefield fieldname number col false dummy setprivate dummy setwriteable false dummy setdisplayable false add dummy dummy bibtexsinglefield fieldname owner false bibtexsinglefield small dummy setextras enumset fieldproperty owner dummy setprivate add dummy timestampfield timestampfieldname dummy bibtexsinglefield timestampfieldname false bibtexsinglefield small dummy setextras enumset fieldproperty date dummy setprivate add dummy dummy bibtexsinglefield bibentry type header false dummy setprivate add dummy dummy bibtexsinglefield fieldname search internal false dummy setprivate dummy setwriteable false dummy setdisplayable false add dummy dummy bibtexsinglefield fieldname groupsearch internal false dummy setprivate dummy setwriteable false dummy setdisplayable false add dummy dummy bibtexsinglefield fieldname marked internal false dummy setprivate dummy setwriteable true field must written file dummy setdisplayable false add dummy ieeetranbstctl fields yes string yesnofield ieeetranbstctl yes fields dummy bibtexsinglefield yesnofield false dummy setextras enumset fieldproperty yes add dummy fields integer value string numericfield integer fields bibtexsinglefield field fieldset get numericfield field null field bibtexsinglefield numericfield true bibtexsinglefield small setnumeric true field getfieldproperties add fieldproperty integer add field fields treated verbatim formatting requirements string fieldtext verbatim fields bibtexsinglefield field fieldset get fieldtext field null field bibtexsinglefield fieldtext true bibtexsinglefield small field getfieldproperties add fieldproperty verbatim add field set fields person names string fieldtext biblatex person name fields bibtexsinglefield field fieldset get fieldtext field null field bibtexsinglefield fieldtext true bibtexsinglefield small field getfieldproperties add fieldproperty person names add field set fields contain editor types string fieldtext biblatex editor type fields bibtexsinglefield field fieldset get fieldtext field null field bibtexsinglefield fieldtext true bibtexsinglefield small field getfieldproperties add fieldproperty editor type add field set fields pagination fields string fieldtext biblatex pagination fields bibtexsinglefield field fieldset get fieldtext field null field bibtexsinglefield fieldtext true bibtexsinglefield small field getfieldproperties add fieldproperty pagination add field set fields dates string fieldtext biblatex date fields bibtexsinglefield field fieldset get fieldtext field null field bibtexsinglefield fieldtext true bibtexsinglefield small field getfieldproperties add fieldproperty date field getfieldproperties add fieldproperty iso date add field set fields journal names string fieldtext biblatex journal name fields bibtexsinglefield field fieldset get fieldtext field null field bibtexsinglefield fieldtext true bibtexsinglefield small field getfieldproperties add fieldproperty journal name add field set fields book names string fieldtext biblatex book name fields bibtexsinglefield field fieldset get fieldtext field null field bibtexsinglefield fieldtext true bibtexsinglefield small field getfieldproperties add fieldproperty book name add field set fields containing language string fieldtext biblatex language fields bibtexsinglefield field fieldset get fieldtext field null field bibtexsinglefield fieldtext true bibtexsinglefield small field getfieldproperties add fieldproperty language add field set fields multiple key links string fieldtext biblatex multi key fields bibtexsinglefield field fieldset get fieldtext field null field bibtexsinglefield fieldtext true bibtexsinglefield small field getfieldproperties add fieldproperty multiple entry link add field updatetimestampfield string timestampfieldname getfield runtime timestampfield ifpresent field field setname timestampfieldname runtime timestampfield timestampfieldname updatespecialfields boolean serializespecialfields string fieldname special fields getfield fieldname ifpresent field serializespecialfields field setpublic else field setprivate field setwriteable serializespecialfields field setdisplayable serializespecialfields read numericfields string array preferences activate numeric sorting fields listed array unknown field name included add field descriptor field setnumericfields list<string> numfields numfields isempty build set field names fields sorted numerically: set<string> nf hashset<> nf addall numfields look registered fields activate numeric sorting necessary: string fieldname internalbibtexfields runtime fieldset keyset bibtexsinglefield field internalbibtexfields runtime fieldset get fieldname field isnumeric nf contains fieldname field setnumeric nf contains fieldname nf remove fieldname remove clear set standard fields fields left nf must non standard fields add descriptors them: string fieldname nf bibtexsinglefield field bibtexsinglefield fieldname false field setnumeric true internalbibtexfields runtime fieldset put fieldname field insert field internal list add bibtexsinglefield field field null check string key field getfieldname fieldset put key field area optional<bibtexsinglefield> getfield string name name null optional ofnullable internalbibtexfields runtime fieldset get name tolowercase locale english optional empty set<fieldproperty> getfieldproperties string name optional<bibtexsinglefield> sfield internalbibtexfields getfield name sfield ispresent sfield get getfieldproperties enumset noneof fieldproperty getfieldweight string name optional<bibtexsinglefield> sfield internalbibtexfields getfield name sfield ispresent sfield get getweight bibtexsinglefield default field weight setfieldweight string fieldname weight optional<bibtexsinglefield> sfield internalbibtexfields getfield fieldname sfield ispresent sfield get setweight weight getfieldlength string name optional<bibtexsinglefield> sfield internalbibtexfields getfield name sfield ispresent sfield get getlength bibtexsinglefield default field length boolean iswriteablefield string field optional<bibtexsinglefield> sfield internalbibtexfields getfield field sfield ispresent sfield get iswriteable boolean isdisplayablefield string field optional<bibtexsinglefield> sfield internalbibtexfields getfield field sfield ispresent sfield get isdisplayable returns true given field standard bibtex field param field <code>string< code> value <code>boolean< code> value boolean isstandardfield string field optional<bibtexsinglefield> sfield internalbibtexfields getfield field sfield ispresent sfield get isstandard boolean isnumeric string field optional<bibtexsinglefield> sfield internalbibtexfields getfield field sfield ispresent sfield get isnumeric boolean isinternalfield string field field startswith returns list fieldnames list<string> getallpublicfieldnames collect fields list<string> publicfields arraylist<> bibtexsinglefield sfield internalbibtexfields runtime fieldset values sfield isprivate publicfields add sfield getfieldname export complete bibtexsinglefield bibtexsinglefield tostring fieldname sort entries collections sort publicfields publicfields returns list fieldnames incl internal fieldnames list<string> getallpublicandinteralfieldnames add internal field names fields list<string> publicandinternalfields arraylist<> publicandinternalfields addall internalbibtexfields getallpublicfieldnames publicandinternalfields add fieldname internal field publicandinternalfields add fieldname internal text fields field sort entries collections sort publicandinternalfields publicandinternalfields list<string> getjournalnamefields internalbibtexfields getallpublicfieldnames stream filter fieldname internalbibtexfields getfieldproperties fieldname contains fieldproperty journal name collect collectors tolist list<string> getbooknamefields internalbibtexfields getallpublicfieldnames stream filter fieldname internalbibtexfields getfieldproperties fieldname contains fieldproperty book name collect collectors tolist list<string> getpersonnamefields internalbibtexfields getallpublicfieldnames stream filter fieldname internalbibtexfields getfieldproperties fieldname contains fieldproperty person names collect collectors tolist list<string> getieeetranbstctlyesnofields ieeetranbstctl yes fields 
793	BibtexEntryType.java	MODEL	net sf jabref model entry util arraylist util arrays util collections util list util stream collectors base bibtex entry types bibtexentrytype entrytype list<string> requiredfields list<string> optionalfields bibtexentrytype requiredfields arraylist<> optionalfields arraylist<> addalloptional string fieldnames optionalfields addall arrays aslist fieldnames addallrequired string fieldnames requiredfields addall arrays aslist fieldnames override list<string> getoptionalfields collections unmodifiablelist optionalfields override list<string> getrequiredfields collections unmodifiablelist requiredfields override compareto entrytype getname compareto getname override list<string> getprimaryoptionalfields getoptionalfields override list<string> getsecondaryoptionalfields getoptionalfields stream filter field isprimary field collect collectors tolist boolean isprimary string field getprimaryoptionalfields contains field 
794	AuthorList.java	MODEL	net sf jabref model entry util arrays util collection util collections util hashset util list util locale util objects util weakhashmap util stream collectors immutable representing information either <code>author< code> <code>editor< code> field bibtex record <p> constructor performs parsing raw field text stores preformatted data various accessor methods author editor field different formats <p> parsing algorithm designed satisfy two requirements: author's name typed correctly result coincide one bibtex erroneous names output reasonable may differ bibtex output following rules used: <ol> <li> 'author field' sequence tokens <ul> <li> tokens separated sequences whitespaces <code>character iswhitespace true< code> commas dashes tildas <li> every comma separates tokens sequences separators equivalent single separator example: consists tokens consists tokens <li> anything enclosed braces belonges single token example: abc consists tokens abc xa cx consists tokens abc xa cx <li> token followed immediately dash dash terminated token tokens space terminated tokens example: tokens dash terminated space terminated <li> purposes splitting 'author name' parts construction abbreviation first name one needs definitions first latter token case token abbreviation token: <ul> <li> 'first letter' token first letter character <code>character isletter true< code> belong sequence letters immediately follows character one exception: followed aa aa ae ae oe oe followed non letter 'first letter' token letter follows example: 'first letter' bel 'first letter' \noopsort xyz 'first letter' \ae 'first letter' \aex\ijk\oe\j 'first letter' letter satisfying rule 'first letter' undefined <li> token lower case token first letter id defined lower case <code>character islowercase true< code> token upper case token otherwise <li> 'abbreviation' token shortest prefix token contains 'first letter' braces balanced 'first letter' undefined 'abbreviation' token examples 'abbreviation's \noopsort \ae \aex\ijk\oe\j ul> <li> behavior based definitions erroneous one case: first name token \noopsort john abbreviate \noopsort bibtex produces fixing problem however requires processing preabmle ul> <li> 'author name's 'author field' subsequences tokens separated token case insensitive 'author name' empty sequence tokens ignored examle john smith peter black john smith peter black consists 'author name's johm smith peter black erroneous situations bit different bibtex behavior <li> 'author name' consists 'first part' 'von part' 'last part' 'junior part' sequence tokens sequence tokens splitted parts depends number commas: <ul> <li> commas tokens upper case: 'junior part' 'von part' empty 'last part' consist last token 'first part' consists tokens 'first part' empty 'author name' consists single token example john james smith 'last part' smith 'first part' john james <li> commas exists lower case token: 'junior part' empty 'first part' consists upper case tokens first lower case token 'von part' consists lower case tokens starting first lower case token ending lower case token followed upper case token 'last part' consists rest tokens note 'first part' 'latst part' may empty 'last part' may contain lower case tokens example: von der 'first part' 'last part' 'von part' von der charles louis xavier joseph de la vall \'e la poussin 'first part' charles louis xavier joseph 'von part' de la 'last part' vall \'e la poussin <li> one comma: 'junior part' empty 'first part' consists tokens comma 'von part' consists longest sequence lower case tokens beginning 'last part' consists tokens 'von part' comma note part empty example: de la vall \'e la poussin charles louis xavier joseph 'first part' charles louis xavier joseph 'von part' de la 'last part' vall \'e la poussin joseph de la vall \'e la poussin charles louis xavier 'first part' charles louis xavier 'von part' 'last part' joseph de la vall \'e la poussin <li> two commas comma second one ignored merely separates tokens 'junior part' consists tokens first second commas 'first part' consists tokens second comma tokens first comma splitted 'von part' 'last part' similarly case one comma example: de la vall \'e poussin jr charles louis xavier joseph 'first part' charles louis xavier joseph 'von part' de la 'last part' vall \'e la poussin 'junior part' jr ul> <li> 'first part' 'last part' 'von part' 'junior part' reconstructed tokens tokens part separated either space dash depending whether token separator space terminated dash terminated last token part matter whether dash space terminated <li> 'first part' abbreviated token replaced abbreviation followed period separators case non abbreviated name example: heinrich bel kurt von minich 'first part' heinrich bel kurt abbreviation ol> authorlist list<author> authors variables storing computed strings need created once: string authorsnatbib string authorsfirstfirstands string authorsalph string[] authorsfirstfirst string[4] string[] authorslastonly string[2] string[] authorlastfirstands string[2] string[] authorslastfirst string[4] string[] authorslastfirstfirstlast string[2] weakhashmap<string authorlist> author cache weakhashmap<> avoid partition values contained collection<string> avoidtermsinlowercase arrays aslist jr sr jnr snr von zu van der creates list authors <p> call constructor directly rather use getauthorlist method caches results param authors list authors underlie instance authorlist list<author> authors authors objects requirenonnull authors authorlist author author collections singletonlist author retrieve authorlist given string authors editors <p> function tries cache parsed authorlists string passed param authors string authors editors bibtex format parse authorlist object representing given authors authorlist parse string authors objects requirenonnull authors handle case names order lastname firstname separated ali babar dingsøyr lago van der vliet authors touppercase locale english contains authors contains authors contains list<string> arraynamelist arrays aslist authors split delete spaces correct case identification arraynamelist replaceall string::trim looking space pre lastname boolean spaceinallparts arraynamelist stream filter name name contains collect collectors tolist size arraynamelist size hit comma name separator case usually getaslastfirstnameswithand method would separate pre lastname separated check spaces separate pre lastname spaceinallparts authors authors replaceall else looking name affixes avoid arraynamelist needs reduce count avoiding terms valuepartscount holds count name parts without avoided terms valuepartscount arraynamelist size holds index term needs avoided collection<integer> avoidindex hashset<> arraynamelist size avoidtermsinlowercase contains arraynamelist get tolowercase avoidindex add valuepartscount valuepartscount hit described special case name affix like jr authors buildwithaffix avoidindex arraynamelist tostring authorlist authorlist author cache get authors authorlist null authorlistparser parser authorlistparser authorlist parser parse authors author cache put authors authorlist authorlist convenience method getauthorsfirstfirst see authorlist#getasfirstlastnames string fixauthorfirstnamefirstcommas string authors boolean abbr boolean oxfordcomma authorlist parse authors getasfirstlastnames abbr oxfordcomma convenience method getauthorsfirstfirstands see authorlist#getasfirstlastnameswithand string fixauthorfirstnamefirst string authors authorlist parse authors getasfirstlastnameswithand convenience method getauthorslastfirst see authorlist#getaslastfirstnames string fixauthorlastnamefirstcommas string authors boolean abbr boolean oxfordcomma authorlist parse authors getaslastfirstnames abbr oxfordcomma convenience method getauthorslastfirstands true see authorlist#getaslastfirstnameswithand string fixauthorlastnamefirst string authors authorlist parse authors getaslastfirstnameswithand false convenience method getauthorslastfirstands see authorlist#getaslastfirstnameswithand string fixauthorlastnamefirst string authors boolean abbreviate authorlist parse authors getaslastfirstnameswithand abbreviate convenience method getauthorslastonly see authorlist#getaslastnames string fixauthorlastnameonlycommas string authors boolean oxfordcomma authorlist parse authors getaslastnames oxfordcomma convenience method getauthorsforalphabetization see authorlist#getforalphabetization string fixauthorforalphabetization string authors authorlist parse authors getforalphabetization convenience method getauthorsnatbib see authorlist#getasnatbib string fixauthornatbib string authors authorlist parse authors getasnatbib returns number author names object number author names object getnumberofauthors authors size returns true authors list true authors list boolean isempty authors isempty returns <code>author< code> object th author param index author <code>size 1< code> <code>author< code> object author getauthor authors get returns list <code>author< code> objects <code>list<author>< code> object list<author> getauthors authors returns list authors natbib format <p> <ul> <li> john smith smith li> <li> john smith black brown peter smith black brown li> <li> john von neumann john smith black brown peter von neumann et al li> ul> formatted list authors string getasnatbib check we've computed before: authorsnatbib null authorsnatbib stringbuilder res stringbuilder isempty res append getauthor getlastonly getnumberofauthors res append res append getauthor getlastonly else getnumberofauthors res append et al authorsnatbib res tostring authorsnatbib returns list authors separated commas last name list consists two authors inserted last author's name <p> <p> <ul> <li> john smith smith li> <li> john smith black brown peter smith black brown li> <li> john von neumann john smith black brown peter von neumann smith black brown li> ul> param oxfordcomma whether put comma end formatted list authors see <a href http: en wikipedia org wiki serial comma >serial comma detailed explaination oxford comma a> string getaslastnames boolean oxfordcomma abbrint oxfordcomma check we've computed before: authorslastonly[abbrint] null authorslastonly[abbrint] stringbuilder result stringbuilder isempty result append getauthor getlastonly getnumberofauthors result append result append getauthor getlastonly getnumberofauthors oxfordcomma result append getnumberofauthors result append result append getauthor getlastonly authorslastonly[abbrint] result tostring authorslastonly[abbrint] returns list authors separated commas first names last name first names abbreviated depending parameter list consists three authors inserted last author's name <p> <p> <ul> <li> john smith smith john smith li> <li> john smith black brown peter smith john black brown peter smith black brown li> <li> john von neumann john smith black brown peter von neumann john smith john black brown peter von neumann smith black brown li> ul> param abbreviate whether abbreivate first names param oxfordcomma whether put comma end formatted list authors see <a href http: en wikipedia org wiki serial comma >serial comma detailed explaination oxford comma a> string getaslastfirstnames boolean abbreviate boolean oxfordcomma abbrint abbreviate abbrint oxfordcomma check we've computed before: authorslastfirst[abbrint] null authorslastfirst[abbrint] stringbuilder result stringbuilder isempty result append getauthor getlastfirst abbreviate getnumberofauthors result append result append getauthor getlastfirst abbreviate getnumberofauthors oxfordcomma result append getnumberofauthors result append result append getauthor getlastfirst abbreviate authorslastfirst[abbrint] result tostring authorslastfirst[abbrint] override string tostring authors tostring returns list authors separated first names last name first names abbreviated <p> <ul> <li> john smith smith john li> <li> john smith black brown peter smith john black brown peter li> <li> john von neumann john smith black brown peter von neumann john smith john black brown peter li> ul> formatted list authors string getaslastfirstnameswithand boolean abbreviate abbrint abbreviate check we've computed before: authorlastfirstands[abbrint] null authorlastfirstands[abbrint] authorlastfirstands[abbrint] getauthors stream map author author getlastfirst abbreviate collect collectors joining authorlastfirstands[abbrint] string getaslastfirstfirstlastnameswithand boolean abbreviate abbrint abbreviate check we've computed before: authorslastfirstfirstlast[abbrint] null authorslastfirstfirstlast[abbrint] stringbuilder result stringbuilder isempty result append getauthor getlastfirst abbreviate getnumberofauthors result append result append getauthor getfirstlast abbreviate authorslastfirstfirstlast[abbrint] result tostring authorslastfirstfirstlast[abbrint] returns list authors separated commas first names last name first names abbreviated depending parameter list consists three authors inserted last author's name <p> <ul> <li> john smith john smith smith li> <li> john smith black brown peter john smith peter black brown smith black brown li> <li> john von neumann john smith black brown peter john von neumann john smith peter black brown von neumann smith black brown li> ul> param abbr whether abbreivate first names param oxfordcomma whether put comma end formatted list authors see <a href http: en wikipedia org wiki serial comma >serial comma detailed explaination oxford comma a> string getasfirstlastnames boolean abbr boolean oxfordcomma abbrint abbr abbrint oxfordcomma check we've computed before: authorsfirstfirst[abbrint] null authorsfirstfirst[abbrint] stringbuilder result stringbuilder isempty result append getauthor getfirstlast abbr getnumberofauthors result append result append getauthor getfirstlast abbr getnumberofauthors oxfordcomma result append getnumberofauthors result append result append getauthor getfirstlast abbr authorsfirstfirst[abbrint] result tostring authorsfirstfirst[abbrint] compare object given one <p> true iff object author fields identical string comparison override boolean equals object instanceof authorlist false authorlist authorlist authors equals authors override hashcode objects hash authors returns list authors separated first names last name first names abbreviated <p> <ul> <li> john smith john smith li> <li> john smith black brown peter john smith peter black brown li> <li> john von neumann john smith black brown peter john von neumann john smith peter black brown li> li> formatted list authors string getasfirstlastnameswithand check we've computed before: authorsfirstfirstands null authorsfirstfirstands authorsfirstfirstands getauthors stream map author author getfirstlast false collect collectors joining authorsfirstfirstands returns list authors form suitable alphabetization means last names come first never preceded von particles braces removed first names abbreviated name treated similarly abbreviated one case another form intended suitable presentation sorting <p> <p> <ul> <li> john smith smith li> formatted list authors string getforalphabetization authorsalph null authorsalph authorsalph getauthors stream map author::getnameforalphabetization collect collectors joining authorsalph builds array strings stringbuilder regarding name affixes string correct seperation stringbuilder buildwithaffix collection<integer> indexarray list<string> namelist stringbuilder stringbuilder stringbuilder avoidedtimes needs increased count avoided terms correct odd even calculation avoidedtimes namelist size indexarray contains hit name affix stringbuilder append namelist get stringbuilder append avoidedtimes else stringbuilder append namelist get avoidedtimes hit separation last name firstname comma kept stringbuilder append else hit separation full names ali babar dingsøyr semicolon used treated correctly authorlist parse authors stringbuilder append stringbuilder 
795	EntryConverter.java	MODEL	net sf jabref model entry util hashmap util map util stream collectors converts entry models bibtex biblatex back entryconverter bibtex biblatex map<string string> field aliases tex ltx biblatex bibtex map<string string> field aliases ltx tex aliases map<string string> field aliases entryconverter field aliases tex ltx hashmap<> entryconverter field aliases tex ltx put fieldname address fieldname location entryconverter field aliases tex ltx put fieldname annote fieldname annotation entryconverter field aliases tex ltx put archiveprefix fieldname eprinttype entryconverter field aliases tex ltx put fieldname journal fieldname journaltitle entryconverter field aliases tex ltx put fieldname key sortkey entryconverter field aliases tex ltx put fieldname pdf fieldname file entryconverter field aliases tex ltx put primaryclass fieldname eprintclass entryconverter field aliases tex ltx put fieldname school fieldname institution inverse map entryconverter field aliases ltx tex entryconverter field aliases tex ltx entryset stream collect collectors tomap map entry::getvalue map entry::getkey aliases field aliases hashmap<> field aliases putall entryconverter field aliases tex ltx field aliases putall entryconverter field aliases ltx tex 
796	MonthUtil.java	MODEL	net sf jabref model entry util arrays util list utility everything related months monthutil month null object unknownmonth list<month> months arrays aslist month january jan #jan# month february feb #feb# month march mar #mar# month april apr #apr# month may may #may# month june jun #jun# month july jul #jul# month august aug #aug# month september sep #sep# month october oct #oct# month november nov #nov# month december dec #dec# month string fullname string shortname string twodigitnumber string bibtexformat number index month string fullname string shortname string twodigitnumber string bibtexformat number index fullname fullname shortname shortname twodigitnumber twodigitnumber bibtexformat bibtexformat number number index index boolean isvalid true unknownmonth month unknownmonth super null null null null override boolean isvalid false find month number param number valid valid number month isvalid true else otherwise month getmonthbynumber number monthutil getmonthbyindex number find month index param index valid valid index month isvalid true else otherwise month getmonthbyindex index month month monthutil months month index index month monthutil null object find month shortname letters case insensitive param shortname jan feb valid shortname month isvalid true else otherwise month getmonthbyshortname string shortname month month monthutil months month shortname equalsignorecase shortname month monthutil null object method accepts three types months given: single digit months digit bibtex strings jan feb mar full english month identifiers param value given value corresponding month instance month getmonth string value value null monthutil null object much liberal matching covering known abbreviations etc string teststring value replace trim teststring length teststring teststring substring month month monthutil getmonthbyshortname teststring month isvalid month try number integer parseint value monthutil getmonthbynumber number catch numberformatexception monthutil null object 
797	EntryType.java	MODEL	net sf jabref model entry util arrays util collections util list util stream collectors util stream stream interface entrytypes interface entrytype comparable<entrytype> returns tag name entry type tag name entry type string getname returns supported optional field names list optional field name strings list<string> getoptionalfields returns required field names fields relationship name includes field names divided author editor need required fields sole entities use see getrequiredfieldsflat list required field name strings list<string> getrequiredfields returns required field names relationships captured list required field name strings default list<string> getrequiredfieldsflat list<string> requiredflat getrequiredfields stream map field field split fieldname field separator flatmap arrays::stream collect collectors tolist collections unmodifiablelist requiredflat returns defined required optional fields relationships captured list defined field name strings default list<string> getallfields list<string> allfields stream concat getrequiredfieldsflat stream getoptionalfields stream collect collectors tolist collections unmodifiablelist allfields todo: move inside gui list<string> getprimaryoptionalfields todo: move inside gui list<string> getsecondaryoptionalfields 
798	Author.java	MODEL	net sf jabref model entry util objects util optional immutable keeps information regarding single author container information simple methods access <p> current usage: methods <code>getlastonly< code> <code>getfirstlast< code> <code>getlastfirst< code> used methods provided completeness author string firstpart string firstabbr string vonpart string lastpart string jrpart creates author object part name absent <code>null< code> must passed otherwise methods may erroneous results param first first name author may consist several tokens like charles louis xavier joseph charles louis xavier joseph de la vall \'e poussin param firstabbr abbreviated first name author may consist several tokens like charles louis xavier joseph de la vall \'e poussin responsibility caller create reasonable abbreviation first name param von von part author's name may consist several tokens like de la charles louis xavier joseph de la vall \'e poussin param last last name author may consist several tokens like vall \'e poussin charles louis xavier joseph de la vall \'e poussin param jr junior part author's name may consist several tokens like jr iii smith jr iii john author string first string firstabbr string von string last string jr firstpart adddotifabbreviation removestartandendbraces first firstabbr removestartandendbraces firstabbr vonpart removestartandendbraces von lastpart removestartandendbraces last jrpart removestartandendbraces jr string adddotifabbreviation string name avoid arrayindexoutof name null name isempty name one character uppercase letter add dot immediately: name length character isletter name charat character isuppercase name charat name stringbuilder sb stringbuilder char lastchar name charat name length lastchar name charat char currentchar name charat sb append currentchar currentchar name length character isuppercase name charat sb append boolean currentisuppercaseletter character isletter currentchar character isuppercase currentchar currentisuppercaseletter uppercase letter hence nothing continue boolean lastislowercaseletter character isletter lastchar character islowercase lastchar lastislowercaseletter previous character lowercase probably acronym like jabref change anything continue name length current character last character input append dot sb append continue char nextchar name charat nextchar sb append continue nextchar dot already nothing continue aa append rest 'word' uppercase boolean nextwordisuppercase true name length char furtherchar name charat character iswhitespace furtherchar furtherchar furtherchar '~' furtherchar end word break boolean furtherisuppercaseletter character isletter furtherchar character isuppercase furtherchar furtherisuppercaseletter nextwordisuppercase false break nextwordisuppercase sb append sb tostring trim override hashcode objects hash firstabbr firstpart jrpart lastpart vonpart compare object given one <p> true iff object author fields identical string comparison override boolean equals object true instanceof net sf jabref model entry author net sf jabref model entry author net sf jabref model entry author objects equals firstpart firstpart objects equals firstabbr firstabbr objects equals vonpart vonpart objects equals lastpart lastpart objects equals jrpart jrpart false true brackets properly paired boolean properbrackets string nested construct check proper nesting level length char charat switch case ': level break case ': level level improper nesting false break default: break level removes start end brace string <p> vall \'e poussin vall \'e poussin vall \'e poussin vall \'e poussin vall \'e poussin vall \'e poussin string removestartandendbraces string name name null null name contains name string[] split name split stringbuilder stringbuilder string split length startswith endswith quick solution do: remove first last however might like bbb braces may removed inner string inner substring length inner contains properbrackets inner inner else inner curly brackets found check needed inner used inner append append delete last deletecharat length inner words cleared case word word word remains aware ord word wor ord word word string newname tostring newname startswith newname endswith string inner newname substring newname length properbrackets inner inner else newname else newname returns first name author stored object first first name author may consist several tokens optional<string> getfirst optional ofnullable firstpart returns abbreviated first name author stored object abbreviated first name author may consist several tokens optional<string> getfirstabbr optional ofnullable firstabbr returns von part author's name stored object von von part author's name may consist several tokens optional<string> getvon optional ofnullable vonpart returns last name author stored object last last name author may consist several tokens optional<string> getlast optional ofnullable lastpart returns junior part author's name stored object jr junior part author's name may consist several tokens null author jr part optional<string> getjr optional ofnullable jrpart returns von part followed last name von last fields specified <code>null< code> empty string <code> code> returned 'von last' string getlastonly vonpart null getlast orelse else lastpart null vonpart vonpart lastpart returns author's name form 'von last jr first' first name full abbreviated depending parameter param abbr <code>true< code> abbreviate first name <code>false< code> abbreviate 'von last jr first' <code>abbr false< code> 'von last jr <code>abbr true< code> string getlastfirst boolean abbr stringbuilder res stringbuilder getlastonly getjr ifpresent jr res append append jr abbr getfirstabbr ifpresent firsta res append append firsta else getfirst ifpresent first res append append first res tostring returns author's name form 'first von last jr first name full abbreviated depending parameter param abbr <code>true< code> abbreviate first name <code>false< code> abbreviate 'first von last jr <code>abbr false< code> 'f von last jr <code>abbr true< code> string getfirstlast boolean abbr stringbuilder res stringbuilder abbr getfirstabbr map firsta firsta ifpresent res::append else getfirst map first first ifpresent res::append res append getlastonly getjr ifpresent jr res append append jr res tostring override string tostring stringbuilder sb stringbuilder author sb append firstpart append firstpart append '\'' sb append firstabbr append firstabbr append '\'' sb append vonpart append vonpart append '\'' sb append lastpart append lastpart append '\'' sb append jrpart append jrpart append '\'' sb append sb tostring returns name last jr omitting von part removing starting braces last jr described parts empty string getnameforalphabetization stringbuilder res stringbuilder getlast ifpresent res::append getjr ifpresent jr res append append jr getfirstabbr ifpresent firsta res append append firsta res length res charat res deletecharat res tostring 
799	BibtexSingleField.java	MODEL	net sf jabref model entry util enumset util set keeping properties single bibtex biblatex field bibtexsinglefield field constants default field weight max field weight small medium large default field length enum flag standard displayable writeable field name string name contains standard displayable writable infos default is: standard displayable writable set<flag> flags enumset flag displayable flag writeable length default field length weight default field weight properties contains set fieldproperty tell entryeditor add specific function field format names control integrity checks set<fieldproperty> properties enumset noneof fieldproperty comma separated list alternative bibtex fieldnames lccn like lib congress string othernames null bibtexsinglefield string fieldname boolean pstandard name fieldname setflag pstandard flag standard bibtexsinglefield string fieldname boolean pstandard pweight name fieldname setflag pstandard flag standard weight pweight bibtexsinglefield string fieldname boolean pstandard plength name fieldname setflag pstandard flag standard length plength bibtexsinglefield string fieldname boolean pstandard pweight plength name fieldname setflag pstandard flag standard weight pweight length plength sets onsets given flag param settoon true set flag false unset flat param flagid id flag setflag boolean settoon flag flagid settoon set flag flags add flagid else unset flag flags remove flagid boolean isstandard flags contains flag standard setprivate flags add flag setpublic flags remove flag boolean isprivate flags contains flag setdisplayable boolean value setflag value flag displayable boolean isdisplayable flags contains flag displayable setwriteable boolean value setflag value flag writeable boolean iswriteable flags contains flag writeable setextras set<fieldproperty> pextras properties pextras fieldextras contains mappings tell entryeditor add specific function field instance browse button pdf field set<fieldproperty> getfieldproperties properties setweight value weight value getweight weight maximum expected length field value <em>not< em> length field name getlength length string getfieldname name set field's numeric property param numeric true indicate numeric field bibtexsinglefield instance makes easier call method fly initializing without using local variable bibtexsinglefield setnumeric boolean numeric numeric properties add fieldproperty numeric else properties remove fieldproperty numeric boolean isnumeric properties contains fieldproperty numeric setname string fieldname name fieldname 
800	BibEntry.java	MODEL	net sf jabref model entry text dateformat text fieldposition text parseexception text parseposition text simpledateformat util calendar util collection util collections util date util hashmap util hashset util list util locale util map util objects util optional util set util treeset util concurrent concurrenthashmap util regex pattern net sf jabref model entrytypes net sf jabref model fieldchange net sf jabref model database bibdatabase net sf jabref model database bibdatabasemode net sf jabref model entry event entryeventsource net sf jabref model entry event fieldchangedevent net sf jabref model strings latextounicode net sf jabref model strings stringutil com google common base strings com google common eventbus eventbus org apache commons logging log org apache commons logging logfactory bibentry cloneable log logger logfactory getlog bibentry string type header entrytype string obsolete type header bibtextype string key field bibtexkey string id field id string default type misc pattern remove trailing whitespace pattern compile \\s string id sharedbibentrydata sharedbibentrydata string type map<string string> fields concurrenthashmap<> map store words every field map<string set<string>> fieldsaswords hashmap<> cache stores latex free versions fields map<string string> latexfreefields concurrenthashmap<> used cleanse field values internal latex free storage latextounicode unicodeconverter latextounicode search grouping status stored boolean fields quick reference: boolean searchhit boolean grouphit string parsedserialization string commentsbeforeentry marks whether complete serialization read file used set false parts entry change causes entry serialized based internal state based old serialization boolean changed eventbus eventbus eventbus constructs bibentry internal id set idgenerator next bibentry idgenerator next constructs bibentry given id default type param id id used bibentry string id id default type constructs bibentry given id given type param id id used param type type set may null empty case default type used bibentry string id string type objects requirenonnull id every bibentry must id id id settype type sharedbibentrydata sharedbibentrydata optional<fieldchange> replacekeywords keywordlist keywordstoreplace optional<keyword> newvalue character keyworddelimiter keywordlist keywordlist getkeywords keyworddelimiter keywordlist replacekeywords keywordstoreplace newvalue putkeywords keywordlist keyworddelimiter returns text stored given field given bibtex entry belongs given database <p> database given function try resolve string references field value also database given function try find values unset fields entry linked crossref field param field field value param database maybenull database bibtex entry resolved field value null found optional<string> getresolvedfieldoralias string field bibdatabase database objects requirenonnull entry cannot null type header equals field obsolete type header equals field optional<entrytype> entrytype entrytypes gettype gettype bibdatabasemode biblatex entrytype ispresent optional entrytype get getname else optional stringutil capitalizefirst gettype key field equals field getcitekeyoptional optional<string> result getfieldoralias field field set entry crossref try look field referred entry: bibtex key result ispresent database null optional<bibentry> referred database getreferencedentry result referred flatmap entry entry getfieldoralias field result map resulttext bibdatabase gettext resulttext database sets entry's id provided database containing veto change param id id used setid string id objects requirenonnull id every bibentry must id string oldid id eventbus post fieldchangedevent bibentry id field id oldid id id changed true returns entry's id string getid id sets cite key aka citation key aka bibtex key note: <emph>not< emph> internal id entry internal id always present whereas bibtex key might present param newcitekey cite key set must null use link #clearcitekey remove cite key setcitekey string newcitekey setfield key field newcitekey returns cite key aka citation key aka bibtex key null set note: <emph>not< emph> internal id entry internal id always present whereas bibtex key might present deprecated string getcitekey fields get key field optional<string> getcitekeyoptional optional ofnullable fields get key field boolean hascitekey strings isnullorempty getcitekey returns entry's type string gettype type sets entry's type settype string type entryeventsource eventsource string newtype strings isnullorempty type newtype default type else newtype type string oldtype getfield type header orelse null set type throwing changeevent enable change listener access value change sets change database sorting etc type newtype tolowercase locale english changed true eventbus post fieldchangedevent type header newtype oldtype eventsource sets entry's type settype string type settype type entryeventsource local sets entry's type settype entrytype type settype type getname returns set containing names fields set particular entry set existing field names set<string> getfieldnames treeset<> fields keyset returns contents given field optional optional<string> getfield string name optional ofnullable fields get tolowercase name returns true entry given field false set boolean hasfield string name fields containskey tolowercase name string tolowercase string fieldname objects requirenonnull fieldname field name must null fieldname tolowercase locale english internal method used get content field alias used link #getfieldoralias string link #getfieldoraliaslatexfree string param name name field param getfieldinterface determined field value optional<string> genericgetfieldoralias string name getfieldinterface getfieldinterface optional<string> fieldvalue getfieldinterface getvalueforfield tolowercase name fieldvalue ispresent fieldvalue get isempty fieldvalue value field found look alias string aliasforfield entryconverter field aliases get name aliasforfield null getfieldinterface getvalueforfield aliasforfield finally handle dates fieldname date equals name optional<string> year getfieldinterface getvalueforfield fieldname year year ispresent monthutil month month monthutil getmonth getfieldinterface getvalueforfield fieldname month orelse month isvalid optional year get month twodigitnumber else year fieldname year equals name fieldname month equals name optional<string> date getfieldinterface getvalueforfield fieldname date date ispresent optional empty create date format matching dates year month dateformat df dateformat string format1 yyyy mm dd string format2 yyyy mm simpledateformat sdf1 simpledateformat format1 simpledateformat sdf2 simpledateformat format2 override stringbuffer format date ddate stringbuffer toappendto fieldposition fieldposition throw unsupportedoperationexception override date parse string source parseposition pos source length pos getindex format1 length sdf1 parse source pos sdf2 parse source pos try date parseddate df parse date get calendar calendar calendar getinstance calendar settime parseddate fieldname year equals name optional integer tostring calendar get calendar year fieldname month equals name optional integer tostring calendar get calendar month shift since calendar jan catch parseexception date year month try parse years df simpledateformat yyyy try date parseddate df parse date get calendar calendar calendar getinstance calendar settime parseddate fieldname year equals name optional integer tostring calendar get calendar year catch parseexception e2 logger warn could parse entry name e2 optional empty date field valid format optional empty interface getfieldinterface optional<string> getvalueforfield string fieldname latex free contents given field alias optional details see also link #getfieldoralias string param name name field stored latex free content field alias optional<string> getfieldoraliaslatexfree string name genericgetfieldoralias name this::getlatexfreefield returns contents given field alias optional <p> following aliases considered old bibtex biblatex based biblatex documentation chapter 5:<br> address location <br> annote annotation <br> archiveprefix eprinttype <br> journal journaltitle <br> key sortkey <br> pdf file <br primaryclass eprintclass <br> school institution <br> work bidirectional <br> <p> special attention paid dates: see biblatex documentation chapter fields 'year' 'month' used 'date' field empty conversely getfieldoralias year also tries extract year 'date' field analogously 'month' optional<string> getfieldoralias string name genericgetfieldoralias name this::getfield sets number fields simultaneously given hashmap contains field names keys mapped value set setfield map<string string> fields objects requirenonnull fields fields must null fields foreach this::setfield set field notify listeners change param name field set param value value set param eventsource source event sent optional<fieldchange> setfield string name string value entryeventsource eventsource objects requirenonnull name field name must null objects requirenonnull value field value must null string fieldname tolowercase name value isempty clearfield fieldname string oldvalue getfield fieldname orelse null value equals oldvalue optional empty bibentry id field equals fieldname throw illegalargumentexception field name name reserved changed true fields put fieldname value intern invalidatefieldcache fieldname fieldchange change fieldchange fieldname oldvalue value eventbus post fieldchangedevent change eventsource optional change optional<fieldchange> setfield string name optional<string> value entryeventsource eventsource value ispresent setfield name value get eventsource optional empty set field notify listeners change param name field set param value value set optional<fieldchange> setfield string name string value setfield name value entryeventsource local remove mapping field name notify listeners change param name field clear optional<fieldchange> clearfield string name clearfield name entryeventsource local remove mapping field name notify listeners change including link entryeventsource param name field clear param eventsource source link fieldchangedevent posten optional<fieldchange> clearfield string name entryeventsource eventsource string fieldname tolowercase name bibentry id field equals fieldname throw illegalargumentexception field name name reserved optional<string> oldvalue getfield fieldname oldvalue ispresent optional empty changed true fields remove fieldname invalidatefieldcache fieldname fieldchange change fieldchange fieldname oldvalue get null eventbus post fieldchangedevent change eventsource optional change determines whether entry given fields present non null database argument given method try look missing fields entries linked crossref field param allfields array field names checked param database database look crossref'd entries argument null meaning attempt made follow crossrefs true fields set could resolved false otherwise boolean allfieldspresent list<string> allfields bibdatabase database string field allfields string fieldname tolowercase field fields fieldname contains fieldname field separator string[] altfields field split fieldname field separator atleastonepresent altfields database false else getresolvedfieldoralias fieldname database ispresent false true boolean atleastonepresent string[] fieldstocheck bibdatabase database string field fieldstocheck string fieldname tolowercase field optional<string> value getresolvedfieldoralias fieldname database value ispresent value get isempty true false returns clone entry useful copying override object clone bibentry clone bibentry id type clone fields hashmap<> fields clone returns canonical bibtex serialization special characters escaped written <p> serializes fields even jabref internal ones serialize key field field key override string tostring canonicalbibtexentry getcanonicalrepresentation boolean issearchhit searchhit setsearchhit boolean searchhit searchhit searchhit boolean isgrouphit grouphit setgrouphit boolean grouphit grouphit grouphit param maxcharacters maximum number characters additional characters replaced set disable truncation short textual description entry format: author1 author2: title year string getauthortitleyear maxcharacters string[] string[] getfield fieldname author orelse getfield fieldname title orelse getfield fieldname year orelse string text s[0] s[1] s[2] maxcharacters text length maxcharacters text text substring maxcharacters publication date given bibtex entry conforming iso either yyyy yyyy mm publication date entry null year found optional<string> getpublicationdate hasfield fieldname year optional empty optional<string> year getfield fieldname year optional<string> monthstring getfield fieldname month monthstring ispresent monthutil month month monthutil getmonth monthstring get month isvalid optional year orelse month twodigitnumber year setparsedserialization string parsedserialization changed false parsedserialization parsedserialization string getparsedserialization parsedserialization setcommentsbeforeentry string parsedcomments commentsbeforeentry parsedcomments boolean haschanged changed setchanged boolean changed changed changed optional<fieldchange> putkeywords list<string> keywords character delimiter objects requirenonnull delimiter putkeywords keywordlist keywords delimiter optional<fieldchange> putkeywords keywordlist keywords character delimiter objects requirenonnull keywords optional<string> oldvalue getfield fieldname keywords keywords isempty clear keyword field oldvalue ispresent clearfield fieldname keywords else optional empty set keyword field string newvalue keywords getasstring delimiter setfield fieldname keywords newvalue check keyword already exists case insensitive not: add param keyword keyword add addkeyword string keyword character delimiter objects requirenonnull keyword keyword must null keyword isempty addkeyword keyword keyword delimiter addkeyword keyword keyword character delimiter keywordlist keywords getkeywords delimiter keywords add keyword putkeywords keywords delimiter add multiple keywords entry param keywords keywords add addkeywords collection<string> keywords character delimiter objects requirenonnull keywords keywords foreach keyword addkeyword keyword delimiter keywordlist getkeywords character delimiter optional<string> keywordscontent getfield fieldname keywords keywordscontent ispresent keywordlist parse keywordscontent get delimiter else keywordlist collection<string> getfieldvalues fields values map<string string> getfieldmap fields sharedbibentrydata getsharedbibentrydata sharedbibentrydata override boolean equals object true null getclass getclass false bibentry entry bibentry objects equals type entry type objects equals fields entry fields override hashcode objects hash type fields registerlistener object object eventbus register object unregisterlistener object object eventbus unregister object bibentry withfield string field string value setfield field value returns user comments arbitrary text entry exist returns empty string string getusercomments delete trailing whitespaces entry text stored serialization remove trailing whitespace matcher commentsbeforeentry replacefirst list<parsedentrylink> getentrylinklist string fieldname bibdatabase database getfield fieldname map fieldvalue entrylinklist parse fieldvalue database orelse collections emptylist optional<fieldchange> setentrylinklist string fieldname list<parsedentrylink> list setfield fieldname entrylinklist serialize list set<string> getfieldaswords string field string fieldname tolowercase field set<string> storedlist fieldsaswords get fieldname storedlist null storedlist else string fieldvalue fields get fieldname fieldvalue null collections emptyset else hashset<string> words hashset<> stringutil getstringaswords fieldvalue fieldsaswords put fieldname words words optional<fieldchange> clearcitekey clearfield key field invalidatefieldcache string fieldname latexfreefields remove fieldname fieldsaswords remove fieldname optional<string> getlatexfreefield string name hasfield name optional empty else latexfreefields containskey name optional ofnullable latexfreefields get tolowercase name else string latexfreefield unicodeconverter format getfield name get intern latexfreefields put name latexfreefield optional latexfreefield 
801	BibtexEntryTypes.java	MODEL	net sf jabref model entry util arrays util list util optional represents supported bibtex entry types <p> article book booklet conference inbook incollection inproceedings manual mastersthesis misc phdthesis proceedings techreport unpublished bibtexentrytypes article journal magazine <p> required fields: author title journal year optional fields: volume number pages month note entrytype article bibtexentrytype addallrequired fieldname author fieldname title fieldname journal fieldname year addalloptional fieldname volume fieldname number fieldname pages fieldname month fieldname note override string getname article book explicit publisher <p> required fields: author editor title publisher year optional fields: volume number series address edition month note entrytype book bibtexentrytype addallrequired fieldname title fieldname publisher fieldname year fieldname orfields fieldname author fieldname editor addalloptional fieldname volume fieldname number fieldname series fieldname address fieldname edition fieldname month fieldname note override string getname book work printed bound without named publisher sponsoring institution <p> required field: title optional fields: author howpublished address month year note entrytype booklet bibtexentrytype addallrequired fieldname title addalloptional fieldname author fieldname howpublished fieldname address fieldname month fieldname year fieldname note override string getname booklet article conference proceedings <p> required fields: author title booktitle year optional fields: editor volume number series pages address month organization publisher note entrytype conference bibtexentrytype addallrequired fieldname author fieldname title fieldname booktitle fieldname year addalloptional fieldname editor fieldname volume fieldname number fieldname series fieldname pages fieldname address fieldname month fieldname organization fieldname publisher fieldname note override string getname conference part book may chapter section whatever range pages <p> required fields: author editor title chapter pages publisher year optional fields: volume number series type address edition month note entrytype inbook bibtexentrytype addallrequired fieldname orfields fieldname chapter fieldname pages fieldname title fieldname publisher fieldname year fieldname orfields fieldname author fieldname editor addalloptional fieldname volume fieldname number fieldname series fieldname type fieldname address fieldname edition fieldname month fieldname note override string getname inbook part book title required fields: author title booktitle publisher year optional fields: editor volume number series type chapter pages address edition month note entrytype incollection bibtexentrytype addallrequired fieldname author fieldname title fieldname booktitle fieldname publisher fieldname year addalloptional fieldname editor fieldname volume fieldname number fieldname series fieldname type fieldname chapter fieldname pages fieldname address fieldname edition fieldname month fieldname note override string getname incollection article conference proceedings <p> required fields: author title booktitle year optional fields: editor volume number series pages address month organization publisher note entrytype inproceedings bibtexentrytype addallrequired fieldname author fieldname title fieldname booktitle fieldname year addalloptional fieldname editor fieldname volume fieldname number fieldname series fieldname pages fieldname address fieldname month fieldname organization fieldname publisher fieldname note override string getname inproceedings technical documentation required field: title optional fields: author organization address edition month year note entrytype manual bibtexentrytype addallrequired fieldname title addalloptional fieldname author fieldname organization fieldname address fieldname edition fieldname month fieldname year fieldname note override string getname manual master's thesis <p> required fields: author title school year optional fields: type address month note entrytype mastersthesis bibtexentrytype addallrequired fieldname author fieldname title fieldname school fieldname year addalloptional fieldname type fieldname address fieldname month fieldname note override string getname mastersthesis use type nothing else fits <p> required fields: none optional fields: author title howpublished month year note entrytype misc bibtexentrytype addalloptional fieldname author fieldname title fieldname howpublished fieldname month fieldname year fieldname note override string getname misc phd thesis <p> required fields: author title school year optional fields: type address month note entrytype phdthesis bibtexentrytype addallrequired fieldname author fieldname title fieldname school fieldname year addalloptional fieldname type fieldname address fieldname month fieldname note override string getname phdthesis proceedings conference <p> required fields: title year optional fields: editor volume number series address month organization publisher note entrytype proceedings bibtexentrytype addallrequired fieldname title fieldname year addalloptional fieldname editor fieldname volume fieldname number fieldname series fieldname address fieldname publisher fieldname note fieldname month fieldname organization override string getname proceedings report published school institution usually numbered within series <p> required fields: author title institution year optional fields: type number address month note entrytype techreport bibtexentrytype addallrequired fieldname author fieldname title fieldname institution fieldname year addalloptional fieldname type fieldname number fieldname address fieldname month fieldname note override string getname techreport document author title formally published <p> required fields: author title note optional fields: month year entrytype unpublished bibtexentrytype addallrequired fieldname author fieldname title fieldname note addalloptional fieldname month fieldname year override string getname unpublished list<entrytype> arrays aslist article inbook book booklet incollection conference inproceedings proceedings manual mastersthesis phdthesis techreport unpublished misc optional<entrytype> gettype string name stream filter getname equalsignorecase name findfirst 
802	AuthorListParser.java	MODEL	net sf jabref model entry util arraylist util hashset util list util objects util optional util set authorlistparser raw bibtex author editor field string original index start original example point 'abc' 'abc xyz' tokenstart tokenstart index end original example point 'abc' 'abc xyz' tokenend tokenend end token abbreviation always: tokenstart tokenabbr tokenend valid gettoken returns token word tokenabbr either space dash char tokenterm true upper case token false lower case boolean tokencase constant hashset containing names tex special characters set<string> tex names hashset<> constructor initialize tex names add aa tex names add ae tex names add tex names add tex names add oe tex names add tex names add aa tex names add ae tex names add tex names add tex names add oe tex names add token group length number entries token following offsets entry group entries one token offset token string token offset token abbr string token abbreviation offset token term character token terminator either comma token types returned gettoken procedure token eof token token comma token word parses string containing person names returns list person information param listofnames string containing person names parsed parsed list persons authorlist parse string listofnames objects requirenonnull listofnames initialization parser original listofnames tokenstart tokenend parse author author list<author> authors arraylist<> seems reasonable initial size tokenstart original length getauthor ifpresent authors::add authorlist authors parses one author name returns preformatted information preformatted author name <code>optional empty code> author name empty optional<author> getauthor list<object> tokens arraylist<> initialization vonstart laststart commafirst commasecond first step: collect tokens 'tokens' vector calculate indices boolean continueloop true continueloop token gettoken switch token case token eof: case token and: continueloop false break case token comma: commafirst commafirst tokens size else commasecond commasecond tokens size break case token word: tokens add original substring tokenstart tokenend tokens add original substring tokenstart tokenabbr tokens add tokenterm tokens add tokencase commafirst break laststart break vonstart tokencase previoustermtoken tokens size token group length token group length offset token term previoustermtoken tokens get previoustermtoken equals first name contained hyphen break vonstart tokens size token group length break else laststart tokencase laststart tokens size token group length break break default: break second step: split name parts here: calculate indices parts 'tokens' vector tokens isempty optional empty author information following negatives indicate absence corresponding part firstpartstart vonpartstart lastpartstart jrpartstart firstpartend vonpartend lastpartend jrpartend commafirst commas vonstart 'von part' lastpartend tokens size lastpartstart tokens size token group length index tokens size token group length offset token term index character ch character tokens get index ch lastpartstart token group length firstpartend lastpartstart firstpartend firstpartstart else 'von part' present laststart lastpartend tokens size lastpartstart laststart vonpartend lastpartstart else vonpartend tokens size vonpartstart vonstart firstpartend vonpartstart firstpartend firstpartstart else commas present: affects 'first part' 'junior part' firstpartend tokens size commasecond one comma commafirst firstpartend firstpartstart commafirst else two commas commasecond firstpartend firstpartstart commasecond jrpartend commasecond commafirst jrpartend jrpartstart commafirst vonstart 'von part' present laststart vonpartend commafirst else lastpartend commafirst lastpartstart laststart vonpartend lastpartstart vonpartstart else 'von part' lastpartend commafirst lastpartend lastpartstart firstpartstart lastpartstart vonpartstart first last name von part likely indicate single entry name without initial capital letter unknown make von part last name facilitate handling last name formatters: lastpartstart vonpartstart lastpartend vonpartend vonpartstart vonpartend third step: actual splitting construct author object string firstpart firstpartstart null concattokens tokens firstpartstart firstpartend offset token false string firstabbr firstpartstart null concattokens tokens firstpartstart firstpartend offset token abbr true string vonpart vonpartstart null concattokens tokens vonpartstart vonpartend offset token false string lastpart lastpartstart null concattokens tokens lastpartstart lastpartend offset token false string jrpart jrpartstart null concattokens tokens jrpartstart jrpartend offset token false firstpart null lastpart null lastpart equals lastpart touppercase lastpart length last part small string complete upper case interpret initial first name case example smith sh think lastname smith firstname sh length constraint allow smith input optional author lastpart lastpart vonpart firstpart jrpart else optional author firstpart firstabbr vonpart lastpart jrpart concatenates list tokens 'tokens' vector tokens separated spaces dashes depending stored 'tokens' callers always ensure start end thus exists least one token concatenated param start index first token concatenated 'tokens' vector always divisible token group length param end index first token concatenated 'tokens' vector always divisible token group length param offset offset within token group used request concatenation either full tokens abbreviation param dotafter <code>true< code> add period token <code>false< code> add result concatenation string concattokens list<object> tokens start end offset boolean dotafter stringbuilder result stringbuilder always start end result append string tokens get start offset dotafter result append updatedstart start token group length updatedstart end result append tokens get updatedstart token group length offset token term result append string tokens get updatedstart offset dotafter result append updatedstart token group length result tostring parses next token <p> string parsed stored global variable <code>orig< code> position parsing start stored global variable <code>token end< code> thus <code>token end< code> set first invocation procedure updates <code>token end< code> thus subsequent invocations require additional variable settings <p> type token returned <code>token word< code> additional information given global variables <code>token start< code> <code>token end< code> <code>token abbr< code> <code>token term< code> <code>token case< code> namely: <code>orig substring token start token end code> thext token <code>orig substring token start token abbr code> token abbreviation <code>token term< code> contains token terminator space dash <code>token case< code> <code>true< code> token upper case <code>false< code> token lower case <code>token eof< code> tokens <code>token comma< code> token comma <code>token and< code> token word etc colon <code>token word< code> token word additional information given global variables <code>token start< code> <code>token end< code> <code>token abbr< code> <code>token term< code> <code>token case< code> gettoken tokenstart tokenend tokenstart original length char original charat tokenstart '~' character iswhitespace break tokenstart tokenend tokenstart tokenstart original length token eof original charat tokenstart tokenend token comma colon considered separate names like original charat tokenstart tokenend token tokenabbr tokenterm tokencase true braceslevel currentbackslash boolean firstletterisfound false tokenend original length char original charat tokenend braceslevel firstletterisfound tokenabbr braceslevel tokenabbr tokenend braceslevel braceslevel firstletterisfound currentbackslash character isletter braceslevel tokencase character isuppercase else particle braces always treat starts upper case letter otherwise name van den bergen hans yield proper last name: tokencase true firstletterisfound true currentbackslash character isletter firstletterisfound string texcmdname original substring currentbackslash tokenend tex names contains texcmdname tokencase character isuppercase texcmdname charat firstletterisfound true currentbackslash '\\' currentbackslash tokenend braceslevel indexof character iswhitespace break tokenend tokenabbr tokenabbr tokenend tokenend original length original charat tokenend tokenterm equalsignorecase original substring tokenstart tokenend token else token word 
803	SpecialField.java	MODEL	net sf jabref model entry specialfields util arraylist util hashmap util list util optional net sf jabref model entry keywordlist enum specialfield printed printed specialfieldvalue printed priority priority specialfieldvalue clear priority specialfieldvalue priority high specialfieldvalue priority medium specialfieldvalue priority low quality qualityassured specialfieldvalue quality assured ranking ranking specialfieldvalue clear rank specialfieldvalue rank specialfieldvalue rank specialfieldvalue rank specialfieldvalue rank specialfieldvalue rank read status readstatus specialfieldvalue clear read status specialfieldvalue read specialfieldvalue skimmed relevance relevance specialfieldvalue relevant list<specialfieldvalue> values keywordlist keywords hashmap<string specialfieldvalue> map string fieldname specialfield string fieldname specialfieldvalue values fieldname fieldname values arraylist<> keywords keywordlist map hashmap<> specialfieldvalue value values values add value value getkeyword ifpresent keywords::add value getfieldvalue ifpresent fieldvalue map put fieldvalue value list<specialfieldvalue> getvalues values keywordlist getkeywords keywords optional<specialfieldvalue> parse string value optional ofnullable map get value string getfieldname fieldname boolean issinglevaluefield values size optional<specialfield> getspecialfieldinstancefromfieldname string fieldname switch fieldname case priority optional specialfield priority case qualityassured optional specialfield quality case ranking optional specialfield ranking case readstatus optional specialfield relevance case relevance optional specialfield read status case printed optional specialfield printed default: optional empty param fieldname name field check true given field special field false otherwise boolean isspecialfield string fieldname specialfield getspecialfieldinstancefromfieldname fieldname ispresent 
804	SpecialFieldValue.java	MODEL	net sf jabref model entry specialfields util optional net sf jabref model entry keyword enum specialfieldvalue printed printed clear priority null priority high prio1 priority medium prio2 priority low prio3 quality assured qualityassured clear rank null rank rank1 rank rank2 rank rank3 rank rank4 rank rank5 clear read status null read read skimmed skimmed relevant relevant keyword used keyword field optional<keyword> keyword param keyword keyword used bibtex's keyword field may null keyword set specialfieldvalue string keyword keyword optional ofnullable keyword map keyword::new optional<keyword> getkeyword keyword optional<string> getfieldvalue keyword map keyword::tostring 
805	IEEETranEntryTypes.java	MODEL	net sf jabref model entry util arrays util list represents supported ieeetran entry types see http: ctan sharelatex com tex archive macros latex contrib ieeetran bibtex ieeetran bst howto pdf <p> electronic ieeetranbstctl periodical patent standard ieeetranentrytypes electronic entry type internet references <p> required fields: optional fields: author month year title language howpublished organization address note url entrytype electronic bibtexentrytype addalloptional fieldname author fieldname month fieldname year fieldname title fieldname language fieldname howpublished fieldname organization fieldname address fieldname note fieldname url override string getname electronic special entry type used externally control aspects bibliography style entrytype ieeetranbstctl bibtexentrytype addalloptional fieldname ctluse article number fieldname ctluse paper fieldname ctluse forced etal fieldname ctluse url fieldname ctlmax names forced etal fieldname ctlnames show etal fieldname ctluse alt spacing fieldname ctlalt stretch factor fieldname ctldash repeated names fieldname ctlname format string fieldname ctlname latex cmd fieldname ctlname url prefix override string getname ieeetranbstctl periodical entry type used journals magazines <p> required fields: title year optional fields: editor language series volume number organization month note url entrytype periodical bibtexentrytype addallrequired fieldname title fieldname year addalloptional fieldname editor fieldname language fieldname series fieldname volume fieldname number fieldname organization fieldname month fieldname note fieldname url override string getname periodical entry type patents <p> required fields: nationality number year yearfiled optional fields: author title language assignee address type number day dayfiled month monthfiled note url entrytype patent bibtexentrytype addallrequired fieldname nationality fieldname number fieldname orfields fieldname year fieldname yearfiled addalloptional fieldname author fieldname title fieldname language fieldname assignee fieldname address fieldname type fieldname number fieldname day fieldname dayfiled fieldname month fieldname monthfiled fieldname note fieldname url override string getname patent standard entry type used proposed formally published standards <p> required fields: title organization institution optional fields: author language howpublished type number revision address month year note url entrytype standard bibtexentrytype addallrequired fieldname title fieldname orfields fieldname organization fieldname institution addalloptional fieldname author fieldname language fieldname howpublished fieldname type fieldname number fieldname revision fieldname address fieldname month fieldname year fieldname note fieldname url override string getname standard list<entrytype> arrays aslist electronic ieeetranbstctl periodical patent standard 
806	IdGenerator.java	MODEL	net sf jabref model entry text numberformat ids least digit long lowest id next would <p generator thread safe idgenerator numberformat idformat idformat numberformat getinstance idgenerator idformat setminimumintegerdigits idgenerator idformat setgroupingused false idcounter synchronized string next string result idformat format idcounter idcounter result getminimumintegerdigits idformat getminimumintegerdigits 
807	Keyword.java	MODEL	net sf jabref model entry util objects net sf jabref model chainnode represents keyword chain keywords example jabref bibliographic manager awesome ones jabref keyword chainnode<keyword> comparable<keyword> string keyword keyword string keyword super keyword keyword objects requirenonnull keyword override boolean equals object true null getclass getclass false objects equals keyword keyword keyword override hashcode objects hash keyword override string tostring keyword override compareto keyword keyword compareto keyword 
808	BibtexString.java	MODEL	net sf jabref model entry models bibtex string string bibtexstring cloneable type string <p> differentiate string based usage: <p> link #author prefix author editor fields link #institution prefix institution organization field link #publisher prefix publisher fields link #other prefix field <p> examples: <p> string akahle kahle brewster author string astallman stallman richard author string imit massachusetts institute technology mit institution string pmit massachusetts institute technology mit press publisher string anct anecdote string eg example string et string lbigmac big mac <p> usage: <p> misc title gnu project author astallman et akahle institution imit publisher pmit note eg author jan kubovy <jan kubovy eu> enum type author institution publisher string prefix type string prefix prefix prefix type get string name name length todo: figure next check actually replace something sensible second character upper case? non letters? string valueof name charat touppercase equals string valueof name charat type type values prefix equals string valueof name charat string name string content string id type type string parsedserialization boolean haschanged bibtexstring string id string name string content id id name name content content haschanged true type type get name string getid id setid string id id id haschanged true string getname name setname string name name name haschanged true type type get name never returns null string getcontent content null content setcontent string content content content haschanged true override object clone bibtexstring id name content type gettype type setparsedserialization string parsedserialization parsedserialization parsedserialization haschanged false string getparsedserialization parsedserialization boolean haschanged haschanged returns user comments arbitrary text string returns empty string string getusercomments parsedserialization null try get text string string prolog parsedserialization substring parsedserialization indexof delete trailing whitespaces string text prolog prolog replacefirst \\s non whitespace text write proper line separation prolog length prolog catch stringindexoutofboundsexception ignore occurs broken parsed serialization set nothing override string tostring name content 
809	BibLatexEntryType.java	MODEL	net sf jabref model entry util arraylist util arrays util collections util list util stream collectors base biblatex entry types biblatexentrytype entrytype list<string> requiredfields list<string> optionalfields biblatexentrytype requiredfields arraylist<> optionalfields arraylist<> override list<string> getoptionalfields collections unmodifiablelist optionalfields override list<string> getrequiredfields collections unmodifiablelist requiredfields addalloptional string fieldnames optionalfields addall arrays aslist fieldnames addallrequired string fieldnames requiredfields addall arrays aslist fieldnames override list<string> getprimaryoptionalfields getoptionalfields override list<string> getsecondaryoptionalfields list<string> myoptionalfields getoptionalfields myoptionalfields null collections emptylist myoptionalfields stream filter field isprimary field collect collectors tolist boolean isprimary string field list<string> primaryfields getprimaryoptionalfields primaryfields null false primaryfields contains field override compareto entrytype getname compareto getname 
810	EntryLinkList.java	MODEL	net sf jabref model entry util arraylist util list util stream collectors net sf jabref model database bibdatabase entrylinklist string separator list<parsedentrylink> parse string fieldvalue bibdatabase database list<parsedentrylink> result arraylist<> fieldvalue null fieldvalue isempty string[] entries fieldvalue split separator string entry entries result add parsedentrylink entry database result string serialize list<parsedentrylink> list string join separator list stream map link link getkey collect collectors tolist 
811	SharedBibEntryData.java	MODEL	net sf jabref model entry stores informations needed manage entries shared sql database sharedbibentrydata id set remote database system dbs unique remote dbs connected jabref instances old id satisfy requirement sharedid needed version controlling used shared database version sharedbibentrydata sharedid version getsharedid sharedid setsharedid sharedid sharedid sharedid getversion version setversion version version version 
812	FileField.java	MODEL	net sf jabref model entry util arraylist util arrays util collections util list util stream collectors filefield list<parsedfilefield> parse string value value null value trim isempty collections emptylist list<parsedfilefield> files arraylist<> list<string> entry arraylist<> stringbuilder sb stringbuilder boolean inxmlchar false boolean escaped false value length char value charat escaped '\\' escaped true continue check entering xml special character construct #44 need know order ignore semicolon else escaped inxmlchar sb append value length value charat '#' inxmlchar true else escaped inxmlchar check exiting xml special character construct: sb append inxmlchar false else escaped ':' entry add sb tostring sb stringbuilder else escaped inxmlchar entry add sb tostring sb stringbuilder files add convert entry else sb append escaped false sb length entry add sb tostring entry isempty files add convert entry files parsedfilefield convert list<string> entry ensure list least fields entry size entry add parsedfilefield field parsedfilefield entry get entry get entry get link mandatory field field getdescription isempty field getlink isempty field getfiletype isempty field parsedfilefield field getfiletype else field getdescription isempty field getlink isempty field getfiletype isempty field parsedfilefield field getdescription entry clear field string getstringrepresentation list<parsedfilefield> fields string[][] array string[fields size ][] parsedfilefield entry fields array[i] string[] entry getdescription entry getlink entry getfiletype encodestringarray array string getstringrepresentation parsedfilefield field getstringrepresentation collections singletonlist field encodes two dimensional string array single string using ':' separators characters ':' escaped '\' param values string array encoded string string encodestringarray string[][] values arrays aslist values stream map filefield::encodestringarray collect collectors joining encodes string array single string using ':' separator characters ':' escaped '\' param entry string array encoded string string encodestringarray string[] entry arrays aslist entry stream map filefield::quote collect collectors joining string quote string null null stringbuilder sb stringbuilder length char charat ':' '\\' sb append '\\' sb append sb tostring 
813	ExplicitGroup.java	MODEL	net sf jabref model groups util arraylist util list util objects util set util treeset net sf jabref model entry fieldname net sf jabref model strings stringutil org apache commons logging log org apache commons logging logfactory select explicit bibtex entries also known group author jzieren explicitgroup keywordgroup string id explicitgroup: list<string> legacyentrykeys arraylist<> log logger logfactory getlog explicitgroup explicitgroup string name grouphierarchytype context character keywordseparator super name fieldname groups name true false context keywordseparator addlegacyentrykey string key legacyentrykeys add key override abstractgroup deepcopy explicitgroup copy explicitgroup getname getcontext keywordseparator copy legacyentrykeys addall legacyentrykeys copy override boolean equals object true instanceof explicitgroup false explicitgroup explicitgroup objects equals getname getname objects equals gethierarchicalcontext gethierarchicalcontext objects equals getlegacyentrykeys getlegacyentrykeys returns string representation group entries override string tostring stringbuilder sb stringbuilder sb append explicitgroup id append stringutil quote getname abstractgroup separator abstractgroup quote char append abstractgroup separator append getcontext ordinal append abstractgroup separator write legacy entry keys well defined order cvs compatibility set<string> sortedkeys treeset<> sortedkeys addall legacyentrykeys string sortedkey sortedkeys sb append stringutil quote sortedkey abstractgroup separator abstractgroup quote char append abstractgroup separator sb tostring remove stored cite keys resulting empty group clearlegacyentrykeys legacyentrykeys clear list<string> getlegacyentrykeys legacyentrykeys override string gettypeid explicitgroup id override hashcode super hashcode override boolean isdynamic false 
814	MoveGroupChange.java	MODEL	net sf jabref model groups movegroupchange grouptreenode oldparent oldchildindex grouptreenode newparent newchildindex param oldparent param oldchildindex param newparent parent node node moved param newchildindex child index newparent node moved movegroupchange grouptreenode oldparent oldchildindex grouptreenode newparent newchildindex oldparent oldparent oldchildindex oldchildindex newparent newparent newchildindex newchildindex grouptreenode getoldparent oldparent getoldchildindex oldchildindex grouptreenode getnewparent newparent getnewchildindex newchildindex 
815	GroupsUtil.java	MODEL	net sf jabref model groups util list util optional util set util stringtokenizer util treeset util stream collectors net sf jabref model database bibdatabase net sf jabref model entry author net sf jabref model entry authorlist net sf jabref model entry bibentry net sf jabref model strings stringutil groupsutil set<string> finddeliminatedwordsinfield bibdatabase db string field string deliminator set<string> res treeset<> bibentry db getentries getfield field ifpresent fieldvalue stringtokenizer tok stringtokenizer fieldvalue trim deliminator tok hasmoretokens res add stringutil capitalizefirst tok nexttoken trim res returns set containing words used database given field type characters <code>remove< code> included param db <code>bibdatabase< code> value param field <code>string< code> value param remove <code>string< code> value <code>set< code> value set<string> findallwordsinfield bibdatabase db string field string remove set<string> res treeset<> bibentry db getentries getfield field ifpresent stringtokenizer tok stringtokenizer remove false tok hasmoretokens res add stringutil capitalizefirst tok nexttoken trim res finds authors' last names given fields given database param db database param fields fields look set containing names set<string> findauthorlastnames bibdatabase db list<string> fields set<string> res treeset<> bibentry db getentries string field fields getfield field ifpresent val val isempty authorlist al authorlist parse val res addall al getauthors stream map author::getlast filter optional::ispresent map optional::get filter lastname lastname isempty collect collectors tolist res 
816	GroupHierarchyType.java	MODEL	net sf jabref model groups enum grouphierarchytype group's contents independent hierarchical position independent group's content intersection content supergroup's content refining intersection group's content union content subgroups' content including union grouphierarchytype getbynumber type grouphierarchytype[] types values type type types length types[type] else null 
817	GroupUpdatedEvent.java	MODEL	net sf jabref model groups event net sf jabref model database event bibdatabasecontextchangedevent net sf jabref model metadata metadata groupupdatedevent bibdatabasecontextchangedevent metadata metadata param metadata affected instance groupupdatedevent metadata metadata metadata metadata metadata getmetadata metadata 
818	TreeNode.java	MODEL	net sf jabref model groups util arraylist util collections util comparator util list util objects util optional util function consumer represents node tree <p> usually tree nodes value property allows access value stored node contrast approach treenode<t> designed used base provides tree traversing functionality via inheritance <p> example usage: basictreenode treenode<basictreenode> basictreenode super basictreenode <p> started copy javax swing tree defaultmutabletreenode param <t> type use explicit casts form constructor ensures cast valid suppresswarnings unchecked treenode<t treenode<t>> node's parent null node parent parent array children may empty node children never null list<t> children constructs tree node without parent children param derivingclass deriving treenode<t> always need parameter since hard get information means treenode class<t> derivingclass parent null children arraylist<> derivingclass isinstance throw unsupportedoperationexception extending treenode<t> derive get path root node node <p> elements returned list represent child index node path starting root node root node returned list zero elements list numbers represent indexed path root node node list<integer> getindexedpathfromroot parent null arraylist<> list<integer> path parent getindexedpathfromroot path add getpositioninparent path get descendant node indicated indexedpath <p> path could traversed completely one child indices exist empty optional returned param indexedpath sequence child indices describe path node one descendants aware indexedpath obtained getindexedpathfromroot node usually root node descendant found evaluating indexedpath optional<t> getdescendant list<integer> indexedpath cursor index indexedpath optional<t> child cursor getchildat index child ispresent cursor child get else optional empty optional cursor get child index node parent <p> node root unsupportedoperationexception thrown use isroot method check case child index node parent getpositioninparent getparent orelsethrow unsupportedoperationexception roots position parent getindexofchild get gets index specified child node's child list <p> specified node child node returns empty optional method performs linear search number children param childnode node search among node's children integer giving index node node's child list empty optional specified node child node throws nullpointerexception childnode null optional<integer> getindexofchild childnode objects requirenonnull childnode index children indexof childnode index optional empty else optional index gets number levels node distance root node <p> node root returns giving number levels node getlevel parent null parent getlevel returns number children node giving number children node getnumberofchildren children size removes node parent makes child specified node adding end children list way whole subtree based node moved given node param target parent throws nullpointerexception target null throws arrayindexoutofboundsexception targetindex bounds throws unsupportedoperationexception target descendant node moveto target objects requirenonnull target optional<t> oldparent getparent oldparent ispresent oldparent get target moveto target target getnumberofchildren else moveto target target getnumberofchildren returns path root get node last element path node list nodes giving path first element path root last element node list<t> getpathfromroot parent null list<t> pathtome arraylist<> pathtome add pathtome list<t> path parent getpathfromroot path add path returns next sibling node parent's children list returns empty optional node parent parent's last child <p> method performs linear search number children traverse entire children collection use parent's getchildren instead sibling node immediately follows node see #getchildren optional<t> getnextsibling getrelativesibling returns previous sibling node parent's children list returns empty optional node parent parent's first child <p> method performs linear search number children sibling node immediately precedes node see #getchildren optional<t> getprevioussibling getrelativesibling returns sibling shiftindex away node optional<t> getrelativesibling shiftindex parent null optional empty else indexinparent getpositioninparent indextarget indexinparent shiftindex parent childindexexists indextarget parent getchildat indextarget else optional empty returns node's parent empty optional node parent node's parent empty optional node parent optional<t> getparent optional ofnullable parent sets parent node node <p> method add node children collection parent remove node old parent probably call moveto remove change tree param parent parent setparent parent parent parent returns child specified index node's children collection param index index node's children collection node node's children collection specified index empty optional index point child optional<t> getchildat index childindexexists index optional children get index optional empty returns whether specified index valid index child param index index tested returns true index least less count children boolean childindexexists index index index children size returns true node root tree root node tree empty parent every tree exactly one root true node root tree boolean isroot parent null returns true node ancestor given node <p> node considered ancestor param anothernode node test true anothernode descendant node throws nullpointerexception anothernode null see #isnodedescendant boolean isancestorof anothernode objects requirenonnull anothernode anothernode true else child children child isancestorof anothernode true false returns root tree contains node root ancestor empty parent thus node without parent considered root root tree contains node getroot parent null else parent getroot returns true node children true node children boolean isleaf getnumberofchildren removes subtree rooted node tree giving node empty parent nothing node root tree removefromparent parent null parent removechild removes node's children setting parents empty node children method nothing removeallchildren getnumberofchildren removechild returns node's first child exists otherwise returns empty optional first child node optional<t> getfirstchild getchildat returns node's last child exists otherwise returns empty optional last child node optional<t> getlastchild getchildat children size returns true anothernode descendant node node one node's children descendant one node's children note node considered descendant <p> anothernode null exception thrown param anothernode node test descendant node true node ancestor anothernode see #isancestorof boolean isnodedescendant anothernode objects requirenonnull anothernode isancestorof anothernode gets forward order list node's children <p> returned list unmodifiable use add remove methods modify nodes children however changing nodes children example calling moveto reflected change list returned getchildren words getchildren provides read view children copy list node's children list<t> getchildren collections unmodifiablelist children removes given child node's child list giving empty parent param child child node remove removechild child objects requirenonnull child children remove child child setparent null notifyaboutdescendantchange removes child specified index node's children sets node's parent empty <p> nothing index point child param childindex index node's child array child remove removechild childindex optional<t> child getchildat childindex child ispresent children remove childindex child get setparent null notifyaboutdescendantchange adds node end children collection also sets parent given node node given node allowed already tree parent param child node add child node addchild child addchild child children size adds node given position children collection also sets parent given node node given node allowed already tree parent param child node add param index position node added child node throws indexoutofboundsexception index range addchild child index objects requirenonnull child child getparent ispresent throw unsupportedoperationexception cannot add node already parent use moveto instead child setparent children add index child notifyaboutdescendantchange child removes children node makes child specified node adding specified position children list param target parent param targetindex position children inserted throws nullpointerexception target null throws arrayindexoutofboundsexception targetindex bounds throws unsupportedoperationexception target descendant one children node moveallchildrento target targetindex getnumberofchildren getlastchild get moveto target targetindex sorts list children according order induced specified link comparator <p> children must mutually comparable using specified comparator code compare e1 e2 must throw code classcastexception children code e1 code e2 list param comparator comparator used compare child nodes param recursive true whole subtree sorted throws nullpointerexception comparator null sortchildren comparator<? super t> comparator boolean recursive objects requirenonnull comparator isleaf nothing sort getnumberofchildren lastmodified lastmodified lastmodified child1 getchildat get child2 getchildat get comparator compare child1 child2 child1 moveto recursive child getchildren child sortchildren comparator true removes node parent makes child specified node adding specified position children list way whole subtree based node moved given node param target parent param targetindex position children inserted throws nullpointerexception target null throws arrayindexoutofboundsexception targetindex bounds throws unsupportedoperationexception target descendant node moveto target targetindex objects requirenonnull target check target node ancestor node would create loops tree isancestorof target throw unsupportedoperationexception target cannot descendant node remove previous parent optional<t> oldparent getparent oldparent ispresent oldparent get removechild add child target addchild targetindex creates deep copy node children deep copy subtree copysubtree copy copynode child getchildren child copysubtree moveto copy copy creates copy node completely separated tree children parent deep copy node copynode function invoked something changed subtree consumer<t> ondescendantchanged nothing adds given function list subscribers notified something changes subtree following events supported text parentheses specifies node passed source addchild parent removechild old parent move old parent parent param subscriber function invoked upon change subscribetodescendantchanged consumer<t> subscriber ondescendantchanged ondescendantchanged andthen subscriber helper method notifies subscribers change subtree bubbles event parents param source node changed notifyaboutdescendantchange source ondescendantchanged accept source isroot parent notifyaboutdescendantchange source 
819	AllEntriesGroup.java	MODEL	net sf jabref model groups util list util optional net sf jabref model entry bibentry group contains entries always time allentriesgroup abstractgroup string id allentriesgroup: allentriesgroup string name super name grouphierarchytype independent override boolean supportsadd false override boolean supportsremove false override optional<entriesgroupchange> add list<bibentry> entriestoadd supported ignore optional empty override optional<entriesgroupchange> remove list<bibentry> entriestoremove supported ignore optional empty override abstractgroup deepcopy allentriesgroup getname override boolean equals object instanceof allentriesgroup override string tostring allentriesgroup id override boolean contains bibentry entry true override boolean isdynamic actually special case define non dynamic false override string gettypeid allentriesgroup id override hashcode todo auto generated method stub super hashcode 
820	EntriesGroupChange.java	MODEL	net sf jabref model groups util collections util list util set net sf jabref model fieldchange net sf jabref model entry bibentry entriesgroupchange set<bibentry> oldentries set<bibentry> newentries list<fieldchange> entrychanges entriesgroupchange set<bibentry> oldentries set<bibentry> newentries oldentries newentries collections emptylist entriesgroupchange list<fieldchange> entrychanges collections emptyset collections emptyset entrychanges entriesgroupchange set<bibentry> oldentries set<bibentry> newentries list<fieldchange> entrychanges oldentries oldentries newentries newentries entrychanges entrychanges set<bibentry> getoldentries oldentries set<bibentry> getnewentries newentries iterable<fieldchange> getentrychanges entrychanges 
821	AbstractGroup.java	MODEL	net sf jabref model groups util collections util list util optional net sf jabref model database bibdatabase net sf jabref model entry bibentry net sf jabref model search searchmatcher group bibtexentries abstractgroup searchmatcher character used quoting string representation char quote char '\\' separating units name every group string representation string separator group's name every type group one string name hierarchical context group independent refining including defaults independent used context specified constructor invalid grouphierarchytype context grouphierarchytype independent abstractgroup string name grouphierarchytype context name name sethierarchicalcontext context grouphierarchytype getcontext context string gettypeid returns group's name display list tree string getname name sets group's name setname string name name name true type group supports explicit adding entries boolean supportsadd true type group supports explicit removal entries boolean supportsremove adds specified entries group group one entries modified result operation object returned allows undo change null returned otherwise optional<entriesgroupchange> add list<bibentry> entriestoadd optional<entriesgroupchange> add bibentry entrytoadd add collections singletonlist entrytoadd removes specified entries group group one entries modified result operation object returned allows undo change null returned otherwise optional<entriesgroupchange> remove list<bibentry> entriestoremove true group contains specified entry false otherwise boolean contains bibentry entry override boolean ismatch bibentry entry contains entry true group contains specified entries false otherwise boolean containsany list<bibentry> entries bibentry entry entries contains entry true false true group contains specified entries false otherwise boolean containsall list<bibentry> entries bibentry entry entries contains entry false true returns true group dynamic uses search definition equiv might match entries false group contains fixed set entries thus never match entry explicitly added boolean isdynamic returns group's hierarchical context grouphierarchytype gethierarchicalcontext context sets groups's hierarchical context context valid value call ignored sethierarchicalcontext grouphierarchytype context context null context context deep copy object abstractgroup deepcopy general abstractgroup contract tostring must something object reconstructed using fromstring string general abstractgroup contract equals must implemented update group necessary handle situation group applied different bibdatabase created instance used updating group tree due external change param db database refresh refreshfornewdatabase bibdatabase db default nothing group types affected change database must override method 
822	GroupTreeNode.java	MODEL	net sf jabref model groups util arraylist util list util objects util optional util stream collectors net sf jabref model database bibdatabase net sf jabref model entry bibentry net sf jabref model search searchmatcher net sf jabref model search matchers matcherset net sf jabref model search matchers matchersets node groups tree holds exactly one abstractgroup grouptreenode treenode<grouptreenode> abstractgroup group creates node associates specified group param group group underlying node grouptreenode abstractgroup group super grouptreenode setgroup group grouptreenode fromgroup abstractgroup group grouptreenode group returns group underlying node group associated node abstractgroup getgroup group associates specified group node param newgroup group non null deprecated use overload setgroup abstractgroup newgroup group objects requirenonnull newgroup associates specified group node also providing possibility modify previous matched entries matched group param newgroup group non null param shouldkeeppreviousassignments specifies whether previous matched entries carried param entriesindatabase list entries database optional<entriesgroupchange> setgroup abstractgroup newgroup boolean shouldkeeppreviousassignments list<bibentry> entriesindatabase abstractgroup oldgroup getgroup setgroup newgroup keep assignments previous group shouldkeeppreviousassignments newgroup supportsadd list<bibentry> entriesmatchedbyoldgroup entriesindatabase stream filter oldgroup::ismatch collect collectors tolist oldgroup instanceof explicitgroup newgroup instanceof explicitgroup rename explicit group remove old group assignment oldgroup remove entriesmatchedbyoldgroup newgroup add entriesmatchedbyoldgroup optional empty returns textual representation node children representation contains tree structure textual representations group associated node every node one entry list strings representation tree based node list strings list<string> gettreeasstring list<string> representation arraylist<> append representation add tostring append children grouptreenode child getchildren representation addall child gettreeasstring representation update groups necessary handle situation group tree applied different bibdatabase created instance used updating group tree due external change param db database refresh deprecated method necessary anymore explicit group memberships saved directly entry todo: remove method deprecated refreshgroupsfornewdatabase bibdatabase db grouptreenode node getchildren node group refreshfornewdatabase db node refreshgroupsfornewdatabase db creates searchrule finds elements contained nodes group union elements group children's groups recursively intersection elements group parent's group depending hierarchical settings stored involved groups searchrule finds desired elements searchmatcher getsearchrule getsearchrule group gethierarchicalcontext searchmatcher getsearchrule grouphierarchytype originalcontext grouphierarchytype context group gethierarchicalcontext context grouphierarchytype independent group matcherset searchrule matchersets build context grouphierarchytype refining matchersets matchertype matchersets matchertype searchrule addrule group context grouphierarchytype including originalcontext grouphierarchytype refining grouptreenode child getchildren searchrule addrule child getsearchrule originalcontext else context grouphierarchytype refining isroot originalcontext grouphierarchytype including searchrule addrule getparent get getsearchrule originalcontext searchrule override boolean equals object true null getclass getclass false grouptreenode grouptreenode objects equals group group override hashcode objects hash group list<grouptreenode> getcontaininggroups list<bibentry> entries boolean requireall list<grouptreenode> groups arraylist<> add contain entries requireall group containsall entries groups add else group containsany entries groups add traverse children grouptreenode child getchildren groups addall child getcontaininggroups entries requireall groups list<grouptreenode> getmatchinggroups list<bibentry> entries list<grouptreenode> groups arraylist<> add contain entries searchmatcher matcher getsearchrule bibentry entry entries matcher ismatch entry groups add break traverse children grouptreenode child getchildren groups addall child getmatchinggroups entries groups boolean supportsaddingentries group supportsadd string getname group getname grouptreenode addsubgroup abstractgroup subgroup grouptreenode child grouptreenode fromgroup subgroup addchild child child override string tostring string valueof getlevel group tostring override grouptreenode copynode grouptreenode fromgroup group determines number entries specified list matched group param entries list entries searched number hits numberofhits list<bibentry> entries hits searchmatcher matcher getsearchrule bibentry entry entries matcher ismatch entry hits hits 
823	SearchGroup.java	MODEL	net sf jabref model groups util list util optional net sf jabref model entry bibentry net sf jabref model search groupsearchquery net sf jabref model search rules searchrule net sf jabref model strings stringutil org apache commons logging log org apache commons logging logfactory internally consists search pattern author jzieren searchgroup abstractgroup string id searchgroup: groupsearchquery query log logger logfactory getlog searchgroup string searchexpression boolean casesensitive boolean regexp creates searchgroup specified properties searchgroup string name string searchexpression boolean casesensitive boolean regexp grouphierarchytype context super name context searchexpression searchexpression casesensitive casesensitive regexp regexp query groupsearchquery searchexpression casesensitive regexp override string gettypeid searchgroup id returns string representation object used reconstruct override string tostring searchgroup id stringutil quote getname abstractgroup separator abstractgroup quote char abstractgroup separator getcontext ordinal abstractgroup separator stringutil quote getsearchexpression abstractgroup separator abstractgroup quote char abstractgroup separator stringutil booleantobinarystring iscasesensitive abstractgroup separator stringutil booleantobinarystring isregexp abstractgroup separator string getsearchexpression searchexpression override boolean supportsadd false override boolean supportsremove false override optional<entriesgroupchange> add list<bibentry> entriestoadd throw unsupportedoperationexception search group support adding entries override optional<entriesgroupchange> remove list<bibentry> entriestoremove throw unsupportedoperationexception search group support removing entries override boolean equals object true instanceof searchgroup false searchgroup searchgroup getname equals getname getsearchexpression equals getsearchexpression iscasesensitive iscasesensitive isregexp isregexp gethierarchicalcontext gethierarchicalcontext override boolean contains bibentry entry query ismatch entry override abstractgroup deepcopy try searchgroup getname getsearchexpression iscasesensitive isregexp gethierarchicalcontext catch throwable never happen constructor obviously succeeded creating instance logger error internal error searchgroup deepcopy please report https: github com jabref jabref issues null boolean iscasesensitive casesensitive boolean isregexp regexp override boolean isdynamic true override hashcode todo auto generated method stub super hashcode searchrule getsearchrule query getrule 
824	KeywordGroup.java	MODEL	net sf jabref model groups util arraylist util list util optional util set util regex pattern util regex patternsyntaxexception net sf jabref model fieldchange net sf jabref model entry bibentry net sf jabref model entry keywordlist net sf jabref model strings stringutil org apache commons logging log org apache commons logging logfactory author jzieren keywordgroup abstractgroup string id keywordgroup: string searchfield string searchexpression boolean casesensitive boolean regexp pattern pattern list<string> searchwords character keywordseparator log logger logfactory getlog keywordgroup creates keywordgroup specified properties keywordgroup string name string searchfield string searchexpression boolean casesensitive boolean regexp grouphierarchytype context character keywordseparator super name context searchfield searchfield searchexpression searchexpression casesensitive casesensitive regexp regexp regexp compilepattern keywordseparator keywordseparator searchwords stringutil getstringaswords searchexpression compilepattern throws illegalargumentexception try pattern casesensitive pattern compile \\b searchexpression \\b pattern compile \\b searchexpression \\b pattern case insensitive catch patternsyntaxexception exception throw illegalargumentexception syntax error regular expression pattern: searchexpression returns string representation object used reconstruct override string tostring keywordgroup id stringutil quote getname abstractgroup separator abstractgroup quote char abstractgroup separator getcontext ordinal abstractgroup separator stringutil quote searchfield abstractgroup separator abstractgroup quote char abstractgroup separator stringutil quote searchexpression abstractgroup separator abstractgroup quote char abstractgroup separator stringutil booleantobinarystring casesensitive abstractgroup separator stringutil booleantobinarystring regexp abstractgroup separator override boolean supportsadd regexp override boolean supportsremove regexp override optional<entriesgroupchange> add list<bibentry> entriestoadd supportsadd optional empty entriestoadd null entriestoadd isempty list<fieldchange> changes arraylist<> boolean modified false bibentry entry entriestoadd contains entry string oldcontent entry getfield searchfield orelse null keywordlist wordlist keywordlist parse oldcontent keywordseparator wordlist add searchexpression string newcontent wordlist getasstring keywordseparator entry setfield searchfield newcontent store change information changes add fieldchange entry searchfield oldcontent newcontent modified true modified optional entriesgroupchange changes optional empty optional empty override optional<entriesgroupchange> remove list<bibentry> entriestoremove supportsremove optional empty entriestoremove null entriestoremove isempty list<fieldchange> changes arraylist<> boolean modified false bibentry entry entriestoremove contains entry string oldcontent entry getfield searchfield orelse null removematches entry store change information changes add fieldchange entry searchfield oldcontent entry getfield searchfield orelse null modified true modified optional entriesgroupchange changes optional empty optional empty override boolean equals object true instanceof keywordgroup false keywordgroup keywordgroup getname equals getname searchfield equals searchfield searchexpression equals searchexpression casesensitive casesensitive regexp regexp gethierarchicalcontext gethierarchicalcontext override boolean contains bibentry entry regexp optional<string> content entry getfield searchfield content map value pattern matcher value find orelse false set<string> words entry getfieldaswords searchfield words isempty false casesensitive words containsall searchwords containscaseinsensitive searchwords words boolean containscaseinsensitive list<string> searchtext set<string> words string searchword searchtext containscaseinsensitive searchword words false true boolean containscaseinsensitive string text set<string> words string word words word equalsignorecase text true false look given non regexp string another string check whether match concerns complete word part word param word word look param text string look true word found false otherwise boolean containsword string word string text piv piv text length index text indexof word piv index false found match see complete word: index character isletterordigit text charat index index word length text length character isletterordigit text charat index word length true else piv index false removes matches searchstring entry's field possible search expression regexp removematches bibentry entry entry getfield searchfield ifpresent content stringbuffer sborig stringbuffer content stringbuffer sblower stringbuffer content tolowercase stringbuffer haystack casesensitive sborig sblower string needle casesensitive searchexpression searchexpression tolowercase haystack indexof needle sborig replace needle length sblower replace needle length reduce spaces keywordseparator tostring indexof haystack charat haystack length keywordseparator tostring indexof haystack charat sborig replace sborig length keywordseparator tostring sblower replace sborig length keywordseparator tostring string result sborig tostring trim result isempty entry clearfield searchfield else entry setfield searchfield result override abstractgroup deepcopy keywordgroup getname searchfield searchexpression casesensitive regexp getcontext keywordseparator boolean iscasesensitive casesensitive boolean isregexp regexp string getsearchexpression searchexpression string getsearchfield searchfield override boolean isdynamic true override string gettypeid keywordgroup id override hashcode todo auto generated method stub super hashcode 
825	FieldChange.java	MODEL	net sf jabref model util objects net sf jabref model entry bibentry fieldchange bibentry entry string field string oldvalue string newvalue fieldchange bibentry entry string field string oldvalue string newvalue entry entry field field oldvalue oldvalue newvalue newvalue bibentry getentry entry string getfield field string getoldvalue oldvalue string getnewvalue newvalue override hashcode objects hash entry field newvalue oldvalue override boolean equals object obj obj true obj instanceof fieldchange fieldchange fieldchange obj entry null entry null false else entry equals entry false field null field null false else field equals field false newvalue null newvalue null false else newvalue equals newvalue false oldvalue null oldvalue null false else oldvalue equals oldvalue false true false override string tostring fieldchange [entry entry getcitekeyoptional orelse field field oldvalue oldvalue newvalue newvalue 
826	LatexToUnicode.java	MODEL	net sf jabref model strings util map util regex pattern latextounicode map<string string> chars htmlunicodeconversionmaps latex unicode conversion map map<string string> accents htmlunicodeconversionmaps unicode escaped accents pattern amp latex pattern compile \\\\ pattern latex pattern compile [\\n] pattern dollar latex pattern compile \\\\\\$ pattern dollars latex pattern compile \\$ [^\\$] \\$ pattern amp pattern compile \\ amp pattern pattern compile <p> pattern dollar pattern compile \\ dollar pattern tilde pattern compile string format string infield infield isempty todo: document string field amp latex matcher infield replaceall amp field latex matcher field replaceall <p> field dollar latex matcher field replaceall dollar field dollars latex matcher field replaceall \\ $1\\ stringbuilder sb stringbuilder stringbuilder currentcommand null char boolean escaped false boolean incommand false field length field charat escaped '\\' sb append '\\' escaped false else '\\' incommand close command string command currentcommand tostring string result chars get command result null sb append command else sb append result escaped true incommand true currentcommand stringbuilder else incommand swallow brace else character isletter stringutil special command chars contains string valueof escaped false incommand sb append else currentcommand append currentcommand length stringutil special command chars contains currentcommand tostring field length indicates command type \^o \~ string command currentcommand tostring field charat string commandbody string part stringutil getpart field false part length commandbody part else commandbody field substring string result chars get command commandbody result null use combining accents argument single character empty commandbody length string accent accents get command accent null happen sb append commandbody else sb append commandbody append accent else sb append result incommand false escaped false else already end string? field length string command currentcommand tostring string result chars get command found use translated version keep text parameter intact result null sb append command else sb append result else incommand sb append else character iswhitespace first test already end string field length break testcontent string command currentcommand tostring string argument stringutil getpart field true argument length handle common case general latex command string result chars get command argument found use translated version keep text parameter intact result null use combining accents argument single character empty argument length string accent accents get command accent null argument isempty empty argument may used separator \latex keep command sb append command else sb append argument else sb append argument append accent else sb append argument else sb append result else end brace terminates command case constructs like \aa correct behaviour substitute evaluated command swallow brace: string result chars get command result null command unknown print it: sb append command else sb append result else string result chars get command result null sb append command else sb append result sb append else todo: point reached apparently command terminated strange way $\omega$ also command causes us get former issue maybe little difficult address since involves latex math mode complete latex parser maybe better ignore commands? incommand false escaped false string result amp matcher sb tostring replaceall result matcher result replaceall \n result dollar matcher result replaceall \\$ result tilde matcher result replaceall \u00a0 result 
827	StringUtil.java	MODEL	net sf jabref model strings util arraylist util arrays util list util map util optional util stringtokenizer util regex matcher util regex pattern com google common base charmatcher org apache commons lang3 stringutils stringutil non letters used denote accents latex commands string special command chars `^~' contains possible line breaks omitting break \\n pattern line breaks pattern compile \\r\\n \\r \\n pattern braced title capital pattern pattern compile \\ [a z] \\ unicodetoreadablecharmap unicode char map unicodetoreadablecharmap string booleantobinarystring boolean expression expression quote special characters param toquote string may contain special characters param specials string containing special characters except quoting character automatically quoted param quotechar quoting character string every special character including quoting character quoted string quote string toquote string specials char quotechar toquote null stringbuilder result stringbuilder char boolean isspecial toquote length toquote charat isspecial quotechar non null specials performs logic specials indexof isspecial specials null specials indexof isspecial result append quotechar result append result tostring creates substring text param text param startindex param terminateonendbraceonly string getpart string text startindex boolean terminateonendbraceonly char count stringbuilder part stringbuilder advance first char skip whitespace index startindex index text length character iswhitespace text charat index index grab whatever first token counting braces index text length text charat index terminateonendbraceonly count character iswhitespace end argument leave whitespace processing break count break else count part append index part tostring returns string shaving whitespace beginning end removing one pair braces surrounding param toshave string shavestring string toshave toshave null toshave isempty string shaved toshave trim isincurlybrackets shaved isincitationmarks shaved shaved substring shaved length shaved concatenate strings array index 'from' 'to' excluding given separator <p> example: <p> string[] ab cd ed split join \\ length ab\\cd\\ed param strings param separator param param excluding strings[to] string join string[] strings string separator strings length updatedfrom math max updatedto math min strings length stringbuilder stringbuilder stringbuilder updatedfrom updatedto stringbuilder append strings[i] append separator stringbuilder append strings[updatedto 1] tostring removes optional square brackets string param tostrip string stripbrackets string tostrip isinsquarebrackets tostrip tostrip substring tostrip length tostrip filename default extension extension x' could found string getcorrectfilename string orgname string defaultextension orgname null orgname tolowercase endswith defaultextension tolowercase orgname hiddenchar orgname indexof hidden files linux unix hiddenchar orgname defaultextension orgname formats field contents output must symmetric parse method stored reloaded fields mangled param param wrapamount param newline wrapped string string wrap string wrapamount string newline string[] lines split \n stringbuilder result stringbuilder remove whitespace end string especially includes \r created field content \r\n line separator addwrappedline result charmatcher whitespace trimtrailingfrom lines[0] wrapamount newline see lines length lines[i] trim isempty result append newline result append '\t' else result append newline result append '\t' result append newline result append '\t' remove whitespace end string especially includes \r created field content \r\n line separator string line charmatcher whitespace trimtrailingfrom lines[i] addwrappedline result line wrapamount newline result tostring addwrappedline stringbuilder result string line wrapamount string newline set pointer beginning line stringbuffer: length result length add line unmodified: result append line length result length current result indexof length wrapamount current current result length break result deletecharat current result insert current newline \t length current newline length quotes every character #33 used verbatim display arbitrary strings may contain html entities string quoteforhtml string toquote stringbuilder result stringbuilder toquote length result append append toquote charat append result tostring decodes encoded string array back array form array assumed square delimited characters first dim ':' second dim param value encoded string decoded decoded string array string[][] decodestringdoublearray string value list<list<string>> newlist arraylist<> stringbuilder sb stringbuilder list<string> thisentry arraylist<> boolean escaped false value length char value charat escaped '\\' escaped true continue else escaped ':' thisentry add sb tostring sb stringbuilder else escaped thisentry add sb tostring sb stringbuilder newlist add thisentry thisentry arraylist<> else sb append escaped false sb length thisentry add sb tostring thisentry isempty newlist add thisentry convert string[][]: string[][] res string[newlist size ][] res length res[i] string[newlist get size res[i] length res[i][j] newlist get get res wrap uppercase letters sequences uppercase letters curly braces ignore letters within pair character part string label modified param string modify resulting string wrapping capitals string putbracesaroundcapitals string boolean instring false boolean isbracing false boolean escaped false inbrace stringbuilder buf stringbuilder length update variables based special characters: charat inbrace else inbrace else escaped '#' instring instring see start bracing: inbrace isbracing instring character isletter char character isuppercase char buf append isbracing true see close brace set: isbracing character isletter char character isuppercase char buf append isbracing false add current character: buf append char check entering escape sequence: escaped '\\' escaped check unclosed brace: isbracing buf append buf tostring method looks occurrences capital letters enclosed arbitrary number pairs braces ab pairs braces removed param string analyze string braces removed string removebracesaroundcapitals string string current string previous current removesinglebracesaroundcapitals current length previous length previous current current method looks occurrences capital letters enclosed one pair braces ab replaced capitals braces param string analyze string braces removed string removesinglebracesaroundcapitals string matcher mcr braced title capital pattern matcher stringbuffer buf stringbuffer mcr find string replacestr mcr group mcr appendreplacement buf replacestr substring replacestr length mcr appendtail buf buf tostring replaces platform dependent line breaks os newline line breaks use unix line breaks user explicitly configures linebreaks method used bibtex field writing <example> legacy macintosh \r os newline windows \r\n os newline example> string os newline line breaks string unifylinebreaks string string newline line breaks matcher replaceall newline checks given string exactly one pair surrounding curly braces <br> strings escaped characters curly braces beginning end respected param tocheck string check true check succesful false otherwise boolean isincurlybrackets string tocheck count brackets tocheck null tocheck isempty false else tocheck charat tocheck charat tocheck length char tocheck tochararray brackets count brackets else brackets count false boolean isinsquarebrackets string tocheck tocheck null tocheck isempty false case null empty string else tocheck charat '[' tocheck charat tocheck length ']' boolean isincitationmarks string tocheck tocheck null tocheck length false case null empty string single citation mark else tocheck charat tocheck charat tocheck length optimized method converting string integer http: stackoverflow com questions efficient way converting string integer param str string holding integer value throws numberformatexception str cannot parsed value str intvalueof string str idx end boolean sign false char ch str null end str length ch str charat '0' ch '9' sign ch idx end ch str charat idx '0' ch '9' throw numberformatexception str ival ival ival '0' ch idx end sign ival ival ch str charat idx '0' ch '9' throw numberformatexception str optimized method converting string integer http: stackoverflow com questions efficient way converting string integer param str string holding integer value value str optional empty possible optional<integer> intvalueofoptional string str idx end boolean sign false char ch str null end str length ch str charat '0' ch '9' sign ch idx end ch str charat idx '0' ch '9' optional empty ival ival ival '0' ch idx end optional sign ival ival ch str charat idx '0' ch '9' optional empty method ensures output string valid xml unicode characters specified xml standard reference please see <a href http: www w3 org tr rec xml 20001006#nt char >the standard< a> method empty string input null empty <p> url: http: cse mjmcl cse bris ac uk blog html param string whose non valid characters want remove string stripped non valid characters string stripnonvalidxmlcharacters string null isempty vacancy test stringbuilder stringbuilder used hold output char current used reference current character length current charat note: indexoutofboundsexception caught happen current 0x9 current 0xa current 0xd current 0x20 current 0xd7ff current 0xe000 current 0xfffd append current tostring param buf string tokenized param delimstr delimiter string list link util list <tt>string< tt> list<string> tokenizetolist string buf string delimstr list<string> list arraylist<> string buffer buf '\n' stringtokenizer st stringtokenizer buffer delimstr st hasmoretokens list add st nexttoken list string limitstringlength string maxlength null length maxlength substring maxlength replace non english characters like umlauts etc sensible letter letter combination bibtex accept basis replacement hashmap unicodetoreadablecharmap string replacespecialcharacters string string result map entry<string string> chrandreplace unicode char map entryset result result replace chrandreplace getkey chrandreplace getvalue result string spaces param number spaces string spaces string repeatspaces repeat string copies char param number copies param char copy string copies string repeat char stringbuilder resultsb stringbuilder resultsb append resultsb tostring boolean isnullorempty string totest totest null totest isempty boolean isblank string string isnotblank string boolean isblank optional<string> string isnotblank string boolean isnotblank string string stringutils isnotblank string boolean isnotblank optional<string> string string ispresent isnotblank string get string enclosed html bold tags string boldhtml string input <b> input b> string enclosed html bold tags null otherwise alternative text html bold tags string boldhtml string input string alternative input null <b> alternative b> <b> input b> unquote special characters param tounquote string may contain quoted special characters param quotechar quoting character string quoted characters unquoted string unquote string tounquote char quotechar stringbuilder result stringbuilder char boolean quoted false tounquote length tounquote charat quoted append literally '\n' result append quoted false else quotechar quote char quoted true else result append result tostring string stripaccents string searchquery stringutils stripaccents searchquery make first character string uppercase rest lowercase string capitalizefirst string tocapitalize tocapitalize length tocapitalize substring touppercase tocapitalize substring tocapitalize length tolowercase else tocapitalize touppercase returns list words contained given text whitespace comma semicolon considered separator words param text input list words list<string> getstringaswords string text arrays aslist text split [\\s 
828	HTMLUnicodeConversionMaps.java	MODEL	net sf jabref model strings util hashmap util map htmlunicodeconversionmaps portions international organization standardization 1986: permission copy form granted use conforming sgml systems applications defined iso provided notice included copies latex commands read http: en wikibooks org wiki latex accents symbols seen http: www fileformat info info unicode char a4 index htm replace a4 number http: detexify kirelabs org classify html http: www ctan org tex archive info symbols comprehensive might help find right latex command http: llg cubic org docs ent2latex html http: www w3 org tr xml entity names byalpha html also useful well http: www w3 org math characters unicode xml array arrays strings format: decimal number html entity text html entity corresponding latex command leaving field empty ok included string[][] conversion list string[][] nbsp break space non breaking space 00a0 isonum iexcl \\textexclamdown inverted exclamation mark 00a1 isonum cent \\textcent cent sign 00a2 isonum pound \\pounds pound sign 00a3 isonum curren \\textcurrency currency sign 00a4 isonum yen \\textyen yen sign yuan sign 00a5 isonum brvbar \\textbrokenbar broken bar broken vertical bar 00a6 isonum sect \\s section sign 00a7 isonum uml \\\ diaeresis spacing diaeresis 00a8 isodia copy \\copyright copyright sign 00a9 isonum ordf \\textordfeminine feminine ordinal indicator 00aa isonum laquo \\guillemotleft left pointing angle quotation mark left pointing guillemet 00ab isonum $\\neg$ sign 00ac isonum shy \\ soft hyphen discretionary hyphen 00ad isonum reg \\textregistered registered sign registered trade mark sign 00ae isonum macr \\ macron spacing macron overline apl overbar 00af isodia deg $^ \\circ degree sign 00b0 isonum plusmn $\\pm$ plus minus sign plus minus sign 00b1 isonum sup2 \\textsuperscript superscript two superscript digit two squared 00b2 isonum sup3 \\textsuperscript superscript three superscript digit three cubed 00b3 isonum acute \\' acute accent spacing acute 00b4 isodia micro $\\mu$ micro sign 00b5 isonum mu $\\mu$ micro sign 00b5 isonum para \\p pilcrow sign paragraph sign 00b6 isonum middot $\\cdot$ middle dot georgian comma greek middle dot 00b7 isonum cedil \\c cedilla spacing cedilla 00b8 isodia sup1 \\textsuperscript superscript one superscript digit one 00b9 isonum ordm \\textordmasculine masculine ordinal indicator 00ba isonum raquo \\guillemotright right pointing angle quotation mark right pointing guillemet 00bb isonum frac14 $\\sfrac vulgar fraction one quarter fraction one quarter 00bc isonum frac12 $\\sfrac vulgar fraction one half fraction one half 00bd isonum frac34 $\\sfrac vulgar fraction three quarters fraction three quarters 00be isonum iquest \\textquestiondown inverted question mark turned question mark 00bf isonum agrave \\` latin capital letter grave latin capital letter grave 00c0 isolat1 aacute \\' latin capital letter acute 00c1 isolat1 acirc \\^ latin capital letter circumflex 00c2 isolat1 atilde \\~ latin capital letter tilde 00c3 isolat1 auml \\\ latin capital letter diaeresis 00c4 isolat1 aring \\aa latin capital letter ring latin capital letter ring 00c5 isolat1 aelig \\ae latin capital letter ae latin capital ligature ae 00c6 isolat1 ccedil \\c latin capital letter cedilla 00c7 isolat1 egrave \\` latin capital letter grave 00c8 isolat1 eacute \\' latin capital letter acute 00c9 isolat1 ecirc \\^ latin capital letter circumflex 00ca isolat1 euml \\\ latin capital letter diaeresis 00cb isolat1 igrave \\` latin capital letter grave 00cc isolat1 iacute \\' latin capital letter acute 00cd isolat1 icirc \\^ latin capital letter circumflex 00ce isolat1 iuml \\\ latin capital letter diaeresis 00cf isolat1 eth \\dh latin capital letter eth 00d0 isolat1 ntilde \\~ latin capital letter tilde 00d1 isolat1 ograve \\` latin capital letter grave 00d2 isolat1 oacute \\' latin capital letter acute 00d3 isolat1 ocirc \\^ latin capital letter circumflex 00d4 isolat1 otilde \\~ latin capital letter tilde 00d5 isolat1 ouml \\\ latin capital letter diaeresis 00d6 isolat1 times $\\times$ multiplication sign 00d7 isonum oslash \\o latin capital letter stroke latin capital letter slash 00d8 isolat1 ugrave \\` latin capital letter grave 00d9 isolat1 uacute \\' latin capital letter acute 00da isolat1 ucirc \\^ latin capital letter circumflex 00db isolat1 uuml \\\ latin capital letter diaeresis 00dc isolat1 yacute \\' latin capital letter acute 00dd isolat1 thorn \\th latin capital letter thorn 00de isolat1 szlig \\ss latin small letter sharp ess zed 00df isolat1 agrave \\` latin small letter grave latin small letter grave 00e0 isolat1 aacute \\' latin small letter acute 00e1 isolat1 acirc \\^ latin small letter circumflex 00e2 isolat1 atilde \\~ latin small letter tilde 00e3 isolat1 auml \\\ latin small letter diaeresis 00e4 isolat1 aring \\aa latin small letter ring latin small letter ring 00e5 isolat1 aelig \\ae latin small letter ae latin small ligature ae 00e6 isolat1 ccedil \\c latin small letter cedilla 00e7 isolat1 egrave \\` latin small letter grave 00e8 isolat1 eacute \\' latin small letter acute 00e9 isolat1 ecirc \\^ latin small letter circumflex 00ea isolat1 euml \\\ latin small letter diaeresis 00eb isolat1 igrave \\` latin small letter grave 00ec isolat1 iacute \\' latin small letter acute 00ed isolat1 icirc \\^ latin small letter circumflex 00ee isolat1 iuml \\\ latin small letter diaeresis 00ef isolat1 eth \\dh latin small letter eth 00f0 isolat1 ntilde \\~ latin small letter tilde 00f1 isolat1 ograve \\` latin small letter grave 00f2 isolat1 oacute \\' latin small letter acute 00f3 isolat1 ocirc \\^ latin small letter circumflex 00f4 isolat1 otilde \\~ latin small letter tilde 00f5 isolat1 ouml \\\ latin small letter diaeresis 00f6 isolat1 divide $\\div$ division sign 00f7 isonum oslash \\o latin small letter stroke latin small letter slash 00f8 isolat1 ugrave \\` latin small letter grave 00f9 isolat1 uacute \\' latin small letter acute 00fa isolat1 ucirc \\^ latin small letter circumflex 00fb isolat1 uuml \\\ latin small letter diaeresis 00fc isolat1 yacute \\' latin small letter acute 00fd isolat1 thorn \\th latin small letter thorn 00fe isolat1 yuml \\\ latin small letter diaeresis 00ff isolat1 greek alpha $\\alpha$ greek capital letter alpha beta $\\beta$ greek capital letter beta gamma $\\gamma$ greek capital letter gamma isogrk3 delta $\\delta$ greek capital letter delta isogrk3 epsilon $\\epsilon$ greek capital letter epsilon zeta $\\zeta$ greek capital letter zeta eta $\\eta$ greek capital letter eta theta $\\theta$ greek capital letter theta isogrk3 iota $\\iota$ greek capital letter iota kappa $\\kappa$ greek capital letter kappa 039a lambda $\\lambda$ greek capital letter lambda 039b isogrk3 mu $\\mu$ greek capital letter mu 039c nu $\\nu$ greek capital letter nu 039d xi $\\xi$ greek capital letter xi 039e isogrk3 omicron $\\omicron$ greek capital letter omicron 039f pi $\\pi$ greek capital letter pi 03a0 isogrk3 rho $\\rho$ greek capital letter rho 03a1 sigmaf 03a2 character either sigma $\\sigma$ greek capital letter sigma 03a3 isogrk3 tau $\\tau$ greek capital letter tau 03a4 upsilon $\\upsilon$ greek capital letter upsilon 03a5 isogrk3 phi $\\phi$ greek capital letter phi 03a6 isogrk3 chi $\\chi$ greek capital letter chi 03a7 psi $\\psi$ greek capital letter psi 03a8 isogrk3 omega $\\omega$ greek capital letter omega 03a9 isogrk3 alpha $\\alpha$ greek small letter alpha 03b1 isogrk3 beta $\\beta$ greek small letter beta 03b2 isogrk3 gamma $\\gamma$ greek small letter gamma 03b3 isogrk3 delta $\\delta$ greek small letter delta 03b4 isogrk3 epsilon $\\epsilon$ greek small letter epsilon 03b5 isogrk3 zeta $\\zeta$ greek small letter zeta 03b6 isogrk3 eta $\\eta$ greek small letter eta 03b7 isogrk3 theta $\\theta$ greek small letter theta 03b8 isogrk3 iota $\\iota$ greek small letter iota 03b9 isogrk3 kappa $\\kappa$ greek small letter kappa 03ba isogrk3 lambda $\\lambda$ greek small letter lambda 03bb isogrk3 mu $\\mu$ greek small letter mu 03bc isogrk3 nu $\\nu$ greek small letter nu 03bd isogrk3 xi $\\xi$ greek small letter xi 03be isogrk3 omicron $\\omicron$ greek small letter omicron 03bf pi $\\phi$ greek small letter pi 03c0 isogrk3 rho $\\rho$ greek small letter rho 03c1 isogrk3 sigmaf $\\varsigma$ greek small letter sigma 03c2 isogrk3 sigma $\\sigma$ greek small letter sigma 03c3 isogrk3 tau $\\tau$ greek small letter tau 03c4 isogrk3 upsilon $\\upsilon$ greek small letter upsilon upsi $\\upsilon$ alias 03c5 isogrk3 phi $\\phi$ greek small letter phi 03c6 isogrk3 chi $\\chi$ greek small letter chi 03c7 isogrk3 psi $\\psi$ greek small letter psi 03c8 isogrk3 omega $\\omega$ greek small letter omega 03c9 isogrk3 thetasym $\\vartheta$ greek small letter theta symbol thetav $\\vartheta$ greek small letter theta symbol vartheta $\\vartheta$ greek small letter theta symbol 03d1 upsih $\\upsilon$ greek upsilon hook symbol 03d2 piv $\\varphi$ greek pi symbol 03d6 isogrk3 general punctuation bull $\\bullet$ bullet black small circle isopub bullet bullet operator hellip \\ldots horizontal ellipsis three dot leader isopub prime $\\prime$ prime minutes feet isotech prime $\\prime\\prime$ prime seconds inches isotech oline \\ overline spacing overscore 203e frasl fraction slash letterlike symbols weierp $\\wp$ script capital power set weierstrass isoamso image $\\im$ blackletter capital imaginary part isoamso real $\\re$ blackletter capital real part symbol 211c isoamso trade \\texttrademark trade mark sign isonum alefsym $\\aleph$ alef symbol first transfinite cardinal alef symbol hebrew letter alef 05d0 although glyph could used depict characters arrows larr $\\leftarrow$ leftwards arrow isonum uarr $\\uparrow$ upwards arrow isonum rarr $\\rightarrow$ rightwards arrow isonum darr $\\downarrow$ downwards arrow isonum harr $\\leftrightarrow$ left right arrow isoamsa crarr $\\dlsh$ downwards arrow corner leftwards carriage 21b5 require mathabx larr $\\leftarrow$ leftwards arrow 21d0 isotech iso say larr 'is implied by' arrow also character function larr used 'is implied by' isotech suggests uarr $\\uparrow$ upwards arrow 21d1 isoamsa rarr $\\rightarrow$ rightwards arrow 21d2 isotech iso say 'implies' character another character function rarr used 'implies' isotech suggests darr $\\downarrow$ downwards arrow 21d3 isoamsa harr $\\leftrightarrow$ left right arrow 21d4 isoamsa mathematical operators forall $\\forall$ isotech part $\\partial$ partial differential isotech exist $\\exists$ exists isotech empty $\\emptyset$ empty set null set diameter isoamso nabla $\\nabla$ nabla backward difference isotech isin $\\in$ element isotech notin $\\notin$ element isotech ni $\\ni$ contains member 220b isotech memorable name 'ni'? prod $\\prod$ ary product product sign 220f isoamsb prod character 03a0 'greek capital letter pi' though glyph might used sum $\\sum$ ary sumation isoamsb sum character 03a3 'greek capital letter sigma' though glyph might used minus minus sign isotech lowast $\\ast$ asterisk operator isotech radic $\\sqrt square root radical sign 221a isotech prop $\\propto$ proportional 221d isotech infin $\\infty$ infinity 221e isotech ang $\\angle$ angle isoamso $\\land$ logical wedge isotech $\\lor$ logical vee isotech cap $\\cap$ intersection cap isotech cup $\\cup$ union cup 222a isotech $\\int$ integral 222b isotech there4 $\\therefore$ therefore isotech amssymb sim $\\sim$ tilde operator varies similar 223c isotech tilde operator character tilde 007e although glyph might used represent cong $\\cong$ approximately equal isotech asymp $\\approx$ almost equal asymptotic isoamsr ne $\\neq$ equal isotech equiv $\\equiv$ identical isotech le $\\leq$ less equal isotech ge $\\geq$ greater equal isotech sub $\\subset$ subset isotech sup $\\supset$ superset isotech note nsup 'not superset 2283' covered symbol font encoding included symmetry? isoamsn nsub $\\not\\subset$ subset isoamsn sube $\\subseteq$ subset equal isotech supe $\\supseteq$ superset equal isotech oplus $\\oplus$ circled plus direct sum isoamsb otimes $\\otimes$ circled times vector product isoamsb perp $\\perp$ tack orthogonal perpendicular 22a5 isotech sdot $\\cdot$ dot operator 22c5 isoamsb dot operator character 00b7 middle dot lceil $\\lceil$ left ceiling apl upstile isoamsc rceil $\\rceil$ right ceiling isoamsc lfloor $\\lfloor$ left floor apl downstile 230a isoamsc rfloor $\\rfloor$ right floor 230b isoamsc miscellaneous technical lang $\\langle$ left pointing angle bracket bra isotech lang character 003c 'less than' 'single left pointing angle quotation mark' rang $\\rangle$ right pointing angle bracket ket 232a isotech rang character 003e 'greater than' 203a 'single right pointing angle quotation mark' geometric shapes loz $\\lozenge$ lozenge 25ca isopub miscellaneous symbols spades $\\spadesuit$ black spade suit isopub black seems mean filled opposed hollow clubs $\\clubsuit$ black club suit shamrock isopub hearts $\\heartsuit$ black heart suit valentine isopub diams $\\diamondsuit$ black diamond suit isopub quot quotation mark apl quote isonum amp \\ ampersand isonum lt $<$ less sign 003c isonum gt $>$ greater sign 003e isonum general punctuation ensp \\hspace 5em en space isopub emsp \\hspace 1em em space isopub thinsp \\hspace 167em thin space isopub \\hspace 1em hair space isopub zwnj \\ zero width non joiner 200c rfc zwj zero width joiner 200d rfc lrm left right mark 200e rfc rlm right left mark 200f rfc ndash en dash isopub mdash em dash isopub lsquo \\textquoteleft left single quotation mark isonum rsquo \\textquoteright right single quotation mark isonum sbquo \\quotesinglbase single low quotation mark 201a ldquo \\textquotedblleft left quotation mark 201c isonum rdquo \\textquotedblright right quotation mark 201d isonum bdquo \\quotedblbase low quotation mark 201e dagger \\dag dagger isopub dagger \\ddag dagger isopub permil \\textperthousand per mille sign isotech lsaquo \\guilsinglleft single left pointing angle quotation mark iso proposed lsaquo proposed yet iso standardized rsaquo \\guilsinglright single right pointing angle quotation mark 203a iso proposed rsaquo proposed yet iso standardized euro \\texteuro euro sign 20ac manually added \\# hash dollar \\$ dollar percnt \\ percent apos apostrophe lpar left bracket rpar right bracket asterisk plus plus comma comma hyphen hyphen period period slash slash solidus colon colon semi semi colon equals equals lsqb left square bracket bsol \\textbackslash backslash rsqb right square bracket hat \\^ circumflex lowbar \\ underscore grave \\` grave lbrace \\ left curly bracket lcub \\ left curly bracket vert vertical bar verbar vertical bar verticalline vertical bar rbrace \\ right curly bracket rcub \\ right curly bracket \\v line tabulation set reverse line feed apostrophe apostrophe `` quotation mark '' quotation mark en dash \\v single character introducer \\ capital macron \\ small macron \\u capital breve \\u small breve aogon \\k capital ogonek aogon \\k small ogonek cacute \\' capital acute cacute \\' small acute ccirc \\^ capital circumflex ccirc \\^ small circumflex cdot \\ capital dot cdot \\ small dot ccaron \\v capital caron ccaron \\v small caron \\v capital caron \\v small caron dstrok \\dj capital stroke dstrok \\dj small stroke \\ capital macron \\ small macron \\u capital breve \\u small breve \\ capital dot \\ small dot eogon \\k capital ogonek eogon \\k small ogonek \\v capital caron \\v small caron \\^ capital circumflex \\^ small circumflex \\u capital breve \\u small breve \\ capital dot \\ small dot \\c capital cedilla \\c small cedilla \\^ capital circumflex \\^ small circumflex \\b capital stroke \\b small stroke \\~ capital tilde \\~ \\i small tilde imacr \\ capital macron imacr \\ \\i small macron \\u capital breve \\u \\i small breve iogon \\k capital ogonek iogon \\k small ogonek idot \\ capital dot inodot \\i small without dot imath \\i small without dot \\ij dutch di graph ij \\ij dutch di graph ij \\^ capital circumflex \\^ \\j small circumflex \\c capital cedilla \\c small cedilla \\textkra letter kra \\' capital acute \\' small acute \\c capital cedilla \\c small cedilla \\v capital caron \\v small caron lmidot \\lmidot upper case mid dot lmidot \\lmidot lower case mid dot lstrok \\l upper case stroke lstrok \\l lower case stroke nacute \\' upper case acute nacute \\' lower case acute \\c capital cedilla \\c small cedilla \\v capital caron \\v small caron 'n small preceded apostroph \\ng upper case letter eng \\ng lower case letter eng omacro \\ capital letter macron omacro \\ small letter macron \\u capital letter breve \\u small letter breve \\h capital letter acute \\h small letter acute oelig \\oe oe ligature oelig \\oe oe ligature \\' upper case acute \\' lower case acute \\c upper case cedilla \\c lower case cedilla \\v upper case caron \\v lower case caron \\' upper case acute \\' lower case acute scirc \\^ upper case circumflex scirc \\^ lower case circumflex scedil \\c upper case cedilla scedil \\c lower case cedilla scaron \\v latin capital letter caron scaron \\v latin small letter caron \\c upper case cedilla \\c lower case cedilla \\v latin capital letter caron \\v latin small letter caron \\b latin capital letter stroke \\b latin small letter stroke \\~ capital tilde \\~ small tilde \\ capital macron \\ small macron \\u capital breve \\u small breve \\r capital ring \\r small ring \\ capital acute \\ small acute uogon \\k capital ogonek uogon \\k small ogonek \\^ capital circumflex \\^ small circumflex \\^ capital circumflex \\^ small circumflex yuml \\\ latin capital letter diaeresis \\' capital acute \\' small acute \\ capital dot \\ small dot zcaron \\v capital caron zcaron \\v small caron long \\b small stroke fnof \\textit latin small hook function \\hv small letter hv \\ohorn capital horn \\ohorn small horn \\uhorn capital horn \\uhorn small horn oogon \\k capital letter ogonek oogon \\k small letter ogonek \\k \\ capital letter ogonek macron \\k \\ small letter ogonek macron \\cb capital letter comma require combelow \\cb small letter comma require combelow \\cb capital letter comma require combelow \\cb small letter comma require combelow circ \\^ modifier letter circumflex accent modifier plus sign modifier minus sign breve \\u breve breve \\u breve dot \\ dot ring \\r ring ogon \\k ogonek tilde \\~ small tilde dblac \\h acute epsi $\\epsilon$ epsilon check epsiv $\\varepsilonup$ lunate epsilon requires txfonts \\cyrchar\\cyrp cyrillic capital pe \\cyrchar\\cyrk cyrillic small ka nko letter fa maybe en dash 0x2013? nko letter fa maybe em dash 0x2014? \\hspace 5em en quad \\hspace 1em em quad \\hspace 333em three per em space \\hspace 25em four per em space \\hspace 167em six per em space hyphen hyphen nldr \\ \\ dots en leader \\textpertenthousand per ten thousands sign $\\prime\\prime\\prime$ triple prime \\textreferencemark \\textinterrobang sub script sub script sub script sub script sub script sub script sub script sub script sub script sub script sub script sub script sub script sub script sub script complexes $\\mathbb struck capital requires amsfonts \\textcelsius degree celsius hscr $\\mathcal script capital possibly use \mathscr hfr $\\mathbb black letter capital requires amsfonts lscr $\\mathcal script capital possibly use \mathscr ell $\\ell$ script small naturals $\\mathbb struck capital requires amsfonts qopf $\\mathbb struck capital requires amsfonts reals $\\mathbb struck capital requires amsfonts \\omega omega angst \\aa angstrom escr $\\mathcal script capital frac13 $\\sfrac vulgar fraction one third frac23 $\\sfrac vulgar fraction two thirds frac15 $\\sfrac vulgar fraction one fifth frac25 $\\sfrac vulgar fraction two fifths frac35 $\\sfrac vulgar fraction three fifths frac45 $\\sfrac vulgar fraction four fifths frac16 $\\sfrac vulgar fraction one sixth frac56 $\\sfrac vulgar fraction five sixths frac18 $\\sfrac vulgar fraction one eighth frac38 $\\sfrac vulgar fraction three eighths frac58 $\\sfrac vulgar fraction five eighths frac78 $\\sfrac vulgar fraction seven eighths $\\triangle$ increment could use appropriate symbol $\\in$ small element mp $\\mp$ minus plus bullet $\\bullet$ bullet operator $\\parallel$ parallel ratio colon ratio sime $\\simeq$ almost equal asymptotic ap $\\approx$ almost equal asymptotic $\\ll$ much less lt $\\ll$ much less gg $\\gg$ much greater gt $\\gg$ much greater lsim $\\lesssim$ less equivalent gsim $\\gtrsim$ greater equivalent boxplus $\\boxplus$ boxed plus requires amssymb boxminus $\\boxminus$ boxed minus requires amssymb boxtimes $\\boxtimes$ boxed times requires amssymb vltri $\\triangleleft$ left triangle vrtri $\\triangleright$ right triangle xwedge $\\bigwedge$ big wedge xvee $\\bigvee$ big vee vdots $\\vdots$ vertical ellipsis 22ee cdots $\\cdots$ midline horizontal ellipsis 22ef $\\ddots$ right diagonal ellipsis 22f0 ddots $\\ddots$ right diagonal ellipsis 22f1 circledc \\copyright circled small letter square $\\square$ white square xutri $\\bigtriangleup$ white pointing big triangle utri $\\triangle$ white pointing small triangle \vartriangle probably better requires amssymb les $\\leqslant$ less slanted equal requires amssymb ges $\\geqslant$ less slanted equal requires amssymb ff ff ligature latex solves fi fi ligature latex solves fl fl ligature latex solves ffi ffi ligature latex solves ffl ffl ligature latex solves oscr $\\mathcal script capital possibly use \mathscr uscr $\\mathcal script capital possibly use \mathscr list combining accents string[][] accent list string[][] grave acute circumflex tilde macron overline completely correct breve dot diaeresis hook ring acute caron vertical line vertical line grave textdotbreve candrabindu inverted breve turned comma comma textrevcommaabove reversed comma textcommaabover comma right textsubgrave grave accent requires tipa textsubacute acute accent requires tipa textadvancing left tack requires tipa textretracting right tack requires tipa textlangleabove left angle textrighthorn horn textsublhalfring left half ring requires tipa textraising tack requires tipa textlowering tack requires tipa textsubplus plus sign requires tipa textsubbar minus sign textpalhookbelow palatalized hook retroflex hook textrethookbelow? dot textsubumlaut diaeresis requires tipa textsubring ring requires tipa cb comma requires combelow cedilla ogonek textsyllabic vertical line requires tipa textsubbridge bridge requires tipa textsubw inverted arch requires tipa textsubwedge caron textsubcircum circumflex accent requires tipa textsubbreve breve textsubarch inverted breve requires tipa textsubtilde tilde requires tipa macron completely correct underline subdoublebar low line requires extraipa textsuperimposetilde tilde overlay requires tipa short stroke overlay textsstrokethru? textlstrokethru long stroke overlay textsstrikethru short solidus overlay textlstrikethru long solidus overlay textsubrhalfring right half ring requires tipa textinvsubbridge inverted bridge requires tipa textsubsquare square requires tipa textseagull seagull requires tipa textovercross requires tipa vertical tilde overline grave tone mark acute tone mark greek perispomeni greek koronis greek dialytika tonos greek ypogegrammeni overbridge bridge requires extraipa subdoublebar equals sign requires extraipa subdoublevert vertical line requires extraipa subcorner left angle requires extraipa crtilde tilde requires extraipa dottedtilde homothetic requires extraipa doubletilde almost equal requires extraipa spreadlips left right arrow requires extraipa whistle upwards arrow requires extraipa textdoublebreve breve textdoublemacron macron textdoublemacronbelow macron textdoubletilde tilde texttoptiebar inverted breve sliding rightwards arrow requires extraipa map<string string> html latex conversion map hashmap<> map<integer string> escaped accents hashmap<> map<string string> unicode escaped accents hashmap<> map<integer string> numerical latex conversion map hashmap<> map<string string> unicode latex conversion map hashmap<> map<string string> latex html conversion map hashmap<> map<string string> latex unicode conversion map hashmap<> string[] aconversionlist conversion list aconversionlist[2] isempty string strippedlatex cleanlatex aconversionlist[2] aconversionlist[1] isempty html latex conversion map put aconversionlist[1] aconversionlist[2] strippedlatex isempty latex html conversion map put strippedlatex aconversionlist[1] else aconversionlist[0] isempty strippedlatex isempty latex html conversion map put strippedlatex aconversionlist[0] aconversionlist[0] isempty numerical latex conversion map put integer decode aconversionlist[0] aconversionlist[2] integer decode aconversionlist[0] string unicodesymbol string valueof character tochars integer decode aconversionlist[0] unicode latex conversion map put unicodesymbol aconversionlist[2] strippedlatex isempty latex unicode conversion map put strippedlatex unicodesymbol string[] anaccentlist accent list escaped accents put integer decode anaccentlist[0] anaccentlist[1] unicode escaped accents put anaccentlist[1] string valueof character tochars integer decode anaccentlist[0] manually added values killed cleanlatex latex html conversion map put dollar latex unicode conversion map put manual corrections latex html conversion map put aa aring overwritten angst less supported latex unicode conversion map put aa overwritten ångstrom symbol manual additions support relax extent simply removed latex html conversion map put relax latex unicode conversion map put relax string cleanlatex string escapedstring get rid latex string escapedstring replaceall [\\\\\\ \\ \\$] 
829	UnicodeToReadableCharMap.java	MODEL	net sf jabref model strings util hashmap unicodetoreadablecharmap hashmap<string string> unicodetoreadablecharmap put \u00c0 put \u00c1 put \u00c2 put \u00c3 put \u00c4 ae put \u00c5 aa put \u00c6 ae put \u00c7 put \u00c8 put \u00c9 put \u00ca put \u00cb put \u00cc put \u00cd put \u00ce put \u00cf put \u00d0 put \u00d1 put \u00d2 put \u00d3 put \u00d4 put \u00d5 put \u00d6 oe put \u00d8 oe put \u00d9 put \u00da put \u00db put \u00dc ue umlaut put \u00dd put \u00df ss put \u00e0 put \u00e1 put \u00e2 put \u00e3 put \u00e4 ae put \u00e5 aa put \u00e6 ae put \u00e7 put \u00e8 put \u00e9 put \u00ea put \u00eb put \u00ec put \u00ed put \u00ee put \u00ef put \u00f0 put \u00f1 put \u00f2 put \u00f3 put \u00f4 put \u00f5 put \u00f6 oe put \u00f8 oe put \u00f9 put \u00fa put \u00fb put \u00fc ue umlaut put \u00fd put \u00ff put \u0100 put \u0101 put \u0102 put \u0103 put \u0104 put \u0105 put \u0106 put \u0107 put \u0108 put \u0109 put \u010a put \u010b put \u010c put \u010d put \u010e put \u010f put \u0110 put \u0111 put \u0112 put \u0113 put \u0114 put \u0115 put \u0116 put \u0117 put \u0118 put \u0119 put \u011a put \u011b put \u011c put \u011d put \u011e put \u011f put \u0120 put \u0121 put \u0122 put \u0123 put \u0124 put \u0125 put \u0127 put \u0128 put \u0129 put \u012a put \u012b put \u012c put \u012d put \u012e put \u012f put \u0130 put \u0131 put \u0132 ij put \u0133 ij put \u0134 put \u0135 put \u0136 put \u0137 put \u0138 put \u0139 put \u013a put \u013b put \u013c put \u013d put \u013e put \u013f put \u0140 put \u0141 put \u0142 put \u0143 put \u0144 put \u0145 put \u0146 put \u0147 put \u0148 put \u0149 put \u014a put \u014b put \u014c put \u014d put \u014e put \u014f put \u0150 oe put \u0151 oe put \u0152 oe put \u0153 oe put \u0154 put \u0155 put \u0156 put \u0157 put \u0158 put \u0159 put \u015a put \u015b put \u015c put \u015d put \u015e put \u015f put \u0160 put \u0161 put \u0162 put \u0163 put \u0164 put \u0165 put \u0166 put \u0167 put \u0168 put \u0169 put \u016a put \u016b put \u016c put \u016d put \u016e uu put \u016f uu put \u0170 ue put \u0171 ue put \u0172 put \u0173 put \u0174 put \u0175 put \u0176 put \u0177 put \u0178 put \u0179 put \u017a put \u017b put \u017c put \u017d put \u017e put \u1ebc put \u1ebd put \u1ef8 put \u1ef9 put \u01cd put \u01ce put \u01cf put \u01d0 put \u01d1 put \u01d2 put \u01d3 put \u01d4 put \u0232 put \u0233 put \u01ea put \u01eb put \u1e0c put \u1e0d put \u1e24 put \u1e25 put \u1e36 put \u1e37 put \u1e38 put \u1e39 put \u1e42 put \u1e43 put \u1e46 put \u1e47 put \u1e5a put \u1e5b put \u1e5c put \u1e5d put \u1e62 put \u1e63 put \u1e6c put \u1e6d put \u00cf put \u008c ae work? put \u016e put \u016f put \u0178 put \u00fe thorn character unicode chars put \u0100 
830	DBMSConnection.java	MODEL	net sf jabref shared sql connection sql drivermanager sql sqlexception util hashset util set net sf jabref logic l10n localization net sf jabref shared exception invaliddbmsconnectionpropertiesexception org apache commons logging log org apache commons logging logfactory dbmsconnection log logger logfactory getlog dbmsconnection connection connection dbmsconnectionproperties properties dbmsconnection dbmsconnectionproperties properties throws sqlexception invaliddbmsconnectionpropertiesexception properties isvalid throw invaliddbmsconnectionpropertiesexception properties properties try drivermanager setlogintimeout ensure sql drivers loaded source: http: stackoverflow com use side effect getavailabledbmstypes loads available drivers dbmsconnection getavailabledbmstypes connection drivermanager getconnection properties gettype geturl properties gethost properties getport properties getdatabase properties getuser properties getpassword catch sqlexception systems like postgresql retrieves every exception therefore stable error determination possible logger error could connect database: getmessage error code: geterrorcode throw connection getconnection connection dbmsconnectionproperties getproperties properties returns set link dbmstype supported available drivers set<dbmstype> getavailabledbmstypes set<dbmstype> dbmstypes hashset<> dbmstype dbms dbmstype values try forname dbms getdriverclasspath dbmstypes add dbms catch classnotfoundexception case driver available perform tests system logger info localization lang driver available dbms tostring dbmstypes 
831	Password.java	MODEL	net sf jabref shared security io unsupportedencodingexception security generalsecurityexception security messagedigest security nosuchalgorithmexception util arrays util base64 javax crypto cipher javax crypto nosuchpaddingexception javax crypto spec ivparameterspec javax crypto spec secretkeyspec link password contains methods useful encrypt decrypt passwords using symetric algorithms password byte[] phrase cipher cipher secretkeyspec secretkey ivparameterspec ivspec param phrase phrase encrypted decrypted param key key used improve symmetric encryption password char[] phrase string key throws nosuchalgorithmexception nosuchpaddingexception phrase string phrase getbytes cipher cipher getinstance aes cbc pkcs5padding secretkey secretkeyspec get128bithash key getbytes aes ivspec ivparameterspec thisisa128bitkey getbytes encrypts set phrase password symmetric encryption algorithm encrypted phrase password string encrypt throws generalsecurityexception unsupportedencodingexception cipher init cipher encrypt mode secretkey ivspec string base64 getencoder encode cipher dofinal phrase utf decrypts set phrase password encrypted via link password#encrypt decrypted phrase password string decrypt throws generalsecurityexception unsupportedencodingexception cipher init cipher decrypt mode secretkey ivspec string cipher dofinal base64 getdecoder decode phrase utf returns bit hash using sha byte[] get128bithash byte[] bytearraytohash throws nosuchalgorithmexception messagedigest messagedigest messagedigest getinstance sha messagedigest update bytearraytohash arrays copyof messagedigest digest bit 
832	JabRefException.java	MODEL	net sf jabref org apache commons logging log org apache commons logging logfactory jabrefexception exception string localizedmessage log logger logfactory getlog jabrefexception jabrefexception string message super message jabrefexception string message throwable cause super message cause jabrefexception string message string localizedmessage super message localizedmessage localizedmessage jabrefexception string message string localizedmessage throwable cause super message cause localizedmessage localizedmessage jabrefexception throwable cause super cause override string getlocalizedmessage localizedmessage null logger warn localized message exception message defined falling back getmessage getmessage else localizedmessage 
833	SharedDatabasePreferences.java	PREF	net sf jabref shared prefs io unsupportedencodingexception security generalsecurityexception util optional util prefs backingstoreexception util prefs preferences net sf jabref jabrefmain net sf jabref gui shared connecttoshareddatabasedialog net sf jabref shared dbmsconnectionproperties net sf jabref shared security password org apache commons logging log org apache commons logging logfactory stores reads persistent data link connecttoshareddatabasedialog shareddatabasepreferences log logger logfactory getlog shareddatabasepreferences string default node default string parent node jabref shared string shared database type shareddatabasetype string shared database host shareddatabasehost string shared database port shareddatabaseport string shared database name shareddatabasename string shared database user shareddatabaseuser string shared database password shareddatabasepassword string shared database remember password shareddatabaserememberpassword link preferences used things appear real jabrefpreferences due security reasons preferences internalprefs shareddatabasepreferences default node shareddatabasepreferences string shareddatabaseid internalprefs preferences usernodeforpackage jabrefmain parent node parent node node shareddatabaseid optional<string> gettype getoptionalvalue shared database type optional<string> gethost getoptionalvalue shared database host optional<string> getport getoptionalvalue shared database port optional<string> getname getoptionalvalue shared database name optional<string> getuser getoptionalvalue shared database user optional<string> getpassword getoptionalvalue shared database password boolean getrememberpassword internalprefs getboolean shared database remember password false settype string type internalprefs put shared database type type sethost string host internalprefs put shared database host host setport string port internalprefs put shared database port port setname string name internalprefs put shared database name name setuser string user internalprefs put shared database user user setpassword string password internalprefs put shared database password password setrememberpassword boolean rememberpassword internalprefs putboolean shared database remember password rememberpassword clearpassword internalprefs remove shared database password clear throws backingstoreexception internalprefs clear optional<string> getoptionalvalue string key optional ofnullable internalprefs get key null clearall throws backingstoreexception preferences usernodeforpackage jabrefmain parent node parent node clear putalldbmsconnectionproperties dbmsconnectionproperties properties assert properties isvalid settype properties gettype tostring sethost properties gethost setport string valueof properties getport setname properties getdatabase setuser properties getuser try setpassword password properties getpassword tochararray properties getuser encrypt catch generalsecurityexception unsupportedencodingexception logger error could store password due encryption problems 
834	PreferencesMigrations.java	PREF	net sf jabref migrations util hashmap util map util prefs backingstoreexception util prefs preferences net sf jabref globals net sf jabref jabrefmain net sf jabref model bibtexkeypattern abstractbibtexkeypattern net sf jabref model bibtexkeypattern globalbibtexkeypattern net sf jabref model entry fieldname net sf jabref preferences jabrefpreferences org apache commons logging log org apache commons logging logfactory preferencesmigrations log logger logfactory getlog preferencesmigrations added jabref beta onwards fix wrong encoding names upgradefaultyencodingstrings jabrefpreferences prefs globals prefs string defaultencoding prefs get jabrefpreferences default encoding defaultencoding null map<string string> encodingmap hashmap<> encodingmap put utf8 utf encodingmap put cp1250 cp1250 encodingmap put cp1251 cp1251 encodingmap put cp1252 cp1252 encodingmap put cp1253 cp1253 encodingmap put cp1254 cp1254 encodingmap put cp1257 cp1257 encodingmap put iso8859 iso8859 encodingmap put iso8859 iso8859 encodingmap put iso8859 iso8859 encodingmap put iso8859 iso8859 encodingmap put iso8859 iso8859 encodingmap put iso8859 iso8859 encodingmap put iso8859 iso8859 encodingmap put iso8859 iso8859 encodingmap put iso8859 iso8859 encodingmap put iso8859 iso8859 encodingmap put iso8859 iso8859 encodingmap put koi8 koi8 encodingmap put big5 hkscs big5 hkscs encodingmap put euc jp euc jp encodingmap containskey defaultencoding prefs put jabrefpreferences default encoding encodingmap get defaultencoding upgrade sort order preferences current version old preference kept case old version jabref used preferences used preference exist upgradesortorder jabrefpreferences prefs globals prefs prefs get jabrefpreferences export specified order null null prefs getboolean exportinstandardorder false prefs putboolean jabrefpreferences export specified order true prefs put jabrefpreferences export primary sort field fieldname author prefs put jabrefpreferences export secondary sort field fieldname editor prefs put jabrefpreferences export tertiary sort field fieldname year prefs putboolean jabrefpreferences export primary sort descending false prefs putboolean jabrefpreferences export secondary sort descending false prefs putboolean jabrefpreferences export tertiary sort descending false else prefs getboolean exportintitleorder false exportintitleorder title author editor prefs putboolean jabrefpreferences export specified order true prefs put jabrefpreferences export primary sort field fieldname title prefs put jabrefpreferences export secondary sort field fieldname author prefs put jabrefpreferences export tertiary sort field fieldname editor prefs putboolean jabrefpreferences export primary sort descending false prefs putboolean jabrefpreferences export secondary sort descending false prefs putboolean jabrefpreferences export tertiary sort descending false migrate labelpattern configuration version bibtexkeypatterns upgradelabelpatterntobibtexkeypattern jabrefpreferences prefs globals prefs try preferences mainprefsnode preferences usernodeforpackage jabrefmain migrate default pattern mainprefsnode get jabrefpreferences default bibtex key pattern null null check whether old defaultlabelpattern set string olddefault mainprefsnode get defaultlabelpattern null olddefault null prefs put jabrefpreferences default bibtex key pattern olddefault logger info upgraded old default key generator pattern olddefault version pref node already exists migrate previous version mainprefsnode nodeexists jabrefpreferences bibtex key patterns node migrate type specific patterns check prefs node version mainprefsnode nodeexists logic labelpattern migratetypedkeyprefs prefs mainprefsnode node logic labelpattern else mainprefsnode nodeexists logic labelpattern node used version migratetypedkeyprefs prefs mainprefsnode node logic labelpattern else mainprefsnode nodeexists labelpattern node used version <3 migratetypedkeyprefs prefs mainprefsnode node labelpattern catch backingstoreexception logger error migrating old bibtexkeypatterns failed migratetypedkeyprefs jabrefpreferences prefs preferences oldpatternprefs throws backingstoreexception logger info found old bibtex key patterns migrated version globalbibtexkeypattern keypattern globalbibtexkeypattern abstractbibtexkeypattern split prefs get jabrefpreferences default bibtex key pattern string key oldpatternprefs keys keypattern addbibtexkeypattern key oldpatternprefs get key null prefs putkeypattern keypattern 
835	JabRefPreferencesFilter.java	PREF	net sf jabref preferences util hashmap util list util map util objects util optional util stream collectors jabrefpreferencesfilter jabrefpreferences preferences jabrefpreferencesfilter jabrefpreferences preferences preferences preferences list<preferenceoption> getpreferenceoptions map<string object> defaults hashmap<> preferences defaults map<string object> prefs preferences getpreferences prefs entryset stream map entry preferenceoption entry getkey entry getvalue defaults get entry getkey collect collectors tolist list<preferenceoption> getdeviatingpreferences getpreferenceoptions stream filter preferenceoption::ischanged sorted collect collectors tolist enum preferencetype boolean integer string preferenceoption comparable<preferenceoption> string key object value optional<object> defaultvalue preferencetype type preferenceoption string key object value object defaultvalue key objects requirenonnull key value objects requirenonnull value defaultvalue optional ofnullable defaultvalue type objects requirenonnull gettype value defaultvalue null objects equals type gettype defaultvalue throw illegalstateexception types must match default value value preferencetype gettype object value value instanceof boolean preferencetype boolean else value instanceof integer preferencetype integer else preferencetype string boolean isunchanged objects equals value defaultvalue orelse null boolean ischanged isunchanged override string tostring string format s: type key value defaultvalue orelse null string getkey key object getvalue value optional<object> getdefaultvalue defaultvalue preferencetype gettype type override compareto preferenceoption objects compare key key string::compareto 
836	CustomImportList.java	PREF	net sf jabref preferences util list util treeset net sf jabref globals net sf jabref logic importer importer net sf jabref logic importer fileformat customimporter org apache commons logging log org apache commons logging logfactory collection user defined custom formats <p>the collection stored retrieved preferences sorted default order link importer p> customimportlist treeset<customimporter> jabrefpreferences prefs log logger logfactory getlog customimportlist customimportlist jabrefpreferences prefs super prefs prefs readprefs readprefs list<string> prefs getstringlist jabrefpreferences custom format isempty try size format: basepath classname super add customimporter get get else old format: name cliid classname basepath super add customimporter get get catch exception logger warn could load get preferences ignore addimporter customimporter customimporter super add customimporter adds importer <p>if old one equal one contained old one replaced p> param customimporter version importer importer contained boolean replaceimporter customimporter customimporter boolean wascontained remove customimporter addimporter customimporter wascontained store purgeall customimporter[] importers toarray customimporter[this size importers length globals prefs putstringlist jabrefpreferences custom format importers[i] getasstringlist purgeall globals prefs getstringlist jabrefpreferences custom format isempty globals prefs remove jabrefpreferences custom format 
837	JabRefPreferences.java	PREF	net sf jabref preferences awt color awt font io file io fileinputstream io fileoutputstream io ioexception io inputstream io outputstream io reader io stringreader net inetaddress net unknownhostexception nio charset charset nio charset standardcharsets util arraylist util arrays util collections util enumset util hashmap util list util locale util map util objects util optional util set util prefs backingstoreexception util prefs invalidpreferencesformatexception util prefs preferences util stream collectors javax swing jtable javax swing uimanager net sf jabref jabrefexception net sf jabref jabrefmain net sf jabref gui desktop jabrefdesktop net sf jabref gui entryeditor entryeditortablist net sf jabref gui preftabs importsettingstab net sf jabref logic autocompleter autocompletepreferences net sf jabref logic bibtex fieldcontentparserpreferences net sf jabref logic bibtex latexfieldformatterpreferences net sf jabref logic bibtexkeypattern bibtexkeypatternpreferences net sf jabref logic citationstyle citationstyle net sf jabref logic cleanup cleanuppreferences net sf jabref logic cleanup cleanuppreset net sf jabref logic cleanup cleanups net sf jabref logic exporter customexportlist net sf jabref logic exporter exportcomparator net sf jabref logic importer importformatpreferences net sf jabref logic journals journalabbreviationloader net sf jabref logic journals journalabbreviationpreferences net sf jabref logic l10n localization net sf jabref logic layout layoutformatterpreferences net sf jabref logic layout format filelinkpreferences net sf jabref logic layout format nameformatterpreferences net sf jabref logic net proxypreferences net sf jabref logic openoffice openofficepreferences net sf jabref logic openoffice styleloader net sf jabref logic protectedterms protectedtermslist net sf jabref logic protectedterms protectedtermsloader net sf jabref logic protectedterms protectedtermspreferences net sf jabref logic remote remotepreferences net sf jabref logic util os net sf jabref logic util updatefieldpreferences net sf jabref logic util version net sf jabref logic util io filehistory net sf jabref logic xmp xmppreferences net sf jabref model bibtexkeypattern abstractbibtexkeypattern net sf jabref model bibtexkeypattern globalbibtexkeypattern net sf jabref model database bibdatabasemode net sf jabref model entry bibentry net sf jabref model entry customentrytype net sf jabref model entry fieldname net sf jabref model metadata filedirectorypreferences net sf jabref model metadata saveorderconfig net sf jabref model strings stringutil org apache commons logging log org apache commons logging logfactory jabrefpreferences log logger logfactory getlog jabrefpreferences hashmap contains preferences set default map<string object> defaults hashmap<> contents defaults hashmap defined default parameters map belong separate preference classes push application preferences string emacs path emacspath string emacs additional parameters emacsparameters string emacs emacsusev23insertstring string latex editor path latexeditorpath string texstudio path texstudiopath string win edt path winedtpath string texmaker path texmakerpath string vim server vimserver string vim vim string lyxpipe lyxpipe string external file types externalfiletypes string font family fontfamily string win look feel lookandfeel string language language string names last nameslastonly string abbr author names abbrauthornames string names natbib namesnatbib string names first last namesff string biblatex default mode biblatexmode string names namesasis string entry editor height entryeditorheight string auto resize mode autoresizemode string window maximised windowmaximised string use default look feel usedefaultlookandfeel string proxy port proxyport string proxy hostname proxyhostname string proxy use useproxy string proxy username proxyusername string proxy password proxypassword string proxy use authentication useproxyauthentication string table primary sort field prisort string table primary sort descending pridescending string table secondary sort field secsort string table secondary sort descending secdescending string table tertiary sort field tersort string table tertiary sort descending terdescending string reformat file save export reformatfileonsaveandexport string export original order exportinoriginalorder string export specified order exportinspecifiedorder string export primary sort field exportprisort string export primary sort descending exportpridescending string export secondary sort field exportsecsort string export secondary sort descending exportsecdescending string export tertiary sort field exporttersort string export tertiary sort descending exportterdescending string newline newline string column widths columnwidths string column names columnnames string side pane component preferred positions sidepanecomponentpreferredpositions string side pane component names sidepanecomponentnames string xmp privacy filters xmpprivacyfilters string use xmp privacy filter usexmpprivacyfilter string default auto sort defaultautosort string default show source defaultshowsource window sizes string size mainwindowsizey string size mainwindowsizex string pos mainwindowposy string pos mainwindowposx string strings size stringssizey string strings size stringssizex string strings pos stringsposy string strings pos stringsposx string duplicates size duplicatessizey string duplicates size duplicatessizex string duplicates pos duplicatesposy string duplicates pos duplicatesposx string mergeentries size mergeentriessizey string mergeentries size mergeentriessizex string mergeentries pos mergeentriesposy string mergeentries pos mergeentriesposx string preamble size preamblesizey string preamble size preamblesizex string preamble pos preambleposy string preamble pos preambleposx string terms size termssizey string terms size termssizex string terms pos termsposy string terms pos termsposx string search dialog height searchdialogheight string search dialog width searchdialogwidth string inspection dialog height importinspectiondialogheight string inspection dialog width importinspectiondialogwidth string last edited lastedited string open last edited openlastedited string last focused lastfocused string backup backup string auto open form autoopenform string working directory importworkingdirectory string export working directory exportworkingdirectory string prefs export path prefsexportpath string working directory workingdirectory string number col width numbercolwidth string auto complete autocomplete string editor emacs keybindings editoremacskeybindings string editor emacs keybindings rebind ca editoremacskeybindingsrebindca string editor emacs keybindings rebind cf editoremacskeybindingsrebindcf string group show number elements groupshownumberofelements string group expand tree groupexpandtree string group show dynamic groupshowdynamic string group show icons groupshowicons string groups default field groupsdefaultfield string group show overlapping groupshowoverlapping string group invert selections groupinvertselections string group intersect selections groupintersectselections string group selections groupfloatselections string edit group membership mode groupeditgroupmembershipmode string keyword separator groupkeywordseparator string auto assign group autoassigngroup string list file columns listoffilecolumns string extra file columns extrafilecolumns string arxiv column arxivcolumn string file column filecolumn string prefer url doi preferurldoi string url column urlcolumn colors string table color codes tablecolorcodeson string table resolved color codes tableresolvedcolorcodeson string incomplete entry background incompleteentrybackground string field editor text color fieldeditortextcolor string active field editor background color activefieldeditorbackgroundcolor string invalid field background color invalidfieldbackgroundcolor string valid field background color validfieldbackgroundcolor string marked entry background5 markedentrybackground5 string marked entry background4 markedentrybackground4 string marked entry background3 markedentrybackground3 string marked entry background2 markedentrybackground2 string marked entry background1 markedentrybackground1 string marked entry background0 markedentrybackground0 string grayed text verygrayedouttext string grayed background verygrayedoutbackground string grayed text grayedouttext string grayed background grayedoutbackground string grid color gridcolor string table text tabletext string table opt field background tableoptfieldbackground string table req field background tablereqfieldbackground string marked entry background markedentrybackground string table resolved field background tableresolvedfieldbackground string table background tablebackground string table show grid tableshowgrid string table row padding tablerowpadding string menu font size menufontsize string override default fonts overridedefaultfonts string font size fontsize string font style fontstyle string recent databases recentdatabases string rename move file file dir renameonmovefiletofiledir string memory stick mode memorystickmode string default owner defaultowner string default encoding defaultencoding string toolbar visible toolbarvisible string highlight groups matching highlightgroupsmatching string update timestamp updatetimestamp string time stamp field timestampfield string time stamp format timestampformat string overwrite time stamp overwritetimestamp string use time stamp usetimestamp string warn duplicates inspection warnaboutduplicatesininspection string unmark entries importing unmarkallentriesbeforeimporting string mark imported entries markimportedentries string generate keys inspection generatekeysafterinspection string non wrappable fields nonwrappablefields string resolve strings fields resolvestringsallfields string resolve strings donotresolvestringsfor string merge entries diff mode mergeentriesdiffmode string custom export format customexportformat string custom format customimportformat string bindings bindings string bind names bindnames string key pattern regex keypatternregex string key pattern replacement keypatternreplacement string console command consolecommand string use default console application usedefaultconsoleapplication currently possible specify defaults specific entry types made possible code inspect net sf jabref gui preftabs bibtexkeypatternpreftab storesettings labelpattern keypatterns getcitekeypattern etc string default bibtex key pattern defaultbibtexkeypattern string gray non hits grayoutnonhits string confirm delete confirmdelete string warn overwriting key warnbeforeoverwritingkey string avoid overwriting key avoidoverwritingkey string overwrite owner overwriteowner string use owner useowner string autolink exact key autolinkexactkeyonly string show file links upgrade warning showfilelinksupgradewarning string side pane width sidepanewidth string last used export lastusedexport string marked entries floatmarkedentries string cite command citecommand string external journal lists externaljournallists string personal journal list personaljournallist string generate keys saving generatekeysbeforesaving string email subject emailsubject string open folders attached files openfoldersofattachedfiles string key gen always add letter keygenalwaysaddletter string key gen first letter keygenfirstlettera string enforce legal bibtex key enforcelegalbibtexkey string local auto save localautosave string run automatic file search runautomaticfilesearch string numeric fields numericfields string reg exp search expression key regexpsearchexpression string autolink use reg exp search key useregexpsearch string db connect username dbconnectusername string db connect database dbconnectdatabase string db connect hostname dbconnecthostname string db connect server type dbconnectservertype string bib loc primary dir biblocasprimarydir string selected fetcher index selectedfetcherindex string web search visible websearchvisible string group sidepane visible groupsidepanevisible string allow file auto open browse allowfileautoopenbrowse string custom tab name customtabname string custom tab fields customtabfields string use unit formatter search useunitformatteronsearch string use case keeper search usecasekeeperonsearch string use ieee abrv useieeeabrv string terms enabled external protectedtermsenabledexternal string terms disabled external protectedtermsdisabledexternal string terms enabled internal protectedtermsenabledinternal string terms disabled internal protectedtermsdisabledinternal string ask auto naming pdfs askautonamingpdfsagain string cleanup doi cleanupdoi string cleanup issn cleanupissn string cleanup move pdf cleanupmovepdf string cleanup make paths relative cleanupmakepathsrelative string cleanup rename pdf cleanuprenamepdf string cleanup rename pdf relative paths cleanuprenamepdfonlyrelativepaths string cleanup upgrade external links cleanupupgradeexternallinks string cleanup convert biblatex cleanupconverttobiblatex string cleanup fix file links cleanupfixfilelinks string cleanup formatters cleanupformatters string default pdf style importdefaultpdfimportstyle string alwaysuse importalwaysusepdfimportstyle string filenamepattern importfilenamepattern string name formatter value nameformatterformats string name formater key nameformatternames string push application pushtoapplication openoffice libreoffice connection preferences are: oo path main directory oo lo installation used detect location win os using manual connect oo executable path path soffice file oo jars path directory contains juh jar jurt jar ridl jar unoil jar oo sync citing true reference list updated adding citation oo show panel true oo panel shown startup oo use open databases true databases used citing oo bibliography style file path used style file oo external style files list paths external style files styles size position select style dialog string oo executable path ooexecutablepath string oo path oopath string oo jars path oojarspath string oo show panel showoopanel string oo sync citing syncoowhenciting string oo use open bases useallopenbases string oo bibliography style file oobibliographystylefile string oo external style files ooexternalstylefiles string styles size stylessizey string styles size stylessizex string styles pos stylesposy string styles pos stylesposx special field preferences string showcolumn relevance showrelevancecolumn string showcolumn read showreadcolumn string showcolumn ranking showrankingcolumn string showcolumn quality showqualitycolumn string showcolumn priority showprioritycolumn string showcolumn printed showprintedcolumn string specialfieldsenabled specialfieldsenabled choice autosyncspecialfieldstokeywords serializespecialfields mutually exclusive string serializespecialfields serializespecialfields choice autosyncspecialfieldstokeywords serializespecialfields mutually exclusive least settings implementation confused users therefore activated options time disabled string autosyncspecialfieldstokeywords autosyncspecialfieldstokeywords non default preferences string custom type name customtypename string custom type req customtypereq string custom type opt customtypeopt string custom type priopt customtypepriopt prefs node bibtexkeypatterns string bibtex key patterns node bibtexkeypatterns version string version ignored update versionignoreupdate dropped file handler string droppedfilehandler rename droppedfilehandler renamefile string droppedfilehandler move droppedfilehandler movefile string droppedfilehandler copy droppedfilehandler copyfile string droppedfilehandler leave droppedfilehandler leavefileindir remote string use remote server useremoteserver string remote server port remoteserverport preview string cycle preview pos cyclepreviewpos string cycle preview cyclepreview string preview panel height previewpanelheight string preview style previewstyle string preview enabled previewenabled string marking number pattern preferences prefs globalbibtexkeypattern keypattern object containing custom export formats: customexportlist customexports helper string string user home system getproperty user home set custom link importer customimportlist customimports object containing info customized entry editor tabs entryeditortablist tablist following field used global variable export database setting field path database's default file directory formatters resolve external file paths access field ugly hack solve problem formatters access context except string formatted possible formatter arguments list<string> filedirfordatabase instance class: jabrefpreferences singleton jabrefpreferences getinstance jabrefpreferences singleton null jabrefpreferences singleton jabrefpreferences jabrefpreferences singleton constructor made enforce singleton class: jabrefpreferences try file jabref xml exists importpreferences jabref xml catch jabrefexception logger warn could preferences jabref xml: getmessage load user preferences prefs preferences usernodeforpackage jabrefmain searchpreferences putdefaults defaults defaults put texmaker path jabrefdesktop getnativedesktop detectprogrampath texmaker texmaker defaults put win edt path jabrefdesktop getnativedesktop detectprogrampath winedt winedt team\\winedt defaults put latex editor path jabrefdesktop getnativedesktop detectprogrampath led led defaults put texstudio path jabrefdesktop getnativedesktop detectprogrampath texstudio texstudio defaults put biblatex default mode boolean false os os defaults put emacs path emacsclient defaults put emacs true defaults put emacs additional parameters defaults put font family sansserif defaults put win look feel uimanager getsystemlookandfeelclassname else os windows defaults put win look feel com jgoodies looks windows windowslookandfeel defaults put emacs path emacsclient exe defaults put emacs boolean true defaults put emacs additional parameters defaults put font family arial else linux defaults put win look feel com jgoodies plaf plastic plastic3dlookandfeel defaults put font family sansserif defaults put emacs path gnuclient defaults put emacs boolean false defaults put emacs additional parameters batch eval defaults put push application texstudio defaults put recent databases defaults put external file types defaults put key pattern regex defaults put key pattern replacement proxy defaults put proxy use boolean false defaults put proxy hostname defaults put proxy port defaults put proxy use authentication boolean false defaults put proxy username defaults put proxy password defaults put use default look feel boolean true defaults put lyxpipe user home file separator lyx lyxpipe defaults put vim vim defaults put vim server vim defaults put pos defaults put pos defaults put size defaults put size defaults put window maximised boolean false defaults put auto resize mode jtable auto resize columns defaults put entry editor height defaults put table color codes boolean false defaults put table resolved color codes boolean false defaults put names boolean false show names unchanged defaults put names first last boolean false show 'firstname lastname' defaults put names natbib boolean true natbib style defaults put abbr author names boolean true abbreviate names defaults put names last boolean true show last names system locale default defaults put language locale getdefault getlanguage sorting preferences defaults put table primary sort field fieldname author defaults put table primary sort descending boolean false defaults put table secondary sort field fieldname year defaults put table secondary sort descending boolean true defaults put table tertiary sort field fieldname title defaults put table tertiary sort descending boolean false defaults put reformat file save export boolean false export order defaults put export original order boolean false defaults put export specified order boolean false export order: export specified order use following criteria defaults put export primary sort field bibentry key field defaults put export primary sort descending boolean false defaults put export secondary sort field fieldname author defaults put export secondary sort descending boolean false defaults put export tertiary sort field fieldname title defaults put export tertiary sort descending boolean true defaults put newline system lineseparator defaults put side pane component names defaults put side pane component preferred positions defaults put column names entrytype author editor title year journal booktitle bibtexkey defaults put column widths defaults put xmp privacy filters pdf timestamp keywords owner note review defaults put use xmp privacy filter boolean false defaults put number col width defaults put working directory user home defaults put export working directory user home remembers working directory last defaults put working directory user home defaults put prefs export path working directory defaults put auto open form boolean true defaults put backup boolean true defaults put open last edited boolean true defaults put last edited defaults put last focused defaults put strings pos defaults put strings pos defaults put strings size defaults put strings size defaults put duplicates pos defaults put duplicates pos defaults put duplicates size defaults put duplicates size defaults put mergeentries pos defaults put mergeentries pos defaults put mergeentries size defaults put mergeentries size defaults put preamble pos defaults put preamble pos defaults put preamble size defaults put preamble size defaults put terms pos defaults put terms pos defaults put terms size defaults put terms size defaults put default show source boolean false defaults put default auto sort boolean false defaults put merge entries diff mode defaults put editor emacs keybindings boolean false defaults put editor emacs keybindings rebind ca boolean true defaults put editor emacs keybindings rebind cf boolean true defaults put auto complete boolean true autocompletepreferences putdefaults defaults defaults put group selections boolean true defaults put group intersect selections boolean true defaults put group invert selections boolean false defaults put group show overlapping boolean false defaults put groups default field fieldname keywords defaults put group show icons boolean true defaults put group show dynamic boolean true defaults put group expand tree boolean true defaults put group show number elements boolean false defaults put auto assign group boolean true defaults put keyword separator defaults put edit group membership mode boolean false defaults put highlight groups matching defaults put toolbar visible boolean true defaults put default encoding standardcharsets utf name defaults put default owner system getproperty user name defaults put memory stick mode boolean false defaults put rename move file file dir boolean true defaults put font style font plain defaults put font size defaults put override default fonts boolean false defaults put menu font size defaults put table row padding defaults put table show grid boolean false main table color settings: defaults put table background 255:255:255 defaults put table req field background 230:235:255 defaults put table opt field background 230:255:230 defaults put table resolved field background 240:240:240 defaults put table text 0:0:0 defaults put grid color 210:210:210 defaults put grayed background 210:210:210 defaults put grayed text 40:40:40 defaults put grayed background 180:180:180 defaults put grayed text 40:40:40 defaults put marked entry background0 255:255:180 defaults put marked entry background1 255:220:180 defaults put marked entry background2 255:180:160 defaults put marked entry background3 255:120:120 defaults put marked entry background4 255:75:75 defaults put marked entry background5 220:255:220 defaults put valid field background color 255:255:255 defaults put invalid field background color 255:0:0 defaults put active field editor background color 220:220:255 defaults put field editor text color 0:0:0 defaults put incomplete entry background 250:175:175 defaults put url column boolean true defaults put prefer url doi boolean false defaults put file column boolean true defaults put arxiv column boolean false defaults put extra file columns boolean false defaults put list file columns defaults put terms enabled internal convertlisttostring protectedtermsloader getinternallists defaults put terms disabled internal defaults put terms enabled external defaults put terms disabled external openoffice libreoffice os windows defaults put oo path openofficepreferences default windows path defaults put oo executable path openofficepreferences default windows path openofficepreferences windows executable subpath openofficepreferences windows executable defaults put oo jars path openofficepreferences default windows path openofficepreferences windows jars subpath else os os defaults put oo path openofficepreferences default osx path defaults put oo executable path openofficepreferences default osx path openofficepreferences osx executable subpath openofficepreferences osx executable defaults put oo jars path openofficepreferences default osx path openofficepreferences osx jars subpath else linux defaults put oo path opt openoffice org3 defaults put oo executable path usr lib openoffice program soffice defaults put oo jars path opt openoffice org basis3 defaults put oo sync citing boolean false defaults put oo show panel boolean false defaults put oo use open bases boolean true defaults put oo bibliography style file styleloader default authoryear style path defaults put oo external style files defaults put styles pos defaults put styles pos defaults put styles size defaults put styles size defaults put specialfieldsenabled boolean true defaults put showcolumn priority boolean false defaults put showcolumn quality boolean false defaults put showcolumn ranking boolean true defaults put showcolumn relevance boolean false defaults put showcolumn printed boolean false defaults put showcolumn read boolean false defaults put autosyncspecialfieldstokeywords boolean true defaults put serializespecialfields boolean false defaults put use owner boolean false defaults put overwrite owner boolean false defaults put avoid overwriting key boolean false defaults put warn overwriting key boolean true defaults put confirm delete boolean true defaults put gray non hits boolean true defaults put default bibtex key pattern [auth][year] defaults put resolve strings fieldname url defaults put resolve strings fields boolean false defaults put non wrappable fields pdf ps url doi file isbn issn defaults put generate keys inspection boolean true defaults put mark imported entries boolean true defaults put unmark entries importing boolean true defaults put warn duplicates inspection boolean true defaults put use time stamp boolean false defaults put overwrite time stamp boolean false default time stamp follows iso reason: https: xkcd com defaults put time stamp format yyyy mm dd defaults put time stamp field fieldname timestamp defaults put update timestamp boolean false defaults put generate keys saving boolean false defaults put use remote server boolean true defaults put remote server port defaults put personal journal list defaults put external journal lists defaults put cite command \\cite obsoleted app specific ones more? defaults put marked entries boolean true defaults put last used export defaults put side pane width defaults put inspection dialog width defaults put inspection dialog height defaults put show file links upgrade warning boolean true defaults put autolink exact key boolean false defaults put numeric fields mittnum author defaults put run automatic file search boolean false defaults put local auto save boolean false defaults put enforce legal bibtex key boolean true curly brackets default delimiters quotes cause trouble appear within field value: currently jabref escape defaults put key gen first letter boolean true defaults put key gen always add letter boolean false defaults put email subject localization lang references defaults put open folders attached files boolean false defaults put allow file auto open browse boolean true defaults put web search visible boolean false defaults put group sidepane visible boolean false defaults put selected fetcher index defaults put bib loc primary dir boolean false defaults put db connect server type mysql defaults put db connect hostname localhost defaults put db connect database jabref defaults put db connect username root defaults put ask auto naming pdfs boolean true insertdefaultcleanuppreset defaults defaults droppedfilehandler ui defaults put droppedfilehandler leave boolean false defaults put droppedfilehandler copy boolean true defaults put droppedfilehandler move boolean false defaults put droppedfilehandler rename boolean false defaults put alwaysuse boolean false defaults put default pdf style importsettingstab default style use bibtex key appended filename default pattern defaults put filenamepattern importsettingstab default filenamepatterns[1] customexports customexportlist exportcomparator customimports customimportlist marking number pattern \\[ get default owner replaceall \\\\ \\\\\\\\ \\d \\] string defaultexpression [bibtexkey] \\\\ [extension] defaults put reg exp search expression key defaultexpression defaults put autolink use reg exp search key boolean false defaults put use ieee abrv boolean false defaults put use case keeper search boolean true defaults put use unit formatter search boolean true defaults put use default console application boolean true os windows defaults put console command c:\\program files\\conemu\\conemu64 exe single dir dir\ else defaults put console command versioncheck defaults defaults put version ignored update preview defaults put cycle preview preview citationstyle default defaults put cycle preview pos defaults put preview panel height defaults put preview enabled boolean true defaults put preview style <font face sans serif\ <b><i>\\bibtextype< i><a name \\bibtexkey\ >\\begin bibtexkey \\bibtexkey a> \\end bibtexkey b><br> newline \\begin author \\format[authors lastfirst initials semicolon amp htmlchars] \\author <br>\\end author newline \\begin editor \\format[authors lastfirst initials semicolon amp htmlchars] \\editor <i> \\format[ifplural eds ed \\editor i><br>\\end editor newline \\begin title \\format[htmlchars] \\title \\end title <br> newline \\begin chapter \\format[htmlchars] \\chapter <br>\\end chapter newline \\begin journal <em>\\format[htmlchars] \\journal em>\\end journal newline include booktitle field inproceedings proceedings etc \\begin booktitle <em>\\format[htmlchars] \\booktitle em>\\end booktitle newline \\begin school <em>\\format[htmlchars] \\school em>\\end school newline \\begin institution <em>\\format[htmlchars] \\institution em>\\end institution newline \\begin publisher <em>\\format[htmlchars] \\publisher em>\\end publisher newline \\begin year <b>\\year< b>\\end year \\begin volume <i> \\volume< i>\\end volume \\begin pages \\format[formatpagesforhtml] \\pages \\end pages newline \\begin <br><br><b>abstract: b> \\format[htmlchars] \\abstract \\end newline \\begin review <br><br><b>review: b> \\format[htmlchars] \\review \\end review dd> newline <p>< p>< font> string getuser try get default owner inetaddress getlocalhost gethostname catch unknownhostexception ex logger debug hostname found ex get default owner list<string> getcustomtabfieldnames list<string> customfields arraylist<> defnumber true saved customtabname def number separated string fields string defaults get custom tab fields def defnumber fields null fields isempty break customfields addall arrays aslist fields split defnumber customfields setlanguagedependentdefaultvalues entry editor tab 0: defaults put custom tab name def0 localization lang general defaults put custom tab fields def0 crossref keywords file doi url comment owner timestamp entry editor tab 1: defaults put custom tab fields def1 fieldname defaults put custom tab name def1 localization lang entry editor tab 2: review field used research comments etc defaults put custom tab fields def2 fieldname review defaults put custom tab name def2 localization lang review defaults put email subject localization lang references check whether key set differently null param key key check true key set false otherwise boolean haskey string key prefs get key null null string get string key prefs get key string defaults get key optional<string> getasoptional string key optional ofnullable prefs get key string defaults get key string get string key string def prefs get key def boolean getboolean string key prefs getboolean key getbooleandefault key boolean getboolean string key boolean def prefs getboolean key def boolean getbooleandefault string key boolean defaults get key getint string key prefs getint key getintdefault key getintdefault string key integer defaults get key put string key string value prefs put key value putboolean string key boolean value prefs putboolean key value putint string key value prefs putint key value remove string key prefs remove key puts list strings preferences linking elements single string escape characters make process transparent even strings contain putstringlist string key list<string> value value null remove key put key convertlisttostring value string convertlisttostring list<string> value value stream map val stringutil quote val '\\' collect collectors joining returns list strings containing chosen columns list<string> getstringlist string key string names get key names null arraylist<> stringreader rd stringreader names list<string> res arraylist<> optional<string> rs try rs getnextunit rd ispresent res add rs get catch ioexception ignored ignored res looks color definition preferences returns color object param key key setting color corresponding setting color getcolor string key string value get key int[] rgb getrgb value color rgb[0] rgb[1] rgb[2] color getdefaultcolor string key string value string defaults get key int[] rgb getrgb value color rgb[0] rgb[1] rgb[2] returns default bibdatabase mode either bibtex biblatex default bibdatabasemode bibdatabasemode getdefaultbibdatabasemode getboolean biblatex default mode bibdatabasemode biblatex else bibdatabasemode bibtex set default value key useful plugins need add default values prefs keys use param key preferences key param value default value putdefaultvalue string key object value defaults put key value stores color preferences param key key setting param color color store putcolor string key color color string rgb string valueof color getred ':' color getgreen ':' color getblue put key rgb looks color definition preferences returns array containing rgb values param value key setting rgb values corresponding color setting int[] getrgb string value int[] values int[3] value null value isempty string[] elements value split values[0] integer parseint elements[0] values[1] integer parseint elements[1] values[2] integer parseint elements[2] else values[0] values[1] values[2] values clear preferences throws backingstoreexception clear throws backingstoreexception prefs clear clear string key prefs remove key calling method write preferences preference store flush getboolean memory stick mode try exportpreferences jabref xml catch jabrefexception logger warn could export preferences memory stick mode: getmessage try prefs flush catch backingstoreexception ex logger warn communicate backing store ex fetches key patterns preferences implementation cache results labelpattern containing keys returned labelpattern parent globalbibtexkeypattern getkeypattern keypattern globalbibtexkeypattern abstractbibtexkeypattern split get default bibtex key pattern preferences pre preferences usernodeforpackage jabrefmain node bibtex key patterns node try string[] keys pre keys keys length string key keys keypattern addbibtexkeypattern key pre get key null catch backingstoreexception ex logger info backingstoreexception jabrefpreferences getkeypattern ex keypattern adds given key pattern preferences param pattern pattern store putkeypattern globalbibtexkeypattern pattern keypattern pattern store overridden definitions preferences preferences pre preferences usernodeforpackage jabrefmain node bibtex key patterns node try pre clear remove old entries catch backingstoreexception ex logger info backingstoreexception jabrefpreferences putkeypattern ex set<string> allkeys pattern getallkeys string key allkeys pattern isdefaultvalue key default value first entry array full pattern see net sf jabref logic labelpattern bibtexkeypatternutil split string pre put key pattern getvalue key get map<string object> getpreferences map<string object> result hashmap<> try string key prefs keys object value getobject key result put key value catch backingstoreexception logger info could retrieve preference keys result object getobject string key try get key catch classcastexception try getboolean key catch classcastexception e2 getint key optional<string> getnextunit reader data throws ioexception character last read end stream initialization necessary compiler last character escape symbol boolean escape false true found boolean done false stringbuilder res stringbuilder done data read '\\' escape escape false res append '\\' else escape true else escape res append else done true else res append char escape false res length optional res tostring else end stream optional empty else optional stores information entry type preferences tag given number storecustomentrytype customentrytype tp number string nr string valueof number put custom type name nr tp getname put custom type req nr tp getrequiredfieldsstring list<string> optionalfields tp getoptionalfields putstringlist custom type opt nr optionalfields list<string> primaryoptionalfields tp getprimaryoptionalfields putstringlist custom type priopt nr primaryoptionalfields retrieves information entry type preferences tag given number optional<customentrytype> getcustomentrytype number string nr string valueof number string name get custom type name nr name null optional empty list<string> req getstringlist custom type req nr list<string> opt getstringlist custom type opt nr list<string> priopt getstringlist custom type priopt nr priopt isempty optional customentrytype stringutil capitalizefirst name req opt list<string> secondary arraylist<> opt secondary removeall priopt optional customentrytype stringutil capitalizefirst name req priopt secondary removes information custom entry types tags param number higher purgecustomentrytypes number purgeseries custom type name number purgeseries custom type req number purgeseries custom type opt number purgeseries custom type priopt number removes entries keyed prefix number number equal higher given number param number higher purgeseries string prefix number number get prefix null remove prefix entryeditortablist getentryeditortablist tablist null updateentryeditortablist tablist updateentryeditortablist tablist entryeditortablist exports preferences xml file param filename string file export exportpreferences string filename throws jabrefexception file file filename try outputstream os fileoutputstream prefs exportsubtree os catch backingstoreexception ioexception ex throw jabrefexception could export preferences localization lang could export preferences ex imports preferences xml file param filename string file throws jabrefexception thrown importing preferences failed due invalidpreferencesformatexception ioexception importpreferences string filename throws jabrefexception file file filename try inputstream fileinputstream preferences importpreferences catch invalidpreferencesformatexception ioexception ex throw jabrefexception could preferences localization lang could preferences ex testing use production code otherwise singleton pattern broken preferences might get lost param owprefs overwritepreferences jabrefpreferences owprefs singleton owprefs string getwrappedusername '[' get default owner ']' charset getdefaultencoding charset forname get default encoding setdefaultencoding charset encoding put default encoding encoding name insertdefaultcleanuppreset map<string object> storage enumset<cleanuppreset cleanupstep> deactivedjobs enumset cleanuppreset cleanupstep clean upgrade external links cleanuppreset cleanupstep rename pdf relative paths cleanuppreset cleanupstep convert biblatex cleanuppreset preset cleanuppreset enumset complementof deactivedjobs cleanups default save actions storage put cleanup doi preset iscleanupdoi storage put cleanup issn preset iscleanupissn storage put cleanup move pdf preset ismovepdf storage put cleanup make paths relative preset ismakepathsrelative storage put cleanup rename pdf preset isrenamepdf storage put cleanup rename pdf relative paths preset isrenamepdfonlyrelativepaths storage put cleanup upgrade external links preset iscleanupupgradeexternallinks storage put cleanup convert biblatex preset isconverttobiblatex storage put cleanup fix file links preset isfixfilelinks storage put cleanup formatters convertlisttostring preset getformattercleanups getasstringlist os newline filehistory getfilehistory filehistory getstringlist recent databases storefilehistory filehistory history history isempty putstringlist recent databases history gethistory filedirectorypreferences getfiledirectorypreferences list<string> fields arrays aslist fieldname file fieldname pdf fieldname ps map<string string> fielddirectories hashmap<> fields stream foreach fieldname fielddirectories put fieldname get fieldname filedirectorypreferences dir suffix filedirectorypreferences getuser fielddirectories getboolean jabrefpreferences bib loc primary dir updatefieldpreferences getupdatefieldpreferences updatefieldpreferences getboolean use owner getboolean overwrite owner get default owner getboolean use time stamp getboolean overwrite time stamp get time stamp field get time stamp format latexfieldformatterpreferences getlatexfieldformatterpreferences latexfieldformatterpreferences getboolean resolve strings fields getstringlist resolve strings getfieldcontentparserpreferences fieldcontentparserpreferences getfieldcontentparserpreferences fieldcontentparserpreferences getstringlist non wrappable fields boolean iskeywordsyncenabled getboolean jabrefpreferences specialfieldsenabled getboolean jabrefpreferences autosyncspecialfieldstokeywords importformatpreferences getimportformatpreferences importformatpreferences customimports getdefaultencoding getkeyworddelimiter getbibtexkeypatternpreferences getfieldcontentparserpreferences iskeywordsyncenabled bibtexkeypatternpreferences getbibtexkeypatternpreferences bibtexkeypatternpreferences get key pattern regex get key pattern replacement getboolean key gen always add letter getboolean key gen first letter getboolean enforce legal bibtex key getkeypattern getkeyworddelimiter layoutformatterpreferences getlayoutformatterpreferences journalabbreviationloader journalabbreviationloader objects requirenonnull journalabbreviationloader layoutformatterpreferences getnameformatterpreferences getjournalabbreviationpreferences getfilelinkpreferences journalabbreviationloader xmppreferences getxmppreferences xmppreferences getboolean use xmp privacy filter getstringlist xmp privacy filters getkeyworddelimiter nameformatterpreferences getnameformatterpreferences nameformatterpreferences getstringlist name formater key getstringlist name formatter value filelinkpreferences getfilelinkpreferences filelinkpreferences collections singletonlist get fieldname file filedirectorypreferences dir suffix filedirfordatabase jabrefpreferences storeversionpreferences versionpreferences versionpreferences put version ignored update versionpreferences getignoredversion tostring versionpreferences getversionpreferences version ignoredversion version parse get version ignored update versionpreferences ignoredversion jabrefpreferences storepreviewpreferences previewpreferences previewpreferences putint cycle preview pos previewpreferences getpreviewcycleposition putstringlist cycle preview previewpreferences getpreviewcycle putint preview panel height previewpreferences getpreviewpanelheight put preview style previewpreferences getpreviewstyle putboolean preview enabled previewpreferences ispreviewpanelenabled previewpreferences getpreviewpreferences cyclepos getint cycle preview pos list<string> cycle getstringlist cycle preview panelheight getint preview panel height string style get preview style string styledefault string defaults get preview style boolean enabled getboolean preview enabled previewpreferences cycle cyclepos panelheight enabled style styledefault storeproxypreferences proxypreferences proxypreferences putboolean proxy use proxypreferences isuseproxy put proxy hostname proxypreferences gethostname put proxy port proxypreferences getport putboolean proxy use authentication proxypreferences isuseauthentication put proxy username proxypreferences getusername put proxy password proxypreferences getpassword proxypreferences getproxypreferences boolean useproxy getboolean proxy use string hostname get proxy hostname string port get proxy port boolean useauthentication getboolean proxy use authentication string username get proxy username string password get proxy password proxypreferences useproxy hostname port useauthentication username password protectedtermspreferences getprotectedtermspreferences protectedtermspreferences getstringlist terms enabled internal getstringlist terms enabled external getstringlist terms disabled internal getstringlist terms disabled external journalabbreviationpreferences getjournalabbreviationpreferences journalabbreviationpreferences getstringlist external journal lists get personal journal list getboolean use ieee abrv getdefaultencoding setprotectedtermspreferences protectedtermsloader loader list<string> enabledexternallist arraylist<> list<string> disabledexternallist arraylist<> list<string> enabledinternallist arraylist<> list<string> disabledinternallist arraylist<> protectedtermslist list loader getprotectedtermslists list isinternallist list isenabled enabledinternallist add list getlocation else disabledinternallist add list getlocation else list isenabled enabledexternallist add list getlocation else disabledexternallist add list getlocation putstringlist terms enabled external enabledexternallist putstringlist terms disabled external disabledexternallist putstringlist terms enabled internal enabledinternallist putstringlist terms disabled internal disabledinternallist cleanuppreferences getcleanuppreferences journalabbreviationloader journalabbreviationloader cleanuppreferences get filenamepattern getlayoutformatterpreferences journalabbreviationloader getfiledirectorypreferences remotepreferences getremotepreferences remotepreferences getint remote server port getboolean use remote server setremotepreferences remotepreferences remotepreferences putint remote server port remotepreferences getport putboolean use remote server remotepreferences useremoteserver storeexportsaveorder saveorderconfig config putboolean export primary sort descending config sortcriteria[0] descending putboolean export secondary sort descending config sortcriteria[1] descending putboolean export tertiary sort descending config sortcriteria[2] descending put export primary sort field config sortcriteria[0] field put export secondary sort field config sortcriteria[1] field put export tertiary sort field config sortcriteria[2] field saveorderconfig loadtablesaveorder saveorderconfig config saveorderconfig config sortcriteria[0] field get table primary sort field config sortcriteria[0] descending getboolean table primary sort descending config sortcriteria[1] field get table secondary sort field config sortcriteria[1] descending getboolean table secondary sort descending config sortcriteria[2] field get table tertiary sort field config sortcriteria[2] descending getboolean table tertiary sort descending config saveorderconfig loadexportsaveorder saveorderconfig config saveorderconfig config sortcriteria[0] field get export primary sort field config sortcriteria[0] descending getboolean export primary sort descending config sortcriteria[1] field get export secondary sort field config sortcriteria[1] descending getboolean export secondary sort descending config sortcriteria[2] field get export tertiary sort field config sortcriteria[2] descending getboolean export tertiary sort descending config character getkeyworddelimiter get keyword separator charat 
838	LastFocusedTabPreferences.java	PREF	net sf jabref preferences io file util objects lastfocusedtabpreferences jabrefpreferences preferences lastfocusedtabpreferences jabrefpreferences preferences preferences objects requirenonnull preferences setlastfocusedtab file file file null string filepath file getabsolutepath preferences put jabrefpreferences last focused filepath boolean hadlastfocus file file file null false string lastfocuseddatabase preferences get jabrefpreferences last focused file getabsolutepath equals lastfocuseddatabase 
839	SearchPreferences.java	PREF	net sf jabref preferences util map util objects net sf jabref gui search searchdisplaymode searchpreferences string search global searchglobal string search display mode searchdisplaymode string search case sensitive casesensitivesearch string search reg exp regexpsearch string search dialog height searchdialogheight string search dialog width searchdialogwidth string search dialog pos searchdialogposx string search dialog pos searchdialogposy jabrefpreferences preferences searchpreferences jabrefpreferences preferences preferences objects requirenonnull preferences putdefaults map<string object> defaults defaults put search global boolean false defaults put search display mode searchdisplaymode filter tostring defaults put search case sensitive boolean false defaults put search reg exp boolean false defaults put search dialog width defaults put search dialog height defaults put search dialog pos defaults put search dialog pos boolean isglobalsearch preferences getboolean search global searchpreferences setglobalsearch boolean isglobalsearch preferences putboolean search global isglobalsearch searchdisplaymode getsearchmode try searchdisplaymode valueof preferences get search display mode catch illegalargumentexception ex occur searchmode set directly via preferences put enum used searchdisplaymode valueof string preferences defaults get search display mode searchpreferences setsearchmode searchdisplaymode searchdisplaymode preferences put search display mode objects requirenonnull searchdisplaymode tostring boolean iscasesensitive preferences getboolean search case sensitive searchpreferences setcasesensitive boolean iscasesensitive preferences putboolean search case sensitive iscasesensitive boolean isregularexpression preferences getboolean search reg exp searchpreferences setregularexpression boolean isregularexpression preferences putboolean search reg exp isregularexpression getseachdialogwidth preferences getint search dialog width searchpreferences setsearchdialogwidth width preferences putint search dialog width width getseachdialogheight preferences getint search dialog height searchpreferences setsearchdialogheight height preferences putint search dialog height height getsearchdialogposx preferences getint search dialog pos searchpreferences setsearchdialogposx preferences putint search dialog pos getsearchdialogposy preferences getint search dialog pos searchpreferences setsearchdialogposy preferences putint search dialog pos 
840	HighlightMatchingGroupPreferences.java	PREF	net sf jabref preferences highlightmatchinggrouppreferences string string string disabled jabrefpreferences preferences highlightmatchinggrouppreferences jabrefpreferences preferences preferences preferences boolean isall equals preferences get jabrefpreferences highlight groups matching boolean isany equals preferences get jabrefpreferences highlight groups matching boolean isdisabled isall isany settoall preferences put jabrefpreferences highlight groups matching settoany preferences put jabrefpreferences highlight groups matching settodisabled preferences put jabrefpreferences highlight groups matching disabled 
841	VersionPreferences.java	PREF	net sf jabref preferences net sf jabref logic util version versionpreferences version ignoredversion versionpreferences version ignoredversion ignoredversion ignoredversion version getignoredversion ignoredversion 
842	PreviewPreferences.java	PREF	net sf jabref preferences util list previewpreferences list<string> previewcycle previewcycleposition previewpanelheight boolean previewpanelenabled string previewstyle string previewstyledefault previewpreferences list<string> previewcycle previecycleposition previewpanelheight boolean previewpanelenabled string previewstyle string previewstyledefault previewcycle previewcycle previewcycleposition previecycleposition previewpanelheight previewpanelheight previewpanelenabled previewpanelenabled previewstyle previewstyle previewstyledefault previewstyledefault list<string> getpreviewcycle previewcycle getpreviewcycleposition previewcycleposition getpreviewpanelheight previewpanelheight boolean ispreviewpanelenabled previewpanelenabled string getpreviewstyle previewstyle string getpreviewstyledefault previewstyledefault builder getbuilder builder builder list<string> previewcycle previecycleposition previewpanelheight boolean previewpanelenabled string previewstyle string previewstyledefault builder previewpreferences previewpreferences previewcycle previewpreferences getpreviewcycle previecycleposition previewpreferences getpreviewcycleposition previewpanelheight previewpreferences getpreviewpanelheight previewpanelenabled previewpreferences ispreviewpanelenabled previewstyle previewpreferences getpreviewstyle previewstyledefault previewpreferences getpreviewstyledefault builder withpreviewcycle list<string> previewcycle previewcycle previewcycle withpreviewcycleposition previecycleposition builder withpreviewcycleposition position previecycleposition position previecycleposition previecycleposition previewcycle size previecycleposition previewcycle size builder withpreviewpanelheight previewpanelheight previewpanelheight previewpanelheight builder withpreviewpanelenabled boolean previewpanelenabled previewpanelenabled previewpanelenabled builder withpreviewstyle string previewstyle previewstyle previewstyle previewpreferences build previewpreferences previewcycle previecycleposition previewpanelheight previewpanelenabled previewstyle previewstyledefault 
843	DBMSConnectionProperties.java	PREF	net sf jabref shared io unsupportedencodingexception security generalsecurityexception util objects util optional net sf jabref shared prefs shareddatabasepreferences net sf jabref shared security password org apache commons logging log org apache commons logging logfactory keeps essential data establishing connection dbms using link dbmsconnector dbmsconnectionproperties log logger logfactory getlog dbmsconnectionproperties dbmstype type string host port string database string user string password dbmsconnectionproperties data dbmsconnectionproperties shareddatabasepreferences prefs setfrompreferences prefs dbmsconnectionproperties dbmstype type string host port string database string user string password type type host host port port database database user user password password dbmstype gettype type settype dbmstype type type type string gethost host sethost string host host host getport port setport port port port string getdatabase database setdatabase string database database database string getuser user setuser string user user user string getpassword password setpassword string password password password compares properties except password boolean equals dbmsconnectionproperties properties type equals properties gettype host equalsignorecase properties gethost port properties getport database equals properties getdatabase user equals properties getuser gets required data link shareddatabasepreferences sets present setfrompreferences shareddatabasepreferences prefs prefs gettype ispresent optional<dbmstype> dbmstype dbmstype fromstring prefs gettype get dbmstype ispresent type dbmstype get prefs gethost ifpresent thehost host thehost prefs getport ifpresent theport port integer parseint theport prefs getname ifpresent thedatabase database thedatabase prefs getuser ispresent user prefs getuser get prefs getpassword ispresent try password password prefs getpassword get tochararray prefs getuser get decrypt catch unsupportedencodingexception generalsecurityexception logger error could decrypt password prefs getpassword ispresent dbms require non null value password case using empty string password boolean isvalid objects nonnull type objects nonnull host objects nonnull port objects nonnull database objects nonnull user objects nonnull password 
